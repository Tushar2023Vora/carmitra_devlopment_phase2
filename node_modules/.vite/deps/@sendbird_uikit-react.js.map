{
  "version": 3,
  "sources": ["../../@sendbird/uikit-react/SendbirdProvider.js", "../../@sendbird/uikit-react/App.js", "../../@sendbird/uikit-react/Channel.js", "../../@sendbird/uikit-react/Channel/context.js", "../../@sendbird/uikit-react/chunks/bundle-CwpgCadZ.js", "../../@sendbird/uikit-react/chunks/bundle-BKe5KBuS.js", "../../@sendbird/uikit-react/chunks/bundle-CSRcmLyk.js", "../../@sendbird/uikit-react/chunks/bundle-DPf4rz9k.js", "../../@sendbird/uikit-react/chunks/bundle-D8esR1WH.js", "../../@sendbird/uikit-react/Channel/components/ChannelUI.js", "../../@sendbird/uikit-react/Channel/components/ChannelHeader.js", "../../@sendbird/uikit-react/Channel/components/MessageList.js", "../../@sendbird/uikit-react/Channel/components/Message.js", "../../@sendbird/uikit-react/Channel/components/FileViewer.js", "../../@sendbird/uikit-react/Channel/components/RemoveMessageModal.js", "../../@sendbird/uikit-react/chunks/bundle-Cn1EBKt6.js", "../../@sendbird/uikit-react/Channel/components/MessageInput.js", "../../@sendbird/uikit-react/ChannelList.js", "../../@sendbird/uikit-react/chunks/bundle-CQgNYKRd.js", "../../@sendbird/uikit-react/ChannelList/components/ChannelListUI.js", "../../@sendbird/uikit-react/ChannelList/components/ChannelPreview.js", "../../@sendbird/uikit-react/ChannelList/components/AddChannel.js", "../../@sendbird/uikit-react/ChannelSettings.js", "../../@sendbird/uikit-react/ChannelSettings/components/ChannelSettingsUI.js", "../../@sendbird/uikit-react/ChannelSettings/context.js", "../../@sendbird/uikit-react/ChannelSettings/components/ChannelSettingsHeader.js", "../../@sendbird/uikit-react/ChannelSettings/components/ChannelProfile.js", "../../@sendbird/uikit-react/ChannelSettings/components/EditDetailsModal.js", "../../@sendbird/uikit-react/ChannelSettings/components/LeaveChannel.js", "../../@sendbird/uikit-react/ChannelSettings/components/ChannelSettingsMenuItem.js", "../../@sendbird/uikit-react/ChannelSettings/components/ChannelSettingMenuList.js", "../../@sendbird/uikit-react/ChannelSettings/hooks/useMenuList.js", "../../@sendbird/uikit-react/chunks/bundle-DWQyLuYT.js", "../../@sendbird/uikit-react/chunks/bundle-C8mqUun8.js", "../../@sendbird/uikit-react/chunks/bundle-nv2ffewN.js", "../../@sendbird/uikit-react/ui/Toggle.js", "../../@sendbird/uikit-react/MessageSearch.js", "../../@sendbird/uikit-react/MessageSearch/components/MessageSearchUI.js", "../../@sendbird/uikit-react/MessageSearch/context.js", "../../@sendbird/uikit-react/ui/MessageSearchItem.js", "../../@sendbird/uikit-react/ui/MessageSearchFileItem.js", "../../@sendbird/uikit-react/Thread.js", "../../@sendbird/uikit-react/Thread/context.js", "../../@sendbird/uikit-react/Thread/context/types.js", "../../@sendbird/uikit-react/Thread/components/ThreadUI.js", "../../@sendbird/uikit-react/Thread/components/ParentMessageInfo.js", "../../@sendbird/uikit-react/chunks/bundle-RC1OoWx9.js", "../../@sendbird/uikit-react/Thread/components/ParentMessageInfoItem.js", "../../@sendbird/uikit-react/chunks/bundle-9-9DQjCI.js", "../../@sendbird/uikit-react/chunks/bundle-B5vIoHSd.js", "../../@sendbird/uikit-react/Thread/components/ThreadHeader.js", "../../@sendbird/uikit-react/Thread/components/ThreadList.js", "../../@sendbird/uikit-react/Thread/components/ThreadListItem.js", "../../@babel/runtime/helpers/esm/typeof.js", "../../date-fns/esm/_lib/toInteger/index.js", "../../date-fns/esm/_lib/requiredArgs/index.js", "../../date-fns/esm/toDate/index.js", "../../date-fns/esm/_lib/defaultOptions/index.js", "../../date-fns/esm/startOfDay/index.js", "../../date-fns/esm/constants/index.js", "../../date-fns/esm/isSameDay/index.js", "../../date-fns/esm/_lib/startOfUTCISOWeek/index.js", "../../date-fns/esm/_lib/getUTCISOWeekYear/index.js", "../../date-fns/esm/_lib/startOfUTCISOWeekYear/index.js", "../../date-fns/esm/_lib/getUTCISOWeek/index.js", "../../date-fns/esm/_lib/startOfUTCWeek/index.js", "../../date-fns/esm/_lib/getUTCWeekYear/index.js", "../../date-fns/esm/_lib/startOfUTCWeekYear/index.js", "../../date-fns/esm/_lib/getUTCWeek/index.js", "../../date-fns/esm/locale/_lib/buildFormatLongFn/index.js", "../../date-fns/esm/locale/en-US/_lib/formatLong/index.js", "../../date-fns/esm/locale/_lib/buildLocalizeFn/index.js", "../../date-fns/esm/locale/en-US/_lib/localize/index.js", "../../date-fns/esm/locale/_lib/buildMatchFn/index.js", "../../date-fns/esm/locale/_lib/buildMatchPatternFn/index.js", "../../date-fns/esm/locale/en-US/_lib/match/index.js", "../../date-fns/esm/formatDistanceStrict/index.js", "../../date-fns/esm/getOverlappingDaysInIntervals/index.js", "../../@babel/runtime/helpers/esm/assertThisInitialized.js", "../../@babel/runtime/helpers/esm/setPrototypeOf.js", "../../@babel/runtime/helpers/esm/inherits.js", "../../@babel/runtime/helpers/esm/getPrototypeOf.js", "../../@babel/runtime/helpers/esm/isNativeReflectConstruct.js", "../../@babel/runtime/helpers/esm/possibleConstructorReturn.js", "../../@babel/runtime/helpers/esm/createSuper.js", "../../@babel/runtime/helpers/esm/classCallCheck.js", "../../@babel/runtime/helpers/esm/toPrimitive.js", "../../@babel/runtime/helpers/esm/toPropertyKey.js", "../../@babel/runtime/helpers/esm/createClass.js", "../../@babel/runtime/helpers/esm/defineProperty.js", "../../date-fns/esm/parse/_lib/Setter.js", "../../date-fns/esm/parse/_lib/Parser.js", "../../date-fns/esm/parse/_lib/parsers/EraParser.js", "../../date-fns/esm/parse/_lib/constants.js", "../../date-fns/esm/parse/_lib/utils.js", "../../date-fns/esm/parse/_lib/parsers/YearParser.js", "../../date-fns/esm/parse/_lib/parsers/LocalWeekYearParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOWeekYearParser.js", "../../date-fns/esm/parse/_lib/parsers/ExtendedYearParser.js", "../../date-fns/esm/parse/_lib/parsers/QuarterParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneQuarterParser.js", "../../date-fns/esm/parse/_lib/parsers/MonthParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneMonthParser.js", "../../date-fns/esm/_lib/setUTCWeek/index.js", "../../date-fns/esm/parse/_lib/parsers/LocalWeekParser.js", "../../date-fns/esm/_lib/setUTCISOWeek/index.js", "../../date-fns/esm/parse/_lib/parsers/ISOWeekParser.js", "../../date-fns/esm/parse/_lib/parsers/DateParser.js", "../../date-fns/esm/parse/_lib/parsers/DayOfYearParser.js", "../../date-fns/esm/_lib/setUTCDay/index.js", "../../date-fns/esm/parse/_lib/parsers/DayParser.js", "../../date-fns/esm/parse/_lib/parsers/LocalDayParser.js", "../../date-fns/esm/parse/_lib/parsers/StandAloneLocalDayParser.js", "../../date-fns/esm/_lib/setUTCISODay/index.js", "../../date-fns/esm/parse/_lib/parsers/ISODayParser.js", "../../date-fns/esm/parse/_lib/parsers/AMPMParser.js", "../../date-fns/esm/parse/_lib/parsers/AMPMMidnightParser.js", "../../date-fns/esm/parse/_lib/parsers/DayPeriodParser.js", "../../date-fns/esm/parse/_lib/parsers/Hour1to12Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour0to23Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour0To11Parser.js", "../../date-fns/esm/parse/_lib/parsers/Hour1To24Parser.js", "../../date-fns/esm/parse/_lib/parsers/MinuteParser.js", "../../date-fns/esm/parse/_lib/parsers/SecondParser.js", "../../date-fns/esm/parse/_lib/parsers/FractionOfSecondParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOTimezoneWithZParser.js", "../../date-fns/esm/parse/_lib/parsers/ISOTimezoneParser.js", "../../date-fns/esm/parse/_lib/parsers/TimestampSecondsParser.js", "../../date-fns/esm/parse/_lib/parsers/TimestampMillisecondsParser.js", "../../date-fns/esm/parse/_lib/parsers/index.js", "../../@sendbird/uikit-react/Thread/components/ThreadMessageInput.js", "../../@sendbird/uikit-react/Channel/hooks/useHandleUploadFiles.js", "../../@sendbird/uikit-react/OpenChannel.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelUI.js", "../../@sendbird/uikit-react/chunks/bundle-v7PcSk1i.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelInput.js", "../../@sendbird/uikit-react/OpenChannel/components/FrozenChannelNotification.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelHeader.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelMessageList.js", "../../@sendbird/uikit-react/OpenChannel/components/OpenChannelMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelUserMessage.js", "../../@sendbird/uikit-react/chunks/bundle-MlowEcAQ.js", "../../@sendbird/uikit-react/chunks/bundle-BOC6Vh1w.js", "../../@sendbird/uikit-react/ui/OpenChannelAdminMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelOGMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelThumbnailMessage.js", "../../@sendbird/uikit-react/ui/OpenchannelFileMessage.js", "../../@sendbird/uikit-react/OpenChannelSettings.js", "../../@sendbird/uikit-react/OpenChannelSettings/components/OpenChannelSettingsUI.js", "../../@sendbird/uikit-react/OpenChannelSettings/context.js", "../../@sendbird/uikit-react/OpenChannelSettings/components/OperatorUI.js", "../../@sendbird/uikit-react/OpenChannelSettings/components/OpenChannelProfile.js", "../../@sendbird/uikit-react/ui/OpenChannelAvatar.js", "../../@sendbird/uikit-react/OpenChannelSettings/components/EditDetailsModal.js", "../../@sendbird/uikit-react/chunks/bundle-CqCMcS8B.js", "../../@sendbird/uikit-react/ui/AccordionGroup.js", "../../@sendbird/uikit-react/ui/Accordion.js", "../../@sendbird/uikit-react/index.js"],
  "sourcesContent": ["import { _ as __assign, a as __awaiter, b as __generator, c as __spreadArray } from './chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useLayoutEffect, useRef, useEffect, useCallback, useMemo, useState, useReducer } from 'react';\nimport { UIKitConfigProvider, useUIKitConfig } from '@sendbird/uikit-tools';\nimport { SendbirdSdkContext } from './withSendbird.js';\nimport { m as mapColorKeys, V as VoiceRecorderProvider, E as EmojiManager, G as GlobalModalProvider, d as ModalRoot } from './chunks/bundle-Bh6KfMRl.js';\nimport cssVars from 'css-vars-ponyfill';\nimport { K, a4 as isTextuallyNull } from './chunks/bundle-D-cVbGxk.js';\nimport { U as USER_ACTIONS } from './chunks/bundle-egkx7NWB.js';\nimport { s as schedulerFactory, b as useUnmount, u as useOnlineStatus, a as useMarkAsDeliveredScheduler } from './chunks/bundle-8Y67Y4IK.js';\nimport SendbirdChat, { SendbirdError, SendbirdProduct, SendbirdPlatform, DeviceOsPlatform, SendbirdErrorCode } from '@sendbird/chat';\nimport { OpenChannelModule } from '@sendbird/chat/openChannel';\nimport { GroupChannelModule } from '@sendbird/chat/groupChannel';\nimport { n as noop } from './chunks/bundle-CtBgdgkK.js';\nimport { p as pubSubFactory } from './chunks/bundle-5R9f3ZZp.js';\nimport { b as VoicePlayerProvider } from './chunks/bundle-DO8nji3n.js';\nimport { a as LocalizationProvider } from './chunks/bundle-BvAzWVA5.js';\nimport { u as useMediaQueryContext, M as MediaQueryProvider } from './chunks/bundle-DBzinRyn.js';\nimport { g as getStringSet } from './chunks/bundle-D2Fmzffb.js';\nimport { C as CACHED_MESSAGE_TEMPLATES_TOKEN_KEY, o as CACHED_MESSAGE_TEMPLATES_KEY, p as DEFAULT_MULTIPLE_FILES_MESSAGE_LIMIT, q as DEFAULT_UPLOAD_SIZE_LIMIT, r as VOICE_RECORDER_DEFAULT_MAX, j as VOICE_RECORDER_DEFAULT_MIN } from './chunks/bundle-c4e24Qt4.js';\nimport { g as getCaseResolvedReplyType } from './chunks/bundle-DW8Sq-WK.js';\nimport { i as EmojiReactionListRoot, j as MenuRoot } from './chunks/bundle-C7VSBUKJ.js';\nimport { a as useHTMLTextDirection } from './chunks/bundle-ke1HVuUa.js';\nexport { useSendbirdStateContext } from './useSendbirdStateContext.js';\nimport 'react-dom';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './ui/SortByRow.js';\n\nvar DEFAULT_COLOR_SET = {\n    '--sendbird-dark-primary-500': '#4d2aa6',\n    '--sendbird-dark-primary-400': '#6440C4',\n    '--sendbird-dark-primary-300': '#7B53EF',\n    '--sendbird-dark-primary-200': '#9E8CF5',\n    '--sendbird-dark-primary-100': '#E2DFFF',\n    '--sendbird-dark-secondary-500': '#007A7A',\n    '--sendbird-dark-secondary-400': '#189A8D',\n    '--sendbird-dark-secondary-300': '#2EBA9F',\n    '--sendbird-dark-secondary-200': '#6FD6BE',\n    '--sendbird-dark-secondary-100': '#AEF2DC',\n    '--sendbird-dark-information-100': '#b2d9ff',\n    '--sendbird-dark-error-500': '#A30E2D',\n    '--sendbird-dark-error-400': '#C11F41',\n    '--sendbird-dark-error-300': '#E53157',\n    '--sendbird-dark-error-200': '#FF6183',\n    '--sendbird-dark-error-100': '#FFABBD',\n    '--sendbird-dark-background-700': '#000000',\n    '--sendbird-dark-background-600': '#161616',\n    '--sendbird-dark-background-500': '#2C2C2C',\n    '--sendbird-dark-background-400': '#393939',\n    '--sendbird-dark-background-300': '#A8A8A8',\n    '--sendbird-dark-background-200': '#D9D9D9',\n    '--sendbird-dark-background-100': '#F0F0F0',\n    '--sendbird-dark-background-50': '#FFFFFF',\n    '--sendbird-dark-overlay': 'rgba(0, 0, 0, 0.32)',\n    '--sendbird-dark-onlight-01': 'rgba(0, 0, 0, 0.88)',\n    '--sendbird-dark-onlight-02': 'rgba(0, 0, 0, 0.50)',\n    '--sendbird-dark-onlight-03': 'rgba(0, 0, 0, 0.38)',\n    '--sendbird-dark-onlight-04': 'rgba(0, 0, 0, 0.12)',\n    '--sendbird-dark-ondark-01': 'rgba(255, 255, 255, 0.88)',\n    '--sendbird-dark-ondark-02': 'rgba(255, 255, 255, 0.50)',\n    '--sendbird-dark-ondark-03': 'rgba(255, 255, 255, 0.38)',\n    '--sendbird-dark-ondark-04': 'rgba(255, 255, 255, 0.12)',\n    '--sendbird-dark-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n    '--sendbird-dark-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n    '--sendbird-dark-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n    '--sendbird-dark-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n    '--sendbird-dark-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n    '--sendbird-light-primary-500': '#4d2aa6',\n    '--sendbird-light-primary-400': '#6440C4',\n    '--sendbird-light-primary-300': '#7B53EF',\n    '--sendbird-light-primary-200': '#9E8CF5',\n    '--sendbird-light-primary-100': '#E2DFFF',\n    '--sendbird-light-secondary-500': '#007A7A',\n    '--sendbird-light-secondary-400': '#189A8D',\n    '--sendbird-light-secondary-300': '#2EBA9F',\n    '--sendbird-light-secondary-200': '#6FD6BE',\n    '--sendbird-light-secondary-100': '#AEF2DC',\n    '--sendbird-light-information-100': '#b2d9ff',\n    '--sendbird-light-error-500': '#A30E2D',\n    '--sendbird-light-error-400': '#C11F41',\n    '--sendbird-light-error-300': '#E53157',\n    '--sendbird-light-error-200': '#FF6183',\n    '--sendbird-light-error-100': '#FFABBD',\n    '--sendbird-light-background-700': '#000000',\n    '--sendbird-light-background-600': '#161616',\n    '--sendbird-light-background-500': '#2C2C2C',\n    '--sendbird-light-background-400': '#393939',\n    '--sendbird-light-background-300': '#A8A8A8',\n    '--sendbird-light-background-200': '#D9D9D9',\n    '--sendbird-light-background-100': '#F0F0F0',\n    '--sendbird-light-background-50': ' #FFFFFF',\n    '--sendbird-light-overlay': 'rgba(0, 0, 0, 0.32)',\n    '--sendbird-light-onlight-01': 'rgba(0, 0, 0, 0.88)',\n    '--sendbird-light-onlight-02': 'rgba(0, 0, 0, 0.50)',\n    '--sendbird-light-onlight-03': 'rgba(0, 0, 0, 0.38)',\n    '--sendbird-light-onlight-04': 'rgba(0, 0, 0, 0.12)',\n    '--sendbird-light-ondark-01': 'rgba(255, 255, 255, 0.88)',\n    '--sendbird-light-ondark-02': 'rgba(255, 255, 255, 0.50)',\n    '--sendbird-light-ondark-03': 'rgba(255, 255, 255, 0.38)',\n    '--sendbird-light-ondark-04': 'rgba(255, 255, 255, 0.12)',\n    '--sendbird-light-shadow-01': '0 1px 5px 0 rgba(33, 34, 66, 0.04), 0 0 3px 0 rgba(0, 0, 0, 0.08), 0 2px 1px 0 rgba(0, 0, 0, 0.12)',\n    '--sendbird-light-shadow-02': '0 3px 5px -3px rgba(33, 34, 66, 0.04), 0 3px 14px 2px rgba(0, 0, 0, 0.08), 0 8px 10px 1px rgba(0, 0, 0, 0.12)',\n    '--sendbird-light-shadow-03': '0 6px 10px -5px rgba(0, 0, 0, 0.04), 0 6px 30px 5px rgba(0, 0, 0, 0.08), 0 16px 24px 2px rgba(0, 0, 0, 0.12)',\n    '--sendbird-light-shadow-04': '0 9px 15px -7px rgba(0, 0, 0, 0.04), 0 9px 46px 8px rgba(0, 0, 0, 0.08), 0 24px 38px 3px rgba(0, 0, 0, 0.12)',\n    '--sendbird-light-shadow-message-input': '0 1px 5px 0 rgba(33, 34, 66, 0.12), 0 0 1px 0 rgba(33, 34, 66, 0.16), 0 2px 1px 0 rgba(33, 34, 66, 0.08), 0 1px 5px 0 rgba(0, 0, 0, 0.12)',\n};\nvar isEmpty = function (obj) {\n    if (obj === null || obj === undefined) {\n        return true;\n    }\n    for (var prop in obj) {\n        if (obj.hasOwnProperty(prop)) {\n            return false;\n        }\n    }\n    return JSON.stringify(obj) === JSON.stringify({});\n};\nvar useTheme = function (overrides) {\n    useLayoutEffect(function () {\n        if (!isEmpty(overrides)) {\n            var variables = __assign(__assign({}, DEFAULT_COLOR_SET), mapColorKeys(overrides));\n            cssVars({ variables: variables });\n        }\n    }, [overrides]);\n};\n\nvar SDK_ACTIONS = {\n    INIT_SDK: 'INIT_SDK',\n    SET_SDK_LOADING: 'SET_SDK_LOADING',\n    RESET_SDK: 'RESET_SDK',\n    SDK_ERROR: 'SDK_ERROR',\n};\n\nvar initialState$2 = {\n    initialized: false,\n    loading: false,\n    sdk: {},\n    error: false,\n};\n\nfunction reducer$2(state, action) {\n    return K(action)\n        .with({ type: SDK_ACTIONS.SET_SDK_LOADING }, function (_a) {\n        var payload = _a.payload;\n        return __assign(__assign({}, state), { initialized: false, loading: payload });\n    })\n        .with({ type: SDK_ACTIONS.SDK_ERROR }, function () {\n        return __assign(__assign({}, state), { initialized: false, loading: false, error: true });\n    })\n        .with({ type: SDK_ACTIONS.INIT_SDK }, function (_a) {\n        var payload = _a.payload;\n        return {\n            sdk: payload,\n            initialized: true,\n            loading: false,\n            error: false,\n        };\n    })\n        .with({ type: SDK_ACTIONS.RESET_SDK }, function () {\n        return initialState$2;\n    })\n        .otherwise(function () {\n        return state;\n    });\n}\n\nvar initialState$1 = {\n    initialized: false,\n    loading: false,\n    user: {},\n};\n\nfunction reducer$1(state, action) {\n    return K(action)\n        .with({ type: USER_ACTIONS.INIT_USER }, function (_a) {\n        var payload = _a.payload;\n        return {\n            initialized: true,\n            loading: false,\n            user: payload,\n        };\n    })\n        .with({ type: USER_ACTIONS.RESET_USER }, function () {\n        return initialState$1;\n    })\n        .with({ type: USER_ACTIONS.UPDATE_USER_INFO }, function (_a) {\n        var payload = _a.payload;\n        return __assign(__assign({}, state), { user: payload });\n    })\n        .otherwise(function () {\n        return state;\n    });\n}\n\nvar APP_INFO_ACTIONS = {\n    INITIALIZE_MESSAGE_TEMPLATES_INFO: 'INITIALIZE_MESSAGE_TEMPLATES_INFO',\n    UPSERT_MESSAGE_TEMPLATES: 'UPSERT_MESSAGE_TEMPLATES',\n    UPSERT_WAITING_TEMPLATE_KEYS: 'UPSERT_WAITING_TEMPLATE_KEYS',\n    MARK_ERROR_WAITING_TEMPLATE_KEYS: 'MARK_ERROR_WAITING_TEMPLATE_KEYS',\n};\n\nfunction reducer(state, action) {\n    return K(action)\n        .with({ type: APP_INFO_ACTIONS.INITIALIZE_MESSAGE_TEMPLATES_INFO }, function (_a) {\n        var payload = _a.payload;\n        return {\n            messageTemplatesInfo: payload,\n            waitingTemplateKeysMap: {},\n        };\n    })\n        .with({ type: APP_INFO_ACTIONS.UPSERT_MESSAGE_TEMPLATES }, function (_a) {\n        var payload = _a.payload;\n        var templatesInfo = state.messageTemplatesInfo;\n        if (!templatesInfo)\n            return state; // Not initialized. Ignore.\n        var waitingTemplateKeysMap = __assign({}, state.waitingTemplateKeysMap);\n        payload.forEach(function (templatesMapData) {\n            var key = templatesMapData.key, template = templatesMapData.template;\n            templatesInfo.templatesMap[key] = template;\n            delete waitingTemplateKeysMap[key];\n        });\n        return __assign(__assign({}, state), { waitingTemplateKeysMap: waitingTemplateKeysMap, messageTemplatesInfo: templatesInfo });\n    })\n        .with({ type: APP_INFO_ACTIONS.UPSERT_WAITING_TEMPLATE_KEYS }, function (_a) {\n        var payload = _a.payload;\n        var keys = payload.keys, requestedAt = payload.requestedAt;\n        var waitingTemplateKeysMap = __assign({}, state.waitingTemplateKeysMap);\n        keys.forEach(function (key) {\n            var _a, _b;\n            waitingTemplateKeysMap[key] = {\n                erroredMessageIds: (_b = (_a = waitingTemplateKeysMap[key]) === null || _a === void 0 ? void 0 : _a.erroredMessageIds) !== null && _b !== void 0 ? _b : [],\n                requestedAt: requestedAt,\n            };\n        });\n        return __assign(__assign({}, state), { waitingTemplateKeysMap: waitingTemplateKeysMap });\n    })\n        .with({ type: APP_INFO_ACTIONS.MARK_ERROR_WAITING_TEMPLATE_KEYS }, function (_a) {\n        var payload = _a.payload;\n        var keys = payload.keys, messageId = payload.messageId;\n        var waitingTemplateKeysMap = __assign({}, state.waitingTemplateKeysMap);\n        keys.forEach(function (key) {\n            var waitingTemplateKeyData = waitingTemplateKeysMap[key];\n            if (waitingTemplateKeyData && waitingTemplateKeyData.erroredMessageIds.indexOf(messageId) === -1) {\n                waitingTemplateKeyData.erroredMessageIds.push(messageId);\n            }\n        });\n        return __assign(__assign({}, state), { waitingTemplateKeysMap: waitingTemplateKeysMap });\n    })\n        .otherwise(function () {\n        return state;\n    });\n}\n\nvar initialState = {\n    waitingTemplateKeysMap: {},\n};\n\nfunction disconnectSdk(_a) {\n    return __awaiter(this, arguments, void 0, function (_b) {\n        var sdkDispatcher = _b.sdkDispatcher, userDispatcher = _b.userDispatcher, sdk = _b.sdk;\n        return __generator(this, function (_c) {\n            return [2 /*return*/, new Promise(function (resolve) {\n                    sdkDispatcher({ type: SDK_ACTIONS.SET_SDK_LOADING, payload: true });\n                    if (sdk === null || sdk === void 0 ? void 0 : sdk.disconnect) {\n                        sdk.disconnect()\n                            .then(function () {\n                            sdkDispatcher({ type: SDK_ACTIONS.RESET_SDK });\n                            userDispatcher({ type: USER_ACTIONS.RESET_USER });\n                        })\n                            .finally(function () {\n                            resolve(true);\n                        });\n                    }\n                    else {\n                        resolve(true);\n                    }\n                })];\n        });\n    });\n}\n\nvar APP_VERSION_STRING = '3.14.14';\nvar INIT_SDK = SDK_ACTIONS.INIT_SDK, SET_SDK_LOADING = SDK_ACTIONS.SET_SDK_LOADING, RESET_SDK = SDK_ACTIONS.RESET_SDK, SDK_ERROR = SDK_ACTIONS.SDK_ERROR;\nvar INIT_USER = USER_ACTIONS.INIT_USER, UPDATE_USER_INFO = USER_ACTIONS.UPDATE_USER_INFO, RESET_USER = USER_ACTIONS.RESET_USER;\nfunction getMissingParamError(_a) {\n    var userId = _a.userId, appId = _a.appId;\n    return \"SendbirdProvider | useConnect/setupConnection/Connection failed UserId: \".concat(userId, \" or appId: \").concat(appId, \" missing\");\n}\nfunction getConnectSbError(error) {\n    return \"SendbirdProvider | useConnect/setupConnection/Connection failed. \".concat((error === null || error === void 0 ? void 0 : error.code) || '', \" \").concat((error === null || error === void 0 ? void 0 : error.message) || '');\n}\nfunction setUpConnection(_a) {\n    return __awaiter(this, arguments, void 0, function (_b) {\n        var errorMessage;\n        var _this = this;\n        var _c, _d;\n        var logger = _b.logger, sdkDispatcher = _b.sdkDispatcher, userDispatcher = _b.userDispatcher, initDashboardConfigs = _b.initDashboardConfigs, userId = _b.userId, appId = _b.appId, isNewApp = _b.isNewApp, customApiHost = _b.customApiHost, customWebSocketHost = _b.customWebSocketHost, configureSession = _b.configureSession, nickname = _b.nickname, profileUrl = _b.profileUrl, accessToken = _b.accessToken, isUserIdUsedForNickname = _b.isUserIdUsedForNickname, sdkInitParams = _b.sdkInitParams, customExtensionParams = _b.customExtensionParams, _e = _b.isMobile, isMobile = _e === void 0 ? false : _e, eventHandlers = _b.eventHandlers, initializeMessageTemplatesInfo = _b.initializeMessageTemplatesInfo;\n        return __generator(this, function (_f) {\n            (_c = logger.info) === null || _c === void 0 ? void 0 : _c.call(logger, 'SendbirdProvider | useConnect/setupConnection/init', { userId: userId, appId: appId });\n            sdkDispatcher({ type: SET_SDK_LOADING, payload: true });\n            if (!userId || !appId) {\n                errorMessage = getMissingParamError({ userId: userId, appId: appId });\n                (_d = logger.error) === null || _d === void 0 ? void 0 : _d.call(logger, errorMessage);\n                sdkDispatcher({ type: SDK_ERROR });\n                return [2 /*return*/, Promise.reject(errorMessage)];\n            }\n            return [2 /*return*/, new Promise(function (resolve, reject) {\n                    var _a;\n                    (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, \"SendbirdProvider | useConnect/setupConnection/connect connecting using \".concat(accessToken !== null && accessToken !== void 0 ? accessToken : userId));\n                    var sdk = initSDK({ appId: appId, customApiHost: customApiHost, customWebSocketHost: customWebSocketHost, isNewApp: isNewApp, sdkInitParams: sdkInitParams });\n                    var sessionHandler = typeof configureSession === 'function' ? configureSession(sdk) : undefined;\n                    setupSDK(sdk, { logger: logger, sessionHandler: sessionHandler, customExtensionParams: customExtensionParams, isMobile: isMobile });\n                    sdk\n                        .connect(userId, accessToken)\n                        .then(function (user) { return onConnected(user); })\n                        .catch(function (error) { return __awaiter(_this, void 0, void 0, function () {\n                        var sessionToken, user, error_1;\n                        var _a;\n                        return __generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    if (!(shouldRetryWithValidSessionToken(error) && sessionHandler)) return [3 /*break*/, 6];\n                                    _b.label = 1;\n                                case 1:\n                                    _b.trys.push([1, 5, , 6]);\n                                    return [4 /*yield*/, new Promise(sessionHandler.onSessionTokenRequired)];\n                                case 2:\n                                    sessionToken = _b.sent();\n                                    if (!sessionToken) return [3 /*break*/, 4];\n                                    (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, \"SendbirdProvider | useConnect/setupConnection/connect retry connect with valid session token: \".concat(sessionToken.slice(0, 10) + '...'));\n                                    return [4 /*yield*/, sdk.connect(userId, sessionToken)];\n                                case 3:\n                                    user = _b.sent();\n                                    return [2 /*return*/, onConnected(user)];\n                                case 4: return [3 /*break*/, 6];\n                                case 5:\n                                    error_1 = _b.sent();\n                                    // NOTE: Filter out the error from `onSessionTokenRequired`.\n                                    if (error_1 instanceof SendbirdError) {\n                                        // connect in offline mode\n                                        // if (sdk.isCacheEnabled && sdk.currentUser) return onConnected(sdk.currentUser);\n                                        return [2 /*return*/, onConnectFailed(error_1)];\n                                    }\n                                    return [3 /*break*/, 6];\n                                case 6: return [2 /*return*/, onConnectFailed(error)];\n                            }\n                        });\n                    }); });\n                    var onConnected = function (user) { return __awaiter(_this, void 0, void 0, function () {\n                        var error_2, error_3, updateParams, updatedUser;\n                        var _b, _c, _d, _e, _f, _g, _h, _j;\n                        return __generator(this, function (_k) {\n                            switch (_k.label) {\n                                case 0:\n                                    (_b = logger.info) === null || _b === void 0 ? void 0 : _b.call(logger, 'SendbirdProvider | useConnect/setupConnection/onConnected', user);\n                                    sdkDispatcher({ type: INIT_SDK, payload: sdk });\n                                    userDispatcher({ type: INIT_USER, payload: user });\n                                    _k.label = 1;\n                                case 1:\n                                    _k.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, initializeMessageTemplatesInfo(sdk)];\n                                case 2:\n                                    _k.sent();\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    error_2 = _k.sent();\n                                    (_c = logger.error) === null || _c === void 0 ? void 0 : _c.call(logger, 'SendbirdProvider | useConnect/setupConnection/upsertMessageTemplateListInLocalStorage failed', { error: error_2 });\n                                    return [3 /*break*/, 4];\n                                case 4:\n                                    _k.trys.push([4, 6, , 7]);\n                                    return [4 /*yield*/, initDashboardConfigs(sdk)];\n                                case 5:\n                                    _k.sent();\n                                    (_d = logger.info) === null || _d === void 0 ? void 0 : _d.call(logger, 'SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration success');\n                                    return [3 /*break*/, 7];\n                                case 6:\n                                    error_3 = _k.sent();\n                                    (_e = logger.error) === null || _e === void 0 ? void 0 : _e.call(logger, 'SendbirdProvider | useConnect/setupConnection/getUIKitConfiguration failed', { error: error_3 });\n                                    return [3 /*break*/, 7];\n                                case 7:\n                                    _k.trys.push([7, 10, , 11]);\n                                    if (!((nickname !== user.nickname || profileUrl !== user.profileUrl) && !(isTextuallyNull(nickname) && isTextuallyNull(profileUrl)))) return [3 /*break*/, 9];\n                                    (_f = logger.info) === null || _f === void 0 ? void 0 : _f.call(logger, 'SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo', { nickname: nickname, profileUrl: profileUrl });\n                                    updateParams = {\n                                        nickname: nickname || user.nickname || (isUserIdUsedForNickname ? user.userId : ''),\n                                        profileUrl: profileUrl || user.profileUrl,\n                                    };\n                                    return [4 /*yield*/, sdk.updateCurrentUserInfo(updateParams)];\n                                case 8:\n                                    updatedUser = _k.sent();\n                                    (_g = logger.info) === null || _g === void 0 ? void 0 : _g.call(logger, 'SendbirdProvider | useConnect/setupConnection/updateCurrentUserInfo success', updateParams);\n                                    userDispatcher({ type: UPDATE_USER_INFO, payload: updatedUser });\n                                    _k.label = 9;\n                                case 9: return [3 /*break*/, 11];\n                                case 10:\n                                    _k.sent();\n                                    return [3 /*break*/, 11];\n                                case 11:\n                                    resolve();\n                                    (_j = (_h = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.connection) === null || _h === void 0 ? void 0 : _h.onConnected) === null || _j === void 0 ? void 0 : _j.call(_h, user);\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); };\n                    var onConnectFailed = function (e) { return __awaiter(_this, void 0, void 0, function () {\n                        var errorMessage;\n                        var _a, _b, _c, _d;\n                        return __generator(this, function (_e) {\n                            switch (_e.label) {\n                                case 0:\n                                    if (!(sdk.isCacheEnabled && shouldClearCache(e))) return [3 /*break*/, 2];\n                                    (_a = logger.error) === null || _a === void 0 ? void 0 : _a.call(logger, \"SendbirdProvider | useConnect/setupConnection/connect clear cache [\".concat(e.code, \"/\").concat(e.message, \"]\"));\n                                    return [4 /*yield*/, sdk.clearCachedData()];\n                                case 1:\n                                    _e.sent();\n                                    _e.label = 2;\n                                case 2:\n                                    errorMessage = getConnectSbError(e);\n                                    (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, errorMessage, { e: e, appId: appId, userId: userId });\n                                    userDispatcher({ type: RESET_USER });\n                                    sdkDispatcher({ type: RESET_SDK });\n                                    sdkDispatcher({ type: SDK_ERROR });\n                                    reject(errorMessage);\n                                    (_d = (_c = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.connection) === null || _c === void 0 ? void 0 : _c.onFailed) === null || _d === void 0 ? void 0 : _d.call(_c, e);\n                                    return [2 /*return*/];\n                            }\n                        });\n                    }); };\n                })];\n        });\n    });\n}\n/**\n * Initializes the Sendbird SDK with the provided parameters.\n * */\nfunction initSDK(_a) {\n    var appId = _a.appId, _b = _a.isNewApp, isNewApp = _b === void 0 ? false : _b, customApiHost = _a.customApiHost, customWebSocketHost = _a.customWebSocketHost, _c = _a.sdkInitParams, sdkInitParams = _c === void 0 ? {} : _c;\n    var params = Object.assign(sdkInitParams, {\n        appId: appId,\n        modules: [new GroupChannelModule(), new OpenChannelModule()],\n        newInstance: isNewApp,\n        localCacheEnabled: true,\n    });\n    if (customApiHost)\n        params.customApiHost = customApiHost;\n    if (customWebSocketHost)\n        params.customWebSocketHost = customWebSocketHost;\n    return SendbirdChat.init(params);\n}\n/**\n * Sets up the Sendbird SDK after initialization.\n * Configures necessary settings, adds extensions, sets the platform, and configures the session handler if provided.\n */\nfunction setupSDK(sdk, params) {\n    var _a, _b;\n    var logger = params.logger, sessionHandler = params.sessionHandler, isMobile = params.isMobile, customExtensionParams = params.customExtensionParams;\n    (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'SendbirdProvider | useConnect/setupConnection/setVersion', { version: APP_VERSION_STRING });\n    sdk.addExtension('sb_uikit', APP_VERSION_STRING);\n    sdk.addSendbirdExtensions([{ product: SendbirdProduct.UIKIT_CHAT, version: APP_VERSION_STRING, platform: SendbirdPlatform === null || SendbirdPlatform === void 0 ? void 0 : SendbirdPlatform.JS }], { platform: isMobile ? DeviceOsPlatform.MOBILE_WEB : DeviceOsPlatform.WEB }, customExtensionParams);\n    if (sessionHandler) {\n        (_b = logger.info) === null || _b === void 0 ? void 0 : _b.call(logger, 'SendbirdProvider | useConnect/setupConnection/configureSession', sessionHandler);\n        sdk.setSessionHandler(sessionHandler);\n    }\n}\nfunction shouldClearCache(error) {\n    if (!(error instanceof SendbirdError))\n        return false;\n    return [\n        SendbirdErrorCode.USER_AUTH_DEACTIVATED,\n        SendbirdErrorCode.USER_AUTH_DELETED_OR_NOT_FOUND,\n        SendbirdErrorCode.SESSION_TOKEN_EXPIRED,\n        SendbirdErrorCode.SESSION_REVOKED,\n    ].includes(error.code);\n}\nfunction shouldRetryWithValidSessionToken(error) {\n    if (!(error instanceof SendbirdError))\n        return false;\n    return [\n        SendbirdErrorCode.SESSION_TOKEN_EXPIRED,\n        /**\n         * Note: INVALID_TOKEN has been added arbitrarily due to legacy constraints\n         *\n         * In the useEffect of the useConnect hook, authentication is being performed\n         * but changes of the `accessToken` is not being detected.\n         * `disconnectSdk` is called when connect is called redundantly for the same user ID, causing issues, so `accessToken` has been excluded form the deps.\n         *\n         * In case the `accessToken` is missed, an additional attempt to connect is made\n         * */\n        SendbirdErrorCode.INVALID_TOKEN,\n    ].includes(error.code);\n}\n\nfunction connect(_a) {\n    return __awaiter(this, arguments, void 0, function (_b) {\n        var logger = _b.logger, sdkDispatcher = _b.sdkDispatcher, userDispatcher = _b.userDispatcher, appInfoDispatcher = _b.appInfoDispatcher, initDashboardConfigs = _b.initDashboardConfigs, userId = _b.userId, appId = _b.appId, _c = _b.isNewApp, isNewApp = _c === void 0 ? false : _c, customApiHost = _b.customApiHost, customWebSocketHost = _b.customWebSocketHost, configureSession = _b.configureSession, nickname = _b.nickname, profileUrl = _b.profileUrl, accessToken = _b.accessToken, sdk = _b.sdk, sdkInitParams = _b.sdkInitParams, customExtensionParams = _b.customExtensionParams, isMobile = _b.isMobile, eventHandlers = _b.eventHandlers, isUserIdUsedForNickname = _b.isUserIdUsedForNickname, initializeMessageTemplatesInfo = _b.initializeMessageTemplatesInfo;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0: return [4 /*yield*/, disconnectSdk({\n                        logger: logger,\n                        sdkDispatcher: sdkDispatcher,\n                        userDispatcher: userDispatcher,\n                        sdk: sdk,\n                    })];\n                case 1:\n                    _d.sent();\n                    return [4 /*yield*/, setUpConnection({\n                            logger: logger,\n                            sdkDispatcher: sdkDispatcher,\n                            userDispatcher: userDispatcher,\n                            appInfoDispatcher: appInfoDispatcher,\n                            initDashboardConfigs: initDashboardConfigs,\n                            userId: userId,\n                            appId: appId,\n                            isNewApp: isNewApp,\n                            customApiHost: customApiHost,\n                            customWebSocketHost: customWebSocketHost,\n                            configureSession: configureSession,\n                            nickname: nickname,\n                            profileUrl: profileUrl,\n                            accessToken: accessToken,\n                            sdkInitParams: sdkInitParams,\n                            customExtensionParams: customExtensionParams,\n                            isMobile: isMobile,\n                            eventHandlers: eventHandlers,\n                            isUserIdUsedForNickname: isUserIdUsedForNickname,\n                            initializeMessageTemplatesInfo: initializeMessageTemplatesInfo,\n                        })];\n                case 2:\n                    _d.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n\nfunction useConnect(triggerTypes, staticTypes) {\n    var _this = this;\n    var userId = triggerTypes.userId, appId = triggerTypes.appId, accessToken = triggerTypes.accessToken, isMobile = triggerTypes.isMobile, isUserIdUsedForNickname = triggerTypes.isUserIdUsedForNickname;\n    var logger = staticTypes.logger, nickname = staticTypes.nickname, profileUrl = staticTypes.profileUrl, configureSession = staticTypes.configureSession, customApiHost = staticTypes.customApiHost, customWebSocketHost = staticTypes.customWebSocketHost, sdk = staticTypes.sdk, sdkDispatcher = staticTypes.sdkDispatcher, userDispatcher = staticTypes.userDispatcher, appInfoDispatcher = staticTypes.appInfoDispatcher, initDashboardConfigs = staticTypes.initDashboardConfigs, sdkInitParams = staticTypes.sdkInitParams, customExtensionParams = staticTypes.customExtensionParams, eventHandlers = staticTypes.eventHandlers, initializeMessageTemplatesInfo = staticTypes.initializeMessageTemplatesInfo;\n    // Note: This is a workaround to prevent the creation of multiple SDK instances when React strict mode is enabled.\n    var connectDeps = useRef({\n        appId: '',\n        userId: '',\n    });\n    useEffect(function () {\n        var _a;\n        (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'SendbirdProvider | useConnect/useEffect', { userId: userId, appId: appId, accessToken: accessToken });\n        var isNewApp = connectDeps.current.appId !== appId;\n        if (connectDeps.current.appId === appId && connectDeps.current.userId === userId) {\n            return;\n        }\n        else {\n            connectDeps.current = { appId: appId, userId: userId };\n        }\n        connect({\n            userId: userId,\n            appId: appId,\n            isNewApp: isNewApp,\n            accessToken: accessToken,\n            logger: logger,\n            nickname: nickname,\n            profileUrl: profileUrl,\n            configureSession: configureSession,\n            customApiHost: customApiHost,\n            customWebSocketHost: customWebSocketHost,\n            sdk: sdk,\n            sdkDispatcher: sdkDispatcher,\n            userDispatcher: userDispatcher,\n            appInfoDispatcher: appInfoDispatcher,\n            initDashboardConfigs: initDashboardConfigs,\n            isUserIdUsedForNickname: isUserIdUsedForNickname,\n            sdkInitParams: sdkInitParams,\n            customExtensionParams: customExtensionParams,\n            isMobile: isMobile,\n            eventHandlers: eventHandlers,\n            initializeMessageTemplatesInfo: initializeMessageTemplatesInfo,\n        }).catch(function (error) {\n            var _a;\n            (_a = logger === null || logger === void 0 ? void 0 : logger.error) === null || _a === void 0 ? void 0 : _a.call(logger, 'SendbirdProvider | useConnect/useEffect', error);\n        });\n    }, [userId, appId]);\n    var reconnect = useCallback(function () { return __awaiter(_this, void 0, void 0, function () {\n        var error_1;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'SendbirdProvider | useConnect/reconnect/useCallback', { sdk: sdk });\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, connect({\n                            userId: userId,\n                            appId: appId,\n                            accessToken: accessToken,\n                            logger: logger,\n                            nickname: nickname,\n                            profileUrl: profileUrl,\n                            configureSession: configureSession,\n                            customApiHost: customApiHost,\n                            customWebSocketHost: customWebSocketHost,\n                            sdk: sdk,\n                            sdkDispatcher: sdkDispatcher,\n                            userDispatcher: userDispatcher,\n                            appInfoDispatcher: appInfoDispatcher,\n                            initDashboardConfigs: initDashboardConfigs,\n                            isUserIdUsedForNickname: isUserIdUsedForNickname,\n                            sdkInitParams: sdkInitParams,\n                            customExtensionParams: customExtensionParams,\n                            isMobile: isMobile,\n                            eventHandlers: eventHandlers,\n                            initializeMessageTemplatesInfo: initializeMessageTemplatesInfo,\n                        })];\n                case 2:\n                    _c.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _c.sent();\n                    (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'SendbirdProvider | useConnect/reconnect/useCallback', error_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [sdk]);\n    return reconnect;\n}\n\n// Logger, pretty much explains it\n// in SendbirdProvider\n// const [logger, setLogger] = useState(LoggerFactory(logLevel));\nvar LOG_LEVELS = {\n    DEBUG: 'debug',\n    WARNING: 'warning',\n    ERROR: 'error',\n    INFO: 'info',\n    ALL: 'all',\n};\nvar colorLog = function (level) {\n    switch (level) {\n        case LOG_LEVELS.WARNING:\n            return ('color: Orange');\n        case LOG_LEVELS.ERROR:\n            return ('color: Red');\n        default:\n            return ('color: Gray');\n    }\n};\nvar printLog = function (_a) {\n    var level = _a.level, title = _a.title, _b = _a.description, description = _b === void 0 ? '' : _b, _c = _a.payload, payload = _c === void 0 ? [] : _c;\n    // eslint-disable-next-line no-console\n    console.log.apply(console, __spreadArray([\"%c SendbirdUIKit | \".concat(level, \" | \").concat(new Date().toISOString(), \" | \").concat(title, \" \").concat(description && '|'), colorLog(level), description], payload, false));\n};\nvar getDefaultLogger = function () { return ({\n    info: noop,\n    error: noop,\n    warning: noop,\n}); };\nvar LoggerFactory = function (lvl, customInterface) {\n    var logInterface = customInterface || printLog;\n    var lvlArray = Array.isArray(lvl) ? lvl : [lvl];\n    var applyLog = function (lgLvl) { return function (title, description) {\n        var payload = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            payload[_i - 2] = arguments[_i];\n        }\n        return logInterface({\n            level: lgLvl,\n            title: title,\n            description: description,\n            payload: payload,\n        });\n    }; };\n    return lvlArray.reduce(function (accumulator, currentLvl) {\n        if (currentLvl === LOG_LEVELS.DEBUG || currentLvl === LOG_LEVELS.ALL) {\n            return (__assign(__assign({}, accumulator), { info: applyLog(LOG_LEVELS.INFO), error: applyLog(LOG_LEVELS.ERROR), warning: applyLog(LOG_LEVELS.WARNING) }));\n        }\n        if (currentLvl === LOG_LEVELS.INFO) {\n            return (__assign(__assign({}, accumulator), { info: applyLog(LOG_LEVELS.INFO) }));\n        }\n        if (currentLvl === LOG_LEVELS.ERROR) {\n            return (__assign(__assign({}, accumulator), { error: applyLog(LOG_LEVELS.ERROR) }));\n        }\n        if (currentLvl === LOG_LEVELS.WARNING) {\n            return (__assign(__assign({}, accumulator), { warning: applyLog(LOG_LEVELS.WARNING) }));\n        }\n        return __assign({}, accumulator);\n    }, getDefaultLogger());\n};\n// TODO: Make this to hook, useLogger\n\nvar VoiceMessageProvider = function (_a) {\n    var children = _a.children;\n    return (React__default.createElement(VoicePlayerProvider, null,\n        React__default.createElement(VoiceRecorderProvider, null, children)));\n};\n\nfunction uikitConfigMapper(_a) {\n    var _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4, _5, _6, _7;\n    var legacyConfig = _a.legacyConfig, _8 = _a.uikitOptions, uikitOptions = _8 === void 0 ? {} : _8;\n    var replyType = legacyConfig.replyType, isMentionEnabled = legacyConfig.isMentionEnabled, isReactionEnabled = legacyConfig.isReactionEnabled, disableUserProfile = legacyConfig.disableUserProfile, isVoiceMessageEnabled = legacyConfig.isVoiceMessageEnabled, isTypingIndicatorEnabledOnChannelList = legacyConfig.isTypingIndicatorEnabledOnChannelList, isMessageReceiptStatusEnabledOnChannelList = legacyConfig.isMessageReceiptStatusEnabledOnChannelList, showSearchIcon = legacyConfig.showSearchIcon;\n    return {\n        common: {\n            enableUsingDefaultUserProfile: (_c = (_b = uikitOptions.common) === null || _b === void 0 ? void 0 : _b.enableUsingDefaultUserProfile) !== null && _c !== void 0 ? _c : (typeof disableUserProfile === 'boolean' ? !disableUserProfile : undefined),\n        },\n        groupChannel: {\n            enableOgtag: (_d = uikitOptions.groupChannel) === null || _d === void 0 ? void 0 : _d.enableOgtag,\n            enableMention: (_f = (_e = uikitOptions.groupChannel) === null || _e === void 0 ? void 0 : _e.enableMention) !== null && _f !== void 0 ? _f : isMentionEnabled,\n            enableReactions: (_h = (_g = uikitOptions.groupChannel) === null || _g === void 0 ? void 0 : _g.enableReactions) !== null && _h !== void 0 ? _h : isReactionEnabled,\n            enableReactionsSupergroup: (_j = uikitOptions.groupChannel) === null || _j === void 0 ? void 0 : _j.enableReactionsSupergroup,\n            enableTypingIndicator: (_k = uikitOptions.groupChannel) === null || _k === void 0 ? void 0 : _k.enableTypingIndicator,\n            enableVoiceMessage: (_m = (_l = uikitOptions.groupChannel) === null || _l === void 0 ? void 0 : _l.enableVoiceMessage) !== null && _m !== void 0 ? _m : isVoiceMessageEnabled,\n            replyType: (_p = (_o = uikitOptions.groupChannel) === null || _o === void 0 ? void 0 : _o.replyType) !== null && _p !== void 0 ? _p : (replyType != null ? getCaseResolvedReplyType(replyType).lowerCase : undefined),\n            threadReplySelectType: (_q = uikitOptions.groupChannel) === null || _q === void 0 ? void 0 : _q.threadReplySelectType,\n            input: {\n                enableDocument: (_s = (_r = uikitOptions.groupChannel) === null || _r === void 0 ? void 0 : _r.input) === null || _s === void 0 ? void 0 : _s.enableDocument,\n            },\n            typingIndicatorTypes: (_t = uikitOptions.groupChannel) === null || _t === void 0 ? void 0 : _t.typingIndicatorTypes,\n            enableFeedback: (_u = uikitOptions.groupChannel) === null || _u === void 0 ? void 0 : _u.enableFeedback,\n            enableSuggestedReplies: (_v = uikitOptions.groupChannel) === null || _v === void 0 ? void 0 : _v.enableSuggestedReplies,\n            showSuggestedRepliesFor: (_w = uikitOptions.groupChannel) === null || _w === void 0 ? void 0 : _w.showSuggestedRepliesFor,\n            suggestedRepliesDirection: (_x = uikitOptions.groupChannel) === null || _x === void 0 ? void 0 : _x.suggestedRepliesDirection,\n            enableMarkdownForUserMessage: (_y = uikitOptions.groupChannel) === null || _y === void 0 ? void 0 : _y.enableMarkdownForUserMessage,\n        },\n        groupChannelList: {\n            enableTypingIndicator: (_0 = (_z = uikitOptions.groupChannelList) === null || _z === void 0 ? void 0 : _z.enableTypingIndicator) !== null && _0 !== void 0 ? _0 : isTypingIndicatorEnabledOnChannelList,\n            enableMessageReceiptStatus: (_2 = (_1 = uikitOptions.groupChannelList) === null || _1 === void 0 ? void 0 : _1.enableMessageReceiptStatus) !== null && _2 !== void 0 ? _2 : isMessageReceiptStatusEnabledOnChannelList,\n        },\n        groupChannelSettings: {\n            enableMessageSearch: (_4 = (_3 = uikitOptions.groupChannelSettings) === null || _3 === void 0 ? void 0 : _3.enableMessageSearch) !== null && _4 !== void 0 ? _4 : showSearchIcon,\n        },\n        openChannel: {\n            enableOgtag: (_5 = uikitOptions.openChannel) === null || _5 === void 0 ? void 0 : _5.enableOgtag,\n            input: {\n                enableDocument: (_7 = (_6 = uikitOptions.openChannel) === null || _6 === void 0 ? void 0 : _6.input) === null || _7 === void 0 ? void 0 : _7.enableDocument,\n            },\n        },\n    };\n}\n\nfunction useMarkAsReadScheduler(_a, _b) {\n    var isConnected = _a.isConnected;\n    var logger = _b.logger;\n    var markAsReadScheduler = useMemo(function () { return schedulerFactory({\n        logger: logger,\n        cb: function (channel) {\n            try {\n                channel.markAsRead();\n            }\n            catch (error) {\n                logger.warning('Channel: Mark as delivered failed', { channel: channel, error: error });\n            }\n        },\n    }); }, []);\n    useEffect(function () {\n        // for simplicity, we clear the queue when the connection is lost\n        if (!isConnected) {\n            markAsReadScheduler.clear();\n        }\n    }, [isConnected]);\n    useUnmount(function () { markAsReadScheduler.clear(); });\n    return markAsReadScheduler;\n}\n\nvar uikitConfigStorage = {\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            return __generator(this, function (_b) {\n                return [2 /*return*/, (_a = localStorage.getItem(key)) !== null && _a !== void 0 ? _a : null];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, localStorage.setItem(key, value)];\n            });\n        });\n    },\n};\n\n/**\n * Takes JSON parsed template and then returns processed message template for storing it in global state.\n */\nvar getProcessedTemplate = function (parsedTemplate) {\n    return {\n        version: Number(parsedTemplate.ui_template.version),\n        uiTemplate: JSON.stringify(parsedTemplate.ui_template.body.items),\n        colorVariables: parsedTemplate.color_variables,\n    };\n};\nvar getProcessedTemplatesMap = function (parsedTemplates) {\n    var processedTemplates = {};\n    parsedTemplates.forEach(function (template) {\n        processedTemplates[template.key] = getProcessedTemplate(template);\n    });\n    return processedTemplates;\n};\n\nvar MESSAGE_TEMPLATES_FETCH_LIMIT = 20;\nvar INITIALIZE_MESSAGE_TEMPLATES_INFO = APP_INFO_ACTIONS.INITIALIZE_MESSAGE_TEMPLATES_INFO, UPSERT_MESSAGE_TEMPLATES = APP_INFO_ACTIONS.UPSERT_MESSAGE_TEMPLATES, UPSERT_WAITING_TEMPLATE_KEYS = APP_INFO_ACTIONS.UPSERT_WAITING_TEMPLATE_KEYS, MARK_ERROR_WAITING_TEMPLATE_KEYS = APP_INFO_ACTIONS.MARK_ERROR_WAITING_TEMPLATE_KEYS;\nfunction useMessageTemplateUtils(_a) {\n    var _this = this;\n    var sdk = _a.sdk, logger = _a.logger, appInfoStore = _a.appInfoStore, appInfoDispatcher = _a.appInfoDispatcher;\n    var messageTemplatesInfo = appInfoStore === null || appInfoStore === void 0 ? void 0 : appInfoStore.messageTemplatesInfo;\n    var getCachedTemplate = function (key) {\n        var _a, _b;\n        if (!messageTemplatesInfo)\n            return null;\n        var cachedTemplate = null;\n        var cachedMessageTemplates = (_a = messageTemplatesInfo === null || messageTemplatesInfo === void 0 ? void 0 : messageTemplatesInfo.templatesMap) !== null && _a !== void 0 ? _a : null;\n        if (cachedMessageTemplates) {\n            cachedTemplate = (_b = cachedMessageTemplates[key]) !== null && _b !== void 0 ? _b : null;\n        }\n        return cachedTemplate;\n    };\n    /**\n     * Fetches a single message template by given key and then\n     * returns processed template for updating templates info in global state.\n     * If no such templates exists (error) or any error occurs in response, return null.\n     */\n    var fetchAllMessageTemplates = function (readySdk) { return __awaiter(_this, void 0, void 0, function () {\n        var hasMore, paginationToken, fetchedTemplates, res;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    hasMore = true;\n                    paginationToken = null;\n                    fetchedTemplates = [];\n                    _a.label = 1;\n                case 1:\n                    if (!hasMore) return [3 /*break*/, 3];\n                    return [4 /*yield*/, readySdk.message.getMessageTemplatesByToken(paginationToken, { limit: MESSAGE_TEMPLATES_FETCH_LIMIT })];\n                case 2:\n                    res = _a.sent();\n                    hasMore = res.hasMore;\n                    paginationToken = res.token;\n                    res.templates.forEach(function (messageTemplate) {\n                        fetchedTemplates.push(JSON.parse(messageTemplate.template));\n                    });\n                    return [3 /*break*/, 1];\n                case 3: return [2 /*return*/, fetchedTemplates];\n            }\n        });\n    }); };\n    var initializeMessageTemplatesInfo = function (readySdk) { return __awaiter(_this, void 0, void 0, function () {\n        var sdkMessageTemplateToken, cachedMessageTemplatesToken, cachedMessageTemplates, parsedTemplates, newMessageTemplatesInfo, parsedTemplates, newMessageTemplatesInfo;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    sdkMessageTemplateToken = (_a = readySdk.appInfo) === null || _a === void 0 ? void 0 : _a.messageTemplateInfo.token;\n                    /**\n                     * no sdkMessageTemplateToken => no templates => clear cached\n                     */\n                    if (!sdkMessageTemplateToken) {\n                        localStorage.removeItem(CACHED_MESSAGE_TEMPLATES_TOKEN_KEY);\n                        localStorage.removeItem(CACHED_MESSAGE_TEMPLATES_KEY);\n                        return [2 /*return*/];\n                    }\n                    cachedMessageTemplatesToken = localStorage.getItem(CACHED_MESSAGE_TEMPLATES_TOKEN_KEY);\n                    cachedMessageTemplates = localStorage.getItem(CACHED_MESSAGE_TEMPLATES_KEY);\n                    if (!(!cachedMessageTemplatesToken\n                        || cachedMessageTemplatesToken !== sdkMessageTemplateToken)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, fetchAllMessageTemplates(readySdk)];\n                case 1:\n                    parsedTemplates = _b.sent();\n                    newMessageTemplatesInfo = {\n                        token: sdkMessageTemplateToken,\n                        templatesMap: getProcessedTemplatesMap(parsedTemplates),\n                    };\n                    appInfoDispatcher({ type: INITIALIZE_MESSAGE_TEMPLATES_INFO, payload: newMessageTemplatesInfo });\n                    localStorage.setItem(CACHED_MESSAGE_TEMPLATES_TOKEN_KEY, sdkMessageTemplateToken);\n                    localStorage.setItem(CACHED_MESSAGE_TEMPLATES_KEY, JSON.stringify(parsedTemplates));\n                    return [3 /*break*/, 3];\n                case 2:\n                    if (cachedMessageTemplatesToken\n                        && cachedMessageTemplatesToken === sdkMessageTemplateToken\n                        && cachedMessageTemplates) {\n                        parsedTemplates = JSON.parse(cachedMessageTemplates);\n                        newMessageTemplatesInfo = {\n                            token: sdkMessageTemplateToken,\n                            templatesMap: getProcessedTemplatesMap(parsedTemplates),\n                        };\n                        appInfoDispatcher({ type: INITIALIZE_MESSAGE_TEMPLATES_INFO, payload: newMessageTemplatesInfo });\n                    }\n                    _b.label = 3;\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    /**\n     * If given message is a template message with template key and if the key does not exist in the cache,\n     * update the cache by fetching the template.\n     */\n    var updateMessageTemplatesInfo = function (templateKeys, messageId, requestedAt) { return __awaiter(_this, void 0, void 0, function () {\n        var newParsedTemplates_1, hasMore, token, result, e_1, cachedMessageTemplates, parsedTemplates_1, existingKeys_1;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!appInfoDispatcher) return [3 /*break*/, 7];\n                    appInfoDispatcher({\n                        type: UPSERT_WAITING_TEMPLATE_KEYS,\n                        payload: {\n                            keys: templateKeys,\n                            requestedAt: requestedAt,\n                        },\n                    });\n                    newParsedTemplates_1 = [];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 5, , 6]);\n                    hasMore = true;\n                    token = null;\n                    _b.label = 2;\n                case 2:\n                    if (!hasMore) return [3 /*break*/, 4];\n                    return [4 /*yield*/, sdk.message.getMessageTemplatesByToken(token, {\n                            keys: templateKeys,\n                        })];\n                case 3:\n                    result = _b.sent();\n                    result.templates.forEach(function (newTemplate) {\n                        newParsedTemplates_1.push(JSON.parse(newTemplate.template));\n                    });\n                    hasMore = result.hasMore;\n                    token = result.token;\n                    return [3 /*break*/, 2];\n                case 4: return [3 /*break*/, 6];\n                case 5:\n                    e_1 = _b.sent();\n                    (_a = logger === null || logger === void 0 ? void 0 : logger.error) === null || _a === void 0 ? void 0 : _a.call(logger, 'Sendbird | fetchProcessedMessageTemplates failed', e_1, templateKeys);\n                    return [3 /*break*/, 6];\n                case 6:\n                    if (newParsedTemplates_1.length > 0) {\n                        cachedMessageTemplates = localStorage.getItem(CACHED_MESSAGE_TEMPLATES_KEY);\n                        if (cachedMessageTemplates) {\n                            parsedTemplates_1 = JSON.parse(cachedMessageTemplates);\n                            existingKeys_1 = parsedTemplates_1.map(function (parsedTemplate) { return parsedTemplate.key; });\n                            newParsedTemplates_1.forEach(function (newParsedTemplate) {\n                                if (!existingKeys_1.includes(newParsedTemplate.key)) {\n                                    parsedTemplates_1.push(newParsedTemplate);\n                                }\n                            });\n                            localStorage.setItem(CACHED_MESSAGE_TEMPLATES_KEY, JSON.stringify(parsedTemplates_1));\n                        }\n                        else {\n                            localStorage.setItem(CACHED_MESSAGE_TEMPLATES_KEY, JSON.stringify([newParsedTemplates_1]));\n                        }\n                        // Update memory\n                        appInfoDispatcher({\n                            type: UPSERT_MESSAGE_TEMPLATES,\n                            payload: newParsedTemplates_1.map(function (newParsedTemplate) {\n                                return {\n                                    key: newParsedTemplate.key,\n                                    template: getProcessedTemplate(newParsedTemplate),\n                                };\n                            }),\n                        });\n                    }\n                    else {\n                        appInfoDispatcher({\n                            type: MARK_ERROR_WAITING_TEMPLATE_KEYS,\n                            payload: {\n                                keys: templateKeys,\n                                messageId: messageId,\n                            },\n                        });\n                    }\n                    _b.label = 7;\n                case 7: return [2 /*return*/];\n            }\n        });\n    }); };\n    return {\n        getCachedTemplate: getCachedTemplate,\n        updateMessageTemplatesInfo: updateMessageTemplatesInfo,\n        initializeMessageTemplatesInfo: initializeMessageTemplatesInfo,\n    };\n}\n\nfunction SendbirdProvider(props) {\n    var localConfigs = uikitConfigMapper({\n        legacyConfig: {\n            replyType: props.replyType,\n            isMentionEnabled: props.isMentionEnabled,\n            isReactionEnabled: props.isReactionEnabled,\n            disableUserProfile: props.disableUserProfile,\n            isVoiceMessageEnabled: props.isVoiceMessageEnabled,\n            isTypingIndicatorEnabledOnChannelList: props.isTypingIndicatorEnabledOnChannelList,\n            isMessageReceiptStatusEnabledOnChannelList: props.isMessageReceiptStatusEnabledOnChannelList,\n            showSearchIcon: props.showSearchIcon,\n        },\n        uikitOptions: props.uikitOptions,\n    });\n    return (React__default.createElement(UIKitConfigProvider, { storage: uikitConfigStorage, localConfigs: {\n            common: localConfigs === null || localConfigs === void 0 ? void 0 : localConfigs.common,\n            groupChannel: {\n                channel: localConfigs === null || localConfigs === void 0 ? void 0 : localConfigs.groupChannel,\n                channelList: localConfigs === null || localConfigs === void 0 ? void 0 : localConfigs.groupChannelList,\n                setting: localConfigs === null || localConfigs === void 0 ? void 0 : localConfigs.groupChannelSettings,\n            },\n            openChannel: {\n                channel: localConfigs === null || localConfigs === void 0 ? void 0 : localConfigs.openChannel,\n            },\n        } },\n        React__default.createElement(SendbirdSDK, __assign({}, props))));\n}\nvar SendbirdSDK = function (_a) {\n    var _b, _c, _d;\n    var appId = _a.appId, userId = _a.userId, children = _a.children, accessToken = _a.accessToken, customApiHost = _a.customApiHost, customWebSocketHost = _a.customWebSocketHost, configureSession = _a.configureSession, _e = _a.theme, theme = _e === void 0 ? 'light' : _e, _f = _a.config, config = _f === void 0 ? {} : _f, _g = _a.nickname, nickname = _g === void 0 ? '' : _g, colorSet = _a.colorSet, stringSet = _a.stringSet, dateLocale = _a.dateLocale, _h = _a.profileUrl, profileUrl = _h === void 0 ? '' : _h, voiceRecord = _a.voiceRecord, userListQuery = _a.userListQuery, _j = _a.imageCompression, imageCompression = _j === void 0 ? {} : _j, _k = _a.allowProfileEdit, allowProfileEdit = _k === void 0 ? false : _k, _l = _a.disableMarkAsDelivered, disableMarkAsDelivered = _l === void 0 ? false : _l, renderUserProfile = _a.renderUserProfile, onUserProfileMessage = _a.onUserProfileMessage, _m = _a.breakpoint, breakpoint = _m === void 0 ? false : _m, _o = _a.isUserIdUsedForNickname, isUserIdUsedForNickname = _o === void 0 ? true : _o, sdkInitParams = _a.sdkInitParams, customExtensionParams = _a.customExtensionParams, _p = _a.isMultipleFilesMessageEnabled, isMultipleFilesMessageEnabled = _p === void 0 ? false : _p, eventHandlers = _a.eventHandlers, _q = _a.htmlTextDirection, htmlTextDirection = _q === void 0 ? 'ltr' : _q, _r = _a.forceLeftToRightMessageLayout, forceLeftToRightMessageLayout = _r === void 0 ? false : _r;\n    var _s = config.logLevel, logLevel = _s === void 0 ? '' : _s, _t = config.userMention, userMention = _t === void 0 ? {} : _t, _u = config.isREMUnitEnabled, isREMUnitEnabled = _u === void 0 ? false : _u, customPubSub = config.pubSub;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _v = useState(LoggerFactory(logLevel)), logger = _v[0], setLogger = _v[1];\n    var pubSub = useState(function () { return customPubSub !== null && customPubSub !== void 0 ? customPubSub : pubSubFactory(); })[0];\n    var _w = useReducer(reducer$2, initialState$2), sdkStore = _w[0], sdkDispatcher = _w[1];\n    var _x = useReducer(reducer$1, initialState$1), userStore = _x[0], userDispatcher = _x[1];\n    var _y = useReducer(reducer, initialState), appInfoStore = _y[0], appInfoDispatcher = _y[1];\n    var _z = useUIKitConfig(), configs = _z.configs, configsWithAppAttr = _z.configsWithAppAttr, initDashboardConfigs = _z.initDashboardConfigs;\n    var sdkInitialized = sdkStore.initialized;\n    var sdk = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.sdk;\n    var _0 = (_b = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) !== null && _b !== void 0 ? _b : {}, uploadSizeLimit = _0.uploadSizeLimit, multipleFilesMessageFileCountLimit = _0.multipleFilesMessageFileCountLimit;\n    useTheme(colorSet);\n    var _1 = useMessageTemplateUtils({\n        sdk: sdk,\n        logger: logger,\n        appInfoStore: appInfoStore,\n        appInfoDispatcher: appInfoDispatcher,\n    }), getCachedTemplate = _1.getCachedTemplate, updateMessageTemplatesInfo = _1.updateMessageTemplatesInfo, initializeMessageTemplatesInfo = _1.initializeMessageTemplatesInfo;\n    var utils = {\n        updateMessageTemplatesInfo: updateMessageTemplatesInfo,\n        getCachedTemplate: getCachedTemplate,\n    };\n    var reconnect = useConnect({\n        appId: appId,\n        userId: userId,\n        accessToken: accessToken,\n        isUserIdUsedForNickname: isUserIdUsedForNickname,\n        isMobile: isMobile,\n    }, {\n        logger: logger,\n        nickname: nickname,\n        profileUrl: profileUrl,\n        configureSession: configureSession,\n        customApiHost: customApiHost,\n        customWebSocketHost: customWebSocketHost,\n        sdkInitParams: sdkInitParams,\n        customExtensionParams: customExtensionParams,\n        sdk: sdk,\n        sdkDispatcher: sdkDispatcher,\n        userDispatcher: userDispatcher,\n        appInfoDispatcher: appInfoDispatcher,\n        initDashboardConfigs: initDashboardConfigs,\n        eventHandlers: eventHandlers,\n        initializeMessageTemplatesInfo: initializeMessageTemplatesInfo,\n    });\n    useUnmount(function () {\n        if (typeof sdk.disconnect === 'function') {\n            disconnectSdk({\n                logger: logger,\n                sdkDispatcher: sdkDispatcher,\n                userDispatcher: userDispatcher,\n                sdk: sdk,\n            });\n        }\n    }, [sdk.disconnect]);\n    // to create a pubsub to communicate between parent and child\n    useEffect(function () {\n        setLogger(LoggerFactory(logLevel));\n    }, [logLevel]);\n    // should move to reducer\n    var _2 = useState(theme), currentTheme = _2[0], setCurrentTheme = _2[1];\n    useEffect(function () {\n        setCurrentTheme(theme);\n    }, [theme]);\n    useEffect(function () {\n        var body = document.querySelector('body');\n        body === null || body === void 0 ? void 0 : body.classList.remove('sendbird-experimental__rem__units');\n        if (isREMUnitEnabled) {\n            body === null || body === void 0 ? void 0 : body.classList.add('sendbird-experimental__rem__units');\n        }\n    }, [isREMUnitEnabled]);\n    // add-remove theme from body\n    useEffect(function () {\n        logger.info('Setup theme', \"Theme: \".concat(currentTheme));\n        try {\n            var body = document.querySelector('body');\n            body === null || body === void 0 ? void 0 : body.classList.remove('sendbird-theme--light');\n            body === null || body === void 0 ? void 0 : body.classList.remove('sendbird-theme--dark');\n            body === null || body === void 0 ? void 0 : body.classList.add(\"sendbird-theme--\".concat(currentTheme || 'light'));\n            logger.info('Finish setup theme');\n            // eslint-disable-next-line no-empty\n        }\n        catch (e) {\n            logger.warning('Setup theme failed', \"\".concat(e));\n        }\n        return function () {\n            try {\n                var body = document.querySelector('body');\n                body === null || body === void 0 ? void 0 : body.classList.remove('sendbird-theme--light');\n                body === null || body === void 0 ? void 0 : body.classList.remove('sendbird-theme--dark');\n                // eslint-disable-next-line no-empty\n            }\n            catch (_a) { }\n        };\n    }, [currentTheme]);\n    useHTMLTextDirection(htmlTextDirection);\n    var isOnline = useOnlineStatus(sdkStore.sdk, logger);\n    var markAsReadScheduler = useMarkAsReadScheduler({ isConnected: isOnline }, { logger: logger });\n    var markAsDeliveredScheduler = useMarkAsDeliveredScheduler({ isConnected: isOnline }, { logger: logger });\n    var localeStringSet = React__default.useMemo(function () {\n        return __assign(__assign({}, getStringSet('en')), stringSet);\n    }, [stringSet]);\n    /**\n     * Feature Configuration - TODO\n     * This will be moved into the UIKitConfigProvider, aftering Dashboard applies\n     */\n    var uikitMultipleFilesMessageLimit = useMemo(function () {\n        return Math.min(DEFAULT_MULTIPLE_FILES_MESSAGE_LIMIT, multipleFilesMessageFileCountLimit !== null && multipleFilesMessageFileCountLimit !== void 0 ? multipleFilesMessageFileCountLimit : Number.MAX_SAFE_INTEGER);\n    }, [multipleFilesMessageFileCountLimit]);\n    // Emoji Manager\n    var emojiManager = useMemo(function () {\n        return new EmojiManager({\n            sdk: sdk,\n            logger: logger,\n        });\n    }, [sdkStore.initialized]);\n    return (React__default.createElement(SendbirdSdkContext.Provider, { value: {\n            stores: {\n                sdkStore: sdkStore,\n                userStore: userStore,\n                appInfoStore: appInfoStore,\n            },\n            dispatchers: {\n                sdkDispatcher: sdkDispatcher,\n                userDispatcher: userDispatcher,\n                appInfoDispatcher: appInfoDispatcher,\n                reconnect: reconnect,\n            },\n            config: {\n                disableMarkAsDelivered: disableMarkAsDelivered,\n                renderUserProfile: renderUserProfile,\n                onUserProfileMessage: onUserProfileMessage,\n                allowProfileEdit: allowProfileEdit,\n                isOnline: isOnline,\n                userId: userId,\n                appId: appId,\n                accessToken: accessToken,\n                theme: currentTheme,\n                setCurrentTheme: setCurrentTheme,\n                setCurrenttheme: setCurrentTheme, // deprecated: typo\n                isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n                uikitUploadSizeLimit: uploadSizeLimit !== null && uploadSizeLimit !== void 0 ? uploadSizeLimit : DEFAULT_UPLOAD_SIZE_LIMIT,\n                uikitMultipleFilesMessageLimit: uikitMultipleFilesMessageLimit,\n                userListQuery: userListQuery,\n                logger: logger,\n                pubSub: pubSub,\n                imageCompression: __assign({ compressionRate: 0.7, outputFormat: 'preserve' }, imageCompression),\n                voiceRecord: {\n                    maxRecordingTime: (_c = voiceRecord === null || voiceRecord === void 0 ? void 0 : voiceRecord.maxRecordingTime) !== null && _c !== void 0 ? _c : VOICE_RECORDER_DEFAULT_MAX,\n                    minRecordingTime: (_d = voiceRecord === null || voiceRecord === void 0 ? void 0 : voiceRecord.minRecordingTime) !== null && _d !== void 0 ? _d : VOICE_RECORDER_DEFAULT_MIN,\n                },\n                userMention: {\n                    maxMentionCount: (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount) || 10,\n                    maxSuggestionCount: (userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount) || 15,\n                },\n                markAsReadScheduler: markAsReadScheduler,\n                markAsDeliveredScheduler: markAsDeliveredScheduler,\n                // Remote configs set from dashboard by UIKit feature configuration\n                common: configs.common,\n                groupChannel: {\n                    enableOgtag: sdkInitialized && configsWithAppAttr(sdk).groupChannel.channel.enableOgtag,\n                    enableTypingIndicator: configs.groupChannel.channel.enableTypingIndicator,\n                    enableReactions: sdkInitialized && configsWithAppAttr(sdk).groupChannel.channel.enableReactions,\n                    enableMention: configs.groupChannel.channel.enableMention,\n                    replyType: configs.groupChannel.channel.replyType,\n                    threadReplySelectType: configs.groupChannel.channel.threadReplySelectType,\n                    enableVoiceMessage: configs.groupChannel.channel.enableVoiceMessage,\n                    enableDocument: configs.groupChannel.channel.input.enableDocument,\n                    typingIndicatorTypes: configs.groupChannel.channel.typingIndicatorTypes,\n                    enableFeedback: configs.groupChannel.channel.enableFeedback,\n                    enableSuggestedReplies: configs.groupChannel.channel.enableSuggestedReplies,\n                    showSuggestedRepliesFor: configs.groupChannel.channel.showSuggestedRepliesFor,\n                    suggestedRepliesDirection: configs.groupChannel.channel.suggestedRepliesDirection,\n                    enableMarkdownForUserMessage: configs.groupChannel.channel.enableMarkdownForUserMessage,\n                    enableReactionsSupergroup: sdkInitialized && configsWithAppAttr(sdk).groupChannel.channel.enableReactionsSupergroup,\n                },\n                groupChannelList: {\n                    enableTypingIndicator: configs.groupChannel.channelList.enableTypingIndicator,\n                    enableMessageReceiptStatus: configs.groupChannel.channelList.enableMessageReceiptStatus,\n                },\n                groupChannelSettings: {\n                    enableMessageSearch: sdkInitialized && configsWithAppAttr(sdk).groupChannel.setting.enableMessageSearch,\n                },\n                openChannel: {\n                    enableOgtag: sdkInitialized && configsWithAppAttr(sdk).openChannel.channel.enableOgtag,\n                    enableDocument: configs.openChannel.channel.input.enableDocument,\n                },\n                // deprecated configs\n                disableUserProfile: !configs.common.enableUsingDefaultUserProfile,\n                isReactionEnabled: sdkInitialized && configsWithAppAttr(sdk).groupChannel.channel.enableReactions,\n                isMentionEnabled: configs.groupChannel.channel.enableMention,\n                isVoiceMessageEnabled: configs.groupChannel.channel.enableVoiceMessage,\n                replyType: getCaseResolvedReplyType(configs.groupChannel.channel.replyType).upperCase,\n                isTypingIndicatorEnabledOnChannelList: configs.groupChannel.channelList.enableTypingIndicator,\n                isMessageReceiptStatusEnabledOnChannelList: configs.groupChannel.channelList.enableMessageReceiptStatus,\n                showSearchIcon: sdkInitialized && configsWithAppAttr(sdk).groupChannel.setting.enableMessageSearch,\n                htmlTextDirection: htmlTextDirection,\n                forceLeftToRightMessageLayout: forceLeftToRightMessageLayout,\n            },\n            eventHandlers: eventHandlers,\n            emojiManager: emojiManager,\n            utils: utils,\n        } },\n        React__default.createElement(MediaQueryProvider, { logger: logger, breakpoint: breakpoint },\n            React__default.createElement(LocalizationProvider, { stringSet: localeStringSet, dateLocale: dateLocale },\n                React__default.createElement(VoiceMessageProvider, null,\n                    React__default.createElement(GlobalModalProvider, null, children)))),\n        React__default.createElement(EmojiReactionListRoot, null),\n        React__default.createElement(ModalRoot, null),\n        React__default.createElement(MenuRoot, null)));\n};\n\nexport { SendbirdProvider, SendbirdProvider as default };\n//# sourceMappingURL=SendbirdProvider.js.map\n", "import React__default, { useState, useEffect } from 'react';\nimport { SendbirdProvider } from './SendbirdProvider.js';\nimport { u as useMediaQueryContext } from './chunks/bundle-DBzinRyn.js';\nimport { _ as __assign } from './chunks/bundle-B1SLZ0HT.js';\nimport { GroupChannel } from './GroupChannel.js';\nimport { GroupChannelList } from './GroupChannelList.js';\nimport Channel from './Channel.js';\nimport ChannelList from './ChannelList.js';\nimport ChannelSettings from './ChannelSettings.js';\nimport MessageSearchPannel from './MessageSearch.js';\nimport Thread from './Thread.js';\nimport { c as classnames } from './chunks/bundle-CtBgdgkK.js';\nimport { A as APP_LAYOUT_ROOT } from './chunks/bundle-C7VSBUKJ.js';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { useSendbirdStateContext } from './useSendbirdStateContext.js';\nimport { u as uuidv4 } from './chunks/bundle-Cvt9FZvn.js';\nimport { u as useVoicePlayerContext, a as ALL } from './chunks/bundle-DO8nji3n.js';\nimport { g as getCaseResolvedReplyType } from './chunks/bundle-DW8Sq-WK.js';\nimport '@sendbird/uikit-tools';\nimport './withSendbird.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './ui/Icon.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-egkx7NWB.js';\nimport './chunks/bundle-8Y67Y4IK.js';\nimport './chunks/bundle-5R9f3ZZp.js';\nimport './chunks/bundle-ke1HVuUa.js';\nimport './GroupChannel/context.js';\nimport '@sendbird/chat/message';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './chunks/bundle-DgQjrhyW.js';\nimport './chunks/bundle-h1wbrjk9.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-uSSYB2TA.js';\nimport './GroupChannel/components/GroupChannelUI.js';\nimport './chunks/bundle-CmAUKSnK.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './ui/ConnectionStatus.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './GroupChannel/components/GroupChannelHeader.js';\nimport './chunks/bundle-Dg8Q1yIF.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './chunks/bundle-FBWhhyW3.js';\nimport './ui/Header.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './GroupChannel/components/MessageList.js';\nimport './GroupChannel/components/Message.js';\nimport './chunks/bundle-CAXTSiql.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './chunks/bundle-DHJZgVZH.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './ui/DateSeparator.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-DcNHBjGp.js';\nimport './chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-BVBoUWl2.js';\nimport './chunks/bundle-fSuFm2tD.js';\nimport './chunks/bundle-DtlqJEe7.js';\nimport './ui/MessageContent.js';\nimport './chunks/bundle-j0SR3DhQ.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './chunks/bundle-B6Uh5m2a.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './ui/SortByRow.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/BottomSheet.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './ui/AdminMessage.js';\nimport './ui/QuoteMessage.js';\nimport './chunks/bundle-CfsHVenu.js';\nimport './ui/MobileMenu.js';\nimport './ui/ThreadReplies.js';\nimport './ui/OGMessageItemBody.js';\nimport './chunks/bundle-NWVriOUB.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './chunks/bundle-Bt68jirZ.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-DTOg7Xzt.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './ui/PlaybackTime.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-CbTjJHLv.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/FeedbackIconButton.js';\nimport './ui/MobileFeedbackMenu.js';\nimport './ui/MessageFeedbackModal.js';\nimport './ui/Input.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './chunks/bundle-CbMF1uDu.js';\nimport './GroupChannel/components/SuggestedReplies.js';\nimport './chunks/bundle-C_WYFRJt.js';\nimport './GroupChannel/components/FileViewer.js';\nimport './chunks/bundle-Ck65vtgI.js';\nimport './GroupChannel/components/RemoveMessageModal.js';\nimport './chunks/bundle-CU9ItXV_.js';\nimport './chunks/bundle-CBwCMBt0.js';\nimport './GroupChannel/components/UnreadCount.js';\nimport './GroupChannel/components/FrozenNotification.js';\nimport './ui/TypingIndicatorBubble.js';\nimport './Channel/utils/getMessagePartsInfo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport './GroupChannel/components/MessageInputWrapper.js';\nimport './chunks/bundle-ChKVOZMC.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-B7FJxg4D.js';\nimport './chunks/bundle-DM6QiOiG.js';\nimport './GroupChannelList/context.js';\nimport './GroupChannelList/components/GroupChannelListUI.js';\nimport './chunks/bundle-B2Vy0FIf.js';\nimport './GroupChannelList/components/GroupChannelListHeader.js';\nimport './EditUserProfile.js';\nimport './EditUserProfile/context.js';\nimport './EditUserProfile/components/EditUserProfileUI.js';\nimport './chunks/bundle-D2bCW01X.js';\nimport './chunks/bundle-FtNvi0ib.js';\nimport './GroupChannelList/components/GroupChannelPreviewAction.js';\nimport './GroupChannelList/components/GroupChannelListItem.js';\nimport './chunks/bundle-R159x0xi.js';\nimport './ui/Badge.js';\nimport './ui/MentionUserLabel.js';\nimport './GroupChannelList/components/AddGroupChannel.js';\nimport './chunks/bundle-CcvIdULa.js';\nimport './CreateChannel.js';\nimport './CreateChannel/components/CreateChannelUI.js';\nimport './chunks/bundle-CM1oxZtw.js';\nimport './CreateChannel/components/InviteUsers.js';\nimport './CreateChannel/components/SelectChannelType.js';\nimport './Channel/context.js';\nimport './chunks/bundle-CwpgCadZ.js';\nimport './chunks/bundle-BKe5KBuS.js';\nimport './chunks/bundle-CSRcmLyk.js';\nimport './chunks/bundle-DPf4rz9k.js';\nimport './chunks/bundle-D8esR1WH.js';\nimport './Channel/components/ChannelUI.js';\nimport './Channel/components/ChannelHeader.js';\nimport './Channel/components/MessageList.js';\nimport './Channel/components/Message.js';\nimport './Channel/components/FileViewer.js';\nimport './Channel/components/RemoveMessageModal.js';\nimport './chunks/bundle-Cn1EBKt6.js';\nimport './Channel/components/MessageInput.js';\nimport './chunks/bundle-CQgNYKRd.js';\nimport './ChannelList/components/ChannelListUI.js';\nimport './ChannelList/components/ChannelPreview.js';\nimport './ChannelList/components/AddChannel.js';\nimport './ChannelSettings/components/ChannelSettingsUI.js';\nimport './ChannelSettings/context.js';\nimport './ChannelSettings/components/ChannelSettingsHeader.js';\nimport './ChannelSettings/components/ChannelProfile.js';\nimport './ChannelSettings/components/EditDetailsModal.js';\nimport './ChannelSettings/components/LeaveChannel.js';\nimport './ChannelSettings/components/ChannelSettingsMenuItem.js';\nimport './ChannelSettings/components/ChannelSettingMenuList.js';\nimport './ChannelSettings/hooks/useMenuList.js';\nimport './chunks/bundle-DWQyLuYT.js';\nimport './chunks/bundle-C8mqUun8.js';\nimport './chunks/bundle-nv2ffewN.js';\nimport './ui/Toggle.js';\nimport './MessageSearch/components/MessageSearchUI.js';\nimport './MessageSearch/context.js';\nimport './ui/MessageSearchItem.js';\nimport './ui/MessageSearchFileItem.js';\nimport './Thread/context.js';\nimport './Thread/context/types.js';\nimport './Thread/components/ThreadUI.js';\nimport './Thread/components/ParentMessageInfo.js';\nimport './chunks/bundle-RC1OoWx9.js';\nimport './Thread/components/ParentMessageInfoItem.js';\nimport './chunks/bundle-9-9DQjCI.js';\nimport './chunks/bundle-B5vIoHSd.js';\nimport './Thread/components/ThreadHeader.js';\nimport './Thread/components/ThreadList.js';\nimport './Thread/components/ThreadListItem.js';\nimport 'date-fns';\nimport './Thread/components/ThreadMessageInput.js';\nimport './Channel/hooks/useHandleUploadFiles.js';\n\nvar DesktopLayout = function (props) {\n    var isReactionEnabled = props.isReactionEnabled, replyType = props.replyType, isMessageGroupingEnabled = props.isMessageGroupingEnabled, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, allowProfileEdit = props.allowProfileEdit, showSearchIcon = props.showSearchIcon, onProfileEditSuccess = props.onProfileEditSuccess, disableAutoSelect = props.disableAutoSelect, currentChannel = props.currentChannel, setCurrentChannel = props.setCurrentChannel, showSettings = props.showSettings, setShowSettings = props.setShowSettings, showSearch = props.showSearch, setShowSearch = props.setShowSearch, highlightedMessage = props.highlightedMessage, setHighlightedMessage = props.setHighlightedMessage, startingPoint = props.startingPoint, setStartingPoint = props.setStartingPoint, showThread = props.showThread, setShowThread = props.setShowThread, threadTargetMessage = props.threadTargetMessage, setThreadTargetMessage = props.setThreadTargetMessage, enableLegacyChannelModules = props.enableLegacyChannelModules;\n    var updateFocusedChannel = function (channel) {\n        setStartingPoint === null || setStartingPoint === void 0 ? void 0 : setStartingPoint(null);\n        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null);\n        if (channel) {\n            setCurrentChannel(channel);\n        }\n        else {\n            setCurrentChannel(undefined);\n        }\n    };\n    var onClickThreadReply = function (_a) {\n        var message = _a.message;\n        // parent message\n        setShowSettings(false);\n        setShowSearch(false);\n        if (replyType === 'THREAD') {\n            setThreadTargetMessage(message);\n            setShowThread(true);\n        }\n    };\n    var channelListProps = {\n        allowProfileEdit: allowProfileEdit,\n        activeChannelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url,\n        onProfileEditSuccess: onProfileEditSuccess,\n        disableAutoSelect: disableAutoSelect,\n        onChannelSelect: updateFocusedChannel,\n        // for GroupChannelList\n        selectedChannelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url,\n        onChannelCreated: updateFocusedChannel,\n        onUserProfileUpdated: onProfileEditSuccess,\n    };\n    var channelProps = {\n        channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '',\n        onChatHeaderActionClick: function () {\n            setShowSearch(false);\n            setShowThread(false);\n            setShowSettings(!showSettings);\n        },\n        onSearchClick: function () {\n            setShowSettings(false);\n            setShowThread(false);\n            setShowSearch(!showSearch);\n        },\n        onReplyInThread: onClickThreadReply,\n        onQuoteMessageClick: function (_a) {\n            var message = _a.message;\n            // thread message\n            setShowSettings(false);\n            setShowSearch(false);\n            if (replyType === 'THREAD') {\n                setThreadTargetMessage(message);\n                setShowThread(true);\n            }\n        },\n        animatedMessage: highlightedMessage,\n        onMessageAnimated: function () { return setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null); },\n        showSearchIcon: showSearchIcon,\n        startingPoint: startingPoint !== null && startingPoint !== void 0 ? startingPoint : undefined,\n        isReactionEnabled: isReactionEnabled,\n        replyType: replyType,\n        isMessageGroupingEnabled: isMessageGroupingEnabled,\n        isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n        // for GroupChannel\n        animatedMessageId: highlightedMessage,\n        onReplyInThreadClick: onClickThreadReply,\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-app__wrap\", id: APP_LAYOUT_ROOT },\n        React__default.createElement(\"div\", { className: \"sendbird-app__channellist-wrap\" }, enableLegacyChannelModules ? React__default.createElement(ChannelList, __assign({}, channelListProps)) : React__default.createElement(GroupChannelList, __assign({}, channelListProps))),\n        React__default.createElement(\"div\", { className: classnames('sendbird-app__conversation-wrap', showSettings && 'sendbird-app__conversation--settings-open', showSearch && 'sendbird-app__conversation--search-open') }, enableLegacyChannelModules ? React__default.createElement(Channel, __assign({}, channelProps)) : React__default.createElement(GroupChannel, __assign({}, channelProps))),\n        showSettings && (React__default.createElement(\"div\", { className: \"sendbird-app__settingspanel-wrap\" },\n            React__default.createElement(ChannelSettings, { className: \"sendbird-channel-settings\", channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', onCloseClick: function () {\n                    setShowSettings(false);\n                } }))),\n        showSearch && (React__default.createElement(\"div\", { className: \"sendbird-app__searchpanel-wrap\" },\n            React__default.createElement(MessageSearchPannel, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', onResultClick: function (message) {\n                    if (message.messageId === highlightedMessage) {\n                        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null);\n                        setTimeout(function () {\n                            setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(message.messageId);\n                        });\n                    }\n                    else {\n                        setStartingPoint === null || setStartingPoint === void 0 ? void 0 : setStartingPoint(message.createdAt);\n                        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(message.messageId);\n                    }\n                }, onCloseClick: function () {\n                    setShowSearch(false);\n                } }))),\n        showThread && (React__default.createElement(Thread, { className: \"sendbird-app__thread\", channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', message: threadTargetMessage, onHeaderActionClick: function () {\n                setShowThread(false);\n            }, onMoveToParentMessage: function (_a) {\n                var message = _a.message, channel = _a.channel;\n                if ((channel === null || channel === void 0 ? void 0 : channel.url) !== (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                    setCurrentChannel(channel);\n                }\n                if ((message === null || message === void 0 ? void 0 : message.messageId) !== highlightedMessage) {\n                    setStartingPoint === null || setStartingPoint === void 0 ? void 0 : setStartingPoint(message === null || message === void 0 ? void 0 : message.createdAt);\n                }\n                setTimeout(function () {\n                    setStartingPoint === null || setStartingPoint === void 0 ? void 0 : setStartingPoint(null);\n                    setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(message === null || message === void 0 ? void 0 : message.messageId);\n                }, 500);\n            } }))));\n};\n\nvar PANELS;\n(function (PANELS) {\n    PANELS[\"CHANNEL_LIST\"] = \"CHANNEL_LIST\";\n    PANELS[\"CHANNEL\"] = \"CHANNEL\";\n    PANELS[\"CHANNEL_SETTINGS\"] = \"CHANNEL_SETTINGS\";\n    PANELS[\"MESSAGE_SEARCH\"] = \"MESSAGE_SEARCH\";\n    PANELS[\"THREAD\"] = \"THREAD\";\n})(PANELS || (PANELS = {}));\nvar MobileLayout = function (props) {\n    var _a, _b, _c;\n    var replyType = props.replyType, isMessageGroupingEnabled = props.isMessageGroupingEnabled, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, allowProfileEdit = props.allowProfileEdit, isReactionEnabled = props.isReactionEnabled, showSearchIcon = props.showSearchIcon, onProfileEditSuccess = props.onProfileEditSuccess, currentChannel = props.currentChannel, setCurrentChannel = props.setCurrentChannel, startingPoint = props.startingPoint, setStartingPoint = props.setStartingPoint, threadTargetMessage = props.threadTargetMessage, setThreadTargetMessage = props.setThreadTargetMessage, highlightedMessage = props.highlightedMessage, setHighlightedMessage = props.setHighlightedMessage, enableLegacyChannelModules = props.enableLegacyChannelModules;\n    var _d = useState(PANELS.CHANNEL_LIST), panel = _d[0], setPanel = _d[1];\n    var store = useSendbirdStateContext();\n    var sdk = (_b = (_a = store === null || store === void 0 ? void 0 : store.stores) === null || _a === void 0 ? void 0 : _a.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk;\n    var userId = (_c = store === null || store === void 0 ? void 0 : store.config) === null || _c === void 0 ? void 0 : _c.userId;\n    var pause = useVoicePlayerContext().pause;\n    var goToMessage = function (message, timeoutCb) {\n        setStartingPoint === null || setStartingPoint === void 0 ? void 0 : setStartingPoint((message === null || message === void 0 ? void 0 : message.createdAt) || null);\n        setTimeout(function () {\n            timeoutCb === null || timeoutCb === void 0 ? void 0 : timeoutCb((message === null || message === void 0 ? void 0 : message.messageId) || null);\n        }, 500);\n    };\n    useEffect(function () {\n        if (panel !== PANELS.CHANNEL) {\n            goToMessage(null, function () { return setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null); });\n        }\n    }, [panel]);\n    useEffect(function () {\n        var _a, _b;\n        var handlerId = uuidv4();\n        if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler) {\n            var handler = new GroupChannelHandler({\n                onUserBanned: function (groupChannel, user) {\n                    if (groupChannel.url === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === userId) {\n                        setPanel(PANELS.CHANNEL_LIST);\n                    }\n                },\n                onChannelDeleted: function (channelUrl) {\n                    if (channelUrl === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setPanel(PANELS.CHANNEL_LIST);\n                    }\n                },\n                onUserLeft: function (groupChannel, user) {\n                    if (groupChannel.url === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === userId) {\n                        setPanel(PANELS.CHANNEL_LIST);\n                    }\n                },\n            });\n            (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.addGroupChannelHandler(handlerId, handler);\n        }\n        return function () {\n            var _a, _b;\n            (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) === null || _b === void 0 ? void 0 : _b.call(_a, handlerId);\n        };\n    }, [sdk, currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    // if currentChannel is changed while on Thread\n    // then change panel type to CHANNEL\n    useEffect(function () {\n        if (panel === PANELS.THREAD) {\n            setPanel(PANELS.CHANNEL);\n        }\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    var channelListProps = {\n        allowProfileEdit: allowProfileEdit,\n        onProfileEditSuccess: onProfileEditSuccess,\n        disableAutoSelect: true,\n        onChannelSelect: function (channel) {\n            setCurrentChannel(channel !== null && channel !== void 0 ? channel : undefined);\n            if (channel) {\n                setPanel(PANELS.CHANNEL);\n            }\n            else {\n                setPanel(PANELS.CHANNEL_LIST);\n            }\n        },\n        // for GroupChannelList\n        onChannelCreated: function (channel) {\n            setCurrentChannel(channel);\n            setPanel(PANELS.CHANNEL);\n        },\n        onUserProfileUpdated: onProfileEditSuccess,\n    };\n    var channelProps = {\n        channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '',\n        onChatHeaderActionClick: function () {\n            setPanel(PANELS.CHANNEL_SETTINGS);\n        },\n        onBackClick: function () {\n            setPanel(PANELS.CHANNEL_LIST);\n            pause(ALL);\n        },\n        onSearchClick: function () {\n            setPanel(PANELS.MESSAGE_SEARCH);\n        },\n        onReplyInThread: function (_a) {\n            var message = _a.message;\n            if (replyType === 'THREAD') {\n                setPanel(PANELS.THREAD);\n                setThreadTargetMessage(message);\n            }\n        },\n        onQuoteMessageClick: function (_a) {\n            var message = _a.message;\n            // thread message\n            if (replyType === 'THREAD') {\n                setThreadTargetMessage(message);\n                setPanel(PANELS.THREAD);\n            }\n        },\n        animatedMessage: highlightedMessage,\n        onMessageAnimated: function () { return setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(null); },\n        showSearchIcon: showSearchIcon,\n        startingPoint: startingPoint !== null && startingPoint !== void 0 ? startingPoint : undefined,\n        isReactionEnabled: isReactionEnabled,\n        replyType: replyType,\n        isMessageGroupingEnabled: isMessageGroupingEnabled,\n        isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n        // for GroupChannel\n        animatedMessageId: highlightedMessage,\n        onReplyInThreadClick: function (_a) {\n            var message = _a.message;\n            if (replyType === 'THREAD') {\n                setPanel(PANELS.THREAD);\n                setThreadTargetMessage(message);\n            }\n        },\n    };\n    return (React__default.createElement(\"div\", { className: \"sb_mobile\", id: APP_LAYOUT_ROOT },\n        panel === PANELS.CHANNEL_LIST && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" }, enableLegacyChannelModules ? React__default.createElement(ChannelList, __assign({}, channelListProps)) : React__default.createElement(GroupChannelList, __assign({}, channelListProps)))),\n        panel === PANELS.CHANNEL && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" }, enableLegacyChannelModules ? React__default.createElement(Channel, __assign({}, channelProps)) : React__default.createElement(GroupChannel, __assign({}, channelProps)))),\n        panel === PANELS.CHANNEL_SETTINGS && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" },\n            React__default.createElement(ChannelSettings, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', onCloseClick: function () {\n                    setPanel(PANELS.CHANNEL);\n                }, onLeaveChannel: function () {\n                    setPanel(PANELS.CHANNEL_LIST);\n                } }))),\n        panel === PANELS.MESSAGE_SEARCH && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" },\n            React__default.createElement(MessageSearchPannel, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', onCloseClick: function () {\n                    setPanel(PANELS.CHANNEL);\n                }, onResultClick: function (message) {\n                    setPanel(PANELS.CHANNEL);\n                    goToMessage(message, function (messageId) {\n                        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(messageId);\n                    });\n                } }))),\n        panel === PANELS.THREAD && (React__default.createElement(\"div\", { className: \"sb_mobile__panelwrap\" },\n            React__default.createElement(Thread, { channelUrl: (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) || '', message: threadTargetMessage, onHeaderActionClick: function () {\n                    setPanel(PANELS.CHANNEL);\n                    pause(ALL);\n                }, onMoveToParentMessage: function (_a) {\n                    var message = _a.message, channel = _a.channel;\n                    setCurrentChannel(channel);\n                    goToMessage(message, function (messageId) {\n                        setPanel(PANELS.CHANNEL);\n                        setHighlightedMessage === null || setHighlightedMessage === void 0 ? void 0 : setHighlightedMessage(messageId);\n                    });\n                } })))));\n};\n\nvar AppLayout = function (props) {\n    var _a, _b, _c;\n    var isMessageGroupingEnabled = props.isMessageGroupingEnabled, allowProfileEdit = props.allowProfileEdit, onProfileEditSuccess = props.onProfileEditSuccess, disableAutoSelect = props.disableAutoSelect, currentChannel = props.currentChannel, setCurrentChannel = props.setCurrentChannel, enableLegacyChannelModules = props.enableLegacyChannelModules;\n    var globalStore = useSendbirdStateContext();\n    var globalConfigs = globalStore.config;\n    var _d = useState(false), showThread = _d[0], setShowThread = _d[1];\n    var _e = useState(null), threadTargetMessage = _e[0], setThreadTargetMessage = _e[1];\n    var _f = useState(false), showSettings = _f[0], setShowSettings = _f[1];\n    var _g = useState(false), showSearch = _g[0], setShowSearch = _g[1];\n    var _h = useState(null), highlightedMessage = _h[0], setHighlightedMessage = _h[1];\n    var _j = useState(null), startingPoint = _j[0], setStartingPoint = _j[1];\n    var isMobile = useMediaQueryContext().isMobile;\n    /**\n     * Below configs can be set via Dashboard UIKit config setting but as a lower priority than App props.\n     * So need to be have fallback value \\w global configs even though each prop values are undefined\n     */\n    var replyType = (_a = props.replyType) !== null && _a !== void 0 ? _a : getCaseResolvedReplyType(globalConfigs.groupChannel.replyType).upperCase;\n    var isReactionEnabled = (_b = props.isReactionEnabled) !== null && _b !== void 0 ? _b : globalConfigs.groupChannel.enableReactions;\n    var showSearchIcon = (_c = props.showSearchIcon) !== null && _c !== void 0 ? _c : globalConfigs.groupChannelSettings.enableMessageSearch;\n    return (React__default.createElement(React__default.Fragment, null, isMobile\n        ? (React__default.createElement(MobileLayout, { replyType: replyType, showSearchIcon: showSearchIcon, isReactionEnabled: isReactionEnabled, isMessageGroupingEnabled: isMessageGroupingEnabled, allowProfileEdit: allowProfileEdit, onProfileEditSuccess: onProfileEditSuccess, currentChannel: currentChannel, setCurrentChannel: setCurrentChannel, highlightedMessage: highlightedMessage, setHighlightedMessage: setHighlightedMessage, startingPoint: startingPoint, setStartingPoint: setStartingPoint, threadTargetMessage: threadTargetMessage, setThreadTargetMessage: setThreadTargetMessage, enableLegacyChannelModules: enableLegacyChannelModules }))\n        : (React__default.createElement(DesktopLayout, { replyType: replyType, isReactionEnabled: isReactionEnabled, showSearchIcon: showSearchIcon, isMessageGroupingEnabled: isMessageGroupingEnabled, allowProfileEdit: allowProfileEdit, onProfileEditSuccess: onProfileEditSuccess, disableAutoSelect: disableAutoSelect, currentChannel: currentChannel, setCurrentChannel: setCurrentChannel, showThread: showThread, setShowThread: setShowThread, threadTargetMessage: threadTargetMessage, setThreadTargetMessage: setThreadTargetMessage, showSettings: showSettings, setShowSettings: setShowSettings, showSearch: showSearch, setShowSearch: setShowSearch, highlightedMessage: highlightedMessage, setHighlightedMessage: setHighlightedMessage, startingPoint: startingPoint, setStartingPoint: setStartingPoint, enableLegacyChannelModules: enableLegacyChannelModules }))));\n};\n\n/**\n * This is a drop in Chat solution\n * Can also be used as an example for creating\n * default chat apps\n */\nfunction App(props) {\n    var appId = props.appId, userId = props.userId, _a = props.accessToken, accessToken = _a === void 0 ? '' : _a, _b = props.customApiHost, customApiHost = _b === void 0 ? '' : _b, _c = props.customWebSocketHost, customWebSocketHost = _c === void 0 ? '' : _c, breakpoint = props.breakpoint, _d = props.theme, theme = _d === void 0 ? 'light' : _d, userListQuery = props.userListQuery, _e = props.nickname, nickname = _e === void 0 ? '' : _e, _f = props.profileUrl, profileUrl = _f === void 0 ? '' : _f, dateLocale = props.dateLocale, _g = props.config, config = _g === void 0 ? {} : _g, voiceRecord = props.voiceRecord, _h = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _h === void 0 ? true : _h, colorSet = props.colorSet, stringSet = props.stringSet, _j = props.allowProfileEdit, allowProfileEdit = _j === void 0 ? false : _j, _k = props.disableMarkAsDelivered, disableMarkAsDelivered = _k === void 0 ? false : _k, renderUserProfile = props.renderUserProfile, onProfileEditSuccess = props.onProfileEditSuccess, _l = props.imageCompression, imageCompression = _l === void 0 ? {} : _l, _m = props.disableAutoSelect, disableAutoSelect = _m === void 0 ? false : _m, sdkInitParams = props.sdkInitParams, customExtensionParams = props.customExtensionParams, eventHandlers = props.eventHandlers, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, _o = props.isUserIdUsedForNickname, isUserIdUsedForNickname = _o === void 0 ? true : _o, _p = props.enableLegacyChannelModules, enableLegacyChannelModules = _p === void 0 ? false : _p, uikitOptions = props.uikitOptions, _q = props.htmlTextDirection, htmlTextDirection = _q === void 0 ? 'ltr' : _q, _r = props.forceLeftToRightMessageLayout, forceLeftToRightMessageLayout = _r === void 0 ? false : _r, \n    // The below configs are duplicates of the Dashboard UIKit Configs.\n    // Since their default values will be set in the Sendbird component,\n    // we don't need to set them here.\n    showSearchIcon = props.showSearchIcon, isMentionEnabled = props.isMentionEnabled, isReactionEnabled = props.isReactionEnabled, replyType = props.replyType, disableUserProfile = props.disableUserProfile, isVoiceMessageEnabled = props.isVoiceMessageEnabled, isTypingIndicatorEnabledOnChannelList = props.isTypingIndicatorEnabledOnChannelList, isMessageReceiptStatusEnabledOnChannelList = props.isMessageReceiptStatusEnabledOnChannelList;\n    var _s = useState(), currentChannel = _s[0], setCurrentChannel = _s[1];\n    return (React__default.createElement(SendbirdProvider, { stringSet: stringSet, appId: appId, userId: userId, accessToken: accessToken, customApiHost: customApiHost, customWebSocketHost: customWebSocketHost, breakpoint: breakpoint, theme: theme, nickname: nickname, profileUrl: profileUrl, dateLocale: dateLocale, userListQuery: userListQuery, config: config, colorSet: colorSet, disableMarkAsDelivered: disableMarkAsDelivered, renderUserProfile: renderUserProfile, imageCompression: imageCompression, isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled, voiceRecord: voiceRecord, onUserProfileMessage: function (channel) {\n            setCurrentChannel(channel);\n        }, uikitOptions: uikitOptions, isUserIdUsedForNickname: isUserIdUsedForNickname, sdkInitParams: sdkInitParams, customExtensionParams: customExtensionParams, eventHandlers: eventHandlers, isTypingIndicatorEnabledOnChannelList: isTypingIndicatorEnabledOnChannelList, isMessageReceiptStatusEnabledOnChannelList: isMessageReceiptStatusEnabledOnChannelList, replyType: replyType, showSearchIcon: showSearchIcon, disableUserProfile: disableUserProfile, isReactionEnabled: isReactionEnabled, isMentionEnabled: isMentionEnabled, isVoiceMessageEnabled: isVoiceMessageEnabled, htmlTextDirection: htmlTextDirection, forceLeftToRightMessageLayout: forceLeftToRightMessageLayout },\n        React__default.createElement(AppLayout, { isMessageGroupingEnabled: isMessageGroupingEnabled, allowProfileEdit: allowProfileEdit, onProfileEditSuccess: onProfileEditSuccess, disableAutoSelect: disableAutoSelect, currentChannel: currentChannel, setCurrentChannel: setCurrentChannel, enableLegacyChannelModules: enableLegacyChannelModules, isReactionEnabled: isReactionEnabled, replyType: replyType, showSearchIcon: showSearchIcon })));\n}\n\nexport { App as default };\n//# sourceMappingURL=App.js.map\n", "import { _ as __assign } from './chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { ChannelProvider } from './Channel/context.js';\nimport ChannelUI from './Channel/components/ChannelUI.js';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './chunks/bundle-DHJZgVZH.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport './chunks/bundle-uSSYB2TA.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwpgCadZ.js';\nimport './chunks/bundle-BKe5KBuS.js';\nimport './chunks/bundle-CSRcmLyk.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport './chunks/bundle-DPf4rz9k.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-DgQjrhyW.js';\nimport './chunks/bundle-DW8Sq-WK.js';\nimport './chunks/bundle-D8esR1WH.js';\nimport './chunks/bundle-ke1HVuUa.js';\nimport './chunks/bundle-CmAUKSnK.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './ui/ConnectionStatus.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './Channel/components/ChannelHeader.js';\nimport './chunks/bundle-Dg8Q1yIF.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './chunks/bundle-FBWhhyW3.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/Header.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/IconButton.js';\nimport './Channel/components/MessageList.js';\nimport './Channel/components/Message.js';\nimport './chunks/bundle-CAXTSiql.js';\nimport './chunks/bundle-h1wbrjk9.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './ui/DateSeparator.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-DcNHBjGp.js';\nimport './ui/Button.js';\nimport './chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-BVBoUWl2.js';\nimport './chunks/bundle-fSuFm2tD.js';\nimport './chunks/bundle-DtlqJEe7.js';\nimport './ui/MessageContent.js';\nimport './chunks/bundle-j0SR3DhQ.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './chunks/bundle-B6Uh5m2a.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './ui/SortByRow.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/BottomSheet.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport './chunks/bundle-DO8nji3n.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './ui/AdminMessage.js';\nimport './ui/QuoteMessage.js';\nimport './chunks/bundle-CfsHVenu.js';\nimport './ui/MobileMenu.js';\nimport './ui/ThreadReplies.js';\nimport './ui/OGMessageItemBody.js';\nimport './chunks/bundle-NWVriOUB.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './chunks/bundle-Bt68jirZ.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-DTOg7Xzt.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './ui/PlaybackTime.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-CbTjJHLv.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/FeedbackIconButton.js';\nimport './ui/MobileFeedbackMenu.js';\nimport './ui/MessageFeedbackModal.js';\nimport './ui/Input.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './chunks/bundle-CbMF1uDu.js';\nimport './GroupChannel/components/SuggestedReplies.js';\nimport './chunks/bundle-C_WYFRJt.js';\nimport './Channel/components/FileViewer.js';\nimport './chunks/bundle-Ck65vtgI.js';\nimport './Channel/components/RemoveMessageModal.js';\nimport './chunks/bundle-CU9ItXV_.js';\nimport './chunks/bundle-CBwCMBt0.js';\nimport './GroupChannel/components/UnreadCount.js';\nimport './GroupChannel/components/FrozenNotification.js';\nimport './chunks/bundle-Cn1EBKt6.js';\nimport './chunks/bundle-FtNvi0ib.js';\nimport './ui/TypingIndicatorBubble.js';\nimport './chunks/bundle-D2bCW01X.js';\nimport './Channel/utils/getMessagePartsInfo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './Channel/components/MessageInput.js';\nimport './chunks/bundle-ChKVOZMC.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-B7FJxg4D.js';\nimport './chunks/bundle-DM6QiOiG.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannel` component from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar Channel = function (props) {\n    return (React__default.createElement(ChannelProvider, __assign({}, props),\n        React__default.createElement(ChannelUI, __assign({}, props))));\n};\n\nexport { Channel as default };\n//# sourceMappingURL=Channel.js.map\n", "import React__default, { useEffect, useCallback, useRef, useState, useReducer, useMemo } from 'react';\nimport { U as UserProfileProvider } from '../chunks/bundle-BKxPk2t0.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { T as ThreadReplySelectType } from '../chunks/bundle-DHJZgVZH.js';\nimport { m as mergeAndSortMessages, p as passUnsuccessfullMessages, s as scrollIntoLast, d as scrollToRenderedMessage, g as getAllEmojisMapFromEmojiContainer, e as getNicknamesMapFromMembers } from '../chunks/bundle-Dt4PQi4u.js';\nimport { g as getIsReactionEnabled } from '../chunks/bundle-uSSYB2TA.js';\nimport { _ as __assign, c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { SendingStatus, ReplyType, MessageMetaArray } from '@sendbird/chat/message';\nimport { K, k as isSendableMessage, a1 as S, a3 as filterMessageListParams } from '../chunks/bundle-D-cVbGxk.js';\nimport { R as RESET_MESSAGES, F as FETCH_INITIAL_MESSAGES_START, a as FETCH_INITIAL_MESSAGES_SUCCESS, c as FETCH_PREV_MESSAGES_SUCCESS, d as FETCH_NEXT_MESSAGES_SUCCESS, b as FETCH_INITIAL_MESSAGES_FAILURE, e as FETCH_PREV_MESSAGES_FAILURE, f as FETCH_NEXT_MESSAGES_FAILURE, S as SEND_MESSAGE_START, g as SEND_MESSAGE_SUCCESS, h as SEND_MESSAGE_FAILURE, i as SET_CURRENT_CHANNEL, j as SET_CHANNEL_INVALID, O as ON_MESSAGE_RECEIVED, k as ON_MESSAGE_UPDATED, l as ON_MESSAGE_THREAD_INFO_UPDATED, m as RESEND_MESSAGE_START, n as MARK_AS_READ, o as ON_MESSAGE_DELETED, p as ON_MESSAGE_DELETED_BY_REQ_ID, q as SET_EMOJI_CONTAINER, r as ON_REACTION_UPDATED, M as MESSAGE_LIST_PARAMS_CHANGED, s as ON_FILE_INFO_UPLOADED, t as ON_TYPING_STATUS_UPDATED, u as channelActions } from '../chunks/bundle-CwpgCadZ.js';\nimport { c as compareIds } from '../chunks/bundle-BKe5KBuS.js';\nimport { P as PREV_RESULT_SIZE, N as NEXT_RESULT_SIZE, u as useInitialMessagesFetch } from '../chunks/bundle-CSRcmLyk.js';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { u as uuidv4 } from '../chunks/bundle-Cvt9FZvn.js';\nimport { u as useReconnectOnIdle } from '../chunks/bundle-DPf4rz9k.js';\nimport { d as SCROLL_BOTTOM_DELAY_FOR_FETCH, e as SCROLL_BOTTOM_DELAY_FOR_SEND, f as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, M as META_ARRAY_VOICE_DURATION_KEY, g as META_ARRAY_MESSAGE_TYPE_KEY, h as META_ARRAY_MESSAGE_TYPE_VALUE__VOICE } from '../chunks/bundle-c4e24Qt4.js';\nimport { p as pubSubTopics, P as PublishingModuleType, b as PUBSUB_TOPICS, s as shouldPubSubPublishToChannel } from '../chunks/bundle-DZhG3Z6D.js';\nimport { u as useToggleReactionCallback } from '../chunks/bundle-DgQjrhyW.js';\nimport { g as getCaseResolvedReplyType, a as getCaseResolvedThreadReplySelectType } from '../chunks/bundle-DW8Sq-WK.js';\nimport { u as useSendMultipleFilesMessage } from '../chunks/bundle-D8esR1WH.js';\nimport { u as useMessageLayoutDirection } from '../chunks/bundle-ke1HVuUa.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\n\nvar initialState = {\n    initialized: false,\n    loading: true,\n    allMessages: [],\n    /**\n     * localMessages: pending & failed messages\n     */\n    localMessages: [],\n    currentGroupChannel: null,\n    // for scrollup\n    hasMorePrev: false,\n    oldestMessageTimeStamp: 0,\n    // for scroll down\n    // onScrollDownCallback is added for navigation to different timestamps on messageSearch\n    // hasMorePrev, onScrollCallback -> scroll up(default behavior)\n    // hasMoreNext, onScrollDownCallback -> scroll down\n    hasMoreNext: false,\n    latestMessageTimeStamp: 0,\n    emojiContainer: { emojiCategories: [], emojiHash: '' },\n    /** @deprecated Please use `unreadSinceDate` instead. * */\n    unreadSince: null,\n    /**\n     * unreadSinceDate is a date information about message unread.\n     * It's used only for the {unreadSinceDate && <UnreadCount unreadSinceDate={unreadSinceDate} />}\n     */\n    unreadSinceDate: null,\n    isInvalid: false,\n    readStatus: null,\n    messageListParams: null,\n    typingMembers: [],\n};\n\nvar getOldestMessageTimeStamp = function (messages) {\n    if (messages === void 0) { messages = []; }\n    var oldestMessage = messages[0];\n    return (oldestMessage && oldestMessage.createdAt) || null;\n};\nvar getLatestMessageTimeStamp = function (messages) {\n    if (messages === void 0) { messages = []; }\n    var latestMessage = messages[messages.length - 1];\n    return (latestMessage && latestMessage.createdAt) || null;\n};\nfunction hasReqId(message) {\n    return 'reqId' in message;\n}\nfunction channelReducer(state, action) {\n    return K(action)\n        .with({ type: RESET_MESSAGES }, function () {\n        return __assign(__assign({}, state), { \n            // when user switches channel, if the previous channel `hasMorePrev`\n            // the onScroll gets called twice, setting hasMorePrev false prevents this\n            hasMorePrev: false, hasMoreNext: false, allMessages: [], localMessages: [] });\n    })\n        .with({ type: FETCH_INITIAL_MESSAGES_START }, function () {\n        return __assign(__assign({}, state), { loading: true, allMessages: state.allMessages.filter(function (m) { return isSendableMessage(m)\n                ? m.sendingStatus !== SendingStatus.SUCCEEDED\n                : true; }), localMessages: [] });\n    })\n        .with({ type: FETCH_INITIAL_MESSAGES_SUCCESS }, function (action) {\n        var _a;\n        var _b = action.payload, currentGroupChannel = _b.currentGroupChannel, messages = _b.messages;\n        if (!((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) === ((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))) {\n            return state;\n        }\n        var oldestMessageTimeStamp = getOldestMessageTimeStamp(messages);\n        var latestMessageTimeStamp = getLatestMessageTimeStamp(messages);\n        return __assign(__assign({}, state), { loading: false, initialized: true, hasMorePrev: true, hasMoreNext: true, oldestMessageTimeStamp: oldestMessageTimeStamp, latestMessageTimeStamp: latestMessageTimeStamp, allMessages: __spreadArray([], messages, true) });\n    })\n        .with({ type: FETCH_PREV_MESSAGES_SUCCESS }, function (action) {\n        var _a, _b, _c, _d;\n        var _e = action.payload, currentGroupChannel = _e.currentGroupChannel, messages = _e.messages;\n        if (!((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) === ((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))) {\n            return state;\n        }\n        var hasMorePrev = ((_b = messages === null || messages === void 0 ? void 0 : messages.length) !== null && _b !== void 0 ? _b : 0)\n            >= ((_d = (_c = state === null || state === void 0 ? void 0 : state.messageListParams) === null || _c === void 0 ? void 0 : _c.prevResultSize) !== null && _d !== void 0 ? _d : PREV_RESULT_SIZE) + 1;\n        var oldestMessageTimeStamp = getOldestMessageTimeStamp(messages);\n        // Remove duplicated messages\n        var duplicatedMessageIds = [];\n        var updatedOldMessages = state.allMessages.map(function (msg) {\n            var duplicatedMessage = messages.find(function (_a) {\n                var messageId = _a.messageId;\n                return compareIds(messageId, msg.messageId);\n            });\n            if (!duplicatedMessage) {\n                return msg;\n            }\n            duplicatedMessageIds.push(duplicatedMessage.messageId);\n            return duplicatedMessage.updatedAt > msg.updatedAt\n                ? duplicatedMessage\n                : msg;\n        });\n        var filteredNewMessages = duplicatedMessageIds.length > 0\n            ? messages.filter(function (msg) { return !duplicatedMessageIds.find(function (messageId) { return compareIds(messageId, msg.messageId); }); })\n            : messages;\n        return __assign(__assign({}, state), { hasMorePrev: hasMorePrev, oldestMessageTimeStamp: oldestMessageTimeStamp, allMessages: __spreadArray(__spreadArray([], filteredNewMessages, true), updatedOldMessages, true) });\n    })\n        .with({ type: FETCH_NEXT_MESSAGES_SUCCESS }, function (action) {\n        var _a, _b, _c, _d;\n        var _e = action.payload, currentGroupChannel = _e.currentGroupChannel, messages = _e.messages;\n        if (!((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) === ((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))) {\n            return state;\n        }\n        var hasMoreNext = ((_b = messages === null || messages === void 0 ? void 0 : messages.length) !== null && _b !== void 0 ? _b : 0)\n            === ((_d = (_c = state === null || state === void 0 ? void 0 : state.messageListParams) === null || _c === void 0 ? void 0 : _c.nextResultSize) !== null && _d !== void 0 ? _d : NEXT_RESULT_SIZE) + 1;\n        var latestMessageTimeStamp = getLatestMessageTimeStamp(messages);\n        // sort ~\n        var sortedMessages = mergeAndSortMessages(state.allMessages, messages);\n        return __assign(__assign({}, state), { hasMoreNext: hasMoreNext, latestMessageTimeStamp: latestMessageTimeStamp, allMessages: sortedMessages });\n    })\n        .with({\n        type: S.union(FETCH_INITIAL_MESSAGES_FAILURE, FETCH_PREV_MESSAGES_FAILURE, FETCH_NEXT_MESSAGES_FAILURE),\n    }, function (action) {\n        var _a;\n        var currentGroupChannel = action.payload.currentGroupChannel;\n        if ((currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) !== ((_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url))\n            return state;\n        // It shows something went wrong screen when fetching initial messages failed.\n        var shouldInvalid = [FETCH_INITIAL_MESSAGES_FAILURE].includes(action.type);\n        return __assign(__assign({}, state), { loading: false, isInvalid: shouldInvalid, initialized: false, allMessages: [], hasMorePrev: false, hasMoreNext: false, oldestMessageTimeStamp: null, latestMessageTimeStamp: null });\n    })\n        .with({ type: SEND_MESSAGE_START }, function (action) {\n        // Message should not be spread here\n        // it will loose some methods like `isUserMessage`\n        return __assign(__assign({}, state), { localMessages: __spreadArray(__spreadArray([], state.localMessages, true), [action.payload], false) });\n    })\n        .with({ type: SEND_MESSAGE_SUCCESS }, function (action) {\n        var message = action.payload;\n        /**\n         * Admin messages do not have reqId. We need to include them.\n         */\n        var filteredMessages = state.allMessages.filter(function (m) { return !hasReqId(m) || (m === null || m === void 0 ? void 0 : m.reqId) !== (message === null || message === void 0 ? void 0 : message.reqId); });\n        // [Policy] Pending messages and failed messages\n        // must always be at the end of the message list\n        return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], filteredMessages, true), [message], false), localMessages: state.localMessages.filter(function (m) { return hasReqId(m) && (m === null || m === void 0 ? void 0 : m.reqId) !== (message === null || message === void 0 ? void 0 : message.reqId); }) });\n    })\n        .with({ type: SEND_MESSAGE_FAILURE }, function (action) {\n        // @ts-ignore\n        action.payload.failed = true;\n        return __assign(__assign({}, state), { localMessages: state.localMessages.map(function (m) { return compareIds(hasReqId(m) && m.reqId, action.payload.reqId)\n                ? action.payload\n                : m; }) });\n    })\n        .with({ type: SET_CURRENT_CHANNEL }, function (action) {\n        return __assign(__assign({}, state), { currentGroupChannel: action.payload, isInvalid: false });\n    })\n        .with({ type: SET_CHANNEL_INVALID }, function () {\n        return __assign(__assign({}, state), { currentGroupChannel: null, allMessages: [], localMessages: [], isInvalid: true });\n    })\n        .with({ type: ON_MESSAGE_RECEIVED }, function (action) {\n        var _a, _b;\n        var _c = action.payload, channel = _c.channel, message = _c.message;\n        var members = channel.members;\n        var sender = message.sender;\n        var currentGroupChannel = state.currentGroupChannel;\n        var currentGroupChannelUrl = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url;\n        if (!compareIds(channel === null || channel === void 0 ? void 0 : channel.url, currentGroupChannelUrl)) {\n            return state;\n        }\n        // Excluded overlapping messages\n        if (state.allMessages.some(function (msg) { return msg.messageId === message.messageId; })) {\n            return state;\n        }\n        // Filter by userFilledQuery\n        if (state.messageListParams\n            && !filterMessageListParams(state.messageListParams, message)) {\n            return state;\n        }\n        if (message.isAdminMessage && message.isAdminMessage()) {\n            return __assign(__assign({}, state), { allMessages: passUnsuccessfullMessages(state.allMessages, message) });\n        }\n        // Update members when sender profileUrl, nickname, friendName has been changed\n        var senderMember = members === null || members === void 0 ? void 0 : members.find(function (m) { return (m === null || m === void 0 ? void 0 : m.userId) === (sender === null || sender === void 0 ? void 0 : sender.userId); });\n        if ((senderMember === null || senderMember === void 0 ? void 0 : senderMember.profileUrl) !== (sender === null || sender === void 0 ? void 0 : sender.profileUrl)\n            || (senderMember === null || senderMember === void 0 ? void 0 : senderMember.friendName) !== (sender === null || sender === void 0 ? void 0 : sender.friendName)\n            || (senderMember === null || senderMember === void 0 ? void 0 : senderMember.nickname) !== (sender === null || sender === void 0 ? void 0 : sender.nickname)) {\n            // @ts-ignore\n            channel.members = members.map(function (member) {\n                if (member.userId === sender.userId) {\n                    return sender;\n                }\n                return member;\n            });\n        }\n        return __assign(__assign({}, state), { currentGroupChannel: channel, unreadSince: (_a = state.unreadSince) !== null && _a !== void 0 ? _a : format(new Date(), 'p MMM dd'), unreadSinceDate: (_b = state.unreadSinceDate) !== null && _b !== void 0 ? _b : new Date(), allMessages: passUnsuccessfullMessages(state.allMessages, message) });\n    })\n        .with({ type: ON_MESSAGE_UPDATED }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, message = _b.message;\n        var currentGroupChannelUrl = ((_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url) || '';\n        if (!compareIds(channel === null || channel === void 0 ? void 0 : channel.url, currentGroupChannelUrl)) {\n            return state; // Ignore event when it is not for the current channel\n        }\n        if (state.messageListParams\n            && !filterMessageListParams(state.messageListParams, message)) {\n            // Delete the message if it doesn't match to the params anymore\n            return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (m) { return !compareIds(m.messageId, message === null || message === void 0 ? void 0 : message.messageId); }) });\n        }\n        return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) {\n                if (compareIds(m.messageId, message.messageId)) {\n                    return message;\n                }\n                if (compareIds(m.parentMessageId, message.messageId)) {\n                    m.parentMessage = message; // eslint-disable-line no-param-reassign\n                }\n                return m;\n            }) });\n    })\n        .with({ type: ON_MESSAGE_THREAD_INFO_UPDATED }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, event = _b.event;\n        var channelUrl = event.channelUrl, threadInfo = event.threadInfo, targetMessageId = event.targetMessageId;\n        var currentGroupChannelUrl = ((_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url) || '';\n        if (!compareIds(channel === null || channel === void 0 ? void 0 : channel.url, currentGroupChannelUrl)\n            || !compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n            return state; // Ignore event when it is not for the current channel\n        }\n        return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) {\n                if (compareIds(m.messageId, targetMessageId)) {\n                    // eslint-disable-next-line no-param-reassign\n                    m.threadInfo = threadInfo; // Upsert threadInfo to the target message\n                }\n                return m;\n            }) });\n    })\n        .with({ type: RESEND_MESSAGE_START }, function (action) {\n        return __assign(__assign({}, state), { localMessages: state.localMessages.map(function (m) { return compareIds(hasReqId(m) && m.reqId, action.payload.reqId)\n                ? action.payload\n                : m; }) });\n    })\n        .with({ type: MARK_AS_READ }, function (action) {\n        var _a, _b, _c;\n        if (((_a = state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url) !== ((_c = (_b = action.payload) === null || _b === void 0 ? void 0 : _b.channel) === null || _c === void 0 ? void 0 : _c.url)) {\n            return state;\n        }\n        return __assign(__assign({}, state), { unreadSince: null, unreadSinceDate: null });\n    })\n        .with({ type: ON_MESSAGE_DELETED }, function (action) {\n        return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (m) { return !compareIds(m.messageId, action.payload); }) });\n    })\n        .with({ type: ON_MESSAGE_DELETED_BY_REQ_ID }, function (action) {\n        return __assign(__assign({}, state), { localMessages: state.localMessages.filter(function (m) { return !compareIds(hasReqId(m) && m.reqId, action.payload); }) });\n    })\n        .with({ type: SET_EMOJI_CONTAINER }, function (action) {\n        return __assign(__assign({}, state), { emojiContainer: action.payload });\n    })\n        .with({ type: ON_REACTION_UPDATED }, function (action) {\n        return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) {\n                if (compareIds(m.messageId, action.payload.messageId)) {\n                    if (m.applyReactionEvent\n                        && typeof m.applyReactionEvent === 'function') {\n                        m.applyReactionEvent(action.payload);\n                    }\n                    return m;\n                }\n                return m;\n            }) });\n    })\n        .with({ type: MESSAGE_LIST_PARAMS_CHANGED }, function (action) {\n        return __assign(__assign({}, state), { messageListParams: action.payload });\n    })\n        .with({ type: ON_FILE_INFO_UPLOADED }, function (action) {\n        var _a, _b;\n        var _c = action.payload, channelUrl = _c.channelUrl, requestId = _c.requestId, index = _c.index, uploadableFileInfo = _c.uploadableFileInfo, error = _c.error;\n        if (!compareIds(channelUrl, (_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n            return state;\n        }\n        /**\n         * We don't have to do anything here because\n         * onFailed() will be called so handle error there instead.\n         */\n        if (error)\n            return state;\n        var localMessages = state.localMessages;\n        var messageToUpdate = localMessages.find(function (message) { return compareIds(hasReqId(message) && message.reqId, requestId); });\n        var fileInfoList = (_b = messageToUpdate\n            .messageParams) === null || _b === void 0 ? void 0 : _b.fileInfoList;\n        if (Array.isArray(fileInfoList)) {\n            fileInfoList[index] = uploadableFileInfo;\n        }\n        return __assign(__assign({}, state), { localMessages: localMessages });\n    })\n        .with({ type: ON_TYPING_STATUS_UPDATED }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, typingMembers = _b.typingMembers;\n        if (!compareIds(channel.url, (_a = state === null || state === void 0 ? void 0 : state.currentGroupChannel) === null || _a === void 0 ? void 0 : _a.url)) {\n            return state;\n        }\n        return __assign(__assign({}, state), { typingMembers: typingMembers });\n    })\n        .otherwise(function () { return state; });\n}\n\nvar DELIVERY_RECEIPT = 'delivery_receipt';\nfunction useHandleChannelEvents(_a, _b) {\n    var _c, _d, _e;\n    var sdkInit = _a.sdkInit, currentGroupChannel = _a.currentGroupChannel, disableMarkAsRead = _a.disableMarkAsRead;\n    var sdk = _b.sdk, logger = _b.logger, scrollRef = _b.scrollRef, setQuoteMessage = _b.setQuoteMessage, messagesDispatcher = _b.messagesDispatcher;\n    var store = useSendbirdStateContext();\n    var _f = store.config, markAsReadScheduler = _f.markAsReadScheduler, markAsDeliveredScheduler = _f.markAsDeliveredScheduler, disableMarkAsDelivered = _f.disableMarkAsDelivered;\n    var canSetMarkAsDelivered = (_e = (_d = (_c = store.stores.sdkStore.sdk) === null || _c === void 0 ? void 0 : _c.appInfo) === null || _d === void 0 ? void 0 : _d.premiumFeatureList) === null || _e === void 0 ? void 0 : _e.find(function (feature) { return (feature === DELIVERY_RECEIPT); });\n    useEffect(function () {\n        var _a;\n        var channelUrl = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url;\n        var channelHandlerId = uuidv4();\n        if (channelUrl && sdkInit) {\n            var channelHandler = {\n                onMessageReceived: function (channel, message) {\n                    var _a, _b;\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        var scrollToEnd = false;\n                        try {\n                            var current = scrollRef.current;\n                            if (current) {\n                                scrollToEnd = current.offsetHeight + current.scrollTop >= current.scrollHeight - 10;\n                            }\n                            // 10 is a buffer\n                        }\n                        catch (error) {\n                            //\n                        }\n                        logger.info('Channel | useHandleChannelEvents: onMessageReceived', message);\n                        messagesDispatcher({\n                            type: ON_MESSAGE_RECEIVED,\n                            payload: { channel: channel, message: message },\n                        });\n                        if (scrollToEnd\n                            && ((_a = document.getElementById('sendbird-dropdown-portal')) === null || _a === void 0 ? void 0 : _a.childElementCount) === 0\n                            && ((_b = document.getElementById('sendbird-emoji-list-portal')) === null || _b === void 0 ? void 0 : _b.childElementCount) === 0) {\n                            // and !openContextMenu\n                            try {\n                                setTimeout(function () { return scrollIntoLast(0, scrollRef); });\n                                if (!disableMarkAsRead) {\n                                    markAsReadScheduler.push(currentGroupChannel);\n                                }\n                                if (canSetMarkAsDelivered && !disableMarkAsDelivered) {\n                                    markAsDeliveredScheduler.push(currentGroupChannel);\n                                }\n                            }\n                            catch (error) {\n                                logger.warning('Channel | onMessageReceived | scroll to end failed');\n                            }\n                        }\n                    }\n                },\n                onUnreadMemberStatusUpdated: function (channel) {\n                    logger.info('Channel | useHandleChannelEvents: onUnreadMemberStatusUpdated', channel);\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                // before(onDeliveryReceiptUpdated)\n                onUndeliveredMemberStatusUpdated: function (channel) {\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onDeliveryReceiptUpdated', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onMessageUpdated: function (channel, message) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onMessageUpdated', message);\n                        messagesDispatcher({\n                            type: ON_MESSAGE_UPDATED,\n                            payload: { channel: channel, message: message },\n                        });\n                    }\n                },\n                onThreadInfoUpdated: function (channel, threadInfoUpdateEvent) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onThreadInfoUpdated', { channel: channel, threadInfoUpdateEvent: threadInfoUpdateEvent });\n                        messagesDispatcher({\n                            type: ON_MESSAGE_THREAD_INFO_UPDATED,\n                            payload: { channel: channel, event: threadInfoUpdateEvent },\n                        });\n                    }\n                },\n                onMessageDeleted: function (channel, messageId) {\n                    logger.info('Channel | useHandleChannelEvents: onMessageDeleted', { channel: channel, messageId: messageId });\n                    setQuoteMessage(null);\n                    messagesDispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: messageId,\n                    });\n                },\n                onReactionUpdated: function (channel, reactionEvent) {\n                    logger.info('Channel | useHandleChannelEvents: onReactionUpdated', { channel: channel, reactionEvent: reactionEvent });\n                    messagesDispatcher({\n                        type: ON_REACTION_UPDATED,\n                        payload: reactionEvent,\n                    });\n                },\n                onChannelChanged: function (channel) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onChannelChanged', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onChannelFrozen: function (channel) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onChannelFrozen', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onChannelUnfrozen: function (channel) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onChannelUnFrozen', channel);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserMuted: function (channel, user) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onUserMuted', { channel: channel, user: user });\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserUnmuted: function (channel, user) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onUserUnmuted', { channel: channel, user: user });\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserBanned: function (channel, user) {\n                    var _a;\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl) && channel.isGroupChannel()) {\n                        logger.info('Channel | useHandleChannelEvents: onUserBanned', { channel: channel, user: user });\n                        var isByMe = (user === null || user === void 0 ? void 0 : user.userId) === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: isByMe ? null : channel,\n                        });\n                    }\n                },\n                onOperatorUpdated: function (channel, users) {\n                    if (channel.isGroupChannel() && compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onOperatorUpdated', { channel: channel, users: users });\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: channel,\n                        });\n                    }\n                },\n                onUserLeft: function (channel, user) {\n                    var _a;\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | useHandleChannelEvents: onUserLeft', { channel: channel, user: user });\n                        var isByMe = (user === null || user === void 0 ? void 0 : user.userId) === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n                        messagesDispatcher({\n                            type: SET_CURRENT_CHANNEL,\n                            payload: isByMe ? null : channel,\n                        });\n                    }\n                },\n                onTypingStatusUpdated: function (channel) {\n                    if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                        logger.info('Channel | onTypingStatusUpdated', { channel: channel });\n                        var typingMembers = channel.getTypingUsers();\n                        messagesDispatcher({\n                            type: ON_TYPING_STATUS_UPDATED,\n                            payload: {\n                                channel: channel,\n                                typingMembers: typingMembers,\n                            },\n                        });\n                    }\n                },\n            };\n            logger.info('Channel | useHandleChannelEvents: Setup event handler', { channelHandlerId: channelHandlerId, channelHandler: channelHandler });\n            // Add this group channel handler to the Sendbird chat instance\n            (_a = sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler(channelHandlerId, new GroupChannelHandler(channelHandler));\n        }\n        return function () {\n            var _a;\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                logger.info('Channel | useHandleChannelEvents: Removing message reciver handler', channelHandlerId);\n                sdk.groupChannel.removeGroupChannelHandler(channelHandlerId);\n            }\n            else if (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) {\n                logger.error('Channel | useHandleChannelEvents: Not found the removeGroupChannelHandler');\n            }\n        };\n    }, [currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url, sdkInit]);\n}\n\nfunction useGetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, disableMarkAsRead = _a.disableMarkAsRead;\n    var messagesDispatcher = _b.messagesDispatcher, sdk = _b.sdk, logger = _b.logger, markAsReadScheduler = _b.markAsReadScheduler;\n    useEffect(function () {\n        if (channelUrl && sdkInit && sdk && sdk.groupChannel) {\n            logger.info('Channel | useSetChannel fetching channel', channelUrl);\n            sdk.groupChannel\n                .getChannel(channelUrl)\n                .then(function (groupChannel) {\n                logger.info('Channel | useSetChannel fetched channel', groupChannel);\n                messagesDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: groupChannel,\n                });\n                logger.info('Channel: Mark as read', groupChannel);\n                if (!disableMarkAsRead) {\n                    markAsReadScheduler.push(groupChannel);\n                }\n            })\n                .catch(function (e) {\n                logger.warning('Channel | useSetChannel fetch channel failed', { channelUrl: channelUrl, e: e });\n                messagesDispatcher({\n                    type: SET_CHANNEL_INVALID,\n                });\n            });\n            sdk\n                .getAllEmoji()\n                .then(function (emojiContainer_) {\n                logger.info('Channel: Getting emojis success', emojiContainer_);\n                messagesDispatcher({\n                    type: SET_EMOJI_CONTAINER,\n                    payload: emojiContainer_,\n                });\n            })\n                .catch(function (err) {\n                logger.error('Channel: Getting emojis failed', err);\n            });\n        }\n    }, [channelUrl, sdkInit]);\n}\n\nfunction useHandleReconnect(_a, _b) {\n    var isOnline = _a.isOnline, replyType = _a.replyType, disableMarkAsRead = _a.disableMarkAsRead, reconnectOnIdle = _a.reconnectOnIdle;\n    var logger = _b.logger, sdk = _b.sdk, scrollRef = _b.scrollRef, currentGroupChannel = _b.currentGroupChannel, messagesDispatcher = _b.messagesDispatcher, markAsReadScheduler = _b.markAsReadScheduler, userFilledMessageListQuery = _b.userFilledMessageListQuery;\n    var shouldReconnect = useReconnectOnIdle(isOnline, currentGroupChannel, reconnectOnIdle).shouldReconnect;\n    useEffect(function () {\n        return function () {\n            var _a, _b, _c;\n            // state changed from offline to online AND tab is visible\n            if (shouldReconnect) {\n                logger.info('Refreshing conversation state');\n                var isReactionEnabled = ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.useReaction) || false;\n                var messageListParams_1 = {\n                    prevResultSize: PREV_RESULT_SIZE,\n                    isInclusive: true,\n                    includeReactions: isReactionEnabled,\n                    includeMetaArray: true,\n                    nextResultSize: NEXT_RESULT_SIZE,\n                };\n                if (replyType && replyType === 'QUOTE_REPLY') {\n                    messageListParams_1.includeThreadInfo = true;\n                    messageListParams_1.includeParentMessageInfo = true;\n                    messageListParams_1.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n                }\n                if (userFilledMessageListQuery) {\n                    Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                        // @ts-ignore\n                        messageListParams_1[key] = userFilledMessageListQuery[key];\n                    });\n                }\n                logger.info('Channel: Fetching messages', { currentGroupChannel: currentGroupChannel, userFilledMessageListQuery: userFilledMessageListQuery });\n                messagesDispatcher({\n                    type: FETCH_INITIAL_MESSAGES_START,\n                    payload: null,\n                });\n                (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.getChannel((_c = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) !== null && _c !== void 0 ? _c : '').then(function (groupChannel) {\n                    var lastMessageTime = new Date().getTime();\n                    groupChannel.getMessagesByTimestamp(lastMessageTime, messageListParams_1)\n                        .then(function (messages) {\n                        messagesDispatcher({\n                            type: FETCH_INITIAL_MESSAGES_SUCCESS,\n                            payload: {\n                                currentGroupChannel: groupChannel,\n                                messages: messages,\n                            },\n                        });\n                        setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_FETCH);\n                    })\n                        .catch(function (error) {\n                        logger.error('Channel: Fetching messages failed', error);\n                        messagesDispatcher({\n                            type: FETCH_INITIAL_MESSAGES_FAILURE,\n                            payload: { currentGroupChannel: groupChannel },\n                        });\n                    });\n                    if (!disableMarkAsRead) {\n                        markAsReadScheduler.push(groupChannel);\n                    }\n                });\n            }\n        };\n    }, [shouldReconnect, replyType]);\n}\n\nfunction useScrollCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, oldestMessageTimeStamp = _a.oldestMessageTimeStamp, userFilledMessageListQuery = _a.userFilledMessageListQuery, replyType = _a.replyType;\n    var hasMorePrev = _b.hasMorePrev, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, sdk = _b.sdk;\n    return useCallback(function (callback) {\n        var _a, _b;\n        if (!hasMorePrev) {\n            return;\n        }\n        var messageListParams = {\n            prevResultSize: PREV_RESULT_SIZE,\n            isInclusive: true,\n            includeMetaArray: true,\n            includeReactions: (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.useReaction) !== null && _b !== void 0 ? _b : false,\n        };\n        if (replyType === 'QUOTE_REPLY' || replyType === 'THREAD') {\n            messageListParams.includeThreadInfo = true;\n            messageListParams.includeParentMessageInfo = true;\n            messageListParams.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n        }\n        if (userFilledMessageListQuery) {\n            Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                // @ts-ignore\n                messageListParams[key] = userFilledMessageListQuery[key];\n            });\n        }\n        logger.info('Channel: Fetching messages', {\n            currentGroupChannel: currentGroupChannel,\n            userFilledMessageListQuery: userFilledMessageListQuery,\n        });\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.getMessagesByTimestamp(oldestMessageTimeStamp || new Date().getTime(), messageListParams).then(function (messages) {\n            messagesDispatcher({\n                type: FETCH_PREV_MESSAGES_SUCCESS,\n                payload: { currentGroupChannel: currentGroupChannel, messages: messages },\n            });\n            if (callback)\n                setTimeout(function () { return callback(); });\n        }).catch(function () {\n            messagesDispatcher({\n                type: FETCH_PREV_MESSAGES_FAILURE,\n                payload: { currentGroupChannel: currentGroupChannel },\n            });\n        });\n    }, [currentGroupChannel, oldestMessageTimeStamp, replyType]);\n}\n\nfunction useScrollDownCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, latestMessageTimeStamp = _a.latestMessageTimeStamp, userFilledMessageListQuery = _a.userFilledMessageListQuery, hasMoreNext = _a.hasMoreNext, replyType = _a.replyType;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, sdk = _b.sdk;\n    return useCallback(function (cb) {\n        var _a, _b;\n        if (!hasMoreNext) {\n            return;\n        }\n        var isReactionEnabled = (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.useReaction) !== null && _b !== void 0 ? _b : false;\n        var messageListParams = {\n            nextResultSize: NEXT_RESULT_SIZE,\n            isInclusive: true,\n            includeReactions: isReactionEnabled,\n            includeMetaArray: true,\n        };\n        if (replyType && (replyType === 'QUOTE_REPLY' || replyType === 'THREAD')) {\n            messageListParams.includeThreadInfo = true;\n            messageListParams.includeParentMessageInfo = true;\n            messageListParams.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n        }\n        if (userFilledMessageListQuery) {\n            Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                // @ts-ignore\n                messageListParams[key] = userFilledMessageListQuery[key];\n            });\n        }\n        logger.info('Channel: Fetching later messages', { currentGroupChannel: currentGroupChannel, userFilledMessageListQuery: userFilledMessageListQuery });\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.getMessagesByTimestamp(latestMessageTimeStamp || new Date().getTime(), messageListParams).then(function (messages) {\n            messagesDispatcher({\n                type: FETCH_NEXT_MESSAGES_SUCCESS,\n                payload: { currentGroupChannel: currentGroupChannel, messages: messages },\n            });\n            setTimeout(function () { return cb([messages, null]); });\n        }).catch(function (error) {\n            logger.error('Channel: Fetching later messages failed', error);\n            messagesDispatcher({\n                type: FETCH_NEXT_MESSAGES_FAILURE,\n                payload: { currentGroupChannel: currentGroupChannel },\n            });\n            setTimeout(function () { return cb([null, error]); });\n        });\n    }, [currentGroupChannel, latestMessageTimeStamp, hasMoreNext, replyType]);\n}\n\nfunction useDeleteMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, messagesDispatcher = _a.messagesDispatcher;\n    var logger = _b.logger;\n    return useCallback(function (message) {\n        logger.info('Channel | useDeleteMessageCallback: Deleting message', message);\n        var sendingStatus = isSendableMessage(message) ? message.sendingStatus : undefined;\n        return new Promise(function (resolve, reject) {\n            logger.info('Channel | useDeleteMessageCallback: Deleting message requestState:', sendingStatus);\n            // Message is only on local\n            if ((sendingStatus === SendingStatus.FAILED || sendingStatus === SendingStatus.PENDING) && 'reqId' in message) {\n                logger.info('Channel | useDeleteMessageCallback: Deleted message from local:', message);\n                messagesDispatcher({\n                    type: ON_MESSAGE_DELETED_BY_REQ_ID,\n                    payload: message.reqId,\n                });\n                resolve();\n            }\n            else {\n                logger.info('Channel | useDeleteMessageCallback: Deleting message from remote:', sendingStatus);\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.deleteMessage(message).then(function () {\n                    logger.info('Channel | useDeleteMessageCallback: Deleting message success!', message);\n                    messagesDispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: message.messageId,\n                    });\n                    resolve();\n                }).catch(function (err) {\n                    logger.warning('Channel | useDeleteMessageCallback: Deleting message failed!', err);\n                    reject(err);\n                });\n            }\n        });\n    }, [currentGroupChannel, messagesDispatcher]);\n}\n\nfunction useUpdateMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, messagesDispatcher = _a.messagesDispatcher, onBeforeUpdateUserMessage = _a.onBeforeUpdateUserMessage, isMentionEnabled = _a.isMentionEnabled;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    return useCallback(function (props, callback) {\n        var messageId = props.messageId, message = props.message, mentionedUsers = props.mentionedUsers, mentionTemplate = props.mentionTemplate;\n        var createParamsDefault = function (message) {\n            var params = {\n                message: message,\n            };\n            if (isMentionEnabled && mentionedUsers && mentionedUsers.length > 0) {\n                params.mentionedUsers = mentionedUsers;\n            }\n            if (isMentionEnabled && mentionTemplate) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            else {\n                params.mentionedMessageTemplate = message;\n            }\n            return params;\n        };\n        var shouldCreateCustomParams = onBeforeUpdateUserMessage && typeof onBeforeUpdateUserMessage === 'function';\n        if (shouldCreateCustomParams) {\n            logger.info('Channel: creating params using onBeforeUpdateUserMessage', onBeforeUpdateUserMessage);\n        }\n        var params = shouldCreateCustomParams ? onBeforeUpdateUserMessage(message) : createParamsDefault(message);\n        logger.info('Channel: Updating message!', params);\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.updateUserMessage(messageId, params).then(function (msg) {\n            if (callback) {\n                callback(null, msg);\n            }\n            logger.info('Channel: Updating message success!', msg);\n            messagesDispatcher({\n                type: ON_MESSAGE_UPDATED,\n                payload: {\n                    channel: currentGroupChannel,\n                    message: msg,\n                },\n            });\n            pubSub.publish(pubSubTopics.UPDATE_USER_MESSAGE, {\n                message: msg,\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n        }).catch(function (err) {\n            if (callback) {\n                callback(err, null);\n            }\n        });\n    }, [currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url, messagesDispatcher, onBeforeUpdateUserMessage]);\n}\n\nfunction useResendMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, messagesDispatcher = _a.messagesDispatcher;\n    var logger = _b.logger, pubSub = _b.pubSub;\n    return useCallback(function (failedMessage) {\n        logger.info('Channel: Resending message has started', failedMessage);\n        if (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isResendable) {\n            // userMessage\n            if (failedMessage.isUserMessage()) {\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Channel: Resending message start!', message);\n                    messagesDispatcher({\n                        type: RESEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Channel: Resending message success!', message);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                }).onFailed(function (e, message) {\n                    logger.warning('Channel: Resending message failed!', e);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                });\n            }\n            else if (failedMessage.isFileMessage()) {\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Channel: Resending file message start!', message);\n                    messagesDispatcher({\n                        type: RESEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Channel: Resending file message success!', message);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                }).onFailed(function (e, message) {\n                    logger.warning('Channel: Resending file message failed!', e);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                });\n            }\n            else if (failedMessage.isMultipleFilesMessage()) {\n                currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.resendMessage(failedMessage).onPending(function (message) {\n                    logger.info('Channel: Resending multiple files message start!', message);\n                    messagesDispatcher({\n                        type: RESEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }).onFileUploaded(function (requestId, index, uploadableFileInfo, error) {\n                    var _a;\n                    logger.info('Channel: Resending multiple files message file uploaded!', {\n                        requestId: requestId,\n                        index: index,\n                        error: error,\n                        uploadableFileInfo: uploadableFileInfo,\n                    });\n                    pubSub.publish(pubSubTopics.ON_FILE_INFO_UPLOADED, {\n                        response: {\n                            channelUrl: (_a = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) !== null && _a !== void 0 ? _a : '',\n                            requestId: requestId,\n                            index: index,\n                            uploadableFileInfo: uploadableFileInfo,\n                            error: error,\n                        },\n                        publishingModules: [PublishingModuleType.CHANNEL],\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('Channel: Resending multiple files message success!', message);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                }).onFailed(function (e, message) {\n                    logger.warning('Channel: Resending multiple files message failed!', e);\n                    messagesDispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                });\n            }\n        }\n        else {\n            logger.error('Message is not resendable', failedMessage);\n        }\n    }, [currentGroupChannel, messagesDispatcher]);\n}\n\nfunction useSendMessageCallback(_a, _b) {\n    var isMentionEnabled = _a.isMentionEnabled, currentGroupChannel = _a.currentGroupChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var messageInputRef = useRef(null);\n    var sendMessage = useCallback(function (_a) {\n        var quoteMessage = _a.quoteMessage, message = _a.message, mentionTemplate = _a.mentionTemplate, \n        // mentionedUserIds,\n        mentionedUsers = _a.mentionedUsers;\n        var createParamsDefault = function () {\n            var params = {\n                message: message,\n            };\n            // if (isMentionEnabled && mentionedUserIds?.length > 0) {\n            if (isMentionEnabled && mentionedUsers && mentionedUsers.length > 0) {\n                // params.mentionedUserIds = mentionedUserIds;\n                params.mentionedUsers = mentionedUsers;\n            }\n            // if (isMentionEnabled && mentionTemplate && mentionedUserIds?.length > 0) {\n            if (isMentionEnabled && mentionTemplate && mentionedUsers && mentionedUsers.length > 0) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            if (quoteMessage) {\n                params.isReplyToChannel = true;\n                params.parentMessageId = quoteMessage.messageId;\n            }\n            return params;\n        };\n        var shouldCreateCustomParams = onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function';\n        if (shouldCreateCustomParams) {\n            logger.info('Channel: creating params using onBeforeSendUserMessage', onBeforeSendUserMessage);\n        }\n        var params = shouldCreateCustomParams ? onBeforeSendUserMessage(message, quoteMessage) : createParamsDefault();\n        logger.info('Channel: Sending message has started', params);\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.sendUserMessage(params).onPending(function (pendingMsg) {\n            pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                /* pubSub is used instead of messagesDispatcher\n                  to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                message: pendingMsg,\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n            setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        }).onFailed(function (err, msg) {\n            logger.warning('Channel: Sending message failed!', { message: msg, error: err });\n            messagesDispatcher({\n                type: SEND_MESSAGE_FAILURE,\n                payload: msg,\n            });\n        }).onSucceeded(function (msg) {\n            logger.info('Channel: Sending message success!', msg);\n            messagesDispatcher({\n                type: SEND_MESSAGE_SUCCESS,\n                payload: msg,\n            });\n        });\n    }, [currentGroupChannel, onBeforeSendUserMessage]);\n    return [messageInputRef, sendMessage];\n}\n\nfunction useSendFileMessageCallback(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, onBeforeSendFileMessage = _a.onBeforeSendFileMessage, imageCompression = _a.imageCompression;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var sendMessage = useCallback(function (compressedFile, quoteMessage) { return new Promise(function (resolve, reject) {\n        // Create FileMessageParams\n        var params = onBeforeSendFileMessage === null || onBeforeSendFileMessage === void 0 ? void 0 : onBeforeSendFileMessage(compressedFile, quoteMessage);\n        if (!params) {\n            params = { file: compressedFile };\n            if (quoteMessage) {\n                params.isReplyToChannel = true;\n                params.parentMessageId = quoteMessage.messageId;\n            }\n        }\n        // Send FileMessage\n        logger.info('Channel: Uploading file message start!', params);\n        currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.sendFileMessage(params).onPending(function (pendingMessage) {\n            pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                /* pubSub is used instead of messagesDispatcher\n                  to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                // TODO: remove data pollution\n                message: __assign(__assign({}, pendingMessage), { url: URL.createObjectURL(compressedFile), \n                    // pending thumbnail message seems to be failed\n                    requestState: 'pending', isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }),\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n            setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        }).onFailed(function (err, failedMessage) {\n            logger.error('Channel: Sending file message failed!', { failedMessage: failedMessage, err: err });\n            // TODO: v4 - remove logic that modifies the original object.\n            //  It makes the code difficult to track, likely causing unpredictable side effects.\n            // @ts-ignore eslint-disable-next-line no-param-reassign\n            failedMessage.localUrl = URL.createObjectURL(compressedFile);\n            // @ts-ignore eslint-disable-next-line no-param-reassign\n            failedMessage.file = compressedFile;\n            messagesDispatcher({\n                type: SEND_MESSAGE_FAILURE,\n                payload: failedMessage,\n            });\n            reject(err);\n        }).onSucceeded(function (succeededMessage) {\n            logger.info('Channel: Sending file message success!', succeededMessage);\n            messagesDispatcher({\n                type: SEND_MESSAGE_SUCCESS,\n                payload: succeededMessage,\n            });\n            resolve(succeededMessage);\n        });\n    }); }, [currentGroupChannel, onBeforeSendFileMessage, imageCompression]);\n    return [sendMessage];\n}\n\n// To prevent multiple clicks on the message in the channel while scrolling\nfunction deactivateClick(scrollRef) {\n    var element = scrollRef.current;\n    var parentNode = element === null || element === void 0 ? void 0 : element.parentNode;\n    if (element && parentNode) {\n        element.style.pointerEvents = 'none';\n        parentNode.style.cursor = 'wait';\n    }\n}\nfunction activateClick(scrollRef) {\n    var element = scrollRef.current;\n    var parentNode = element === null || element === void 0 ? void 0 : element.parentNode;\n    if (element && parentNode) {\n        element.style.pointerEvents = 'auto';\n        parentNode.style.cursor = 'auto';\n    }\n}\nfunction useScrollToMessage(_a, _b) {\n    var setInitialTimeStamp = _a.setInitialTimeStamp, setAnimatedMessageId = _a.setAnimatedMessageId, allMessages = _a.allMessages, scrollRef = _a.scrollRef;\n    var logger = _b.logger;\n    return useCallback(function (createdAt, messageId) {\n        var isPresent = allMessages.find(function (m) { return (m.messageId === messageId); });\n        setAnimatedMessageId(null);\n        setTimeout(function () {\n            try {\n                logger.info('Channel: scroll to message - disabling mouse events');\n                deactivateClick(scrollRef);\n                if (isPresent) {\n                    logger.info('Channel: scroll to message - message is present');\n                    setAnimatedMessageId(messageId);\n                    scrollToRenderedMessage(scrollRef, createdAt);\n                }\n                else {\n                    logger.info('Channel: scroll to message - fetching older messages');\n                    setInitialTimeStamp(null);\n                    setInitialTimeStamp(createdAt);\n                    setAnimatedMessageId(messageId);\n                }\n            }\n            finally {\n                logger.info('Channel: scroll to message - enabled mouse events');\n                activateClick(scrollRef);\n            }\n        });\n    }, [\n        setInitialTimeStamp,\n        setAnimatedMessageId,\n        allMessages,\n    ]);\n}\n\nvar useSendVoiceMessageCallback = function (_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, onBeforeSendVoiceMessage = _a.onBeforeSendVoiceMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var sendMessage = useCallback(function (file, duration, quoteMessage) { return new Promise(function (resolve, reject) {\n        if (!currentGroupChannel) {\n            return;\n        }\n        var messageParams = (onBeforeSendVoiceMessage && typeof onBeforeSendVoiceMessage === 'function')\n            ? onBeforeSendVoiceMessage(file, quoteMessage)\n            : {\n                file: file,\n                fileName: VOICE_MESSAGE_FILE_NAME,\n                mimeType: VOICE_MESSAGE_MIME_TYPE,\n                metaArrays: [\n                    new MessageMetaArray({\n                        key: META_ARRAY_VOICE_DURATION_KEY,\n                        value: [\"\".concat(duration)],\n                    }),\n                    new MessageMetaArray({\n                        key: META_ARRAY_MESSAGE_TYPE_KEY,\n                        value: [META_ARRAY_MESSAGE_TYPE_VALUE__VOICE],\n                    }),\n                ],\n            };\n        if (quoteMessage) {\n            messageParams.isReplyToChannel = true;\n            messageParams.parentMessageId = quoteMessage.messageId;\n        }\n        logger.info('Channel: Start sending voice message', messageParams);\n        currentGroupChannel.sendFileMessage(messageParams)\n            .onPending(function (pendingMessage) {\n            pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                /* pubSub is used instead of messagesDispatcher\n                  to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                message: pendingMessage,\n                channel: currentGroupChannel,\n                publishingModules: [PublishingModuleType.CHANNEL],\n            });\n            setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        })\n            .onFailed(function (err, failedMessage) {\n            logger.error('Channel: Sending voice message failed!', { failedMessage: failedMessage, err: err });\n            messagesDispatcher({\n                type: SEND_MESSAGE_FAILURE,\n                payload: failedMessage,\n            });\n            reject(err);\n        })\n            .onSucceeded(function (succeededMessage) {\n            logger.info('Channel: Sending voice message success!', succeededMessage);\n            messagesDispatcher({\n                type: SEND_MESSAGE_SUCCESS,\n                payload: succeededMessage,\n            });\n            resolve(succeededMessage);\n        });\n    }); }, [\n        currentGroupChannel,\n        onBeforeSendVoiceMessage,\n    ]);\n    return [sendMessage];\n};\n\nvar useHandleChannelPubsubEvents = function (_a) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, pubSub = _a.pubSub, dispatcher = _a.dispatcher, scrollRef = _a.scrollRef;\n    useEffect(function () {\n        var subscriber = new Map();\n        if (pubSub === null || pubSub === void 0 ? void 0 : pubSub.subscribe) {\n            subscriber.set(PUBSUB_TOPICS.SEND_USER_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.SEND_USER_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                    setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.SEND_MESSAGE_START, pubSub.subscribe(PUBSUB_TOPICS.SEND_MESSAGE_START, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url) && shouldPubSubPublishToChannel(publishingModules)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_START,\n                        payload: message,\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, pubSub.subscribe(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, function (props) {\n                var response = props.response, publishingModules = props.publishingModules;\n                if (channelUrl === response.channelUrl && shouldPubSubPublishToChannel(publishingModules)) {\n                    dispatcher({\n                        type: ON_FILE_INFO_UPLOADED,\n                        payload: response,\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.SEND_MESSAGE_FAILED, pubSub.subscribe(PUBSUB_TOPICS.SEND_MESSAGE_FAILED, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url) && shouldPubSubPublishToChannel(publishingModules)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_FAILURE,\n                        payload: message,\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.SEND_FILE_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.SEND_FILE_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    dispatcher({\n                        type: SEND_MESSAGE_SUCCESS,\n                        payload: message,\n                    });\n                    setTimeout(function () { return scrollIntoLast(0, scrollRef); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.UPDATE_USER_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.UPDATE_USER_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message, fromSelector = props.fromSelector;\n                if (fromSelector && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) && channel.isGroupChannel()) {\n                    dispatcher({\n                        type: ON_MESSAGE_UPDATED,\n                        payload: { channel: channel, message: message },\n                    });\n                }\n            }));\n            subscriber.set(PUBSUB_TOPICS.DELETE_MESSAGE, pubSub.subscribe(PUBSUB_TOPICS.DELETE_MESSAGE, function (props) {\n                var channel = props.channel, messageId = props.messageId;\n                if (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    dispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: messageId,\n                    });\n                }\n            }));\n        }\n        return function () {\n            subscriber.forEach(function (s) {\n                try {\n                    s.remove();\n                }\n                catch (_a) {\n                    //\n                }\n            });\n        };\n    }, [\n        channelUrl,\n        sdkInit,\n    ]);\n};\n\nvar ChannelContext = React__default.createContext(null);\n/**\n * @deprecated This provider is deprecated and will be removed in the next major update.\n * Please use the `GroupChannelProvider` from '@sendbird/uikit-react/GroupChannel' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelProvider = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var channelUrl = props.channelUrl, children = props.children, isReactionEnabled = props.isReactionEnabled, _h = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _h === void 0 ? true : _h, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, showSearchIcon = props.showSearchIcon, animatedMessage = props.animatedMessage, highlightedMessage = props.highlightedMessage, startingPoint = props.startingPoint, onBeforeSendUserMessage = props.onBeforeSendUserMessage, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onBeforeUpdateUserMessage = props.onBeforeUpdateUserMessage, onBeforeSendVoiceMessage = props.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = props.onBeforeSendMultipleFilesMessage, onChatHeaderActionClick = props.onChatHeaderActionClick, onSearchClick = props.onSearchClick, onBackClick = props.onBackClick, threadReplySelectType = props.threadReplySelectType, queries = props.queries, filterMessageList = props.filterMessageList, _j = props.disableMarkAsRead, disableMarkAsRead = _j === void 0 ? false : _j, onReplyInThread = props.onReplyInThread, onQuoteMessageClick = props.onQuoteMessageClick, onMessageAnimated = props.onMessageAnimated, onMessageHighlighted = props.onMessageHighlighted, _k = props.scrollBehavior, scrollBehavior = _k === void 0 ? 'auto' : _k, _l = props.reconnectOnIdle, reconnectOnIdle = _l === void 0 ? true : _l;\n    var globalStore = useSendbirdStateContext();\n    var config = globalStore.config;\n    var replyType = (_a = props.replyType) !== null && _a !== void 0 ? _a : getCaseResolvedReplyType(config.groupChannel.replyType).upperCase;\n    var pubSub = config.pubSub, logger = config.logger, userId = config.userId, isOnline = config.isOnline, imageCompression = config.imageCompression, onUserProfileMessage = config.onUserProfileMessage, markAsReadScheduler = config.markAsReadScheduler, groupChannel = config.groupChannel, htmlTextDirection = config.htmlTextDirection, forceLeftToRightMessageLayout = config.forceLeftToRightMessageLayout;\n    var sdk = (_c = (_b = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var sdkInit = (_e = (_d = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _d === void 0 ? void 0 : _d.sdkStore) === null || _e === void 0 ? void 0 : _e.initialized;\n    var globalConfigs = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config;\n    var _m = useState(startingPoint), initialTimeStamp = _m[0], setInitialTimeStamp = _m[1];\n    useEffect(function () {\n        setInitialTimeStamp(startingPoint);\n    }, [startingPoint, channelUrl]);\n    var _o = useState(null), animatedMessageId = _o[0], setAnimatedMessageId = _o[1];\n    var _p = useState(highlightedMessage), highLightedMessageId = _p[0], setHighLightedMessageId = _p[1];\n    useEffect(function () {\n        setHighLightedMessageId(highlightedMessage);\n    }, [highlightedMessage]);\n    var userFilledMessageListQuery = queries === null || queries === void 0 ? void 0 : queries.messageListParams;\n    var _q = useState(null), quoteMessage = _q[0], setQuoteMessage = _q[1];\n    var _r = useState(false), isScrolled = _r[0], setIsScrolled = _r[1];\n    var _s = useReducer(channelReducer, initialState), messagesStore = _s[0], messagesDispatcher = _s[1];\n    var scrollRef = useRef(null);\n    var isMentionEnabled = groupChannel.enableMention;\n    var allMessages = messagesStore.allMessages, localMessages = messagesStore.localMessages, loading = messagesStore.loading, initialized = messagesStore.initialized, unreadSince = messagesStore.unreadSince, unreadSinceDate = messagesStore.unreadSinceDate, isInvalid = messagesStore.isInvalid, currentGroupChannel = messagesStore.currentGroupChannel, hasMorePrev = messagesStore.hasMorePrev, oldestMessageTimeStamp = messagesStore.oldestMessageTimeStamp, hasMoreNext = messagesStore.hasMoreNext, latestMessageTimeStamp = messagesStore.latestMessageTimeStamp, emojiContainer = messagesStore.emojiContainer, readStatus = messagesStore.readStatus, typingMembers = messagesStore.typingMembers;\n    var usingReaction = getIsReactionEnabled({\n        channel: currentGroupChannel,\n        config: config,\n        moduleLevel: isReactionEnabled,\n    });\n    var emojiAllMap = useMemo(function () { return (usingReaction\n        ? getAllEmojisMapFromEmojiContainer(emojiContainer)\n        : new Map()); }, [emojiContainer]);\n    var nicknamesMap = useMemo(function () { return ((usingReaction && currentGroupChannel)\n        ? getNicknamesMapFromMembers(currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.members)\n        : new Map()); }, [currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.members]);\n    // Animate message\n    useEffect(function () {\n        if (animatedMessage) {\n            setAnimatedMessageId(animatedMessage);\n        }\n    }, [animatedMessage]);\n    // Scrollup is default scroll for channel\n    var onScrollCallback = useScrollCallback({\n        currentGroupChannel: currentGroupChannel,\n        oldestMessageTimeStamp: oldestMessageTimeStamp,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        replyType: replyType,\n    }, {\n        hasMorePrev: hasMorePrev,\n        logger: logger,\n        messagesDispatcher: messagesDispatcher,\n        sdk: sdk,\n    });\n    var scrollToMessage = useScrollToMessage({\n        setInitialTimeStamp: setInitialTimeStamp,\n        setAnimatedMessageId: setAnimatedMessageId,\n        allMessages: allMessages,\n        scrollRef: scrollRef,\n    }, { logger: logger });\n    // onScrollDownCallback is added for navigation to different timestamps on messageSearch\n    // hasMorePrev, onScrollCallback -> scroll up(default behavior)\n    // hasMoreNext, onScrollDownCallback -> scroll down\n    var onScrollDownCallback = useScrollDownCallback({\n        currentGroupChannel: currentGroupChannel,\n        latestMessageTimeStamp: latestMessageTimeStamp,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        hasMoreNext: hasMoreNext,\n        replyType: replyType,\n    }, {\n        logger: logger,\n        messagesDispatcher: messagesDispatcher,\n        sdk: sdk,\n    });\n    var toggleReaction = useToggleReactionCallback(currentGroupChannel, logger);\n    // to create message-datasource\n    // this hook sets currentGroupChannel asynchronously\n    useGetChannel({ channelUrl: channelUrl, sdkInit: sdkInit, disableMarkAsRead: disableMarkAsRead }, { messagesDispatcher: messagesDispatcher, sdk: sdk, logger: logger, markAsReadScheduler: markAsReadScheduler });\n    // to set quote message as null\n    useEffect(function () {\n        setQuoteMessage(null);\n    }, [channelUrl]);\n    // Hook to handle ChannelEvents and send values to useReducer using messagesDispatcher\n    useHandleChannelEvents({\n        currentGroupChannel: currentGroupChannel,\n        sdkInit: sdkInit,\n        currentUserId: userId,\n        disableMarkAsRead: disableMarkAsRead,\n    }, {\n        messagesDispatcher: messagesDispatcher,\n        sdk: sdk,\n        logger: logger,\n        scrollRef: scrollRef,\n        setQuoteMessage: setQuoteMessage,\n    });\n    // hook that fetches messages when channel changes\n    // to be clear here useGetChannel sets currentGroupChannel\n    // and useInitialMessagesFetch executes when currentGroupChannel changes\n    // p.s This one executes on initialTimeStamp change too\n    useInitialMessagesFetch({\n        currentGroupChannel: currentGroupChannel,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        initialTimeStamp: initialTimeStamp,\n        replyType: replyType,\n        setIsScrolled: setIsScrolled,\n    }, {\n        logger: logger,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    });\n    // handles API calls from withSendbird\n    useHandleChannelPubsubEvents({\n        channelUrl: channelUrl,\n        sdkInit: sdkInit,\n        pubSub: pubSub,\n        dispatcher: messagesDispatcher,\n        scrollRef: scrollRef,\n    });\n    // handling connection breaks\n    useHandleReconnect({ isOnline: isOnline, replyType: replyType, disableMarkAsRead: disableMarkAsRead, reconnectOnIdle: reconnectOnIdle }, {\n        logger: logger,\n        sdk: sdk,\n        scrollRef: scrollRef,\n        currentGroupChannel: currentGroupChannel,\n        messagesDispatcher: messagesDispatcher,\n        userFilledMessageListQuery: userFilledMessageListQuery,\n        markAsReadScheduler: markAsReadScheduler,\n    });\n    useMessageLayoutDirection(htmlTextDirection, forceLeftToRightMessageLayout, loading);\n    // callbacks for Message CURD actions\n    var deleteMessage = useDeleteMessageCallback({ currentGroupChannel: currentGroupChannel, messagesDispatcher: messagesDispatcher }, { logger: logger });\n    var updateMessage = useUpdateMessageCallback({ currentGroupChannel: currentGroupChannel, messagesDispatcher: messagesDispatcher, onBeforeUpdateUserMessage: onBeforeUpdateUserMessage, isMentionEnabled: isMentionEnabled }, { logger: logger, pubSub: pubSub });\n    var resendMessage = useResendMessageCallback({ currentGroupChannel: currentGroupChannel, messagesDispatcher: messagesDispatcher }, { logger: logger, pubSub: pubSub });\n    var _t = useSendMessageCallback({\n        currentGroupChannel: currentGroupChannel,\n        isMentionEnabled: isMentionEnabled,\n        onBeforeSendUserMessage: onBeforeSendUserMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    }), messageInputRef = _t[0], sendMessage = _t[1];\n    var sendFileMessage = useSendFileMessageCallback({\n        currentGroupChannel: currentGroupChannel,\n        imageCompression: imageCompression,\n        onBeforeSendFileMessage: onBeforeSendFileMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    })[0];\n    var sendVoiceMessage = useSendVoiceMessageCallback({\n        currentGroupChannel: currentGroupChannel,\n        onBeforeSendVoiceMessage: onBeforeSendVoiceMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n        messagesDispatcher: messagesDispatcher,\n    })[0];\n    var sendMultipleFilesMessage = useSendMultipleFilesMessage({\n        currentChannel: currentGroupChannel,\n        onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage,\n        publishingModules: [PublishingModuleType.CHANNEL],\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        scrollRef: scrollRef,\n    })[0];\n    return (React__default.createElement(ChannelContext.Provider, { value: {\n            // props\n            channelUrl: channelUrl,\n            isReactionEnabled: usingReaction,\n            isMessageGroupingEnabled: isMessageGroupingEnabled,\n            isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n            showSearchIcon: showSearchIcon !== null && showSearchIcon !== void 0 ? showSearchIcon : globalConfigs.groupChannelSettings.enableMessageSearch,\n            highlightedMessage: highlightedMessage,\n            startingPoint: startingPoint,\n            onBeforeSendUserMessage: onBeforeSendUserMessage,\n            onBeforeSendFileMessage: onBeforeSendFileMessage,\n            onBeforeUpdateUserMessage: onBeforeUpdateUserMessage,\n            onChatHeaderActionClick: onChatHeaderActionClick,\n            onSearchClick: onSearchClick,\n            onBackClick: onBackClick,\n            replyType: replyType,\n            threadReplySelectType: (_f = threadReplySelectType !== null && threadReplySelectType !== void 0 ? threadReplySelectType : getCaseResolvedThreadReplySelectType(groupChannel.threadReplySelectType).upperCase) !== null && _f !== void 0 ? _f : ThreadReplySelectType.THREAD,\n            queries: queries,\n            filterMessageList: filterMessageList,\n            disableMarkAsRead: disableMarkAsRead,\n            onReplyInThread: onReplyInThread,\n            onQuoteMessageClick: onQuoteMessageClick,\n            onMessageAnimated: onMessageAnimated,\n            onMessageHighlighted: onMessageHighlighted,\n            // messagesStore\n            allMessages: allMessages,\n            localMessages: localMessages,\n            loading: loading,\n            initialized: initialized,\n            unreadSince: unreadSince,\n            unreadSinceDate: unreadSinceDate,\n            isInvalid: isInvalid,\n            currentGroupChannel: currentGroupChannel,\n            hasMorePrev: hasMorePrev,\n            hasMoreNext: hasMoreNext,\n            oldestMessageTimeStamp: oldestMessageTimeStamp,\n            latestMessageTimeStamp: latestMessageTimeStamp,\n            emojiContainer: emojiContainer,\n            readStatus: readStatus,\n            typingMembers: typingMembers,\n            // utils\n            scrollToMessage: scrollToMessage,\n            quoteMessage: quoteMessage,\n            setQuoteMessage: setQuoteMessage,\n            deleteMessage: deleteMessage,\n            updateMessage: updateMessage,\n            resendMessage: resendMessage,\n            messageInputRef: messageInputRef,\n            sendMessage: sendMessage,\n            sendFileMessage: sendFileMessage,\n            sendVoiceMessage: sendVoiceMessage,\n            sendMultipleFilesMessage: sendMultipleFilesMessage,\n            initialTimeStamp: initialTimeStamp,\n            messageActionTypes: channelActions,\n            messagesDispatcher: messagesDispatcher,\n            setInitialTimeStamp: setInitialTimeStamp,\n            setAnimatedMessageId: setAnimatedMessageId,\n            setHighLightedMessageId: setHighLightedMessageId,\n            animatedMessageId: animatedMessageId,\n            highLightedMessageId: highLightedMessageId,\n            nicknamesMap: nicknamesMap,\n            emojiAllMap: emojiAllMap,\n            onScrollCallback: onScrollCallback,\n            onScrollDownCallback: onScrollDownCallback,\n            scrollRef: scrollRef,\n            scrollBehavior: scrollBehavior,\n            toggleReaction: toggleReaction,\n            isScrolled: isScrolled,\n            setIsScrolled: setIsScrolled,\n        } },\n        React__default.createElement(UserProfileProvider, { disableUserProfile: (_g = props === null || props === void 0 ? void 0 : props.disableUserProfile) !== null && _g !== void 0 ? _g : !config.common.enableUsingDefaultUserProfile, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile, onUserProfileMessage: onUserProfileMessage }, children)));\n};\nvar useChannelContext = function () {\n    var context = React__default.useContext(ChannelContext);\n    if (!context)\n        throw new Error('ChannelContext not found. Use within the Channel module.');\n    return context;\n};\n\nexport { ChannelProvider, useChannelContext };\n//# sourceMappingURL=context.js.map\n", "var RESET_MESSAGES = 'RESET_MESSAGES';\nvar FETCH_INITIAL_MESSAGES_START = 'FETCH_INITIAL_MESSAGES_START';\nvar FETCH_INITIAL_MESSAGES_SUCCESS = 'FETCH_INITIAL_MESSAGES_SUCCESS';\nvar FETCH_INITIAL_MESSAGES_FAILURE = 'FETCH_INITIAL_MESSAGES_FAILURE';\nvar FETCH_PREV_MESSAGES_SUCCESS = 'FETCH_PREV_MESSAGES_SUCCESS';\nvar FETCH_PREV_MESSAGES_FAILURE = 'FETCH_PREV_MESSAGES_FAILURE';\nvar FETCH_NEXT_MESSAGES_SUCCESS = 'FETCH_NEXT_MESSAGES_SUCCESS';\nvar FETCH_NEXT_MESSAGES_FAILURE = 'FETCH_NEXT_MESSAGES_FAILURE';\nvar SEND_MESSAGE_START = 'SEND_MESSAGE_START';\nvar SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS';\nvar SEND_MESSAGE_FAILURE = 'SEND_MESSAGE_FAILURE';\nvar RESEND_MESSAGE_START = 'RESEND_MESSAGE_START';\nvar ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nvar ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nvar ON_MESSAGE_THREAD_INFO_UPDATED = 'ON_MESSAGE_THREAD_INFO_UPDATED';\nvar ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\nvar ON_MESSAGE_DELETED_BY_REQ_ID = 'ON_MESSAGE_DELETED_BY_REQ_ID';\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar SET_CHANNEL_INVALID = 'SET_CHANNEL_INVALID';\nvar MARK_AS_READ = 'MARK_AS_READ';\nvar ON_REACTION_UPDATED = 'ON_REACTION_UPDATED';\nvar SET_EMOJI_CONTAINER = 'SET_EMOJI_CONTAINER';\nvar MESSAGE_LIST_PARAMS_CHANGED = 'MESSAGE_LIST_PARAMS_CHANGED';\nvar ON_FILE_INFO_UPLOADED = 'ON_FILE_INFO_UPLOADED';\nvar ON_TYPING_STATUS_UPDATED = 'ON_TYPING_STATUS_UPDATED';\n\nvar channelActions = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  FETCH_INITIAL_MESSAGES_FAILURE: FETCH_INITIAL_MESSAGES_FAILURE,\n  FETCH_INITIAL_MESSAGES_START: FETCH_INITIAL_MESSAGES_START,\n  FETCH_INITIAL_MESSAGES_SUCCESS: FETCH_INITIAL_MESSAGES_SUCCESS,\n  FETCH_NEXT_MESSAGES_FAILURE: FETCH_NEXT_MESSAGES_FAILURE,\n  FETCH_NEXT_MESSAGES_SUCCESS: FETCH_NEXT_MESSAGES_SUCCESS,\n  FETCH_PREV_MESSAGES_FAILURE: FETCH_PREV_MESSAGES_FAILURE,\n  FETCH_PREV_MESSAGES_SUCCESS: FETCH_PREV_MESSAGES_SUCCESS,\n  MARK_AS_READ: MARK_AS_READ,\n  MESSAGE_LIST_PARAMS_CHANGED: MESSAGE_LIST_PARAMS_CHANGED,\n  ON_FILE_INFO_UPLOADED: ON_FILE_INFO_UPLOADED,\n  ON_MESSAGE_DELETED: ON_MESSAGE_DELETED,\n  ON_MESSAGE_DELETED_BY_REQ_ID: ON_MESSAGE_DELETED_BY_REQ_ID,\n  ON_MESSAGE_RECEIVED: ON_MESSAGE_RECEIVED,\n  ON_MESSAGE_THREAD_INFO_UPDATED: ON_MESSAGE_THREAD_INFO_UPDATED,\n  ON_MESSAGE_UPDATED: ON_MESSAGE_UPDATED,\n  ON_REACTION_UPDATED: ON_REACTION_UPDATED,\n  ON_TYPING_STATUS_UPDATED: ON_TYPING_STATUS_UPDATED,\n  RESEND_MESSAGE_START: RESEND_MESSAGE_START,\n  RESET_MESSAGES: RESET_MESSAGES,\n  SEND_MESSAGE_FAILURE: SEND_MESSAGE_FAILURE,\n  SEND_MESSAGE_START: SEND_MESSAGE_START,\n  SEND_MESSAGE_SUCCESS: SEND_MESSAGE_SUCCESS,\n  SET_CHANNEL_INVALID: SET_CHANNEL_INVALID,\n  SET_CURRENT_CHANNEL: SET_CURRENT_CHANNEL,\n  SET_EMOJI_CONTAINER: SET_EMOJI_CONTAINER\n});\n\nexport { FETCH_INITIAL_MESSAGES_START as F, MESSAGE_LIST_PARAMS_CHANGED as M, ON_MESSAGE_RECEIVED as O, RESET_MESSAGES as R, SEND_MESSAGE_START as S, FETCH_INITIAL_MESSAGES_SUCCESS as a, FETCH_INITIAL_MESSAGES_FAILURE as b, FETCH_PREV_MESSAGES_SUCCESS as c, FETCH_NEXT_MESSAGES_SUCCESS as d, FETCH_PREV_MESSAGES_FAILURE as e, FETCH_NEXT_MESSAGES_FAILURE as f, SEND_MESSAGE_SUCCESS as g, SEND_MESSAGE_FAILURE as h, SET_CURRENT_CHANNEL as i, SET_CHANNEL_INVALID as j, ON_MESSAGE_UPDATED as k, ON_MESSAGE_THREAD_INFO_UPDATED as l, RESEND_MESSAGE_START as m, MARK_AS_READ as n, ON_MESSAGE_DELETED as o, ON_MESSAGE_DELETED_BY_REQ_ID as p, SET_EMOJI_CONTAINER as q, ON_REACTION_UPDATED as r, ON_FILE_INFO_UPLOADED as s, ON_TYPING_STATUS_UPDATED as t, channelActions as u };\n//# sourceMappingURL=bundle-CwpgCadZ.js.map\n", "var isEmpty = function (val) { return (val === null || val === undefined); };\n// Some Ids return string and number inconsistently\n// only use to compare IDs\nfunction compareIds(a, b) {\n    if (isEmpty(a) || isEmpty(b)) {\n        return false;\n    }\n    var aString = a.toString();\n    var bString = b.toString();\n    return aString === bString;\n}\n\nexport { compareIds as c };\n//# sourceMappingURL=bundle-BKe5KBuS.js.map\n", "import { useCallback, useEffect } from 'react';\nimport { ReplyType } from '@sendbird/chat/message';\nimport { s as scrollIntoLast, d as scrollToRenderedMessage } from './bundle-Dt4PQi4u.js';\nimport { R as RESET_MESSAGES, M as MESSAGE_LIST_PARAMS_CHANGED, F as FETCH_INITIAL_MESSAGES_START, a as FETCH_INITIAL_MESSAGES_SUCCESS, b as FETCH_INITIAL_MESSAGES_FAILURE } from './bundle-CwpgCadZ.js';\nimport './bundle-DHJZgVZH.js';\nimport { d as SCROLL_BOTTOM_DELAY_FOR_FETCH } from './bundle-c4e24Qt4.js';\n\n// For legacy\n// These are not used for collections(GroupChannel)\nvar PREV_RESULT_SIZE = 30;\nvar NEXT_RESULT_SIZE = 15;\n\nfunction useInitialMessagesFetch(_a, _b) {\n    var currentGroupChannel = _a.currentGroupChannel, initialTimeStamp = _a.initialTimeStamp, userFilledMessageListQuery = _a.userFilledMessageListQuery, replyType = _a.replyType, setIsScrolled = _a.setIsScrolled;\n    var logger = _b.logger, scrollRef = _b.scrollRef, messagesDispatcher = _b.messagesDispatcher;\n    var channelUrl = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url;\n    /**\n     * useCallback(() => {}, [currentGroupChannel]) was buggy, that is why we did\n     * const channelUrl = currentGroupChannel && currentGroupChannel.url;\n     * useCallback(() => {}, [channelUrl])\n     * Again, this hook is supposed to execute when currentGroupChannel changes\n     * The 'channelUrl' here is not the same memory reference from Conversation.props\n     */\n    var fetchMessages = useCallback(function () {\n        logger.info('Channel useInitialMessagesFetch: Setup started', currentGroupChannel);\n        setIsScrolled(false);\n        messagesDispatcher({\n            type: RESET_MESSAGES,\n            payload: null,\n        });\n        if (currentGroupChannel && (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.getMessagesByTimestamp)) {\n            var messageListParams_1 = {\n                prevResultSize: PREV_RESULT_SIZE,\n                isInclusive: true,\n                includeReactions: true,\n                includeMetaArray: true,\n            };\n            if (initialTimeStamp) {\n                messageListParams_1.nextResultSize = NEXT_RESULT_SIZE;\n            }\n            if (replyType === 'QUOTE_REPLY' || replyType === 'THREAD') {\n                messageListParams_1.includeThreadInfo = true;\n                messageListParams_1.includeParentMessageInfo = true;\n                messageListParams_1.replyType = ReplyType.ONLY_REPLY_TO_CHANNEL;\n            }\n            if (userFilledMessageListQuery) {\n                Object.keys(userFilledMessageListQuery).forEach(function (key) {\n                    // @ts-ignore\n                    messageListParams_1[key] = userFilledMessageListQuery[key];\n                });\n            }\n            if ((replyType\n                && (replyType === 'QUOTE_REPLY' || replyType === 'THREAD'))\n                || userFilledMessageListQuery) {\n                logger.info('Channel useInitialMessagesFetch: Setup messageListParams', messageListParams_1);\n                messagesDispatcher({\n                    type: MESSAGE_LIST_PARAMS_CHANGED,\n                    payload: messageListParams_1,\n                });\n            }\n            logger.info('Channel: Fetching messages', { currentGroupChannel: currentGroupChannel, userFilledMessageListQuery: userFilledMessageListQuery });\n            messagesDispatcher({\n                type: FETCH_INITIAL_MESSAGES_START,\n                payload: null,\n            });\n            currentGroupChannel\n                .getMessagesByTimestamp(initialTimeStamp || new Date().getTime(), messageListParams_1)\n                .then(function (messages) {\n                messagesDispatcher({\n                    type: FETCH_INITIAL_MESSAGES_SUCCESS,\n                    payload: {\n                        currentGroupChannel: currentGroupChannel,\n                        messages: messages,\n                    },\n                });\n            })\n                .catch(function (error) {\n                logger.error('Channel: Fetching messages failed', error);\n                messagesDispatcher({\n                    type: FETCH_INITIAL_MESSAGES_FAILURE,\n                    payload: { currentGroupChannel: currentGroupChannel },\n                });\n            })\n                .finally(function () {\n                if (!initialTimeStamp) {\n                    setTimeout(function () { return scrollIntoLast(0, scrollRef, setIsScrolled); }, SCROLL_BOTTOM_DELAY_FOR_FETCH);\n                }\n                else {\n                    setTimeout(function () {\n                        scrollToRenderedMessage(scrollRef, initialTimeStamp, setIsScrolled);\n                    }, 500);\n                }\n            });\n        }\n    }, [channelUrl, userFilledMessageListQuery, initialTimeStamp]);\n    useEffect(function () {\n        fetchMessages();\n    }, [fetchMessages]);\n    return fetchMessages;\n}\n\nexport { NEXT_RESULT_SIZE as N, PREV_RESULT_SIZE as P, useInitialMessagesFetch as u };\n//# sourceMappingURL=bundle-CSRcmLyk.js.map\n", "import { useState, useEffect } from 'react';\n\nfunction useReconnectOnIdle(isOnline, currentGroupChannel, reconnectOnIdle) {\n    if (reconnectOnIdle === void 0) { reconnectOnIdle = true; }\n    var _a = useState(false), isTabHidden = _a[0], setIsTabHidden = _a[1];\n    var wasOffline = !isOnline;\n    useEffect(function () {\n        var handleVisibilityChange = function () {\n            if (reconnectOnIdle) {\n                setIsTabHidden(document.hidden);\n            }\n        };\n        document.addEventListener('visibilitychange', handleVisibilityChange);\n        return function () {\n            document.removeEventListener('visibilitychange', handleVisibilityChange);\n        };\n    }, [reconnectOnIdle, document.hidden]);\n    var shouldReconnect = wasOffline && !!currentGroupChannel && !isTabHidden;\n    return { shouldReconnect: shouldReconnect };\n}\n\nexport { useReconnectOnIdle as u };\n//# sourceMappingURL=bundle-DPf4rz9k.js.map\n", "import { useCallback } from 'react';\nimport { p as pubSubTopics, s as shouldPubSubPublishToChannel, a as shouldPubSubPublishToThread } from './bundle-DZhG3Z6D.js';\nimport { s as scrollIntoLast$1 } from './bundle-Dt4PQi4u.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport { e as SCROLL_BOTTOM_DELAY_FOR_SEND } from './bundle-c4e24Qt4.js';\n\nvar getNicknamesMapFromMembers = function (members) {\n    if (members === void 0) { members = []; }\n    var nicknamesMap = new Map();\n    for (var memberIndex = 0; memberIndex < members.length; memberIndex += 1) {\n        var _a = members[memberIndex], userId = _a.userId, nickname = _a.nickname;\n        nicknamesMap.set(userId, nickname);\n    }\n    return nicknamesMap;\n};\nvar getParentMessageFrom = function (message) {\n    if (!message) {\n        return null;\n    }\n    if (isParentMessage(message)) {\n        return message;\n    }\n    if (isThreadMessage(message)) {\n        return (message === null || message === void 0 ? void 0 : message.parentMessage) || null;\n    }\n    return null;\n};\nvar isParentMessage = function (message) {\n    return ((message === null || message === void 0 ? void 0 : message.parentMessage) === null\n        && typeof (message === null || message === void 0 ? void 0 : message.parentMessageId) === 'number'\n        && !(message === null || message === void 0 ? void 0 : message.parentMessageId));\n};\nvar isThreadMessage = function (message) {\n    return ((message === null || message === void 0 ? void 0 : message.parentMessage) !== null\n        && typeof (message === null || message === void 0 ? void 0 : message.parentMessageId) === 'number'\n        && (message === null || message === void 0 ? void 0 : message.parentMessageId) > 0\n        && (message === null || message === void 0 ? void 0 : message.threadInfo) === null);\n};\nvar isAboutSame = function (a, b, px) { return (Math.abs(a - b) <= px); };\nvar isEmpty = function (val) { return (val === null || val === undefined); };\n// Some Ids return string and number inconsistently\n// only use to comapre IDs\nfunction compareIds(a, b) {\n    if (isEmpty(a) || isEmpty(b)) {\n        return false;\n    }\n    var aString = a.toString();\n    var bString = b.toString();\n    return aString === bString;\n}\nvar scrollIntoLast = function (intialTry) {\n    if (intialTry === void 0) { intialTry = 0; }\n    var MAX_TRIES = 10;\n    var currentTry = intialTry;\n    if (currentTry > MAX_TRIES) {\n        return;\n    }\n    try {\n        var scrollDOM = document.querySelector('.sendbird-thread-ui--scroll');\n        // eslint-disable-next-line no-multi-assign\n        if (scrollDOM) {\n            scrollDOM.scrollTop = scrollDOM.scrollHeight;\n        }\n    }\n    catch (error) {\n        setTimeout(function () {\n            scrollIntoLast(currentTry + 1);\n        }, 500 * currentTry);\n    }\n};\n\n/**\n * pubSub is used instead of messagesDispatcher to avoid redundantly calling\n * because this useSendMultipleFilesMessage is used in the Channel and Thread both\n */\nvar useSendMultipleFilesMessage = function (_a, _b) {\n    var currentChannel = _a.currentChannel, onBeforeSendMultipleFilesMessage = _a.onBeforeSendMultipleFilesMessage, publishingModules = _a.publishingModules;\n    var logger = _b.logger, pubSub = _b.pubSub, scrollRef = _b.scrollRef;\n    var sendMessage = useCallback(function (files, quoteMessage) {\n        return new Promise(function (resolve, reject) {\n            if (!currentChannel) {\n                logger.warning('Channel: Sending MFm failed, because currentChannel is null.', { currentChannel: currentChannel });\n                reject();\n            }\n            if (files.length <= 1) {\n                logger.warning('Channel: Sending MFM failed, because there are no multiple files.', { files: files });\n                reject();\n            }\n            var messageParams = {\n                fileInfoList: files.map(function (file) { return ({\n                    file: file,\n                    fileName: file.name,\n                    fileSize: file.size,\n                    mimeType: file.type,\n                }); }),\n            };\n            if (quoteMessage) {\n                messageParams.isReplyToChannel = true;\n                messageParams.parentMessageId = quoteMessage.messageId;\n            }\n            if (typeof onBeforeSendMultipleFilesMessage === 'function') {\n                messageParams = onBeforeSendMultipleFilesMessage(files, quoteMessage);\n            }\n            logger.info('Channel: Start sending MFM', { messageParams: messageParams });\n            try {\n                currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendMultipleFilesMessage(messageParams).onFileUploaded(function (requestId, index, uploadableFileInfo, error) {\n                    logger.info('Channel: onFileUploaded during sending MFM', {\n                        requestId: requestId,\n                        index: index,\n                        error: error,\n                        uploadableFileInfo: uploadableFileInfo,\n                    });\n                    pubSub.publish(pubSubTopics.ON_FILE_INFO_UPLOADED, {\n                        response: {\n                            channelUrl: currentChannel.url,\n                            requestId: requestId,\n                            index: index,\n                            uploadableFileInfo: uploadableFileInfo,\n                            error: error,\n                        },\n                        publishingModules: publishingModules,\n                    });\n                }).onPending(function (pendingMessage) {\n                    logger.info('Channel: in progress of sending MFM', { pendingMessage: pendingMessage, fileInfoList: messageParams.fileInfoList });\n                    pubSub.publish(pubSubTopics.SEND_MESSAGE_START, {\n                        message: pendingMessage,\n                        channel: currentChannel,\n                        publishingModules: publishingModules,\n                    });\n                    setTimeout(function () {\n                        if (scrollRef && shouldPubSubPublishToChannel(publishingModules)) {\n                            scrollIntoLast$1(0, scrollRef);\n                        }\n                        if (shouldPubSubPublishToThread(publishingModules)) {\n                            scrollIntoLast(0);\n                        }\n                    }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n                }).onFailed(function (error, failedMessage) {\n                    logger.error('Channel: Sending MFM failed.', { error: error, failedMessage: failedMessage });\n                    pubSub.publish(pubSubTopics.SEND_MESSAGE_FAILED, {\n                        channel: currentChannel,\n                        message: failedMessage,\n                        publishingModules: publishingModules,\n                    });\n                    reject(error);\n                }).onSucceeded(function (succeededMessage) {\n                    logger.info('Channel: Sending voice message success!', { succeededMessage: succeededMessage });\n                    pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                        channel: currentChannel,\n                        message: succeededMessage,\n                        publishingModules: publishingModules,\n                    });\n                    resolve(succeededMessage);\n                });\n            }\n            catch (error) {\n                logger.error('Channel: Sending MFM failed.', { error: error });\n                reject(error);\n            }\n        });\n    }, [\n        currentChannel,\n        onBeforeSendMultipleFilesMessage,\n        publishingModules,\n    ]);\n    return [sendMessage];\n};\n\nexport { getNicknamesMapFromMembers as a, compareIds as c, getParentMessageFrom as g, isAboutSame as i, scrollIntoLast as s, useSendMultipleFilesMessage as u };\n//# sourceMappingURL=bundle-D8esR1WH.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { useChannelContext } from '../context.js';\nimport { G as GroupChannelUIView } from '../../chunks/bundle-CmAUKSnK.js';\nimport { ChannelHeader } from './ChannelHeader.js';\nimport { MessageList } from './MessageList.js';\nimport { MessageInputWrapper } from './MessageInput.js';\nimport { d as deleteNullish } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../GroupChannel/components/TypingIndicator.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../ui/ConnectionStatus.js';\nimport '../../ui/Icon.js';\nimport '../../ui/PlaceHolder.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-Dg8Q1yIF.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-FBWhhyW3.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\nimport './Message.js';\nimport '../../chunks/bundle-CAXTSiql.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-CbTjJHLv.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport '../../GroupChannel/components/SuggestedReplies.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-Ck65vtgI.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-CU9ItXV_.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../GroupChannel/components/UnreadCount.js';\nimport '../../GroupChannel/components/FrozenNotification.js';\nimport '../../chunks/bundle-Cn1EBKt6.js';\nimport '../../chunks/bundle-FtNvi0ib.js';\nimport '../../ui/TypingIndicatorBubble.js';\nimport '../../chunks/bundle-D2bCW01X.js';\nimport '../utils/getMessagePartsInfo.js';\nimport '../utils/compareMessagesForGrouping.js';\nimport '../../chunks/bundle-ChKVOZMC.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-B7FJxg4D.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\n\nvar ChannelUI = function (props) {\n    var context = useChannelContext();\n    var channelUrl = context.channelUrl, isInvalid = context.isInvalid;\n    // Inject components to presentation layer\n    var _a = deleteNullish(props), _b = _a.renderChannelHeader, renderChannelHeader = _b === void 0 ? function (p) { return React__default.createElement(ChannelHeader, __assign({}, p)); } : _b, _c = _a.renderMessageList, renderMessageList = _c === void 0 ? function (p) { return React__default.createElement(MessageList, __assign({}, p, { className: \"sendbird-conversation__message-list\" })); } : _c, _d = _a.renderMessageInput, renderMessageInput = _d === void 0 ? function () { return React__default.createElement(MessageInputWrapper, __assign({}, props)); } : _d;\n    return (React__default.createElement(GroupChannelUIView, __assign({}, props, context, { isLoading: props === null || props === void 0 ? void 0 : props.isLoading, isInvalid: isInvalid, channelUrl: channelUrl, renderChannelHeader: renderChannelHeader, renderMessageList: renderMessageList, renderMessageInput: renderMessageInput })));\n};\n\nexport { ChannelUI as default };\n//# sourceMappingURL=ChannelUI.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { G as GroupChannelHeaderView } from '../../chunks/bundle-Dg8Q1yIF.js';\nimport { useChannelContext } from '../context.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-FBWhhyW3.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar ChannelHeader = function (_a) {\n    var className = _a.className;\n    var context = useChannelContext();\n    return (React__default.createElement(GroupChannelHeaderView, __assign({}, context, { className: className, currentChannel: context.currentGroupChannel })));\n};\n\nexport { ChannelHeader, ChannelHeader as default };\n//# sourceMappingURL=ChannelHeader.js.map\n", "import React__default, { useState, useEffect } from 'react';\nimport { useChannelContext } from '../context.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport Message from './Message.js';\nimport { T as TypingIndicatorType } from '../../chunks/bundle-D-cVbGxk.js';\nimport { a as isAboutSame } from '../../chunks/bundle-Dt4PQi4u.js';\nimport { UnreadCount } from '../../GroupChannel/components/UnreadCount.js';\nimport { FrozenNotification } from '../../GroupChannel/components/FrozenNotification.js';\nimport { S as SCROLL_BUFFER } from '../../chunks/bundle-c4e24Qt4.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { u as useHandleOnScrollCallback } from '../../chunks/bundle-Cn1EBKt6.js';\nimport { u as useThrottleCallback } from '../../chunks/bundle-FtNvi0ib.js';\nimport TypingIndicatorBubble from '../../ui/TypingIndicatorBubble.js';\nimport { u as useOnScrollPositionChangeDetector } from '../../chunks/bundle-D2bCW01X.js';\nimport { getMessagePartsInfo } from '../utils/getMessagePartsInfo.js';\nimport { d as deleteNullish } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-CAXTSiql.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../withSendbird.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-CbTjJHLv.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport '../../GroupChannel/components/SuggestedReplies.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-Ck65vtgI.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-CU9ItXV_.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../utils/compareMessagesForGrouping.js';\n\nvar DELAY = 100;\nfunction useSetScrollToBottom(_a) {\n    var loading = _a.loading;\n    var _b = useState(0), scrollBottom = _b[0], setScrollBottom = _b[1];\n    useEffect(function () {\n        if (loading) {\n            setScrollBottom(0);\n        }\n    }, [loading]);\n    var scrollCb = function (e) {\n        var element = e.target;\n        try {\n            setScrollBottom(element.scrollHeight - element.scrollTop - element.offsetHeight);\n        }\n        catch (_a) {\n            //\n        }\n    };\n    return {\n        scrollBottom: scrollBottom,\n        scrollToBottomHandler: useThrottleCallback(scrollCb, DELAY, { trailing: true }),\n    };\n}\n\nfunction useScrollBehavior() {\n    var _a = useChannelContext(), scrollRef = _a.scrollRef, _b = _a.scrollBehavior, scrollBehavior = _b === void 0 ? 'auto' : _b;\n    useEffect(function () {\n        if (scrollRef.current) {\n            scrollRef.current.style.scrollBehavior = scrollBehavior;\n        }\n    }, [scrollRef.current]);\n    return null;\n}\n\n/* We operate the CSS files for Channel&GroupChannel modules in the GroupChannel */\nvar SCROLL_BOTTOM_PADDING = 50;\nvar MessageList = function (props) {\n    var _a, _b, _c, _d, _e;\n    var _f = props.className, className = _f === void 0 ? '' : _f;\n    var _g = deleteNullish(props), renderMessage = _g.renderMessage, renderMessageContent = _g.renderMessageContent, renderSuggestedReplies = _g.renderSuggestedReplies, renderCustomSeparator = _g.renderCustomSeparator, _h = _g.renderPlaceholderLoader, renderPlaceholderLoader = _h === void 0 ? function () { return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }); } : _h, _j = _g.renderPlaceholderEmpty, renderPlaceholderEmpty = _j === void 0 ? function () { return React__default.createElement(PlaceHolder, { className: \"sendbird-conversation__no-messages\", type: PlaceHolderTypes.NO_MESSAGES }); } : _j, _k = _g.renderFrozenNotification, renderFrozenNotification = _k === void 0 ? function () { return React__default.createElement(FrozenNotification, { className: \"sendbird-conversation__messages__notification\" }); } : _k;\n    var _l = useChannelContext(), allMessages = _l.allMessages, localMessages = _l.localMessages, hasMorePrev = _l.hasMorePrev, hasMoreNext = _l.hasMoreNext, setInitialTimeStamp = _l.setInitialTimeStamp, setAnimatedMessageId = _l.setAnimatedMessageId, setHighLightedMessageId = _l.setHighLightedMessageId, isMessageGroupingEnabled = _l.isMessageGroupingEnabled, scrollRef = _l.scrollRef, onScrollCallback = _l.onScrollCallback, onScrollDownCallback = _l.onScrollDownCallback, messagesDispatcher = _l.messagesDispatcher, messageActionTypes = _l.messageActionTypes, currentGroupChannel = _l.currentGroupChannel, disableMarkAsRead = _l.disableMarkAsRead, filterMessageList = _l.filterMessageList, replyType = _l.replyType, loading = _l.loading, isScrolled = _l.isScrolled, unreadSince = _l.unreadSince, unreadSinceDate = _l.unreadSinceDate, typingMembers = _l.typingMembers;\n    var store = useSendbirdStateContext();\n    var allMessagesFiltered = typeof filterMessageList === 'function' ? allMessages.filter(filterMessageList) : allMessages;\n    var markAsReadScheduler = store.config.markAsReadScheduler;\n    var _m = useState(false), isScrollBottom = _m[0], setIsScrollBottom = _m[1];\n    useScrollBehavior();\n    /**\n     * @param {function} callback callback from useHandleOnScrollCallback, it adjusts scroll position\n     * */\n    var onScroll = function (callback) {\n        var element = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n        if (element == null) {\n            return;\n        }\n        var scrollTop = element.scrollTop, clientHeight = element.clientHeight, scrollHeight = element.scrollHeight;\n        if (hasMorePrev && isAboutSame(scrollTop, 0, SCROLL_BUFFER)) {\n            onScrollCallback(callback);\n        }\n        if (hasMoreNext && isAboutSame(clientHeight + scrollTop, scrollHeight, SCROLL_BUFFER)) {\n            onScrollDownCallback(callback);\n        }\n        if (!disableMarkAsRead && isAboutSame(clientHeight + scrollTop, scrollHeight, SCROLL_BUFFER) && !!currentGroupChannel) {\n            messagesDispatcher({\n                type: messageActionTypes.MARK_AS_READ,\n                payload: { channel: currentGroupChannel },\n            });\n            markAsReadScheduler.push(currentGroupChannel);\n        }\n    };\n    var onClickScrollBot = function () {\n        var _a, _b;\n        setInitialTimeStamp === null || setInitialTimeStamp === void 0 ? void 0 : setInitialTimeStamp(null);\n        setAnimatedMessageId === null || setAnimatedMessageId === void 0 ? void 0 : setAnimatedMessageId(null);\n        setHighLightedMessageId === null || setHighLightedMessageId === void 0 ? void 0 : setHighLightedMessageId(null);\n        if (scrollRef.current && scrollRef.current.scrollTop > -1) {\n            scrollRef.current.scrollTop = ((_a = scrollRef.current.scrollHeight) !== null && _a !== void 0 ? _a : 0) - ((_b = scrollRef.current.offsetHeight) !== null && _b !== void 0 ? _b : 0);\n        }\n    };\n    /**\n     * 1. Move the messsage list scroll\n     *    when each message's height is changed by `reactions` OR `showEdit`\n     * 2. Keep the scrollBottom value after fetching new message list\n     */\n    var moveScroll = function (isBottomMessageAffected) {\n        if (isBottomMessageAffected === void 0) { isBottomMessageAffected = false; }\n        var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n        if (current) {\n            var bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n            if (scrollBottom < bottom && (!isBottomMessageAffected || scrollBottom < SCROLL_BUFFER)) {\n                // Move the scroll as much as the height of the message has changed\n                current.scrollTop += bottom - scrollBottom;\n            }\n        }\n    };\n    var handleOnScroll = useHandleOnScrollCallback({\n        hasMore: hasMorePrev,\n        hasNext: hasMoreNext,\n        onScroll: onScroll,\n        scrollRef: scrollRef,\n    });\n    var onScrollReachedEndDetector = useOnScrollPositionChangeDetector({\n        onReachedBottom: function () {\n            /**\n             * Note that this event is already being called in onScroll() above. However, it is only being called when\n             * hasMoreNext is true but it needs to be called when hasNext is false when reached bottom as well.\n             */\n            if (!hasMoreNext && !disableMarkAsRead && !!currentGroupChannel) {\n                messagesDispatcher({\n                    type: messageActionTypes.MARK_AS_READ,\n                    payload: { channel: currentGroupChannel },\n                });\n                markAsReadScheduler.push(currentGroupChannel);\n            }\n            setIsScrollBottom(true);\n        },\n        onReachedTop: function () {\n            setIsScrollBottom(false);\n        },\n        onInBetween: function () {\n            setIsScrollBottom(false);\n        },\n    });\n    var _o = useSetScrollToBottom({ loading: loading }), scrollToBottomHandler = _o.scrollToBottomHandler, scrollBottom = _o.scrollBottom;\n    if (loading) {\n        return renderPlaceholderLoader();\n    }\n    if (allMessagesFiltered.length < 1) {\n        return renderPlaceholderEmpty();\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        !isScrolled && React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }),\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__messages \".concat(className) },\n            React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-container\" },\n                React__default.createElement(\"div\", { className: \"sendbird-conversation__padding\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-conversation__messages-padding\", \"data-testid\": \"sendbird-message-list-container\", ref: scrollRef, onScroll: function (e) {\n                        handleOnScroll();\n                        scrollToBottomHandler(e);\n                        onScrollReachedEndDetector(e);\n                    } },\n                    allMessagesFiltered.map(function (m, idx) {\n                        var _a, _b;\n                        var _c = getMessagePartsInfo({\n                            allMessages: allMessagesFiltered,\n                            replyType: replyType,\n                            isMessageGroupingEnabled: isMessageGroupingEnabled,\n                            currentIndex: idx,\n                            currentMessage: m,\n                            currentChannel: currentGroupChannel,\n                        }), chainTop = _c.chainTop, chainBottom = _c.chainBottom, hasSeparator = _c.hasSeparator;\n                        var isByMe = ((_a = m === null || m === void 0 ? void 0 : m.sender) === null || _a === void 0 ? void 0 : _a.userId) === ((_b = store === null || store === void 0 ? void 0 : store.config) === null || _b === void 0 ? void 0 : _b.userId);\n                        return (React__default.createElement(MessageProvider, { message: m, key: m === null || m === void 0 ? void 0 : m.messageId, isByMe: isByMe },\n                            React__default.createElement(Message, { handleScroll: moveScroll, message: m, hasSeparator: hasSeparator, chainTop: chainTop, chainBottom: chainBottom, renderMessageContent: renderMessageContent, renderSuggestedReplies: renderSuggestedReplies, renderCustomSeparator: renderCustomSeparator, \n                                // backward compatibility\n                                renderMessage: renderMessage })));\n                    }),\n                    localMessages.map(function (m, idx) {\n                        var _a, _b;\n                        var _c = getMessagePartsInfo({\n                            allMessages: allMessagesFiltered,\n                            replyType: replyType,\n                            isMessageGroupingEnabled: isMessageGroupingEnabled,\n                            currentIndex: idx,\n                            currentMessage: m,\n                            currentChannel: currentGroupChannel,\n                        }), chainTop = _c.chainTop, chainBottom = _c.chainBottom;\n                        var isByMe = ((_a = m === null || m === void 0 ? void 0 : m.sender) === null || _a === void 0 ? void 0 : _a.userId) === ((_b = store === null || store === void 0 ? void 0 : store.config) === null || _b === void 0 ? void 0 : _b.userId);\n                        return (React__default.createElement(MessageProvider, { message: m, key: m === null || m === void 0 ? void 0 : m.messageId, isByMe: isByMe },\n                            React__default.createElement(Message, { handleScroll: moveScroll, message: m, chainTop: chainTop, chainBottom: chainBottom, renderMessageContent: renderMessageContent, renderSuggestedReplies: renderSuggestedReplies, renderCustomSeparator: renderCustomSeparator, \n                                // backward compatibility\n                                renderMessage: renderMessage })));\n                    }),\n                    !hasMoreNext\n                        && ((_b = (_a = store === null || store === void 0 ? void 0 : store.config) === null || _a === void 0 ? void 0 : _a.groupChannel) === null || _b === void 0 ? void 0 : _b.enableTypingIndicator)\n                        && ((_e = (_d = (_c = store === null || store === void 0 ? void 0 : store.config) === null || _c === void 0 ? void 0 : _c.groupChannel) === null || _d === void 0 ? void 0 : _d.typingIndicatorTypes) === null || _e === void 0 ? void 0 : _e.has(TypingIndicatorType.Bubble)) && (React__default.createElement(TypingIndicatorBubble, { typingMembers: typingMembers, handleScroll: moveScroll })))),\n            (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.isFrozen) && renderFrozenNotification(),\n            /**\n             * Show unread count IFF scroll is not bottom or is bottom but hasNext is true.\n             */\n            (!isScrollBottom || hasMoreNext) && (unreadSince || unreadSinceDate) && (React__default.createElement(UnreadCount, { className: \"sendbird-conversation__messages__notification\", count: currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.unreadMessageCount, time: unreadSince, lastReadAt: unreadSinceDate, onClick: function () {\n                    if (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current)\n                        scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n                    if (!disableMarkAsRead && !!currentGroupChannel) {\n                        markAsReadScheduler.push(currentGroupChannel);\n                        messagesDispatcher({\n                            type: messageActionTypes.MARK_AS_READ,\n                            payload: { channel: currentGroupChannel },\n                        });\n                    }\n                    setInitialTimeStamp(null);\n                    setAnimatedMessageId(null);\n                    setHighLightedMessageId(null);\n                } })),\n            // This flag is an unmatched variable\n            scrollBottom > SCROLL_BOTTOM_PADDING && (React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-bottom-button\", onClick: onClickScrollBot, onKeyDown: onClickScrollBot, tabIndex: 0, role: \"button\" },\n                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.PRIMARY }))))));\n};\n\nexport { MessageList, MessageList as default };\n//# sourceMappingURL=MessageList.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useChannelContext } from '../context.js';\nimport { g as getSuggestedReplies } from '../../chunks/bundle-D-cVbGxk.js';\nimport { b as isDisabledBecauseFrozen, c as isDisabledBecauseMuted } from '../../chunks/bundle-Dt4PQi4u.js';\nimport { M as MessageView } from '../../chunks/bundle-CAXTSiql.js';\nimport { FileViewer } from './FileViewer.js';\nimport RemoveMessageModal from './RemoveMessageModal.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-CbTjJHLv.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport '../../GroupChannel/components/SuggestedReplies.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-Ck65vtgI.js';\nimport '../../chunks/bundle-CU9ItXV_.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\n\nvar Message = function (props) {\n    var _a, _b, _c;\n    var config = useSendbirdStateContext().config;\n    var _d = useChannelContext(), initialized = _d.initialized, currentGroupChannel = _d.currentGroupChannel, animatedMessageId = _d.animatedMessageId, setAnimatedMessageId = _d.setAnimatedMessageId, updateMessage = _d.updateMessage, scrollToMessage = _d.scrollToMessage, replyType = _d.replyType, threadReplySelectType = _d.threadReplySelectType, isReactionEnabled = _d.isReactionEnabled, toggleReaction = _d.toggleReaction, emojiContainer = _d.emojiContainer, nicknamesMap = _d.nicknamesMap, setQuoteMessage = _d.setQuoteMessage, resendMessage = _d.resendMessage, deleteMessage = _d.deleteMessage, renderUserMentionItem = _d.renderUserMentionItem, onReplyInThread = _d.onReplyInThread, onQuoteMessageClick = _d.onQuoteMessageClick, onMessageAnimated = _d.onMessageAnimated, sendMessage = _d.sendMessage, localMessages = _d.localMessages;\n    var message = props.message;\n    if (!currentGroupChannel)\n        return null;\n    return (React__default.createElement(MessageView, __assign({}, props, { channel: currentGroupChannel, emojiContainer: emojiContainer, editInputDisabled: !initialized || isDisabledBecauseFrozen(currentGroupChannel) || isDisabledBecauseMuted(currentGroupChannel) || !config.isOnline, shouldRenderSuggestedReplies: ((_a = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _a === void 0 ? void 0 : _a.enableSuggestedReplies)\n            && (((_b = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _b === void 0 ? void 0 : _b.showSuggestedRepliesFor) === 'all_messages'\n                ? true\n                : message.messageId === ((_c = currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.lastMessage) === null || _c === void 0 ? void 0 : _c.messageId))\n            // the options should appear only when there's no failed or pending messages\n            && (localMessages === null || localMessages === void 0 ? void 0 : localMessages.length) === 0\n            && getSuggestedReplies(message).length > 0, isReactionEnabled: isReactionEnabled, replyType: replyType, threadReplySelectType: threadReplySelectType, nicknamesMap: nicknamesMap, renderUserMentionItem: renderUserMentionItem, scrollToMessage: scrollToMessage, toggleReaction: toggleReaction, setQuoteMessage: setQuoteMessage, onQuoteMessageClick: onQuoteMessageClick, onReplyInThreadClick: onReplyInThread, sendUserMessage: function (params) {\n            sendMessage({\n                message: params.message,\n                mentionedUsers: params.mentionedUsers,\n                mentionTemplate: params.mentionedMessageTemplate,\n            });\n        }, updateUserMessage: function (messageId, params) {\n            var _a;\n            updateMessage({\n                messageId: messageId,\n                message: (_a = params.message) !== null && _a !== void 0 ? _a : '',\n                mentionedUsers: params.mentionedUsers,\n                mentionTemplate: params.mentionedMessageTemplate,\n            });\n        }, resendMessage: resendMessage, deleteMessage: deleteMessage, animatedMessageId: animatedMessageId, setAnimatedMessageId: setAnimatedMessageId, onMessageAnimated: onMessageAnimated, renderFileViewer: function (props) { return React__default.createElement(FileViewer, __assign({}, props)); }, renderRemoveMessageModal: function (props) { return React__default.createElement(RemoveMessageModal, __assign({}, props)); } })));\n};\n\nexport { Message as default };\n//# sourceMappingURL=Message.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { F as FileViewerView } from '../../chunks/bundle-Ck65vtgI.js';\nimport { useChannelContext } from '../context.js';\nimport 'react-dom';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar FileViewer = function (props) {\n    var deleteMessage = useChannelContext().deleteMessage;\n    return React__default.createElement(FileViewerView, __assign({}, props, { deleteMessage: deleteMessage }));\n};\n\nexport { FileViewer, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { R as RemoveMessageModalView } from '../../chunks/bundle-CU9ItXV_.js';\nimport { useChannelContext } from '../context.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar RemoveMessageModal = function (props) {\n    var deleteMessage = useChannelContext().deleteMessage;\n    return React__default.createElement(RemoveMessageModalView, __assign({}, props, { deleteMessage: deleteMessage }));\n};\n\nexport { RemoveMessageModal as default };\n//# sourceMappingURL=RemoveMessageModal.js.map\n", "import { S as SCROLL_BUFFER } from './bundle-c4e24Qt4.js';\nimport { u as useThrottleCallback } from './bundle-FtNvi0ib.js';\nimport { a as isAboutSame } from './bundle-Dt4PQi4u.js';\nimport { usePreservedCallback } from '@sendbird/uikit-tools';\n\nvar DELAY = 100;\nfunction calcScrollBottom(scrollHeight, scrollTop) {\n    return scrollHeight - scrollTop;\n}\nfunction useHandleOnScrollCallback(_a) {\n    var hasMore = _a.hasMore, hasNext = _a.hasNext, onScroll = _a.onScroll, scrollRef = _a.scrollRef, setShowScrollDownButton = _a.setShowScrollDownButton;\n    var scrollCb = usePreservedCallback(function () {\n        var element = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n        if (element == null)\n            return;\n        var scrollTop = element.scrollTop, scrollHeight = element.scrollHeight, clientHeight = element.clientHeight;\n        // https://sendbird.atlassian.net/browse/SBISSUE-11759\n        // the edge case where channel is inside a page that already has scroll\n        // scrollintoView will move the whole page, which we dont want\n        var scrollBottom = calcScrollBottom(scrollHeight, scrollTop);\n        // even if there is more to fetch or not,\n        // we still have to show the scroll to bottom button\n        if (typeof setShowScrollDownButton === 'function') {\n            setShowScrollDownButton(scrollHeight > scrollTop + clientHeight + 1);\n        }\n        // Load previous messages\n        // 1. check if hasMore(hasPrevious) and reached to top\n        // 2. load previous messages (onScroll)\n        // 3. maintain scroll position (sets the scroll position to the bottom of the new messages)\n        if (hasMore && isAboutSame(scrollTop, 0, SCROLL_BUFFER)) {\n            onScroll(function () {\n                var messagesAreAddedToView = element.scrollHeight > scrollHeight;\n                if (messagesAreAddedToView)\n                    element.scrollTop = element.scrollHeight - scrollBottom;\n            });\n        }\n        // Load next messages\n        // 1. check if hasNext and reached to bottom\n        // 2. load next messages (onScroll)\n        // 3. maintain scroll position (sets the scroll position to the top of the new messages)\n        if (hasNext && isAboutSame(clientHeight + scrollTop, scrollHeight, SCROLL_BUFFER)) {\n            onScroll(function () {\n                var messagesAreAddedToView = element.scrollHeight > scrollHeight;\n                if (messagesAreAddedToView)\n                    element.scrollTop = scrollTop;\n            });\n        }\n    });\n    return useThrottleCallback(scrollCb, DELAY, { trailing: true });\n}\n\nexport { useHandleOnScrollCallback as u };\n//# sourceMappingURL=bundle-Cn1EBKt6.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { M as MessageInputWrapperView } from '../../chunks/bundle-ChKVOZMC.js';\nimport { useChannelContext } from '../context.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-B7FJxg4D.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ProgressBar.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-CSRcmLyk.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar MessageInputWrapper = function (props) {\n    var context = useChannelContext();\n    var quoteMessage = context.quoteMessage, currentGroupChannel = context.currentGroupChannel, sendMessage = context.sendMessage, sendFileMessage = context.sendFileMessage, sendVoiceMessage = context.sendVoiceMessage, sendMultipleFilesMessage = context.sendMultipleFilesMessage;\n    return (React__default.createElement(MessageInputWrapperView, __assign({}, props, context, { currentChannel: currentGroupChannel, sendUserMessage: function (params) {\n            return sendMessage({\n                message: params.message,\n                mentionTemplate: params.mentionedMessageTemplate,\n                mentionedUsers: params.mentionedUsers,\n                quoteMessage: quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined,\n            });\n        }, sendFileMessage: function (params) {\n            return sendFileMessage(params.file, quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined);\n        }, sendVoiceMessage: function (_a, duration) {\n            var file = _a.file;\n            return sendVoiceMessage(file, duration, quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined);\n        }, sendMultipleFilesMessage: function (_a) {\n            var fileInfoList = _a.fileInfoList;\n            return sendMultipleFilesMessage(fileInfoList.map(function (fileInfo) { return fileInfo.file; }), quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined);\n        } })));\n};\n\nexport { MessageInputWrapper, MessageInputWrapper as default };\n//# sourceMappingURL=MessageInput.js.map\n", "import { _ as __assign } from './chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { C as ChannelListProvider } from './chunks/bundle-CQgNYKRd.js';\nimport ChannelListUI from './ChannelList/components/ChannelListUI.js';\nimport '@sendbird/chat/groupChannel';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-DPf4rz9k.js';\nimport './ChannelList/components/ChannelPreview.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-j0SR3DhQ.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './ui/Loader.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './chunks/bundle-R159x0xi.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './ui/Badge.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './ui/MentionUserLabel.js';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-DO8nji3n.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport './ui/SortByRow.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './GroupChannelList/components/GroupChannelPreviewAction.js';\nimport './chunks/bundle-B2Vy0FIf.js';\nimport './GroupChannelList/components/GroupChannelListHeader.js';\nimport './ui/Header.js';\nimport './EditUserProfile.js';\nimport './EditUserProfile/context.js';\nimport './EditUserProfile/components/EditUserProfileUI.js';\nimport './chunks/bundle-egkx7NWB.js';\nimport './ui/Input.js';\nimport './ui/PlaceHolder.js';\nimport './chunks/bundle-D2bCW01X.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport './chunks/bundle-FtNvi0ib.js';\nimport './ChannelList/components/AddChannel.js';\nimport './chunks/bundle-CcvIdULa.js';\nimport './CreateChannel.js';\nimport './CreateChannel/components/CreateChannelUI.js';\nimport './chunks/bundle-CM1oxZtw.js';\nimport './sendbirdSelectors.js';\nimport './CreateChannel/components/InviteUsers.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './CreateChannel/components/SelectChannelType.js';\n\n/**\n * @deprecated This component is deprecated and will be removed in the next major update.\n * Please use the `GroupChannelList` component from '@sendbird/uikit-react/GroupChannelList' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelList = function (props) {\n    return (React__default.createElement(ChannelListProvider, __assign({}, props),\n        React__default.createElement(ChannelListUI, __assign({}, props))));\n};\n\nexport { ChannelList as default };\n//# sourceMappingURL=ChannelList.js.map\n", "import { _ as __assign, c as __spreadArray, a as __awaiter, b as __generator } from './bundle-B1SLZ0HT.js';\nimport React__default, { useEffect, useCallback, useReducer, useState, useMemo, useContext } from 'react';\nimport { GroupChannelHandler, GroupChannelListOrder } from '@sendbird/chat/groupChannel';\nimport { p as pubSubTopics } from './bundle-DZhG3Z6D.js';\nimport { u as uuidv4 } from './bundle-Cvt9FZvn.js';\nimport { n as noop } from './bundle-CtBgdgkK.js';\nimport { D as DELIVERY_RECEIPT$1 } from './bundle-c4e24Qt4.js';\nimport { U as UserProfileProvider } from './bundle-BKxPk2t0.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { K, $ as filterChannelListParams, a0 as getChannelsWithUpsertedChannel, a1 as S, a2 as isChannelJustCreated } from './bundle-D-cVbGxk.js';\nimport { u as useReconnectOnIdle } from './bundle-DPf4rz9k.js';\n\nvar RESET_CHANNEL_LIST = 'RESET_CHANNEL_LIST';\nvar CREATE_CHANNEL = 'CREATE_CHANNEL';\nvar LEAVE_CHANNEL_SUCCESS = 'LEAVE_CHANNEL_SUCCESS';\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar FETCH_CHANNELS_START = 'FETCH_CHANNELS_START';\nvar FETCH_CHANNELS_SUCCESS = 'FETCH_CHANNELS_SUCCESS';\nvar FETCH_CHANNELS_FAILURE = 'FETCH_CHANNELS_FAILURE';\nvar INIT_CHANNELS_START = 'INIT_CHANNELS_START';\nvar INIT_CHANNELS_SUCCESS = 'INIT_CHANNELS_SUCCESS';\nvar REFRESH_CHANNELS_SUCCESS = 'REFRESH_CHANNELS_SUCCESS';\nvar INIT_CHANNELS_FAILURE = 'INIT_CHANNELS_FAILURE';\nvar ON_USER_JOINED = 'ON_USER_JOINED';\nvar ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nvar ON_LAST_MESSAGE_UPDATED = 'ON_LAST_MESSAGE_UPDATED';\nvar ON_USER_LEFT = 'ON_USER_LEFT';\nvar ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\nvar ON_CHANNEL_ARCHIVED = 'ON_CHANNEL_ARCHIVED';\nvar ON_CHANNEL_FROZEN = 'ON_CHANNEL_FROZEN';\nvar ON_CHANNEL_UNFROZEN = 'ON_CHANNEL_UNFROZEN';\nvar ON_READ_RECEIPT_UPDATED = 'ON_READ_RECEIPT_UPDATED';\nvar ON_DELIVERY_RECEIPT_UPDATED = 'ON_DELIVERY_RECEIPT_UPDATED';\nvar CHANNEL_LIST_PARAMS_UPDATED = 'CHANNEL_LIST_PARAMS_UPDATED';\n\nvar DELIVERY_RECEIPT = 'delivery_receipt';\nvar createEventHandler = function (_a) {\n    var sdk = _a.sdk, sdkChannelHandlerId = _a.sdkChannelHandlerId, channelListDispatcher = _a.channelListDispatcher, logger = _a.logger;\n    var ChannelHandler = new GroupChannelHandler({\n        onChannelChanged: function (channel) {\n            if (channel.isGroupChannel()) {\n                logger.info('ChannelList: onChannelChanged', channel);\n                channelListDispatcher({\n                    type: ON_CHANNEL_CHANGED,\n                    payload: channel,\n                });\n            }\n        },\n        onChannelDeleted: function (channelUrl) {\n            logger.info('ChannelList: onChannelDeleted', channelUrl);\n            channelListDispatcher({\n                type: ON_CHANNEL_DELETED,\n                payload: channelUrl,\n            });\n        },\n        onUserJoined: function (channel) {\n            logger.info('ChannelList: onUserJoined', channel);\n            channelListDispatcher({\n                type: ON_USER_JOINED,\n                payload: channel,\n            });\n        },\n        onUserBanned: function (channel, user) {\n            var _a;\n            if (channel.isGroupChannel()) {\n                logger.info('Channel: onUserBanned', channel);\n                var isMe = user.userId === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n                channelListDispatcher({\n                    type: ON_USER_LEFT,\n                    payload: { channel: channel, isMe: isMe },\n                });\n            }\n        },\n        onUserLeft: function (channel, user) {\n            var _a;\n            logger.info('ChannelList: onUserLeft', channel);\n            var isMe = user.userId === ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId);\n            channelListDispatcher({\n                type: ON_USER_LEFT,\n                payload: { channel: channel, isMe: isMe },\n            });\n        },\n        onUnreadMemberStatusUpdated: function (channel) {\n            logger.info('ChannelList: onUnreadMemberStatusUpdated', channel);\n            channelListDispatcher({\n                type: ON_READ_RECEIPT_UPDATED,\n                payload: channel,\n            });\n        },\n        onUndeliveredMemberStatusUpdated: function (channel) {\n            logger.info('ChannelList: onUndeliveredMemberStatusUpdated', channel);\n            if (channel.lastMessage) {\n                channelListDispatcher({\n                    type: ON_DELIVERY_RECEIPT_UPDATED,\n                    payload: channel,\n                });\n            }\n        },\n        onMessageUpdated: function (channel, message) {\n            var _a;\n            if (channel.isGroupChannel() && ((_a = channel.lastMessage) === null || _a === void 0 ? void 0 : _a.isEqual(message))) {\n                logger.info('ChannelList: onMessageUpdated', channel);\n                channelListDispatcher({\n                    type: ON_LAST_MESSAGE_UPDATED,\n                    payload: channel,\n                });\n            }\n        },\n        onChannelHidden: function (channel) {\n            logger.info('ChannelList: onChannelHidden', channel);\n            channelListDispatcher({\n                type: ON_CHANNEL_ARCHIVED,\n                payload: channel,\n            });\n        },\n        onChannelFrozen: function (channel) {\n            if (channel.isGroupChannel()) {\n                logger.info('ChannelList: onChannelFrozen', channel);\n                channelListDispatcher({\n                    type: ON_CHANNEL_FROZEN,\n                    payload: channel,\n                });\n            }\n        },\n        onChannelUnfrozen: function (channel) {\n            if (channel.isGroupChannel()) {\n                logger.info('ChannelList: onChannelUnfrozen', channel);\n                channelListDispatcher({\n                    type: ON_CHANNEL_UNFROZEN,\n                    payload: channel,\n                });\n            }\n        },\n    });\n    logger.info('ChannelList: Added channelHandler');\n    sdk.groupChannel.addGroupChannelHandler(sdkChannelHandlerId, ChannelHandler);\n};\nvar createChannelListQuery = function (_a) {\n    var sdk = _a.sdk, _b = _a.userFilledChannelListQuery, userFilledChannelListQuery = _b === void 0 ? {} : _b;\n    var params = {\n        includeEmpty: false,\n        limit: 20, // The value of pagination limit could be set up to 100.\n        order: GroupChannelListOrder.LATEST_LAST_MESSAGE,\n    };\n    if (userFilledChannelListQuery) {\n        Object.keys(userFilledChannelListQuery).forEach(function (key) {\n            // @ts-ignore\n            params[key] = userFilledChannelListQuery[key];\n        });\n    }\n    return sdk.groupChannel.createMyGroupChannelListQuery(params);\n};\nfunction setupChannelList(_a) {\n    var _b, _c, _d, _e;\n    var sdk = _a.sdk, sdkChannelHandlerId = _a.sdkChannelHandlerId, channelListDispatcher = _a.channelListDispatcher, setChannelSource = _a.setChannelSource, onChannelSelect = _a.onChannelSelect, userFilledChannelListQuery = _a.userFilledChannelListQuery, logger = _a.logger, sortChannelList = _a.sortChannelList, disableAutoSelect = _a.disableAutoSelect, markAsDeliveredScheduler = _a.markAsDeliveredScheduler, disableMarkAsDelivered = _a.disableMarkAsDelivered;\n    if (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) {\n        createEventHandler({\n            sdk: sdk,\n            channelListDispatcher: channelListDispatcher,\n            sdkChannelHandlerId: sdkChannelHandlerId,\n            logger: logger,\n        });\n    }\n    else {\n        logger.warning('ChannelList - createEventHandler: sdk or sdk.ChannelHandler does not exist', sdk);\n    }\n    logger.info('ChannelList - creating query', { userFilledChannelListQuery: userFilledChannelListQuery });\n    var channelListQuery = createChannelListQuery({ sdk: sdk, userFilledChannelListQuery: userFilledChannelListQuery });\n    logger.info('ChannelList - created query', channelListQuery);\n    setChannelSource(channelListQuery);\n    channelListDispatcher({\n        type: INIT_CHANNELS_START,\n        payload: {\n            currentUserId: (_c = (_b = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _b === void 0 ? void 0 : _b.userId) !== null && _c !== void 0 ? _c : '',\n        },\n    });\n    if (userFilledChannelListQuery) {\n        logger.info('ChannelList - setting up channelListQuery', channelListQuery);\n        channelListDispatcher({\n            type: CHANNEL_LIST_PARAMS_UPDATED,\n            payload: {\n                channelListQuery: channelListQuery,\n                currentUserId: (_e = (_d = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _d === void 0 ? void 0 : _d.userId) !== null && _e !== void 0 ? _e : '',\n            },\n        });\n    }\n    logger.info('ChannelList - fetching channels');\n    if (channelListQuery.hasNext) {\n        channelListQuery\n            .next()\n            .then(function (channelList) {\n            var _a, _b;\n            logger.info('ChannelList - fetched channels', channelList);\n            // select first channel\n            logger.info('ChannelList - highlight channel', channelList[0]);\n            var sortedChannelList = channelList;\n            if (sortChannelList && typeof sortChannelList === 'function') {\n                sortedChannelList = sortChannelList(channelList);\n                logger.info('ChannelList - channel list sorted', sortedChannelList);\n            }\n            if (!disableAutoSelect) {\n                onChannelSelect === null || onChannelSelect === void 0 ? void 0 : onChannelSelect(sortedChannelList[0]);\n            }\n            channelListDispatcher({\n                type: INIT_CHANNELS_SUCCESS,\n                payload: {\n                    channelList: sortedChannelList,\n                    disableAutoSelect: disableAutoSelect,\n                },\n            });\n            var canSetMarkAsDelivered = (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.premiumFeatureList) === null || _b === void 0 ? void 0 : _b.find(function (feature) { return feature === DELIVERY_RECEIPT; });\n            if (canSetMarkAsDelivered && !disableMarkAsDelivered) {\n                sortedChannelList.forEach(function (channel) {\n                    markAsDeliveredScheduler.push(channel);\n                });\n            }\n        })\n            .catch(function (err) {\n            if (err) {\n                logger.error('ChannelList - couldnt fetch channels', err);\n                channelListDispatcher({\n                    type: INIT_CHANNELS_FAILURE,\n                });\n            }\n        });\n    }\n    else {\n        logger.info('ChannelList - there are no more channels');\n    }\n}\nvar pubSubHandleRemover = function (subscriber) {\n    subscriber.forEach(function (s) {\n        try {\n            s.remove();\n        }\n        catch (_a) {\n            //\n        }\n    });\n};\nvar pubSubHandler = function (pubSub, channelListDispatcher) {\n    var subscriber = new Map();\n    if (!pubSub)\n        return subscriber;\n    subscriber.set(pubSubTopics.CREATE_CHANNEL, pubSub.subscribe(pubSubTopics.CREATE_CHANNEL, function (_a) {\n        var channel = _a.channel;\n        channelListDispatcher({\n            type: CREATE_CHANNEL,\n            payload: channel,\n        });\n    }));\n    subscriber.set(pubSubTopics.UPDATE_USER_MESSAGE, pubSub.subscribe(pubSubTopics.UPDATE_USER_MESSAGE, function (_a) {\n        var _b;\n        var channel = _a.channel, message = _a.message;\n        if (channel.isGroupChannel() && ((_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.messageId) === message.messageId) {\n            channel.lastMessage = message;\n            channelListDispatcher({\n                type: ON_LAST_MESSAGE_UPDATED,\n                payload: channel,\n            });\n        }\n    }));\n    subscriber.set(pubSubTopics.LEAVE_CHANNEL, pubSub.subscribe(pubSubTopics.LEAVE_CHANNEL, function (msg) {\n        var channel = msg.channel;\n        channelListDispatcher({\n            type: LEAVE_CHANNEL_SUCCESS,\n            payload: channel === null || channel === void 0 ? void 0 : channel.url,\n        });\n    }));\n    return subscriber;\n};\n\n/**\n * NOTICE: Use this function IF the current channel is removed from allChannels.\n * This function will give you the next currentChannel value.\n */\nvar getNextChannel = function (_a) {\n    var channel = _a.channel, currentChannel = _a.currentChannel, allChannels = _a.allChannels, disableAutoSelect = _a.disableAutoSelect;\n    var nextChannel = null;\n    if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === channel.url) {\n        if (!disableAutoSelect && allChannels.length > 0) {\n            var firstChannel = allChannels[0], _b = allChannels[1], secondChannel = _b === void 0 ? null : _b;\n            nextChannel = firstChannel.url === channel.url ? secondChannel : firstChannel;\n        }\n    }\n    else {\n        nextChannel = currentChannel;\n    }\n    return nextChannel;\n};\n\nvar initialState = {\n    // we might not need this initialized state -> should remove\n    initialized: false,\n    loading: true,\n    allChannels: [],\n    currentChannel: null,\n    channelListQuery: null,\n    currentUserId: '',\n    disableAutoSelect: false,\n};\n\nfunction channelListReducer(state, action) {\n    return (K(action)\n        .with({ type: INIT_CHANNELS_START }, function (_a) {\n        var payload = _a.payload;\n        return (__assign(__assign({}, state), { loading: true, currentUserId: payload.currentUserId }));\n    })\n        .with({ type: RESET_CHANNEL_LIST }, function () {\n        return initialState;\n    })\n        .with({ type: INIT_CHANNELS_SUCCESS }, function (action) {\n        var _a = action.payload, channelList = _a.channelList, disableAutoSelect = _a.disableAutoSelect;\n        return __assign(__assign({}, state), { initialized: true, loading: false, allChannels: channelList, disableAutoSelect: disableAutoSelect, currentChannel: !disableAutoSelect && channelList && channelList.length && channelList.length > 0 ? channelList[0] : state.currentChannel });\n    })\n        .with({ type: REFRESH_CHANNELS_SUCCESS }, function (action) {\n        var _a = action.payload, channelList = _a.channelList, currentChannel = _a.currentChannel;\n        return __assign(__assign({}, state), { loading: false, allChannels: channelList, currentChannel: currentChannel });\n    })\n        .with({ type: FETCH_CHANNELS_SUCCESS }, function (action) {\n        var currentChannels = state.allChannels.map(function (c) { return c.url; });\n        var filteredChannels = action.payload.filter(function (_a) {\n            var url = _a.url;\n            return !currentChannels.find(function (c) { return c === url; });\n        });\n        return __assign(__assign({}, state), { allChannels: __spreadArray(__spreadArray([], state.allChannels, true), filteredChannels, true) });\n    })\n        .with({ type: CREATE_CHANNEL }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, channelListQuery = state.channelListQuery;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to add to the ChannelList\n                return __assign(__assign({}, state), { currentChannel: channel, allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // Do not add to the ChannelList\n            return __assign(__assign({}, state), { currentChannel: channel });\n        }\n        // No channelListQuery\n        // Add to the top of the ChannelList\n        return __assign(__assign({}, state), { currentChannel: channel, allChannels: __spreadArray([channel], allChannels.filter(function (ch) { return ch.url !== (channel === null || channel === void 0 ? void 0 : channel.url); }), true) });\n    })\n        // A hidden channel will be unhidden when getting new message\n        .with({ type: ON_CHANNEL_ARCHIVED }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // * Remove the channel from the ChannelList: because the channel is filtered\n        }\n        // No channelListQuery\n        // * Remove the channel from the ChannelList: because the channel is hidden\n        // Replace the currentChannel if it's filtered or hidden\n        var nextChannel = getNextChannel({\n            channel: channel,\n            currentChannel: currentChannel,\n            allChannels: allChannels,\n            disableAutoSelect: disableAutoSelect,\n        });\n        return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                var url = _a.url;\n                return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n            }) });\n    })\n        .with({ type: S.union(LEAVE_CHANNEL_SUCCESS, ON_CHANNEL_DELETED) }, function (action) {\n        var _a;\n        var channelUrl = action.payload;\n        var allChannels = state.allChannels.filter(function (_a) {\n            var url = _a.url;\n            return url !== channelUrl;\n        });\n        return __assign(__assign({}, state), { currentChannel: channelUrl === ((_a = state.currentChannel) === null || _a === void 0 ? void 0 : _a.url) ? allChannels[0] : state.currentChannel, allChannels: allChannels });\n    })\n        .with({ type: ON_USER_LEFT }, function (action) {\n        var _a;\n        var _b = action.payload, channel = _b.channel, isMe = _b.isMe;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        var nextChannels = __spreadArray([], allChannels, true);\n        var nextChannel = channel;\n        /**\n         * 1. If I left channel:\n         *   - Remove the channel from channel list\n         *   - Replace currentChannel with the next ordered channel\n         * 2. If other member left channel:\n         *   2-1. If query is given:\n         *     2-1-1. If channel no longer matches the query\n         *       - Same as step 1\n         *     2-1-2. If channel matches the query:\n         *       - Upsert channel list with the channel\n         *       - Replace currentChannel IFF url is same\n         *   2-2. If query is not given,\n         *     - Same as step 2-1-2\n         */\n        /* `1` and `2-1-1` */\n        if (isMe || (channelListQuery && !filterChannelListParams(channelListQuery, channel, currentUserId))) {\n            var channelAt = allChannels.findIndex(function (ch) { return ch.url === channel.url; });\n            if (channelAt > -1) {\n                nextChannels.splice(channelAt, 1);\n                nextChannel = getNextChannel({\n                    channel: channel,\n                    currentChannel: currentChannel,\n                    allChannels: allChannels,\n                    disableAutoSelect: disableAutoSelect,\n                });\n            }\n        }\n        else {\n            /* `2-1-2` and `2-2` */\n            nextChannels = getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order);\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === channel.url) {\n                nextChannel = channel;\n            }\n        }\n        return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: nextChannels });\n    })\n        .with({\n        type: S.union(ON_USER_JOINED, ON_CHANNEL_CHANGED, ON_READ_RECEIPT_UPDATED, ON_DELIVERY_RECEIPT_UPDATED),\n    }, function (action) {\n        var _a, _b, _c;\n        var channel = action.payload;\n        var _d = state.allChannels, allChannels = _d === void 0 ? [] : _d, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        var unreadMessageCount = channel.unreadMessageCount;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // If the channel is just created and the current user is the only member,\n            // don't add to the ChannelList but keep the currentChannel\n            if (isChannelJustCreated(channel)) {\n                return state;\n            }\n            // Filter the channel from the ChannelList\n            // Replace the currentChannel if it's filtered channel\n            var nextChannel = getNextChannel({\n                channel: channel,\n                currentChannel: currentChannel,\n                allChannels: allChannels,\n                disableAutoSelect: disableAutoSelect,\n            });\n            return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                    var url = _a.url;\n                    return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n                }) });\n        }\n        if (\n        // When marking as read the channel\n        unreadMessageCount === 0\n            // @ts-ignore - When sending a message by the current peer\n            && ((_c = (_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.sender) === null || _c === void 0 ? void 0 : _c.userId) !== currentUserId) {\n            // Don't move to the top\n            return __assign(__assign({}, state), { allChannels: allChannels.map(function (ch) { return (ch.url === (channel === null || channel === void 0 ? void 0 : channel.url) ? channel : ch); }) });\n        }\n        // Move to the top\n        return __assign(__assign({}, state), { allChannels: __spreadArray([channel], allChannels.filter(function (_a) {\n                var url = _a.url;\n                return url !== channel.url;\n            }), true) });\n    })\n        .with({ type: SET_CURRENT_CHANNEL }, function (action) {\n        return __assign(__assign({}, state), { currentChannel: action.payload });\n    })\n        .with({ type: ON_LAST_MESSAGE_UPDATED }, function (action) {\n        return __assign(__assign({}, state), { allChannels: state.allChannels.map(function (channel) { return (channel === null || channel === void 0 ? void 0 : channel.url) === action.payload.url ? action.payload : channel; }) });\n    })\n        .with({ type: ON_CHANNEL_FROZEN }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // Filter the channel from the ChannelList\n            // Replace the currentChannel if it's filtered channel\n            var nextChannel = getNextChannel({\n                channel: channel,\n                currentChannel: currentChannel,\n                allChannels: allChannels,\n                disableAutoSelect: disableAutoSelect,\n            });\n            return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                    var url = _a.url;\n                    return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n                }) });\n        }\n        return __assign(__assign({}, state), { allChannels: allChannels.map(function (ch) {\n                if (ch.url === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    // eslint-disable-next-line no-param-reassign\n                    ch.isFrozen = true;\n                    return ch;\n                }\n                return ch;\n            }) });\n    })\n        .with({ type: ON_CHANNEL_UNFROZEN }, function (action) {\n        var _a;\n        var channel = action.payload;\n        var allChannels = state.allChannels, currentUserId = state.currentUserId, currentChannel = state.currentChannel, channelListQuery = state.channelListQuery, disableAutoSelect = state.disableAutoSelect;\n        if (channelListQuery) {\n            if (filterChannelListParams(channelListQuery, channel, currentUserId)) {\n                // Good to [add to/keep in] the ChannelList\n                return __assign(__assign({}, state), { allChannels: getChannelsWithUpsertedChannel(allChannels, channel, (_a = state.channelListQuery) === null || _a === void 0 ? void 0 : _a.order) });\n            }\n            // Filter the channel from the ChannelList\n            // Replace the currentChannel if it's filtered channel\n            var nextChannel = getNextChannel({\n                channel: channel,\n                currentChannel: currentChannel,\n                allChannels: allChannels,\n                disableAutoSelect: disableAutoSelect,\n            });\n            return __assign(__assign({}, state), { currentChannel: nextChannel, allChannels: allChannels.filter(function (_a) {\n                    var url = _a.url;\n                    return url !== (channel === null || channel === void 0 ? void 0 : channel.url);\n                }) });\n        }\n        // No channelListQuery\n        return __assign(__assign({}, state), { allChannels: allChannels.map(function (ch) {\n                if (ch.url === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    // eslint-disable-next-line no-param-reassign\n                    ch.isFrozen = false;\n                    return ch;\n                }\n                return ch;\n            }) });\n    })\n        .with({ type: CHANNEL_LIST_PARAMS_UPDATED }, function (action) { return (__assign(__assign({}, state), { channelListQuery: action.payload.channelListQuery, currentUserId: action.payload.currentUserId })); })\n        .otherwise(function () { return state; }));\n}\n\nfunction useActiveChannelUrl(_a, _b) {\n    var activeChannelUrl = _a.activeChannelUrl, channels = _a.channels, sdk = _a.sdk;\n    var logger = _b.logger, channelListDispatcher = _b.channelListDispatcher;\n    return useEffect(function () {\n        var _a;\n        if (activeChannelUrl) {\n            logger.info('ChannelListProvider: looking for active channel', { activeChannelUrl: activeChannelUrl });\n            var activeChannel = channels === null || channels === void 0 ? void 0 : channels.find(function (channel) { return channel.url === activeChannelUrl; });\n            if (activeChannel) {\n                channelListDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: activeChannel,\n                });\n            }\n            else {\n                logger.info('ChannelListProvider: searching backend for active channel', { activeChannelUrl: activeChannelUrl });\n                (_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.getChannel(activeChannelUrl).then(function (channel) {\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_SUCCESS,\n                        payload: [channel],\n                    });\n                    channelListDispatcher({\n                        type: SET_CURRENT_CHANNEL,\n                        payload: channel,\n                    });\n                }).catch(function () {\n                    logger.warning('ChannelListProvider: Active channel not found');\n                });\n            }\n        }\n    }, [activeChannelUrl]);\n}\n\nvar useFetchChannelList = function (_a, _b) {\n    var channelSource = _a.channelSource, disableMarkAsDelivered = _a.disableMarkAsDelivered;\n    var channelListDispatcher = _b.channelListDispatcher, logger = _b.logger, markAsDeliveredScheduler = _b.markAsDeliveredScheduler;\n    return useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var channelList, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!(channelSource === null || channelSource === void 0 ? void 0 : channelSource.hasNext)) {\n                        logger.info('ChannelList: not able to fetch');\n                        return [2 /*return*/];\n                    }\n                    logger.info('ChannelList: starting fetch');\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_START,\n                        payload: null,\n                    });\n                    _a.label = 1;\n                case 1:\n                    _a.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, channelSource.next()];\n                case 2:\n                    channelList = _a.sent();\n                    logger.info('ChannelList: succeeded fetch', { channelList: channelList });\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_SUCCESS,\n                        payload: channelList,\n                    });\n                    if (!disableMarkAsDelivered) {\n                        logger.info('ChannelList: mark as delivered to fetched channels');\n                        // eslint-disable-next-line no-unused-expressions\n                        channelList === null || channelList === void 0 ? void 0 : channelList.forEach(function (channel) {\n                            if ((channel === null || channel === void 0 ? void 0 : channel.unreadMessageCount) > 0) {\n                                markAsDeliveredScheduler.push(channel);\n                            }\n                        });\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _a.sent();\n                    logger.error('ChannelList: failed fetch', { error: error_1 });\n                    channelListDispatcher({\n                        type: FETCH_CHANNELS_FAILURE,\n                        payload: error_1,\n                    });\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [\n        channelSource,\n        disableMarkAsDelivered,\n    ]);\n};\n\nfunction useHandleReconnectForChannelList(_a) {\n    var isOnline = _a.isOnline, reconnectOnIdle = _a.reconnectOnIdle, logger = _a.logger, sdk = _a.sdk, currentGroupChannel = _a.currentGroupChannel, channelListDispatcher = _a.channelListDispatcher, setChannelSource = _a.setChannelSource, userFilledChannelListQuery = _a.userFilledChannelListQuery, sortChannelList = _a.sortChannelList, disableAutoSelect = _a.disableAutoSelect, markAsDeliveredScheduler = _a.markAsDeliveredScheduler, disableMarkAsDelivered = _a.disableMarkAsDelivered;\n    var shouldReconnect = useReconnectOnIdle(isOnline, currentGroupChannel, reconnectOnIdle).shouldReconnect;\n    useEffect(function () {\n        return function () {\n            var _a, _b, _c, _d;\n            // state changed from offline to online AND tab is visible\n            if (shouldReconnect) {\n                logger.info('ChannelList refresh - creating query', { userFilledChannelListQuery: userFilledChannelListQuery });\n                var channelListQuery = createChannelListQuery({ sdk: sdk, userFilledChannelListQuery: userFilledChannelListQuery });\n                logger.info('ChannelList refresh - created query', channelListQuery);\n                setChannelSource(channelListQuery);\n                channelListDispatcher({\n                    type: INIT_CHANNELS_START,\n                    payload: {\n                        currentUserId: (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId) !== null && _b !== void 0 ? _b : '',\n                    },\n                });\n                if (userFilledChannelListQuery) {\n                    logger.info('ChannelList refresh - setting up channelListQuery', channelListQuery);\n                    channelListDispatcher({\n                        type: CHANNEL_LIST_PARAMS_UPDATED,\n                        payload: {\n                            channelListQuery: channelListQuery,\n                            currentUserId: (_d = (_c = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _c === void 0 ? void 0 : _c.userId) !== null && _d !== void 0 ? _d : '',\n                        },\n                    });\n                }\n                logger.info('ChannelList refresh - fetching channels');\n                if (channelListQuery.hasNext) {\n                    channelListQuery\n                        .next()\n                        .then(function (channelList) {\n                        var _a, _b;\n                        logger.info('ChannelList refresh - fetched channels', channelList);\n                        var sortedChannelList = channelList;\n                        if (sortChannelList && typeof sortChannelList === 'function') {\n                            sortedChannelList = sortChannelList(channelList);\n                            logger.info('ChannelList refresh - channel list sorted', sortedChannelList);\n                        }\n                        // select first channel\n                        var newCurrentChannel = !disableAutoSelect ? sortedChannelList[0] : null;\n                        if (currentGroupChannel === null || currentGroupChannel === void 0 ? void 0 : currentGroupChannel.url) {\n                            var foundChannel = sortedChannelList.find(function (channel) { return (channel.url === currentGroupChannel.url); });\n                            if (foundChannel) {\n                                newCurrentChannel = foundChannel;\n                            }\n                        }\n                        logger.info('ChannelList refresh - highlight channel', newCurrentChannel);\n                        channelListDispatcher({\n                            type: REFRESH_CHANNELS_SUCCESS,\n                            payload: {\n                                channelList: sortedChannelList,\n                                currentChannel: newCurrentChannel,\n                            },\n                        });\n                        var canSetMarkAsDelivered = (_b = (_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) === null || _a === void 0 ? void 0 : _a.premiumFeatureList) === null || _b === void 0 ? void 0 : _b.find(function (feature) { return feature === DELIVERY_RECEIPT$1; });\n                        if (canSetMarkAsDelivered && !disableMarkAsDelivered) {\n                            sortedChannelList.forEach(function (channel) {\n                                markAsDeliveredScheduler.push(channel);\n                            });\n                        }\n                    })\n                        .catch(function (err) {\n                        if (err) {\n                            logger.error('ChannelList refresh - could not fetch channels', err);\n                            channelListDispatcher({\n                                type: INIT_CHANNELS_FAILURE,\n                            });\n                        }\n                    });\n                }\n                else {\n                    logger.info('ChannelList refresh - there are no more channels');\n                }\n            }\n        };\n    }, [shouldReconnect]);\n}\n\nvar ChannelListContext = React__default.createContext(null);\n/**\n * @deprecated This provider is deprecated and will be removed in the next major update.\n * Please use the `GroupChannelListProvider` from '@sendbird/uikit-react/GroupChannelList' instead.\n * For more information, please refer to the migration guide:\n * https://docs.sendbird.com/docs/chat/uikit/v3/react/introduction/group-channel-migration-guide\n */\nvar ChannelListProvider = function (props) {\n    var _a, _b;\n    // destruct props\n    var children = props.children, className = props.className, disableUserProfile = props.disableUserProfile, allowProfileEdit = props.allowProfileEdit, queries = props.queries, onProfileEditSuccess = props.onProfileEditSuccess, onThemeChange = props.onThemeChange, onBeforeCreateChannel = props.onBeforeCreateChannel, sortChannelList = props.sortChannelList, overrideInviteUser = props.overrideInviteUser, activeChannelUrl = props.activeChannelUrl, _c = props.isTypingIndicatorEnabled, isTypingIndicatorEnabled = _c === void 0 ? null : _c, _d = props.isMessageReceiptStatusEnabled, isMessageReceiptStatusEnabled = _d === void 0 ? null : _d, reconnectOnIdle = props.reconnectOnIdle;\n    // disable autoselect, if activeChannelUrl is provided\n    // useActiveChannelUrl should be executed when activeChannelUrl is present\n    var disableAutoSelect = (props === null || props === void 0 ? void 0 : props.disableAutoSelect) || !!activeChannelUrl;\n    var onChannelSelect = (props === null || props === void 0 ? void 0 : props.onChannelSelect) || noop;\n    // fetch store from <SendbirdProvider />\n    var globalStore = useSendbirdStateContext();\n    var config = globalStore.config, stores = globalStore.stores;\n    var sdkStore = stores.sdkStore;\n    var pubSub = config.pubSub, logger = config.logger, onUserProfileMessage = config.onUserProfileMessage;\n    var markAsDeliveredScheduler = config.markAsDeliveredScheduler, _e = config.disableMarkAsDelivered, disableMarkAsDelivered = _e === void 0 ? false : _e, isOnline = config.isOnline;\n    var sdk = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.sdk;\n    var _f = ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.appInfo) !== null && _a !== void 0 ? _a : {}).premiumFeatureList, premiumFeatureList = _f === void 0 ? [] : _f;\n    // derive some variables\n    // enable if it is true at least once(both are false by default)\n    var userDefinedDisableUserProfile = disableUserProfile !== null && disableUserProfile !== void 0 ? disableUserProfile : !config.common.enableUsingDefaultUserProfile;\n    var userDefinedRenderProfile = config === null || config === void 0 ? void 0 : config.renderUserProfile;\n    var enableEditProfile = allowProfileEdit || config.allowProfileEdit;\n    var userFilledChannelListQuery = queries === null || queries === void 0 ? void 0 : queries.channelListQuery;\n    var userFilledApplicationUserListQuery = queries === null || queries === void 0 ? void 0 : queries.applicationUserListQuery;\n    var sdkIntialized = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.initialized;\n    var _g = useReducer(channelListReducer, initialState), channelListStore = _g[0], channelListDispatcher = _g[1];\n    var currentChannel = channelListStore.currentChannel;\n    var _h = useState(null), channelSource = _h[0], setChannelSource = _h[1];\n    var _j = useState([]), typingChannels = _j[0], setTypingChannels = _j[1];\n    useEffect(function () {\n        var subscriber = pubSubHandler(pubSub, channelListDispatcher);\n        return function () {\n            pubSubHandleRemover(subscriber);\n        };\n    }, [sdkIntialized]);\n    useEffect(function () {\n        var _a;\n        var sdkChannelHandlerId = uuidv4();\n        if (sdkIntialized) {\n            logger.info('ChannelList: Setup channelHandlers');\n            setupChannelList({\n                sdk: sdk,\n                sdkChannelHandlerId: sdkChannelHandlerId,\n                channelListDispatcher: channelListDispatcher,\n                setChannelSource: setChannelSource,\n                onChannelSelect: onChannelSelect,\n                userFilledChannelListQuery: __assign({}, userFilledChannelListQuery),\n                logger: logger,\n                sortChannelList: sortChannelList,\n                disableAutoSelect: disableAutoSelect,\n                markAsDeliveredScheduler: markAsDeliveredScheduler,\n                disableMarkAsDelivered: disableMarkAsDelivered,\n            });\n        }\n        else {\n            logger.info('ChannelList: Removing channelHandlers');\n            // remove previous channelHandlers\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                sdk.groupChannel.removeGroupChannelHandler(sdkChannelHandlerId);\n            }\n            // remove channelSource\n            setChannelSource(null);\n            // cleanup\n            channelListDispatcher({\n                type: RESET_CHANNEL_LIST,\n                payload: null,\n            });\n        }\n        return function () {\n            var _a, _b;\n            logger.info('ChannelList: Removing channelHandlers');\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) {\n                (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.removeGroupChannelHandler(sdkChannelHandlerId);\n            }\n        };\n    }, [\n        sdkIntialized,\n        sortChannelList,\n        Object.entries(userFilledChannelListQuery !== null && userFilledChannelListQuery !== void 0 ? userFilledChannelListQuery : {}).map(function (_a) {\n            var key = _a[0], value = _a[1];\n            return key + value;\n        }).join(),\n    ]);\n    useEffect(function () {\n        var _a, _b;\n        var typingHandlerId = '';\n        if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler) {\n            typingHandlerId = uuidv4();\n            var handler = new GroupChannelHandler({\n                onTypingStatusUpdated: function (channel) {\n                    var _a;\n                    var typingMemberCount = (_a = channel === null || channel === void 0 ? void 0 : channel.getTypingUsers()) === null || _a === void 0 ? void 0 : _a.length;\n                    var channelList = typingChannels.filter(function (ch) { return ch.url !== channel.url; });\n                    if (typingMemberCount > 0) {\n                        setTypingChannels(__spreadArray(__spreadArray([], channelList, true), [channel], false));\n                    }\n                    else {\n                        setTypingChannels(channelList);\n                    }\n                },\n                onUnreadMemberStatusUpdated: function (channel) {\n                    channelListDispatcher({\n                        type: ON_LAST_MESSAGE_UPDATED,\n                        payload: channel,\n                    });\n                },\n                onUndeliveredMemberStatusUpdated: function (channel) {\n                    channelListDispatcher({\n                        type: ON_LAST_MESSAGE_UPDATED,\n                        payload: channel,\n                    });\n                },\n                onMessageUpdated: function (channel) {\n                    if (channel.isGroupChannel()) {\n                        channelListDispatcher({\n                            type: ON_LAST_MESSAGE_UPDATED,\n                            payload: channel,\n                        });\n                        sdk.groupChannel.getChannelWithoutCache(channel.url).then(function (ch) {\n                            channelListDispatcher({\n                                type: ON_LAST_MESSAGE_UPDATED,\n                                payload: ch,\n                            });\n                        });\n                    }\n                },\n                onMentionReceived: function (channel) {\n                    if (channel.isGroupChannel()) {\n                        channelListDispatcher({\n                            type: ON_LAST_MESSAGE_UPDATED,\n                            payload: channel,\n                        });\n                        sdk.groupChannel.getChannelWithoutCache(channel.url).then(function (ch) {\n                            channelListDispatcher({\n                                type: ON_LAST_MESSAGE_UPDATED,\n                                payload: ch,\n                            });\n                        });\n                    }\n                },\n            });\n            (_b = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _b === void 0 ? void 0 : _b.addGroupChannelHandler(typingHandlerId, handler);\n        }\n        return function () {\n            var _a;\n            if (((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler) && typingHandlerId !== '') {\n                sdk.groupChannel.removeGroupChannelHandler(typingHandlerId);\n            }\n        };\n    }, [(_b = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _b === void 0 ? void 0 : _b.userId]);\n    var queries_ = useMemo(function () {\n        return {\n            applicationUserListQuery: userFilledApplicationUserListQuery,\n            channelListQuery: userFilledChannelListQuery,\n        };\n    }, [userFilledApplicationUserListQuery, userFilledChannelListQuery]);\n    var allChannels = channelListStore.allChannels;\n    var sortedChannels = sortChannelList && typeof sortChannelList === 'function' ? sortChannelList(allChannels) : allChannels;\n    if (sortedChannels.length !== allChannels.length) {\n        var warning = \"ChannelList: You have removed/added extra channels on sortChannelList\\n      this could cause unexpected problems\";\n        // eslint-disable-next-line no-console\n        console.warn(warning, { before: allChannels, after: sortedChannels });\n        logger.warning(warning, { before: allChannels, after: sortedChannels });\n    }\n    // Set current channel (by on_channel_selected event)\n    useEffect(function () {\n        if (!sdk || !sdk.groupChannel) {\n            return;\n        }\n        // When leaving a channel, tell consumers that the prior channel is no longer selected\n        if (!(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n            onChannelSelect(null);\n            return;\n        }\n        sdk.groupChannel.getChannel(currentChannel.url).then(function (groupChannel) {\n            if (groupChannel) {\n                onChannelSelect(groupChannel);\n            }\n            else {\n                onChannelSelect(null);\n            }\n        });\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    // Set active channel (by url)\n    useActiveChannelUrl({\n        activeChannelUrl: activeChannelUrl,\n        channels: sortedChannels,\n        sdk: sdk,\n    }, {\n        logger: logger,\n        channelListDispatcher: channelListDispatcher,\n    });\n    useHandleReconnectForChannelList({\n        isOnline: isOnline,\n        reconnectOnIdle: reconnectOnIdle,\n        logger: logger,\n        sdk: sdk,\n        currentGroupChannel: currentChannel,\n        channelListDispatcher: channelListDispatcher,\n        setChannelSource: setChannelSource,\n        userFilledChannelListQuery: userFilledChannelListQuery,\n        sortChannelList: sortChannelList,\n        disableAutoSelect: disableAutoSelect,\n        markAsDeliveredScheduler: markAsDeliveredScheduler,\n        disableMarkAsDelivered: disableMarkAsDelivered,\n    });\n    var fetchChannelList = useFetchChannelList({\n        channelSource: channelSource,\n        disableMarkAsDelivered: disableMarkAsDelivered || !premiumFeatureList.some(function (feature) { return feature === DELIVERY_RECEIPT$1; }),\n    }, {\n        channelListDispatcher: channelListDispatcher,\n        logger: logger,\n        markAsDeliveredScheduler: markAsDeliveredScheduler,\n    });\n    return (React__default.createElement(ChannelListContext.Provider, { value: __assign(__assign({ className: className, disableUserProfile: disableUserProfile, queries: queries_, onProfileEditSuccess: onProfileEditSuccess, onThemeChange: onThemeChange, onBeforeCreateChannel: onBeforeCreateChannel, overrideInviteUser: overrideInviteUser, onChannelSelect: onChannelSelect, sortChannelList: sortChannelList, allowProfileEdit: enableEditProfile, channelListDispatcher: channelListDispatcher, channelSource: channelSource }, channelListStore), { allChannels: sortedChannels, typingChannels: typingChannels, isTypingIndicatorEnabled: isTypingIndicatorEnabled !== null && isTypingIndicatorEnabled !== void 0 ? isTypingIndicatorEnabled : config.groupChannelList.enableTypingIndicator, isMessageReceiptStatusEnabled: isMessageReceiptStatusEnabled !== null && isMessageReceiptStatusEnabled !== void 0 ? isMessageReceiptStatusEnabled : config.groupChannelList.enableMessageReceiptStatus, fetchChannelList: fetchChannelList }) },\n        React__default.createElement(UserProfileProvider, { disableUserProfile: userDefinedDisableUserProfile !== null && userDefinedDisableUserProfile !== void 0 ? userDefinedDisableUserProfile : !config.common.enableUsingDefaultUserProfile, renderUserProfile: userDefinedRenderProfile, onUserProfileMessage: onUserProfileMessage },\n            React__default.createElement(\"div\", { className: \"sendbird-channel-list \".concat(className) }, children))));\n};\nfunction useChannelListContext() {\n    var context = useContext(ChannelListContext);\n    if (!context)\n        throw new Error('ChannelListContext not found. Use within the ChannelList module.');\n    return context;\n}\n\nexport { ChannelListProvider as C, LEAVE_CHANNEL_SUCCESS as L, SET_CURRENT_CHANNEL as S, useChannelListContext as u };\n//# sourceMappingURL=bundle-CQgNYKRd.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport ChannelPreview from './ChannelPreview.js';\nimport { GroupChannelPreviewAction } from '../../GroupChannelList/components/GroupChannelPreviewAction.js';\nimport { u as useChannelListContext, S as SET_CURRENT_CHANNEL, L as LEAVE_CHANNEL_SUCCESS } from '../../chunks/bundle-CQgNYKRd.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { G as GroupChannelListUIView } from '../../chunks/bundle-B2Vy0FIf.js';\nimport { AddChannel } from './AddChannel.js';\nimport { n as noop } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-R159x0xi.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../GroupChannel/components/TypingIndicator.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../ui/Badge.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../ui/MentionUserLabel.js';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../GroupChannelList/components/GroupChannelListHeader.js';\nimport '../../ui/Header.js';\nimport '../../EditUserProfile.js';\nimport '../../EditUserProfile/context.js';\nimport '../../EditUserProfile/components/EditUserProfileUI.js';\nimport '../../chunks/bundle-egkx7NWB.js';\nimport '../../ui/Input.js';\nimport '../../ui/PlaceHolder.js';\nimport '../../chunks/bundle-D2bCW01X.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-FtNvi0ib.js';\nimport '../../chunks/bundle-CcvIdULa.js';\nimport '../../CreateChannel.js';\nimport '../../CreateChannel/components/CreateChannelUI.js';\nimport '../../chunks/bundle-CM1oxZtw.js';\nimport '../../sendbirdSelectors.js';\nimport '../../CreateChannel/components/InviteUsers.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../CreateChannel/components/SelectChannelType.js';\n\nvar ChannelListUI = function (props) {\n    var renderHeader = props.renderHeader, renderChannelPreview = props.renderChannelPreview, renderPlaceHolderError = props.renderPlaceHolderError, renderPlaceHolderLoading = props.renderPlaceHolderLoading, renderPlaceHolderEmptyList = props.renderPlaceHolderEmptyList;\n    var _a = useChannelListContext(), onThemeChange = _a.onThemeChange, allowProfileEdit = _a.allowProfileEdit, allChannels = _a.allChannels, currentChannel = _a.currentChannel, channelListDispatcher = _a.channelListDispatcher, typingChannels = _a.typingChannels, initialized = _a.initialized, fetchChannelList = _a.fetchChannelList, onProfileEditSuccess = _a.onProfileEditSuccess;\n    var _b = useSendbirdStateContext(), stores = _b.stores, config = _b.config;\n    var logger = config.logger, _c = config.isOnline, isOnline = _c === void 0 ? false : _c;\n    var sdk = stores.sdkStore.sdk;\n    var renderListItem = function (props) {\n        var channel = props.item, index = props.index;\n        var previewProps = {\n            channel: channel,\n            tabIndex: index,\n            isSelected: (channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url),\n            isTyping: typingChannels === null || typingChannels === void 0 ? void 0 : typingChannels.some(function (_a) {\n                var url = _a.url;\n                return url === (channel === null || channel === void 0 ? void 0 : channel.url);\n            }),\n            renderChannelAction: function (props) { return React__default.createElement(GroupChannelPreviewAction, __assign({}, props)); },\n            onClick: function () {\n                if (!isOnline && !(sdk === null || sdk === void 0 ? void 0 : sdk.isCacheEnabled)) {\n                    logger.warning('ChannelList: Inactivated clicking channel item during offline.');\n                    return;\n                }\n                logger.info('ChannelList: Clicked on channel:', channel);\n                channelListDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: channel,\n                });\n            },\n            onLeaveChannel: function (channel, cb) {\n                return __awaiter(this, void 0, void 0, function () {\n                    var response, err_1;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                logger.info('ChannelList: Leaving channel', channel);\n                                if (!channel) return [3 /*break*/, 4];\n                                _a.label = 1;\n                            case 1:\n                                _a.trys.push([1, 3, , 4]);\n                                return [4 /*yield*/, channel.leave()];\n                            case 2:\n                                response = _a.sent();\n                                logger.info('ChannelList: Leaving channel success', response);\n                                if (cb && typeof cb === 'function')\n                                    cb(channel, null);\n                                channelListDispatcher({\n                                    type: LEAVE_CHANNEL_SUCCESS,\n                                    payload: channel.url,\n                                });\n                                return [3 /*break*/, 4];\n                            case 3:\n                                err_1 = _a.sent();\n                                logger.error('ChannelList: Leaving channel failed', err_1);\n                                if (cb && typeof cb === 'function')\n                                    cb(channel, err_1);\n                                return [3 /*break*/, 4];\n                            case 4: return [2 /*return*/];\n                        }\n                    });\n                });\n            },\n        };\n        if (renderChannelPreview) {\n            return (React__default.createElement(\"div\", { key: channel === null || channel === void 0 ? void 0 : channel.url, onClick: previewProps.onClick }, renderChannelPreview(previewProps)));\n        }\n        return React__default.createElement(ChannelPreview, __assign({ key: channel === null || channel === void 0 ? void 0 : channel.url }, previewProps));\n    };\n    return (React__default.createElement(GroupChannelListUIView, { renderHeader: renderHeader, renderChannel: renderListItem, renderPlaceHolderError: renderPlaceHolderError, renderPlaceHolderLoading: renderPlaceHolderLoading, renderPlaceHolderEmptyList: renderPlaceHolderEmptyList, onChangeTheme: onThemeChange !== null && onThemeChange !== void 0 ? onThemeChange : noop, allowProfileEdit: allowProfileEdit, onUserProfileUpdated: onProfileEditSuccess !== null && onProfileEditSuccess !== void 0 ? onProfileEditSuccess : noop, channels: allChannels, onLoadMore: fetchChannelList, initialized: initialized, renderAddChannel: function () { return React__default.createElement(AddChannel, null); } }));\n};\n\nexport { ChannelListUI as default };\n//# sourceMappingURL=ChannelListUI.js.map\n", "import React__default from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { u as useChannelListContext } from '../../chunks/bundle-CQgNYKRd.js';\nimport { g as getChannelTitle } from '../../chunks/bundle-j0SR3DhQ.js';\nimport { G as GroupChannelListItemView } from '../../chunks/bundle-R159x0xi.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../GroupChannel/components/TypingIndicator.js';\nimport '../../ui/Badge.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../ui/MentionUserLabel.js';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\n\nvar ChannelPreview = function (_a) {\n    var _b, _c, _d, _e;\n    var channel = _a.channel, _f = _a.isActive, isActive = _f === void 0 ? false : _f, _g = _a.isSelected, isSelected = _g === void 0 ? false : _g, _h = _a.isTyping, isTyping = _h === void 0 ? false : _h, renderChannelAction = _a.renderChannelAction, onLeaveChannel = _a.onLeaveChannel, onClick = _a.onClick, tabIndex = _a.tabIndex;\n    var config = useSendbirdStateContext().config;\n    var stringSet = useLocalization().stringSet;\n    var _j = useChannelListContext(), _k = _j.isTypingIndicatorEnabled, isTypingIndicatorEnabled = _k === void 0 ? false : _k, _l = _j.isMessageReceiptStatusEnabled, isMessageReceiptStatusEnabled = _l === void 0 ? false : _l;\n    var userId = config.userId;\n    var isMessageStatusEnabled = isMessageReceiptStatusEnabled\n        && (((_b = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _b === void 0 ? void 0 : _b.messageType) === 'user' || ((_c = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _c === void 0 ? void 0 : _c.messageType) === 'file')\n        && ((_e = (_d = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _d === void 0 ? void 0 : _d.sender) === null || _e === void 0 ? void 0 : _e.userId) === userId;\n    return (React__default.createElement(GroupChannelListItemView, { channel: channel, tabIndex: tabIndex, isTyping: isTypingIndicatorEnabled && isTyping, isSelected: isSelected !== null && isSelected !== void 0 ? isSelected : isActive, channelName: getChannelTitle(channel, userId, stringSet), isMessageStatusEnabled: isMessageStatusEnabled, onClick: onClick, onLeaveChannel: onLeaveChannel, renderChannelAction: renderChannelAction }));\n};\n\nexport { ChannelPreview as default };\n//# sourceMappingURL=ChannelPreview.js.map\n", "import React__default, { useState } from 'react';\nimport { u as useChannelListContext } from '../../chunks/bundle-CQgNYKRd.js';\nimport { A as AddGroupChannelView } from '../../chunks/bundle-CcvIdULa.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-DPf4rz9k.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Icon.js';\nimport '../../CreateChannel.js';\nimport '../../CreateChannel/components/CreateChannelUI.js';\nimport '../../chunks/bundle-CM1oxZtw.js';\nimport '../../sendbirdSelectors.js';\nimport '../../CreateChannel/components/InviteUsers.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../CreateChannel/components/SelectChannelType.js';\n\nvar AddChannel = function () {\n    var _a = useState(false), showModal = _a[0], setShowModal = _a[1];\n    var _b = useChannelListContext(), overrideInviteUser = _b.overrideInviteUser, onBeforeCreateChannel = _b.onBeforeCreateChannel, onChannelSelect = _b.onChannelSelect;\n    return (React__default.createElement(AddGroupChannelView, { createChannelVisible: showModal, onChangeCreateChannelVisible: setShowModal, onCreateChannelClick: overrideInviteUser, onBeforeCreateChannel: onBeforeCreateChannel, onChannelCreated: function (it) { return onChannelSelect === null || onChannelSelect === void 0 ? void 0 : onChannelSelect(it); } }));\n};\n\nexport { AddChannel, AddChannel as default };\n//# sourceMappingURL=AddChannel.js.map\n", "import { _ as __assign } from './chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport ChannelSettingsUI from './ChannelSettings/components/ChannelSettingsUI.js';\nimport { ChannelSettingsProvider } from './ChannelSettings/context.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './ChannelSettings/components/ChannelSettingsHeader.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './ui/Header.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/IconButton.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './ChannelSettings/components/ChannelProfile.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './ChannelSettings/components/EditDetailsModal.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport './ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-DO8nji3n.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport './ui/SortByRow.js';\nimport './ui/Input.js';\nimport './ChannelSettings/components/LeaveChannel.js';\nimport './ChannelSettings/components/ChannelSettingsMenuItem.js';\nimport './ChannelSettings/components/ChannelSettingMenuList.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport './ChannelSettings/hooks/useMenuList.js';\nimport './chunks/bundle-DWQyLuYT.js';\nimport './chunks/bundle-C8mqUun8.js';\nimport './ui/UserListItem.js';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-D2bCW01X.js';\nimport './chunks/bundle-FtNvi0ib.js';\nimport './chunks/bundle-nv2ffewN.js';\nimport './ui/Badge.js';\nimport './ui/Toggle.js';\nimport './chunks/bundle-BKe5KBuS.js';\n\nvar ChannelSettings = function (props) {\n    return (React__default.createElement(ChannelSettingsProvider, __assign({}, props),\n        React__default.createElement(ChannelSettingsUI, __assign({}, props))));\n};\n\nexport { ChannelSettings as default };\n//# sourceMappingURL=ChannelSettings.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState, useContext } from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useChannelSettingsContext } from '../context.js';\nimport { ChannelSettingsHeader } from './ChannelSettingsHeader.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport ChannelProfile from './ChannelProfile.js';\nimport LeaveChannel from './LeaveChannel.js';\nimport { d as deleteNullish, c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport { MenuItem } from './ChannelSettingsMenuItem.js';\nimport { MenuListByRole } from './ChannelSettingMenuList.js';\nimport { useMenuItems } from '../hooks/useMenuList.js';\nexport { B as BannedUserList, M as MutedMemberList, O as OperatorList } from '../../chunks/bundle-DWQyLuYT.js';\nexport { M as MemberList } from '../../chunks/bundle-nv2ffewN.js';\nimport '../../withSendbird.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../ui/Header.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport './EditDetailsModal.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../ui/Badge.js';\nimport '../../ui/Toggle.js';\nimport '../../chunks/bundle-C8mqUun8.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-D2bCW01X.js';\nimport '../../chunks/bundle-FtNvi0ib.js';\n\nvar ChannelSettingsUI = function (props) {\n    var _a;\n    var _b = useChannelSettingsContext(), channel = _b.channel, invalidChannel = _b.invalidChannel, onCloseClick = _b.onCloseClick, loading = _b.loading;\n    var _c = deleteNullish(props), _d = _c.renderHeader, renderHeader = _d === void 0 ? function (props) { return React__default.createElement(ChannelSettingsHeader, __assign({}, props)); } : _d, renderLeaveChannel = _c.renderLeaveChannel, renderChannelProfile = _c.renderChannelProfile, _e = _c.renderModerationPanel, renderModerationPanel = _e === void 0 ? function (props) { return React__default.createElement(MenuListByRole, __assign({}, props)); } : _e, renderPlaceholderError = _c.renderPlaceholderError, renderPlaceholderLoading = _c.renderPlaceholderLoading;\n    var menuItems = useMenuItems();\n    var state = useSendbirdStateContext();\n    var _f = useState(false), showLeaveChannelModal = _f[0], setShowLeaveChannelModal = _f[1];\n    var isOnline = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.isOnline;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    if (loading) {\n        if (renderPlaceholderLoading)\n            return renderPlaceholderLoading();\n        return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING });\n    }\n    var headerProps = { onCloseClick: onCloseClick };\n    if (invalidChannel || !channel) {\n        return (React__default.createElement(\"div\", null,\n            renderHeader(headerProps),\n            React__default.createElement(\"div\", null, renderPlaceholderError ? renderPlaceholderError() : React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG }))));\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        renderHeader(headerProps),\n        React__default.createElement(\"div\", { className: \"sendbird-channel-settings__scroll-area\" },\n            (renderChannelProfile === null || renderChannelProfile === void 0 ? void 0 : renderChannelProfile()) || React__default.createElement(ChannelProfile, null), renderModerationPanel === null || renderModerationPanel === void 0 ? void 0 :\n            renderModerationPanel({ menuItems: menuItems }),\n            (renderLeaveChannel === null || renderLeaveChannel === void 0 ? void 0 : renderLeaveChannel()) || (React__default.createElement(MenuItem, { className: classnames(!isOnline ? 'sendbird-channel-settings__panel-item__disabled' : '', 'sendbird-channel-settings__panel-item__leave-channel'), onKeyDown: function () {\n                    if (!isOnline)\n                        return;\n                    setShowLeaveChannelModal(true);\n                }, onClick: function () {\n                    if (!isOnline)\n                        return;\n                    setShowLeaveChannelModal(true);\n                }, renderLeft: function () { return (React__default.createElement(Icon, { className: ['sendbird-channel-settings__panel-icon-left', 'sendbird-channel-settings__panel-icon__leave'].join(' '), type: IconTypes.LEAVE, fillColor: IconColors.ERROR, height: \"24px\", width: \"24px\" })); }, renderMiddle: function () { return (React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.CHANNEL_SETTING__LEAVE_CHANNEL__TITLE)); } })),\n            showLeaveChannelModal && (React__default.createElement(LeaveChannel, { onCancel: function () {\n                    setShowLeaveChannelModal(false);\n                }, onSubmit: function () {\n                    setShowLeaveChannelModal(false);\n                    onCloseClick === null || onCloseClick === void 0 ? void 0 : onCloseClick();\n                } })))));\n};\n\nexport { ChannelSettingsUI as default };\n//# sourceMappingURL=ChannelSettingsUI.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState, useEffect } from 'react';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { U as UserProfileProvider } from '../chunks/bundle-BKxPk2t0.js';\nimport { u as uuidv4 } from '../chunks/bundle-Cvt9FZvn.js';\nimport { c as compareIds } from '../chunks/bundle-BKe5KBuS.js';\nimport '../withSendbird.js';\n\nfunction useAsyncRequest(request, options) {\n    var _this = this;\n    var _a;\n    var _b = useState({ loading: true, response: undefined, error: undefined }), state = _b[0], setState = _b[1];\n    var updateWithRequest = function () { return __awaiter(_this, void 0, void 0, function () {\n        var response_1, error_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    _a.trys.push([0, 2, , 3]);\n                    setState(function (prev) { return ({ loading: true, error: undefined, response: (options === null || options === void 0 ? void 0 : options.resetResponseOnRefresh) ? undefined : prev.response }); });\n                    return [4 /*yield*/, request()];\n                case 1:\n                    response_1 = _a.sent();\n                    if (response_1) {\n                        setState(function (prev) { return (__assign(__assign({}, prev), { response: response_1, loading: false })); });\n                    }\n                    else {\n                        setState(function (prev) { return (__assign(__assign({}, prev), { loading: Boolean(options === null || options === void 0 ? void 0 : options.persistLoadingIfNoResponse) })); });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    error_1 = _a.sent();\n                    setState(function (prev) { return (__assign(__assign({}, prev), { error: error_1, loading: false })); });\n                    return [3 /*break*/, 3];\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    useEffect(function () {\n        updateWithRequest();\n        return function () {\n            if (request.cancel && typeof request.cancel === 'function') {\n                request.cancel();\n            }\n        };\n    }, (_a = options === null || options === void 0 ? void 0 : options.deps) !== null && _a !== void 0 ? _a : []);\n    return __assign(__assign({}, state), { refresh: updateWithRequest });\n}\n\nvar ChannelSettingsContext = React__default.createContext(null);\nvar ChannelSettingsProvider = function (_a) {\n    var children = _a.children, className = _a.className, channelUrl = _a.channelUrl, onCloseClick = _a.onCloseClick, onLeaveChannel = _a.onLeaveChannel, onChannelModified = _a.onChannelModified, overrideInviteUser = _a.overrideInviteUser, onBeforeUpdateChannel = _a.onBeforeUpdateChannel, queries = _a.queries, renderUserProfile = _a.renderUserProfile, disableUserProfile = _a.disableUserProfile, renderUserListItem = _a.renderUserListItem;\n    var _b = useSendbirdStateContext(), config = _b.config, stores = _b.stores;\n    var sdkStore = stores.sdkStore;\n    var logger = config.logger, onUserProfileMessage = config.onUserProfileMessage;\n    var _c = useState(), channelHandlerId = _c[0], setChannelHandlerId = _c[1];\n    // hack to keep track of channel updates by triggering useEffect\n    var _d = useState(function () { return uuidv4(); }), channelUpdateId = _d[0], setChannelUpdateId = _d[1];\n    var forceUpdateUI = function () { return setChannelUpdateId(uuidv4()); };\n    var _e = useAsyncRequest(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var channel_1, channelHandler, newChannelHandlerId, error_1;\n        var _a, _b, _c, _d;\n        return __generator(this, function (_e) {\n            switch (_e.label) {\n                case 0:\n                    logger.info('ChannelSettings: fetching channel');\n                    if (!channelUrl) {\n                        logger.warning('ChannelSettings: channel url is required');\n                        return [2 /*return*/];\n                    }\n                    else if (!sdkStore.initialized || !sdkStore.sdk) {\n                        logger.warning('ChannelSettings: SDK is not initialized');\n                        return [2 /*return*/];\n                    }\n                    else if (!sdkStore.sdk.groupChannel) {\n                        logger.warning('ChannelSettings: GroupChannelModule is not specified in the SDK');\n                        return [2 /*return*/];\n                    }\n                    _e.label = 1;\n                case 1:\n                    _e.trys.push([1, 3, , 4]);\n                    if (channelHandlerId) {\n                        if ((_b = (_a = sdkStore.sdk) === null || _a === void 0 ? void 0 : _a.groupChannel) === null || _b === void 0 ? void 0 : _b.removeGroupChannelHandler) {\n                            logger.info('ChannelSettings: Removing message reciver handler', channelHandlerId);\n                            sdkStore.sdk.groupChannel.removeGroupChannelHandler(channelHandlerId);\n                        }\n                        else if ((_c = sdkStore.sdk) === null || _c === void 0 ? void 0 : _c.groupChannel) {\n                            logger.error('ChannelSettings: Not found the removeGroupChannelHandler');\n                        }\n                        setChannelHandlerId(undefined);\n                    }\n                    return [4 /*yield*/, sdkStore.sdk.groupChannel.getChannel(channelUrl)];\n                case 2:\n                    channel_1 = _e.sent();\n                    channelHandler = {\n                        onUserLeft: function (channel, user) {\n                            if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl)) {\n                                logger.info('ChannelSettings: onUserLeft', { channel: channel, user: user });\n                                refresh();\n                            }\n                        },\n                        onUserBanned: function (channel, user) {\n                            if (compareIds(channel === null || channel === void 0 ? void 0 : channel.url, channelUrl) && channel.isGroupChannel()) {\n                                logger.info('ChannelSettings: onUserBanned', { channel: channel, user: user });\n                                refresh();\n                            }\n                        },\n                    };\n                    newChannelHandlerId = uuidv4();\n                    (_d = sdkStore.sdk.groupChannel) === null || _d === void 0 ? void 0 : _d.addGroupChannelHandler(newChannelHandlerId, new GroupChannelHandler(channelHandler));\n                    setChannelHandlerId(newChannelHandlerId);\n                    return [2 /*return*/, channel_1];\n                case 3:\n                    error_1 = _e.sent();\n                    logger.error('ChannelSettings: fetching channel error:', error_1);\n                    throw error_1;\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, {\n        resetResponseOnRefresh: true,\n        persistLoadingIfNoResponse: true,\n        deps: [sdkStore.initialized, sdkStore.sdk.groupChannel],\n    }), _f = _e.response, channel = _f === void 0 ? null : _f, loading = _e.loading, error = _e.error, refresh = _e.refresh;\n    useEffect(function () {\n        refresh();\n    }, [channelUrl, channelUpdateId]);\n    return (React__default.createElement(ChannelSettingsContext.Provider, { value: {\n            channelUrl: channelUrl,\n            onCloseClick: onCloseClick,\n            onLeaveChannel: onLeaveChannel,\n            onChannelModified: onChannelModified,\n            onBeforeUpdateChannel: onBeforeUpdateChannel,\n            queries: queries,\n            overrideInviteUser: overrideInviteUser,\n            setChannelUpdateId: setChannelUpdateId,\n            forceUpdateUI: forceUpdateUI,\n            channel: channel,\n            loading: loading,\n            invalidChannel: Boolean(error),\n            renderUserListItem: renderUserListItem,\n        } },\n        React__default.createElement(UserProfileProvider, { renderUserProfile: renderUserProfile, disableUserProfile: disableUserProfile !== null && disableUserProfile !== void 0 ? disableUserProfile : !config.common.enableUsingDefaultUserProfile, onUserProfileMessage: onUserProfileMessage },\n            React__default.createElement(\"div\", { className: \"sendbird-channel-settings \".concat(className) }, children))));\n};\nvar useChannelSettingsContext = function () {\n    var context = React__default.useContext(ChannelSettingsContext);\n    if (!context)\n        throw new Error('ChannelSettingsContext not found. Use within the ChannelSettings module');\n    return context;\n};\n\nexport { ChannelSettingsProvider, useChannelSettingsContext };\n//# sourceMappingURL=context.js.map\n", "import React__default from 'react';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { IconTypes } from '../../ui/Icon.js';\nimport Header from '../../ui/Header.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\n\nvar ChannelSettingsHeader = function (_a) {\n    var onCloseClick = _a.onCloseClick, \n    // Header custom props\n    renderLeft = _a.renderLeft, renderMiddle = _a.renderMiddle, renderRight = _a.renderRight;\n    var stringSet = useLocalization().stringSet;\n    var config = useSendbirdStateContext().config;\n    var logger = config.logger;\n    return (React__default.createElement(Header, { className: \"sendbird-channel-settings__header\", renderLeft: renderLeft, renderMiddle: renderMiddle !== null && renderMiddle !== void 0 ? renderMiddle : (function () { return (React__default.createElement(Header.Title, { title: stringSet.CHANNEL_SETTING__HEADER__TITLE })); }), renderRight: renderRight !== null && renderRight !== void 0 ? renderRight : (function () { return (React__default.createElement(\"div\", { className: \"sendbird-channel-settings__header-icon\" },\n            React__default.createElement(Header.IconButton, { type: IconTypes.CLOSE, onClick: function (e) {\n                    logger.info('ChannelSettings: Click close');\n                    onCloseClick(e);\n                } }))); }) }));\n};\n\nexport { ChannelSettingsHeader, ChannelSettingsHeader as default };\n//# sourceMappingURL=ChannelSettingsHeader.js.map\n", "import React__default, { useContext, useState, useMemo } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useChannelSettingsContext } from '../context.js';\nimport ChannelAvatar from '../../ui/ChannelAvatar.js';\nimport TextButton from '../../ui/TextButton.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport EditDetails from './EditDetailsModal.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../withSendbird.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/Input.js';\n\nvar ChannelProfile = function () {\n    var _a, _b, _c;\n    var state = useSendbirdStateContext();\n    var channelSettingStore = useChannelSettingsContext();\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _d = useState(false), showModal = _d[0], setShowModal = _d[1];\n    var userId = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var theme = ((_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.theme) || 'light';\n    var isOnline = (_c = state === null || state === void 0 ? void 0 : state.config) === null || _c === void 0 ? void 0 : _c.isOnline;\n    var disabled = !isOnline;\n    var channel = channelSettingStore === null || channelSettingStore === void 0 ? void 0 : channelSettingStore.channel;\n    var channelName = useMemo(function () {\n        if ((channel === null || channel === void 0 ? void 0 : channel.name) && channel.name !== 'Group Channel') {\n            return channel.name;\n        }\n        if ((channel === null || channel === void 0 ? void 0 : channel.name) === 'Group Channel' || !(channel === null || channel === void 0 ? void 0 : channel.name)) {\n            return ((channel === null || channel === void 0 ? void 0 : channel.members) || []).map(function (member) { return member.nickname || stringSet.NO_NAME; }).join(', ');\n        }\n        return stringSet.NO_TITLE;\n    }, [channel === null || channel === void 0 ? void 0 : channel.name, channel === null || channel === void 0 ? void 0 : channel.joinedMemberCount]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-channel-profile\" },\n        React__default.createElement(\"div\", { className: \"sendbird-channel-profile--inner\" },\n            React__default.createElement(\"div\", { className: \"sendbird-channel-profile__avatar\" },\n                React__default.createElement(ChannelAvatar, { channel: channel, userId: userId, theme: theme, width: 80, height: 80 })),\n            React__default.createElement(Label, { className: \"sendbird-channel-profile__title\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, channelName),\n            React__default.createElement(TextButton, { disabled: disabled, className: \"sendbird-channel-profile__edit\", onClick: function () {\n                    if (disabled) {\n                        return;\n                    }\n                    setShowModal(true);\n                }, disableUnderline: true },\n                React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY }, stringSet.CHANNEL_SETTING__PROFILE__EDIT)),\n            showModal && (React__default.createElement(EditDetails, { onCancel: function () { return setShowModal(false); }, onSubmit: function () { return setShowModal(false); } })))));\n};\n\nexport { ChannelProfile as default };\n//# sourceMappingURL=ChannelProfile.js.map\n", "import React__default, { useRef, useState, useContext } from 'react';\nimport { useChannelSettingsContext } from '../context.js';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { M as Modal } from '../../chunks/bundle-Bh6KfMRl.js';\nimport Input, { InputLabel } from '../../ui/Input.js';\nimport { A as Avatar } from '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { ButtonTypes } from '../../ui/Button.js';\nimport TextButton from '../../ui/TextButton.js';\nimport ChannelAvatar from '../../ui/ChannelAvatar.js';\nimport { u as uuidv4 } from '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\n\nvar EditDetails = function (props) {\n    var _a, _b, _c;\n    var onSubmit = props.onSubmit, onCancel = props.onCancel;\n    var _d = useChannelSettingsContext(), channel = _d.channel, onChannelModified = _d.onChannelModified, onBeforeUpdateChannel = _d.onBeforeUpdateChannel, setChannelUpdateId = _d.setChannelUpdateId;\n    var title = channel === null || channel === void 0 ? void 0 : channel.name;\n    var state = useSendbirdStateContext();\n    var userId = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var theme = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.theme;\n    var logger = (_c = state === null || state === void 0 ? void 0 : state.config) === null || _c === void 0 ? void 0 : _c.logger;\n    var inputRef = useRef(null);\n    var formRef = useRef(null);\n    var hiddenInputRef = useRef(null);\n    var _e = useState(null), currentImg = _e[0], setCurrentImg = _e[1];\n    var _f = useState(null), newFile = _f[0], setNewFile = _f[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { isFullScreenOnMobile: true, titleText: stringSet.MODAL__CHANNEL_INFORMATION__TITLE, submitText: stringSet.BUTTON__SAVE, onCancel: onCancel, onSubmit: function () {\n            var _a, _b, _c;\n            if (title !== '' && !((_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.value)) {\n                if ((_b = formRef.current) === null || _b === void 0 ? void 0 : _b.reportValidity) { // might not work in explorer\n                    formRef.current.reportValidity();\n                }\n                return;\n            }\n            var currentTitle = (_c = inputRef.current) === null || _c === void 0 ? void 0 : _c.value;\n            var currentImg = newFile;\n            logger.info('ChannelSettings: Channel information being updated', {\n                currentTitle: currentTitle,\n                currentImg: currentImg,\n            });\n            if (onBeforeUpdateChannel) {\n                logger.info('ChannelSettings: onBeforeUpdateChannel');\n                var params = onBeforeUpdateChannel(currentTitle !== null && currentTitle !== void 0 ? currentTitle : '', currentImg, channel === null || channel === void 0 ? void 0 : channel.data);\n                channel === null || channel === void 0 ? void 0 : channel.updateChannel(params).then(function (groupChannel) {\n                    onChannelModified === null || onChannelModified === void 0 ? void 0 : onChannelModified(groupChannel);\n                    setChannelUpdateId(uuidv4());\n                    onSubmit();\n                });\n            }\n            else {\n                logger.info('ChannelSettings: normal');\n                channel === null || channel === void 0 ? void 0 : channel.updateChannel({\n                    coverImage: currentImg,\n                    name: currentTitle,\n                    data: (channel === null || channel === void 0 ? void 0 : channel.data) || '',\n                }).then(function (groupChannel) {\n                    logger.info('ChannelSettings: Channel information updated', groupChannel);\n                    onChannelModified === null || onChannelModified === void 0 ? void 0 : onChannelModified(groupChannel);\n                    setChannelUpdateId === null || setChannelUpdateId === void 0 ? void 0 : setChannelUpdateId(uuidv4());\n                    onSubmit();\n                });\n            }\n        }, type: ButtonTypes.PRIMARY },\n        React__default.createElement(\"form\", { className: \"channel-profile-form\", ref: formRef, onSubmit: function (e) { e.preventDefault(); } },\n            React__default.createElement(\"div\", { className: \"channel-profile-form__img-section\" },\n                React__default.createElement(InputLabel, null, stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE),\n                React__default.createElement(\"div\", { className: \"channel-profile-form__avatar\" }, currentImg\n                    ? (React__default.createElement(Avatar, { height: \"80px\", width: \"80px\", src: currentImg })) : (React__default.createElement(ChannelAvatar, { height: 80, width: 80, channel: channel, userId: userId, theme: theme }))),\n                React__default.createElement(\"input\", { ref: hiddenInputRef, type: \"file\", accept: \"image/gif, image/jpeg, image/png\", style: { display: 'none' }, onChange: function (e) {\n                        if (e.target.files) {\n                            setCurrentImg(URL.createObjectURL(e.target.files[0]));\n                            setNewFile(e.target.files[0]);\n                        }\n                        if (hiddenInputRef.current) {\n                            hiddenInputRef.current.value = '';\n                        }\n                    } }),\n                React__default.createElement(TextButton, { className: \"channel-profile-form__avatar-button\", onClick: function () { var _a; return (_a = hiddenInputRef.current) === null || _a === void 0 ? void 0 : _a.click(); }, disableUnderline: true },\n                    React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: LabelColors.PRIMARY }, stringSet.MODAL__CHANNEL_INFORMATION__UPLOAD))),\n            React__default.createElement(\"div\", { className: \"channel-profile-form__name-section\" },\n                React__default.createElement(InputLabel, null, stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME),\n                React__default.createElement(Input, { required: title !== '', name: \"channel-profile-form__name\", ref: inputRef, value: title, placeHolder: stringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER })))));\n};\n\nexport { EditDetails as default };\n//# sourceMappingURL=EditDetailsModal.js.map\n", "import React__default from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useChannelSettingsContext } from '../context.js';\nimport { n as noop } from '../../chunks/bundle-CtBgdgkK.js';\nimport { M as Modal } from '../../chunks/bundle-Bh6KfMRl.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DBzinRyn.js';\nimport TextButton from '../../ui/TextButton.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\n\nvar LeaveChannel = function (props) {\n    var _a, _b;\n    var _c = props.onSubmit, onSubmit = _c === void 0 ? noop : _c, _d = props.onCancel, onCancel = _d === void 0 ? noop : _d;\n    var _e = useChannelSettingsContext(), channel = _e.channel, onLeaveChannel = _e.onLeaveChannel;\n    var stringSet = useLocalization().stringSet;\n    var state = useSendbirdStateContext();\n    var logger = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.logger;\n    var isOnline = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.isOnline;\n    var isMobile = useMediaQueryContext().isMobile;\n    var getChannelName = function (channel) {\n        if ((channel === null || channel === void 0 ? void 0 : channel.name) && (channel === null || channel === void 0 ? void 0 : channel.name) !== 'Group Channel') {\n            return channel.name;\n        }\n        if ((channel === null || channel === void 0 ? void 0 : channel.name) === 'Group Channel' || !(channel === null || channel === void 0 ? void 0 : channel.name)) {\n            return ((channel === null || channel === void 0 ? void 0 : channel.members) || []).map(function (member) { return member.nickname || stringSet.NO_NAME; }).join(', ');\n        }\n        return stringSet.NO_TITLE;\n    };\n    if (isMobile) {\n        return (React__default.createElement(Modal, { className: \"sendbird-channel-settings__leave--mobile\", titleText: getChannelName(channel), hideFooter: true, isCloseOnClickOutside: true, onCancel: onCancel },\n            React__default.createElement(TextButton, { onClick: function () {\n                    logger.info('ChannelSettings: Leaving channel', channel);\n                    channel === null || channel === void 0 ? void 0 : channel.leave().then(function () {\n                        logger.info('ChannelSettings: Leaving channel successful!', channel);\n                        onLeaveChannel === null || onLeaveChannel === void 0 ? void 0 : onLeaveChannel();\n                    });\n                }, className: \"sendbird-channel-settings__leave-label--mobile\" },\n                React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.CHANNEL_PREVIEW_MOBILE_LEAVE))));\n    }\n    return (React__default.createElement(Modal, { isFullScreenOnMobile: true, disabled: !isOnline, onCancel: onCancel, onSubmit: function () {\n            logger.info('ChannelSettings: Leaving channel', channel);\n            channel === null || channel === void 0 ? void 0 : channel.leave().then(function () {\n                logger.info('ChannelSettings: Leaving channel successful!', channel);\n                // is for backward compactability\n                if (onLeaveChannel) {\n                    onLeaveChannel();\n                }\n                else {\n                    onSubmit();\n                }\n            });\n        }, submitText: stringSet.MODAL__LEAVE_CHANNEL__FOOTER, titleText: stringSet.MODAL__LEAVE_CHANNEL__TITLE }));\n};\n\nexport { LeaveChannel as default };\n//# sourceMappingURL=LeaveChannel.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport Icon, { IconTypes } from '../../ui/Icon.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\n\nvar MenuItem = function (_a) {\n    var renderLeft = _a.renderLeft, renderMiddle = _a.renderMiddle, _b = _a.renderRight, renderRight = _b === void 0 ? function (props) { return React__default.createElement(MenuItemAction, __assign({}, props)); } : _b, renderAccordion = _a.renderAccordion, className = _a.className, onClick = _a.onClick, onKeyDown = _a.onKeyDown, accordionOpened = _a.accordionOpened, setAccordionOpened = _a.setAccordionOpened;\n    var useAccordion = typeof renderAccordion === 'function';\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: classnames('sendbird-channel-settings__panel-item', className), onClick: function (e) {\n                onClick === null || onClick === void 0 ? void 0 : onClick(e);\n                if (useAccordion)\n                    setAccordionOpened(!accordionOpened);\n            }, onKeyDown: function (e) {\n                onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(e);\n                if (useAccordion)\n                    setAccordionOpened(!accordionOpened);\n            } },\n            renderLeft(),\n            renderMiddle(),\n            renderRight({\n                useAccordion: useAccordion,\n                accordionOpened: accordionOpened,\n            })),\n        accordionOpened && (renderAccordion === null || renderAccordion === void 0 ? void 0 : renderAccordion())));\n};\nvar MenuItemAction = function (_a) {\n    var useAccordion = _a.useAccordion, accordionOpened = _a.accordionOpened, children = _a.children;\n    return useAccordion\n        ? React__default.createElement(Icon, { type: IconTypes.CHEVRON_RIGHT, className: [\n                'sendbird-accordion__panel-icon-right',\n                'sendbird-accordion__panel-icon--chevron',\n                (accordionOpened ? 'sendbird-accordion__panel-icon--open' : ''),\n            ].join(' '), height: \"24px\", width: \"24px\" })\n        : children;\n};\n\nexport { MenuItem, MenuItemAction, MenuItem as default };\n//# sourceMappingURL=ChannelSettingsMenuItem.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState } from 'react';\nimport { L as Label } from '../../chunks/bundle-CEZ0D4qz.js';\nimport Icon from '../../ui/Icon.js';\nimport { i as isOperator } from '../../chunks/bundle-Dt4PQi4u.js';\nimport { MenuItem } from './ChannelSettingsMenuItem.js';\nimport { useChannelSettingsContext } from '../context.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\n\nvar MenuListByRole = function (_a) {\n    var menuItems = _a.menuItems;\n    var channel = useChannelSettingsContext().channel;\n    var menuItemsByRole = isOperator(channel) ? menuItems.operator : menuItems.nonOperator;\n    // State to track the open accordion key\n    var _b = useState(null), openAccordionKey = _b[0], setOpenAccordionKey = _b[1];\n    return (React__default.createElement(\"div\", { className: \"sendbird-channel-settings__operator\" }, Object.entries(menuItemsByRole).map(function (_a) {\n        var key = _a[0], item = _a[1];\n        if (item.hideMenu)\n            return null;\n        return (React__default.createElement(MenuItem, { key: key, onClick: item.onClick, onKeyDown: item.onKeyDown, renderLeft: function () { return React__default.createElement(Icon, __assign({}, item.icon)); }, renderMiddle: function () { return React__default.createElement(Label, __assign({}, item.label)); }, renderRight: item.rightComponent, renderAccordion: item.accordionComponent, accordionOpened: openAccordionKey === key, setAccordionOpened: function () {\n                setOpenAccordionKey(function (prevKey) { return (prevKey === key ? null : key); });\n            } }));\n    })));\n};\n\nexport { MenuListByRole, MenuListByRole as default };\n//# sourceMappingURL=ChannelSettingMenuList.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState, useContext, useEffect, useMemo } from 'react';\nimport { O as OperatorList, M as MutedMemberList, B as BannedUserList } from '../../chunks/bundle-DWQyLuYT.js';\nimport { M as MemberList } from '../../chunks/bundle-nv2ffewN.js';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { IconColors, IconTypes } from '../../ui/Icon.js';\nimport Badge from '../../ui/Badge.js';\nimport { Toggle } from '../../ui/Toggle.js';\nimport { a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { useChannelSettingsContext } from '../context.js';\nimport { MenuItemAction } from '../components/ChannelSettingsMenuItem.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-C8mqUun8.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../ui/IconButton.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../ui/UserListItem.js';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-D2bCW01X.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-FtNvi0ib.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\n\nvar kFormatter = function (num) {\n    return Math.abs(num) > 999\n        ? \"\".concat((Math.abs(num) / 1000).toFixed(1), \"K\")\n        : num;\n};\nvar commonIconProps = {\n    fillColor: IconColors.PRIMARY,\n    width: 24,\n    height: 24,\n    className: 'sendbird-channel-settings__accordion-icon',\n};\nvar commonLabelProps = {\n    type: LabelTypography.SUBTITLE_1,\n    color: LabelColors.ONBACKGROUND_1,\n};\nvar useMenuItems = function () {\n    var _a = useState(false), frozen = _a[0], setFrozen = _a[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _b = useChannelSettingsContext(), channel = _b.channel, renderUserListItem = _b.renderUserListItem;\n    // work around for\n    // https://sendbird.slack.com/archives/G01290GCDCN/p1595922832000900\n    // SDK bug - after frozen/unfrozen myRole becomes \"none\"\n    useEffect(function () {\n        var _a;\n        setFrozen((_a = channel === null || channel === void 0 ? void 0 : channel.isFrozen) !== null && _a !== void 0 ? _a : false);\n    }, [channel === null || channel === void 0 ? void 0 : channel.isFrozen]);\n    return useMemo(function () { return ({\n        operator: {\n            operators: {\n                icon: __assign(__assign({}, commonIconProps), { type: IconTypes.OPERATOR }),\n                label: __assign(__assign({}, commonLabelProps), { children: stringSet.CHANNEL_SETTING__OPERATORS__TITLE }),\n                accordionComponent: function () { return React__default.createElement(OperatorList, { renderUserListItem: renderUserListItem }); },\n            },\n            allUsers: {\n                icon: __assign(__assign({}, commonIconProps), { type: IconTypes.MEMBERS }),\n                label: __assign(__assign({}, commonLabelProps), { children: stringSet.CHANNEL_SETTING__MEMBERS__TITLE }),\n                rightComponent: function (props) { return (React__default.createElement(\"div\", { className: \"sendbird-channel-settings__members\" },\n                    React__default.createElement(Badge, { count: (channel === null || channel === void 0 ? void 0 : channel.memberCount) ? kFormatter(channel.memberCount) : '' }),\n                    React__default.createElement(MenuItemAction, __assign({}, props)))); },\n                accordionComponent: function () { return React__default.createElement(MemberList, { renderUserListItem: renderUserListItem }); },\n            },\n            mutedUsers: {\n                icon: __assign(__assign({}, commonIconProps), { type: IconTypes.MUTE }),\n                label: __assign(__assign({}, commonLabelProps), { children: stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE }),\n                accordionComponent: function () { return React__default.createElement(MutedMemberList, { renderUserListItem: renderUserListItem }); },\n            },\n            bannedUsers: {\n                icon: __assign(__assign({}, commonIconProps), { type: IconTypes.BAN }),\n                label: __assign(__assign({}, commonLabelProps), { children: stringSet.CHANNEL_SETTING__BANNED_MEMBERS__TITLE }),\n                accordionComponent: function () { return React__default.createElement(BannedUserList, { renderUserListItem: renderUserListItem }); },\n            },\n            freezeChannel: {\n                hideMenu: channel === null || channel === void 0 ? void 0 : channel.isBroadcast,\n                icon: __assign(__assign({}, commonIconProps), { type: IconTypes.FREEZE }),\n                label: __assign(__assign({}, commonLabelProps), { children: stringSet.CHANNEL_SETTING__FREEZE_CHANNEL }),\n                rightComponent: function () { return React__default.createElement(Toggle, { className: \"sendbird-channel-settings__frozen-icon\", checked: frozen, onChange: function () {\n                        if (frozen) {\n                            channel === null || channel === void 0 ? void 0 : channel.unfreeze().then(function () {\n                                setFrozen(function (prev) { return !prev; });\n                            });\n                        }\n                        else {\n                            channel === null || channel === void 0 ? void 0 : channel.freeze().then(function () {\n                                setFrozen(function (prev) { return !prev; });\n                            });\n                        }\n                    } }); },\n            },\n        },\n        nonOperator: {\n            allUsers: {\n                icon: __assign(__assign({}, commonIconProps), { type: IconTypes.MEMBERS }),\n                label: __assign(__assign({}, commonLabelProps), { children: stringSet.CHANNEL_SETTING__MEMBERS__TITLE }),\n                rightComponent: function (props) { return (React__default.createElement(\"div\", { className: \"sendbird-channel-settings__members\" },\n                    React__default.createElement(Badge, { count: (channel === null || channel === void 0 ? void 0 : channel.memberCount) ? kFormatter(channel.memberCount) : '' }),\n                    React__default.createElement(MenuItemAction, __assign({}, props)))); },\n                accordionComponent: function () { return React__default.createElement(MemberList, { renderUserListItem: renderUserListItem }); },\n            },\n        }\n    }); }, [channel === null || channel === void 0 ? void 0 : channel.url, frozen]);\n};\n\nexport { useMenuItems as default, useMenuItems };\n//# sourceMappingURL=useMenuList.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator, c as __spreadArray } from './bundle-B1SLZ0HT.js';\nimport React__default, { useState, useContext, useEffect, useCallback } from 'react';\nimport { L as LocalizationContext, u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { useChannelSettingsContext } from '../ChannelSettings/context.js';\nimport Button, { ButtonTypes, ButtonSizes } from '../ui/Button.js';\nimport { U as UserListItemMenu } from './bundle-C8mqUun8.js';\nimport { UserListItem } from '../ui/UserListItem.js';\nimport { M as Modal } from './bundle-Bh6KfMRl.js';\nimport { u as useOnScrollPositionChangeDetector } from './bundle-D2bCW01X.js';\nimport { L as Label, b as LabelColors, a as LabelTypography } from './bundle-CEZ0D4qz.js';\nimport { OperatorFilter } from '@sendbird/chat/groupChannel';\nimport { n as noop } from './bundle-CtBgdgkK.js';\n\nfunction OperatorsModal(_a) {\n    var _this = this;\n    var onCancel = _a.onCancel, _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.operatorListQueryParams, operatorListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), operators = _d[0], setOperators = _d[1];\n    var _e = useState(null), operatorQuery = _e[0], setOperatorQuery = _e[1];\n    var channel = useChannelSettingsContext().channel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        var operatorListQuery = channel === null || channel === void 0 ? void 0 : channel.createOperatorListQuery(__assign({ limit: 20 }, operatorListQueryParams));\n        operatorListQuery === null || operatorListQuery === void 0 ? void 0 : operatorListQuery.next().then(function (operators) {\n            setOperators(operators);\n        });\n        setOperatorQuery(operatorListQuery !== null && operatorListQuery !== void 0 ? operatorListQuery : null);\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, hideFooter: true, titleText: stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL, onCancel: onCancel },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: useOnScrollPositionChangeDetector({\n                    onReachedBottom: function () { return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            if (operatorQuery && operatorQuery.hasNext) {\n                                operatorQuery.next().then(function (o) {\n                                    setOperators(__spreadArray(__spreadArray([], operators, true), o, true));\n                                });\n                            }\n                            return [2 /*return*/];\n                        });\n                    }); },\n                }) }, operators.map(function (member) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n                user: member,\n                channel: channel,\n                renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { isOperator: true, onToggleOperatorState: function (_a) {\n                        var user = _a.user;\n                        setOperators(operators.filter(function (_a) {\n                            var userId = _a.userId;\n                            return userId !== user.userId;\n                        }));\n                    }, renderMenuItems: function (_a) {\n                        var items = _a.items;\n                        return (React__default.createElement(items.OperatorToggleMenuItem, null));\n                    } }))); },\n            }))); })))));\n}\n\nfunction AddOperatorsModal(_a) {\n    var _this = this;\n    var onCancel = _a.onCancel, onSubmit = _a.onSubmit, _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b;\n    var _c = useState([]), members = _c[0], setMembers = _c[1];\n    var _d = useState({}), selectedMembers = _d[0], setSelectedMembers = _d[1];\n    var _e = useState(null), memberQuery = _e[0], setMemberQuery = _e[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var channel = useChannelSettingsContext().channel;\n    useEffect(function () {\n        var memberListQuery = channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery({\n            operatorFilter: OperatorFilter.NONOPERATOR,\n            limit: 20,\n        });\n        memberListQuery === null || memberListQuery === void 0 ? void 0 : memberListQuery.next().then(function (members) {\n            setMembers(members);\n        });\n        setMemberQuery(memberListQuery !== null && memberListQuery !== void 0 ? memberListQuery : null);\n    }, []);\n    var selectedCount = Object.keys(selectedMembers).filter(function (m) { return selectedMembers[m]; }).length;\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, type: ButtonTypes.PRIMARY, submitText: stringSet.CHANNEL_SETTING__OPERATORS__ADD_BUTTON, onCancel: onCancel, onSubmit: function () {\n                var members = Object.keys(selectedMembers).filter(function (m) { return selectedMembers[m]; });\n                channel === null || channel === void 0 ? void 0 : channel.addOperators(members).then(function () {\n                    onSubmit(members);\n                });\n            }, titleText: stringSet.CHANNEL_SETTING__MEMBERS__SELECT_TITLE },\n            React__default.createElement(Label, { color: (selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3, type: LabelTypography.CAPTION_1 }, \"\".concat(selectedCount, \" \").concat(stringSet.MODAL__INVITE_MEMBER__SELECTED)),\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: useOnScrollPositionChangeDetector({\n                    onReachedBottom: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var hasNext;\n                        return __generator(this, function (_a) {\n                            hasNext = memberQuery.hasNext;\n                            if (hasNext) {\n                                memberQuery.next().then(function (o) {\n                                    setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n                                });\n                            }\n                            return [2 /*return*/];\n                        });\n                    }); },\n                }) }, members.map(function (member) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n                user: member,\n                checkBox: true,\n                checked: selectedMembers[member.userId],\n                disabled: (member === null || member === void 0 ? void 0 : member.role) === 'operator',\n                onChange: function (event) {\n                    var _a;\n                    var modifiedSelectedMembers = __assign(__assign({}, selectedMembers), (_a = {}, _a[event.target.id] = event.target.checked, _a));\n                    if (!event.target.checked) {\n                        delete modifiedSelectedMembers[event.target.id];\n                    }\n                    setSelectedMembers(modifiedSelectedMembers);\n                },\n            }))); })))));\n}\n\nvar OperatorList = function (_a) {\n    var _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.operatorListQueryParams, operatorListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), operators = _d[0], setOperators = _d[1];\n    var _e = useState(false), showMore = _e[0], setShowMore = _e[1];\n    var _f = useState(false), showAdd = _f[0], setShowAdd = _f[1];\n    var _g = useState(false), hasNext = _g[0], setHasNext = _g[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var channel = useChannelSettingsContext().channel;\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setOperators([]);\n            return;\n        }\n        var operatorListQuery = channel === null || channel === void 0 ? void 0 : channel.createOperatorListQuery(__assign({ limit: 10 }, operatorListQueryParams));\n        operatorListQuery.next().then(function (operators) {\n            setOperators(operators);\n            setHasNext(operatorListQuery.hasNext);\n        });\n    }, [channel === null || channel === void 0 ? void 0 : channel.url, channel === null || channel === void 0 ? void 0 : channel.createOperatorListQuery]);\n    useEffect(refreshList, [channel === null || channel === void 0 ? void 0 : channel.url]);\n    return (React__default.createElement(React__default.Fragment, null,\n        operators.map(function (operator) { return (React__default.createElement(React__default.Fragment, { key: operator.userId }, renderUserListItem({\n            user: operator,\n            channel: channel,\n            size: 'small',\n            avatarSize: '24px',\n            renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { \n                /**\n                 * isOperator:\n                 * The ReturnType of createOperatorListQuery is User[].\n                 * We can't determine if this user is an operator, because User doesn't have a `role` property.\n                 * Therefore, we need to explicitly specify that this user is an operator.\n                */\n                isOperator: true, onToggleOperatorState: function () {\n                    // Limitation to server-side table update delay.\n                    setTimeout(function () {\n                        refreshList();\n                    }, 500);\n                }, renderMenuItems: function (_a) {\n                    var items = _a.items;\n                    return (React__default.createElement(items.OperatorToggleMenuItem, null));\n                } }))); },\n        }))); }),\n        React__default.createElement(\"div\", { className: \"sendbird-channel-settings-accordion__footer\" },\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowAdd(true);\n                } }, stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ADD),\n            hasNext && (React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowMore(true);\n                } }, stringSet.CHANNEL_SETTING__OPERATORS__TITLE_ALL))),\n        showMore && (React__default.createElement(OperatorsModal, { onCancel: function () {\n                setShowMore(false);\n                refreshList();\n            }, renderUserListItem: renderUserListItem, operatorListQueryParams: operatorListQueryParams })),\n        showAdd && (React__default.createElement(AddOperatorsModal, { onCancel: function () { return setShowAdd(false); }, onSubmit: function () {\n                /**\n                 * Limitation to server-side table update delay.\n                 */\n                setTimeout(function () {\n                    refreshList();\n                }, 500);\n                setShowAdd(false);\n            }, renderUserListItem: renderUserListItem }))));\n};\n\nfunction BannedUsersModal(_a) {\n    var _this = this;\n    var onCancel = _a.onCancel, _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.bannedUserListQueryParams, bannedUserListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), members = _d[0], setMembers = _d[1];\n    var _e = useState(null), memberQuery = _e[0], setMemberQuery = _e[1];\n    var channel = useChannelSettingsContext().channel;\n    var stringSet = useLocalization().stringSet;\n    useEffect(function () {\n        var bannedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createBannedUserListQuery(__assign({ limit: 20 }, bannedUserListQueryParams));\n        if (bannedUserListQuery) {\n            bannedUserListQuery.next().then(function (users) {\n                setMembers(users);\n            });\n            setMemberQuery(bannedUserListQuery);\n        }\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, hideFooter: true, onCancel: function () { return onCancel(); }, onSubmit: noop, titleText: stringSet.CHANNEL_SETTING__BANNED_MEMBERS__TITLE },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: useOnScrollPositionChangeDetector({\n                    onReachedBottom: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var hasNext;\n                        return __generator(this, function (_a) {\n                            if (!memberQuery)\n                                return [2 /*return*/];\n                            hasNext = memberQuery.hasNext;\n                            if (hasNext) {\n                                memberQuery.next().then(function (o) {\n                                    setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n                                });\n                            }\n                            return [2 /*return*/];\n                        });\n                    }); },\n                }) }, members.map(function (member) { return (renderUserListItem({\n                user: member,\n                channel: channel,\n                renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { isBanned: true, onToggleBanState: function () {\n                        setMembers(members.filter(function (m) {\n                            return (m.userId !== member.userId);\n                        }));\n                    }, renderMenuItems: function (_a) {\n                        var items = _a.items;\n                        return React__default.createElement(items.BanToggleMenuItem, null);\n                    } }))); },\n            })); })))));\n}\n\nvar BannedUserList = function (_a) {\n    var _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.bannedUserListQueryParams, bannedUserListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), members = _d[0], setMembers = _d[1];\n    var _e = useState(false), hasNext = _e[0], setHasNext = _e[1];\n    var _f = useState(false), showModal = _f[0], setShowModal = _f[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var channel = useChannelSettingsContext().channel;\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setMembers([]);\n            return;\n        }\n        var bannedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createBannedUserListQuery(__assign({ limit: 10 }, bannedUserListQueryParams));\n        bannedUserListQuery.next().then(function (users) {\n            setMembers(users);\n            setHasNext(bannedUserListQuery.hasNext);\n        });\n    }, [channel === null || channel === void 0 ? void 0 : channel.url, channel === null || channel === void 0 ? void 0 : channel.createBannedUserListQuery]);\n    useEffect(refreshList, [channel === null || channel === void 0 ? void 0 : channel.url]);\n    return (React__default.createElement(React__default.Fragment, null,\n        members.map(function (member) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n            user: member,\n            channel: channel,\n            size: 'small',\n            avatarSize: '24px',\n            renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { isBanned: true, onToggleBanState: function () { return refreshList(); }, renderMenuItems: function (_a) {\n                    var items = _a.items;\n                    return (React__default.createElement(items.BanToggleMenuItem, null));\n                } }))); },\n        }))); }),\n        members && members.length === 0 && (React__default.createElement(Label, { className: \"sendbird-channel-settings__empty-list\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_3 }, stringSet.CHANNEL_SETTING__MODERATION__EMPTY_BAN)),\n        hasNext && (React__default.createElement(\"div\", { className: \"sendbird-channel-settings-accordion__footer\" },\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowModal(true);\n                } }, stringSet.CHANNEL_SETTING__MODERATION__ALL_BAN))),\n        showModal && (React__default.createElement(BannedUsersModal, { onCancel: function () {\n                setShowModal(false);\n                refreshList();\n            }, renderUserListItem: renderUserListItem, bannedUserListQueryParams: bannedUserListQueryParams }))));\n};\n\nfunction MutedMembersModal(_a) {\n    var _this = this;\n    var onCancel = _a.onCancel, _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.memberListQueryParams, memberListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), members = _d[0], setMembers = _d[1];\n    var _e = useState(null), memberQuery = _e[0], setMemberQuery = _e[1];\n    var channel = useChannelSettingsContext().channel;\n    var stringSet = useLocalization().stringSet;\n    useEffect(function () {\n        var memberUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery(__assign(__assign({ limit: 20 }, memberListQueryParams), { \n            // @ts-ignore\n            mutedMemberFilter: 'muted' }));\n        memberUserListQuery === null || memberUserListQuery === void 0 ? void 0 : memberUserListQuery.next().then(function (members) {\n            setMembers(members);\n        });\n        setMemberQuery(memberUserListQuery !== null && memberUserListQuery !== void 0 ? memberUserListQuery : null);\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, hideFooter: true, onCancel: function () { return onCancel(); }, onSubmit: noop, titleText: stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: useOnScrollPositionChangeDetector({\n                    onReachedBottom: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var hasNext;\n                        return __generator(this, function (_a) {\n                            hasNext = memberQuery.hasNext;\n                            if (hasNext) {\n                                memberQuery.next().then(function (o) {\n                                    setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n                                });\n                            }\n                            return [2 /*return*/];\n                        });\n                    }); },\n                }) }, members.map(function (member) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n                user: member,\n                channel: channel,\n                renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { onToggleMuteState: function () {\n                        setMembers(members.filter(function (m) {\n                            return (m.userId !== member.userId);\n                        }));\n                    }, renderMenuItems: function (_a) {\n                        var items = _a.items;\n                        return (React__default.createElement(items.MuteToggleMenuItem, null));\n                    } }))); },\n            }))); })))));\n}\n\nvar MutedMemberList = function (_a) {\n    var _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.memberListQueryParams, memberListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), members = _d[0], setMembers = _d[1];\n    var _e = useState(false), hasNext = _e[0], setHasNext = _e[1];\n    var _f = useState(false), showModal = _f[0], setShowModal = _f[1];\n    var stringSet = useLocalization().stringSet;\n    var channel = useChannelSettingsContext().channel;\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setMembers([]);\n            return;\n        }\n        var memberUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery(__assign(__assign({ limit: 10 }, memberListQueryParams), { \n            // @ts-ignore\n            mutedMemberFilter: 'muted' }));\n        memberUserListQuery.next().then(function (members) {\n            setMembers(members);\n            setHasNext(memberUserListQuery.hasNext);\n        });\n    }, [channel === null || channel === void 0 ? void 0 : channel.url, channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery]);\n    useEffect(refreshList, [channel === null || channel === void 0 ? void 0 : channel.url]);\n    return (React__default.createElement(React__default.Fragment, null,\n        members.map(function (member) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n            user: member,\n            channel: channel,\n            size: 'small',\n            avatarSize: '24px',\n            renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { onToggleMuteState: function () {\n                    // Limitation to server-side table update delay.\n                    setTimeout(function () {\n                        refreshList();\n                    }, 500);\n                }, renderMenuItems: function (_a) {\n                    var items = _a.items;\n                    return (React__default.createElement(items.MuteToggleMenuItem, null));\n                } }))); },\n        }))); }),\n        members && members.length === 0 && (React__default.createElement(Label, { className: \"sendbird-channel-settings__empty-list\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_3 }, stringSet.CHANNEL_SETTING__NO_UNMUTED)),\n        hasNext && (React__default.createElement(\"div\", { className: \"sendbird-channel-settings-accordion__footer\" },\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowModal(true);\n                } }, stringSet.CHANNEL_SETTING__MUTED_MEMBERS__TITLE_ALL))),\n        showModal && (React__default.createElement(MutedMembersModal, { onCancel: function () {\n                setShowModal(false);\n                refreshList();\n            }, renderUserListItem: renderUserListItem, memberListQueryParams: memberListQueryParams }))));\n};\n\nexport { BannedUserList as B, MutedMemberList as M, OperatorList as O };\n//# sourceMappingURL=bundle-DWQyLuYT.js.map\n", "import { a as __awaiter, b as __generator, d as __rest, _ as __assign } from './bundle-B1SLZ0HT.js';\nimport React__default, { useState, useRef, useCallback, createContext, useContext } from 'react';\nimport { Role } from '@sendbird/chat';\nimport { OpenChannel } from '@sendbird/chat/openChannel';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport '../withSendbird.js';\nimport { a as MenuItem, b as MenuItems } from './bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport IconButton from '../ui/IconButton.js';\nimport './bundle-D-cVbGxk.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { c as classnames } from './bundle-CtBgdgkK.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\n\n// Utility function to handle processing state and promise execution\nvar processToggleAction = function (isProcessing, action, errorHandler) { return __awaiter(void 0, void 0, void 0, function () {\n    var error_1;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                if (isProcessing.current) {\n                    errorHandler === null || errorHandler === void 0 ? void 0 : errorHandler(new Error('Processing in progress'));\n                    return [2 /*return*/];\n                }\n                isProcessing.current = true;\n                _a.label = 1;\n            case 1:\n                _a.trys.push([1, 3, 4, 5]);\n                return [4 /*yield*/, action()];\n            case 2:\n                _a.sent();\n                return [3 /*break*/, 5];\n            case 3:\n                error_1 = _a.sent();\n                errorHandler === null || errorHandler === void 0 ? void 0 : errorHandler(error_1);\n                return [3 /*break*/, 5];\n            case 4:\n                isProcessing.current = false;\n                return [7 /*endfinally*/];\n            case 5: return [2 /*return*/];\n        }\n    });\n}); };\nvar getInitialIsOperator = function (channel, user) {\n    if (!channel)\n        return false;\n    if (channel instanceof OpenChannel) {\n        return channel.isOperator(user);\n    }\n    return (user === null || user === void 0 ? void 0 : user.role) === Role.OPERATOR;\n};\nvar getInitialIsMuted = function (channel, user) {\n    return channel ? user === null || user === void 0 ? void 0 : user.isMuted : false;\n};\nvar useToggleOperator = function (_a) {\n    var channel = _a.channel, user = _a.user, onToggleOperatorState = _a.onToggleOperatorState, _isOperator = _a.isOperator;\n    var _b = useState(_isOperator !== null && _isOperator !== void 0 ? _isOperator : getInitialIsOperator(channel, user)), isOperator = _b[0], setIsOperator = _b[1];\n    var isProcessing = useRef(false);\n    var toggleOperator = useCallback(function () {\n        // If channel is undefined, resolve immediately\n        if (!channel)\n            return Promise.resolve();\n        return processToggleAction(isProcessing, function () { return __awaiter(void 0, void 0, void 0, function () {\n            var togglePromise, newStatus;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        togglePromise = isOperator\n                            ? channel.removeOperators([user.userId])\n                            : channel.addOperators([user.userId]);\n                        return [4 /*yield*/, togglePromise];\n                    case 1:\n                        _a.sent();\n                        newStatus = !isOperator;\n                        setIsOperator(newStatus);\n                        onToggleOperatorState === null || onToggleOperatorState === void 0 ? void 0 : onToggleOperatorState({ user: user, newStatus: newStatus });\n                        return [2 /*return*/];\n                }\n            });\n        }); }, function (error) {\n            onToggleOperatorState === null || onToggleOperatorState === void 0 ? void 0 : onToggleOperatorState({ user: user, newStatus: isOperator, error: error });\n        });\n    }, [isOperator, channel.url, user.userId, onToggleOperatorState]);\n    return {\n        isOperator: isOperator,\n        toggleOperator: toggleOperator,\n    };\n};\nvar useToggleMute = function (_a) {\n    var channel = _a.channel, user = _a.user, onToggleMuteState = _a.onToggleMuteState, _isMuted = _a.isMuted;\n    var _b = useState(_isMuted !== null && _isMuted !== void 0 ? _isMuted : getInitialIsMuted(channel, user)), isMuted = _b[0], setIsMuted = _b[1];\n    var isProcessing = useRef(false);\n    var toggleMute = useCallback(function () {\n        // If channel is undefined, resolve immediately\n        if (!channel)\n            return Promise.resolve();\n        return processToggleAction(isProcessing, function () { return __awaiter(void 0, void 0, void 0, function () {\n            var togglePromise, newStatus;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        togglePromise = isMuted\n                            ? channel.unmuteUser(user)\n                            : channel.muteUser(user);\n                        return [4 /*yield*/, togglePromise];\n                    case 1:\n                        _a.sent();\n                        newStatus = !isMuted;\n                        setIsMuted(newStatus);\n                        onToggleMuteState === null || onToggleMuteState === void 0 ? void 0 : onToggleMuteState({ user: user, newStatus: newStatus });\n                        return [2 /*return*/];\n                }\n            });\n        }); }, function (error) {\n            onToggleMuteState === null || onToggleMuteState === void 0 ? void 0 : onToggleMuteState({ user: user, newStatus: isMuted, error: error });\n        });\n    }, [isMuted, channel.url, user.userId, onToggleMuteState]);\n    return {\n        isMuted: isMuted,\n        toggleMute: toggleMute,\n    };\n};\nvar useToggleBan = function (_a) {\n    var channel = _a.channel, user = _a.user, onToggleBanState = _a.onToggleBanState, _isBanned = _a.isBanned;\n    var _b = useState(_isBanned !== null && _isBanned !== void 0 ? _isBanned : false), isBanned = _b[0], setIsBanned = _b[1]; // Initially starting with false\n    var isProcessing = useRef(false);\n    var toggleBan = useCallback(function () {\n        // If channel is undefined, resolve immediately\n        if (!channel)\n            return Promise.resolve();\n        return processToggleAction(isProcessing, function () { return __awaiter(void 0, void 0, void 0, function () {\n            var togglePromise, newStatus;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        togglePromise = isBanned\n                            ? channel.unbanUser(user)\n                            : channel.banUser(user);\n                        return [4 /*yield*/, togglePromise];\n                    case 1:\n                        _a.sent();\n                        newStatus = !isBanned;\n                        setIsBanned(newStatus);\n                        onToggleBanState === null || onToggleBanState === void 0 ? void 0 : onToggleBanState({ user: user, newStatus: newStatus });\n                        return [2 /*return*/];\n                }\n            });\n        }); }, function (error) {\n            onToggleBanState === null || onToggleBanState === void 0 ? void 0 : onToggleBanState({ user: user, newStatus: isBanned, error: error });\n        });\n    }, [isBanned, channel.url, user.userId, onToggleBanState]);\n    return {\n        isBanned: isBanned,\n        toggleBan: toggleBan,\n    };\n};\n\nvar UserListItemMenuContext = createContext(undefined);\nvar UserListItemMenuProvider = function (_a) {\n    var children = _a.children, values = __rest(_a, [\"children\"]);\n    var config = useSendbirdStateContext().config;\n    var currentUserId = config.userId;\n    var channel = values.channel, user = values.user;\n    var isCurrentUser = user.userId === currentUserId;\n    var isCurrentUserOperator = (function () {\n        if (!channel)\n            return false;\n        return channel instanceof OpenChannel\n            ? channel.isOperator(currentUserId)\n            : channel.myRole === Role.OPERATOR;\n    })();\n    var operatorState = useToggleOperator(values);\n    var muteState = useToggleMute(values);\n    var banState = useToggleBan(values);\n    return (React__default.createElement(UserListItemMenuContext.Provider, { value: __assign(__assign(__assign(__assign(__assign({}, values), operatorState), muteState), banState), { isCurrentUser: isCurrentUser, isCurrentUserOperator: isCurrentUserOperator }) }, children));\n};\nvar useUserListItemMenuContext = function () {\n    var context = useContext(UserListItemMenuContext);\n    if (!context) {\n        throw new Error('useUserListItemMenuContext must be used within a UserListItemMenuProvider.');\n    }\n    return context;\n};\n\nvar OperatorToggleMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useUserListItemMenuContext(), isOperator = _b.isOperator, toggleOperator = _b.toggleOperator, isCurrentUser = _b.isCurrentUser, isCurrentUserOperator = _b.isCurrentUserOperator, hideMenu = _b.hideMenu;\n    if (!isCurrentUserOperator)\n        return React__default.createElement(React__default.Fragment, null);\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            (_a = props === null || props === void 0 ? void 0 : props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            toggleOperator();\n            hideMenu();\n        }, disabled: isCurrentUser }), (_a = props === null || props === void 0 ? void 0 : props.children) !== null && _a !== void 0 ? _a : (isOperator\n        ? stringSet.CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR\n        : stringSet.CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR)));\n};\nvar MuteToggleMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useUserListItemMenuContext(), isMuted = _b.isMuted, toggleMute = _b.toggleMute, isCurrentUserOperator = _b.isCurrentUserOperator, hideMenu = _b.hideMenu, channel = _b.channel;\n    if (!isCurrentUserOperator || (channel === null || channel === void 0 ? void 0 : channel.isBroadcast))\n        return React__default.createElement(React__default.Fragment, null);\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            (_a = props === null || props === void 0 ? void 0 : props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            toggleMute();\n            hideMenu();\n        } }), (_a = props === null || props === void 0 ? void 0 : props.children) !== null && _a !== void 0 ? _a : (isMuted\n        ? stringSet.CHANNEL_SETTING__MODERATION__UNMUTE\n        : stringSet.CHANNEL_SETTING__MODERATION__MUTE)));\n};\nvar BanToggleMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useUserListItemMenuContext(), isBanned = _b.isBanned, toggleBan = _b.toggleBan, isCurrentUserOperator = _b.isCurrentUserOperator, hideMenu = _b.hideMenu;\n    if (!isCurrentUserOperator)\n        return React__default.createElement(React__default.Fragment, null);\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            (_a = props === null || props === void 0 ? void 0 : props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            toggleBan();\n            hideMenu();\n        } }), (_a = props === null || props === void 0 ? void 0 : props.children) !== null && _a !== void 0 ? _a : (isBanned\n        ? stringSet.CHANNEL_SETTING__MODERATION__UNBAN\n        : stringSet.CHANNEL_SETTING__MODERATION__BAN)));\n};\n\nvar TriggerIcon = function (_a) {\n    var toggleMenu = _a.toggleMenu, ref = _a.ref;\n    return (React__default.createElement(IconButton, { ref: ref, className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleMenu },\n        React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE })));\n};\nvar DefaultMenuItems = function (_a) {\n    var items = _a.items;\n    var OperatorToggleMenuItem = items.OperatorToggleMenuItem, MuteToggleMenuItem = items.MuteToggleMenuItem, BanToggleMenuItem = items.BanToggleMenuItem;\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(OperatorToggleMenuItem, null),\n        React__default.createElement(MuteToggleMenuItem, null),\n        React__default.createElement(BanToggleMenuItem, null)));\n};\n\nvar UserListItemMenu = function (props) {\n    var user = props.user, className = props.className, _a = props.renderTrigger, renderTrigger = _a === void 0 ? TriggerIcon : _a, _b = props.renderMenuItems, renderMenuItems = _b === void 0 ? DefaultMenuItems : _b;\n    var _c = useState(false), isMenuVisible = _c[0], setMenuVisibility = _c[1];\n    var containerRef = useRef(null);\n    var triggerRef = useRef(null);\n    var config = useSendbirdStateContext().config;\n    var currentUserId = config.userId;\n    var toggleMenu = function () {\n        setMenuVisibility(function (prev) { return !prev; });\n    };\n    var hideMenu = function () {\n        setMenuVisibility(false);\n    };\n    if (user.userId === currentUserId) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-user-list-item-menu', className), ref: containerRef },\n        React__default.createElement(UserListItemMenuProvider, __assign({}, props, { hideMenu: hideMenu, toggleMenu: toggleMenu }),\n            renderTrigger({ ref: triggerRef, toggleMenu: toggleMenu }),\n            isMenuVisible && (React__default.createElement(MenuItems\n            // TODO: Add id using getObservingId for useElementObserver\n            , { \n                // TODO: Add id using getObservingId for useElementObserver\n                parentRef: triggerRef, parentContainRef: containerRef, closeDropdown: hideMenu }, renderMenuItems({\n                items: {\n                    OperatorToggleMenuItem: OperatorToggleMenuItem,\n                    MuteToggleMenuItem: MuteToggleMenuItem,\n                    BanToggleMenuItem: BanToggleMenuItem,\n                },\n            }))))));\n};\n\nexport { UserListItemMenu as U, UserListItemMenuProvider as a, useUserListItemMenuContext as u };\n//# sourceMappingURL=bundle-C8mqUun8.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator, c as __spreadArray, d as __rest } from './bundle-B1SLZ0HT.js';\nimport React__default, { useState, useContext, useEffect, useMemo, useCallback } from 'react';\nimport { Role } from '@sendbird/chat';\nimport { L as LocalizationContext, u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { useChannelSettingsContext } from '../ChannelSettings/context.js';\nimport Button, { ButtonTypes, ButtonSizes } from '../ui/Button.js';\nimport { U as UserListItemMenu } from './bundle-C8mqUun8.js';\nimport { UserListItem } from '../ui/UserListItem.js';\nimport { M as Modal } from './bundle-Bh6KfMRl.js';\nimport { n as noop } from './bundle-CtBgdgkK.js';\nimport { u as useOnScrollPositionChangeDetector } from './bundle-D2bCW01X.js';\nimport './bundle-CEZ0D4qz.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\n\nfunction MembersModal(_a) {\n    var _this = this;\n    var onCancel = _a.onCancel, _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.memberListQueryParams, memberListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), members = _d[0], setMembers = _d[1];\n    var _e = useState(null), memberQuery = _e[0], setMemberQuery = _e[1];\n    var channel = useChannelSettingsContext().channel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        var memberListQuery = channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery(__assign({ limit: 20 }, memberListQueryParams));\n        memberListQuery === null || memberListQuery === void 0 ? void 0 : memberListQuery.next().then(function (members) {\n            setMembers(members);\n        });\n        setMemberQuery(memberListQuery !== null && memberListQuery !== void 0 ? memberListQuery : null);\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, hideFooter: true, onCancel: function () { return onCancel(); }, onSubmit: noop, titleText: stringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: useOnScrollPositionChangeDetector({\n                    onReachedBottom: function () { return __awaiter(_this, void 0, void 0, function () {\n                        return __generator(this, function (_a) {\n                            if (memberQuery && memberQuery.hasNext) {\n                                memberQuery.next().then(function (o) {\n                                    setMembers(__spreadArray(__spreadArray([], members, true), o, true));\n                                });\n                            }\n                            return [2 /*return*/];\n                        });\n                    }); },\n                }) }, members.map(function (member, index) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n                // NOTE: This `index` is used to display the current user's user item at the top when customizing externally.\n                index: index,\n                user: member,\n                channel: channel,\n                renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { onToggleOperatorState: function (_a) {\n                        var isOperator = _a.newStatus;\n                        var newMembers = __spreadArray([], members, true);\n                        for (var _i = 0, newMembers_1 = newMembers; _i < newMembers_1.length; _i++) {\n                            var newMember = newMembers_1[_i];\n                            if (newMember.userId === member.userId) {\n                                newMember.role = isOperator ? Role.OPERATOR : Role.NONE;\n                                break;\n                            }\n                        }\n                        setMembers(newMembers);\n                    }, onToggleMuteState: function (_a) {\n                        var isMuted = _a.newStatus;\n                        var newMembers = __spreadArray([], members, true);\n                        for (var _i = 0, newMembers_2 = newMembers; _i < newMembers_2.length; _i++) {\n                            var newMember = newMembers_2[_i];\n                            if (newMember.userId === member.userId) {\n                                newMember.isMuted = isMuted;\n                                break;\n                            }\n                        }\n                        setMembers(newMembers);\n                    }, onToggleBanState: function () {\n                        setMembers(members.filter(function (_a) {\n                            var userId = _a.userId;\n                            return userId !== member.userId;\n                        }));\n                    } }))); },\n            }))); })))));\n}\n\nfunction InviteUsersModal(_a) {\n    var _this = this;\n    var _b, _c, _d;\n    var onCancel = _a.onCancel, onSubmit = _a.onSubmit, _e = _a.renderUserListItem, renderUserListItem = _e === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _e;\n    var _f = useState([]), users = _f[0], setUsers = _f[1];\n    var _g = useState(null), userListQuery = _g[0], setUserListQuery = _g[1];\n    var _h = useState({}), selectedUsers = _h[0], setSelectedUsers = _h[1];\n    var state = useSendbirdStateContext();\n    var sdk = (_c = (_b = state === null || state === void 0 ? void 0 : state.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var globalUserListQuery = (_d = state === null || state === void 0 ? void 0 : state.config) === null || _d === void 0 ? void 0 : _d.userListQuery;\n    var _j = useChannelSettingsContext(), channel = _j.channel, overrideInviteUser = _j.overrideInviteUser, queries = _j.queries;\n    var stringSet = useLocalization().stringSet;\n    var onScroll = useOnScrollPositionChangeDetector({\n        onReachedBottom: function () {\n            return __awaiter(this, void 0, void 0, function () {\n                var users_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!(userListQuery === null || userListQuery === void 0 ? void 0 : userListQuery.hasNext)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, userListQuery.next()];\n                        case 1:\n                            users_1 = _a.sent();\n                            setUsers(function (prev) { return __spreadArray(__spreadArray([], prev, true), users_1, true); });\n                            _a.label = 2;\n                        case 2: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n    });\n    var onInviteUsers = function () { return __awaiter(_this, void 0, void 0, function () {\n        var userIdsToInvite;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    userIdsToInvite = Object.keys(selectedUsers);\n                    if (!(channel && typeof overrideInviteUser === 'function')) return [3 /*break*/, 1];\n                    overrideInviteUser({ users: userIdsToInvite, onClose: onCancel, channel: channel });\n                    return [3 /*break*/, 3];\n                case 1: return [4 /*yield*/, (channel === null || channel === void 0 ? void 0 : channel.inviteWithUserIds(userIdsToInvite))];\n                case 2:\n                    _a.sent();\n                    onSubmit(userIdsToInvite);\n                    _a.label = 3;\n                case 3: return [2 /*return*/];\n            }\n        });\n    }); };\n    var onSelectUser = function (user) {\n        setSelectedUsers(function (_a) {\n            var draft = __rest(_a, []);\n            if (draft[user.userId]) {\n                delete draft[user.userId];\n            }\n            else {\n                draft[user.userId] = user;\n            }\n            return draft;\n        });\n    };\n    var membersMap = useMemo(function () {\n        var _a;\n        var _b, _c;\n        // UIKit policy: In a super or broadcast channel, do not check the members when inviting users.\n        if ((channel === null || channel === void 0 ? void 0 : channel.isSuper) || (channel === null || channel === void 0 ? void 0 : channel.isBroadcast))\n            return _a = {}, _a[(_c = (_b = sdk.currentUser) === null || _b === void 0 ? void 0 : _b.userId) !== null && _c !== void 0 ? _c : ''] = sdk.currentUser, _a;\n        return channel === null || channel === void 0 ? void 0 : channel.members.reduce(function (acc, cur) {\n            acc[cur.userId] = cur;\n            return acc;\n        }, {});\n    }, [channel === null || channel === void 0 ? void 0 : channel.members.length]);\n    useEffect(function () {\n        var fetchUsersAndSetQuery = function () { return __awaiter(_this, void 0, void 0, function () {\n            var query, users_2;\n            var _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        query = (_a = globalUserListQuery === null || globalUserListQuery === void 0 ? void 0 : globalUserListQuery()) !== null && _a !== void 0 ? _a : sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery(queries === null || queries === void 0 ? void 0 : queries.applicationUserListQuery);\n                        if (!query) return [3 /*break*/, 2];\n                        return [4 /*yield*/, query.next()];\n                    case 1:\n                        users_2 = _b.sent();\n                        setUserListQuery(query);\n                        setUsers(users_2);\n                        _b.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        }); };\n        fetchUsersAndSetQuery();\n    }, [sdk]);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, disabled: Object.keys(selectedUsers).length === 0, submitText: stringSet.BUTTON__INVITE, type: ButtonTypes.PRIMARY, onCancel: function () { return onCancel(); }, onSubmit: onInviteUsers, titleText: stringSet.CHANNEL_SETTING__MEMBERS__SELECT_TITLE },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: onScroll },\n                React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll__inner\" }, users.map(function (user) {\n                    var isMember = Boolean(membersMap ? membersMap[user.userId] : false);\n                    var isSelected = Boolean(selectedUsers[user.userId]);\n                    return (React__default.createElement(React__default.Fragment, { key: user.userId }, renderUserListItem({\n                        user: user,\n                        checkBox: true,\n                        checked: isMember || isSelected,\n                        disabled: isMember,\n                        onChange: function () { return onSelectUser(user); },\n                    })));\n                }))))));\n}\n\nvar MemberList = function (_a) {\n    var _b = _a.renderUserListItem, renderUserListItem = _b === void 0 ? function (props) { return React__default.createElement(UserListItem, __assign({}, props)); } : _b, _c = _a.memberListQueryParams, memberListQueryParams = _c === void 0 ? {} : _c;\n    var _d = useState([]), members = _d[0], setMembers = _d[1];\n    var _e = useState(false), hasNext = _e[0], setHasNext = _e[1];\n    var _f = useState(false), showAllMembers = _f[0], setShowAllMembers = _f[1];\n    var _g = useState(false), showInviteUsers = _g[0], setShowInviteUsers = _g[1];\n    var _h = useChannelSettingsContext(), channel = _h.channel, forceUpdateUI = _h.forceUpdateUI;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setMembers([]);\n            return;\n        }\n        var memberUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery(__assign({ limit: 10 }, memberListQueryParams));\n        memberUserListQuery.next().then(function (members) {\n            setMembers(members);\n            setHasNext(memberUserListQuery.hasNext);\n        });\n    }, [channel === null || channel === void 0 ? void 0 : channel.url, channel === null || channel === void 0 ? void 0 : channel.createMemberListQuery]);\n    useEffect(refreshList, [channel === null || channel === void 0 ? void 0 : channel.url]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-channel-settings-member-list\" },\n        members.map(function (member, index) { return (React__default.createElement(React__default.Fragment, { key: member.userId }, renderUserListItem({\n            // NOTE: This `index` is used to display the current user's user item at the top when customizing externally.\n            index: index,\n            user: member,\n            channel: channel,\n            size: 'small',\n            avatarSize: '24px',\n            renderListItemMenu: function (props) { return (React__default.createElement(UserListItemMenu, __assign({}, props, { onToggleOperatorState: function (_a) {\n                    var isOperator = _a.newStatus;\n                    var newMembers = __spreadArray([], members, true);\n                    for (var _i = 0, newMembers_1 = newMembers; _i < newMembers_1.length; _i++) {\n                        var newMember = newMembers_1[_i];\n                        if (newMember.userId === member.userId) {\n                            newMember.role = isOperator ? Role.OPERATOR : Role.NONE;\n                            break;\n                        }\n                    }\n                    setMembers(newMembers);\n                }, onToggleMuteState: function (_a) {\n                    var isMuted = _a.newStatus;\n                    var newMembers = __spreadArray([], members, true);\n                    for (var _i = 0, newMembers_2 = newMembers; _i < newMembers_2.length; _i++) {\n                        var newMember = newMembers_2[_i];\n                        if (newMember.userId === member.userId) {\n                            newMember.isMuted = isMuted;\n                            break;\n                        }\n                    }\n                    setMembers(newMembers);\n                }, onToggleBanState: function () {\n                    setMembers(members.filter(function (_a) {\n                        var userId = _a.userId;\n                        return userId !== member.userId;\n                    }));\n                } }))); },\n        }))); }),\n        React__default.createElement(\"div\", { className: \"sendbird-channel-settings-accordion__footer\" },\n            hasNext && (React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () { return setShowAllMembers(true); } }, stringSet.CHANNEL_SETTING__MEMBERS__SEE_ALL_MEMBERS)),\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () { return setShowInviteUsers(true); } }, stringSet.CHANNEL_SETTING__MEMBERS__INVITE_MEMBER)),\n        showAllMembers && (React__default.createElement(MembersModal, { onCancel: function () {\n                setShowAllMembers(false);\n                refreshList();\n                forceUpdateUI();\n            }, renderUserListItem: renderUserListItem, memberListQueryParams: memberListQueryParams })),\n        showInviteUsers && (React__default.createElement(InviteUsersModal, { onCancel: function () { return setShowInviteUsers(false); }, onSubmit: function () {\n                setShowInviteUsers(false);\n                refreshList();\n                forceUpdateUI();\n            }, renderUserListItem: renderUserListItem }))));\n};\n\nexport { MemberList as M };\n//# sourceMappingURL=bundle-nv2ffewN.js.map\n", "import React__default, { useState, useCallback } from 'react';\nimport { _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport '../withSendbird.js';\n\n/**\n * The default value of `checked` should be null\n * to support both case of controlled and uncontrolled component\n * ref: https://github.com/aaronshaf/react-toggle#props\n */\nvar noop = function () { };\nvar TOGGLE_DEFAULT_VALUE = {\n    checked: null,\n    defaultChecked: false,\n    disabled: false,\n    onChange: noop,\n    onFocus: noop,\n    onBlur: noop,\n};\nvar ToggleContext = React__default.createContext(TOGGLE_DEFAULT_VALUE);\nfunction useToggleContext() {\n    var context = React__default.useContext(ToggleContext);\n    if (context === undefined) {\n        throw new Error('@sendbird/uikit-react/ui/Toggle: useToggleContext must be used within a ToggleContainer.');\n    }\n    return context;\n}\n\n// Props Explanation https://github.com/aaronshaf/react-toggle#props\nfunction ToggleContainer(_a) {\n    var _b = _a.checked, checked = _b === void 0 ? TOGGLE_DEFAULT_VALUE.checked : _b, // null\n    _c = _a.defaultChecked, // null\n    defaultChecked = _c === void 0 ? TOGGLE_DEFAULT_VALUE.defaultChecked : _c, _d = _a.disabled, disabled = _d === void 0 ? TOGGLE_DEFAULT_VALUE.disabled : _d, _e = _a.onChange, onChange = _e === void 0 ? TOGGLE_DEFAULT_VALUE.onChange : _e, _f = _a.onFocus, onFocus = _f === void 0 ? TOGGLE_DEFAULT_VALUE.onFocus : _f, _g = _a.onBlur, onBlur = _g === void 0 ? TOGGLE_DEFAULT_VALUE.onBlur : _g, children = _a.children;\n    var _h = useState(defaultChecked || false), isChecked = _h[0], setChecked = _h[1];\n    var handleChange = useCallback(function (e) {\n        if (disabled) {\n            return;\n        }\n        if (checked === null) {\n            setChecked(e.currentTarget.checked);\n        }\n        onChange(e);\n    }, [onChange, checked]);\n    return (React__default.createElement(ToggleContext.Provider, { value: {\n            checked: checked !== null ? checked : isChecked,\n            disabled: disabled,\n            onChange: handleChange,\n            onFocus: function (e) {\n                if (!disabled) {\n                    onFocus(e);\n                }\n            },\n            onBlur: function (e) {\n                if (!disabled) {\n                    onBlur(e);\n                }\n            },\n        } }, children));\n}\n\nfunction filterNumber(input) {\n    if (typeof input !== 'string' && typeof input !== 'number') {\n        try {\n            var config = useSendbirdStateContext().config;\n            var logger = config.logger;\n            logger.warning('@sendbird/uikit-react/ui/Toggle: TypeError - expected string or number.', input);\n        }\n        catch (_) { /* noop */ }\n        return [];\n    }\n    if (typeof input === 'number') {\n        return [input];\n    }\n    var regex = /(-?\\d+)(\\.\\d+)?/g;\n    var numbers = input.match(regex) || [];\n    return numbers.map(parseFloat);\n}\n\nfunction ToggleUI(props) {\n    var _a;\n    var _b = props.reversed, reversed = _b === void 0 ? false : _b, _c = props.width, width = _c === void 0 ? '40px' : _c, _d = props.animationDuration, animationDuration = _d === void 0 ? '0.5s' : _d, _e = props.style, style = _e === void 0 ? {} : _e, _f = props.name, name = _f === void 0 ? '' : _f, _g = props.id, id = _g === void 0 ? '' : _g, _h = props.ariaLabel, ariaLabel = _h === void 0 ? '' : _h, _j = props.ariaLabelledby, ariaLabelledby = _j === void 0 ? '' : _j;\n    var _k = useToggleContext(), checked = _k.checked, disabled = _k.disabled, onChange = _k.onChange, onFocus = _k.onFocus, onBlur = _k.onBlur;\n    // animation should not be activated in the initialization step\n    var _l = useState(''), animatedClassName = _l[0], setAnimatedClassName = _l[1];\n    var toggleWidth = (_a = filterNumber(width)) === null || _a === void 0 ? void 0 : _a[0];\n    var toggleHeight = toggleWidth / 2;\n    // The size of dot should be 60% of toggle height\n    var dotSize = toggleHeight * 0.6;\n    return (React__default.createElement(\"label\", { className: [\n            'sendbird-input-toggle-button',\n            animatedClassName,\n            checked ? 'sendbird-input-toggle-button--checked' : 'sendbird-input-toggle-button--unchecked',\n            disabled ? 'sendbird-input-toggle-button--disabled' : [],\n            reversed ? 'sendbird-input-toggle-button--reversed' : [],\n        ].flat().join(' '), \"data-testid\": \"sendbird-input-toggle-button\", style: __assign({ width: \"\".concat(toggleWidth, \"px\"), height: \"\".concat(toggleHeight, \"px\"), borderRadius: \"\".concat(dotSize, \"px\") }, style) },\n        React__default.createElement(\"div\", { className: [\n                'sendbird-input-toggle-button__inner-dot',\n                checked\n                    ? 'sendbird-input-toggle-button__inner-dot--activate'\n                    : 'sendbird-input-toggle-button__inner-dot--inactivate',\n            ].join(' '), style: {\n                width: \"\".concat(dotSize, \"px\"),\n                height: \"\".concat(dotSize, \"px\"),\n                animationDuration: animationDuration,\n            } }),\n        React__default.createElement(\"input\", { type: \"checkbox\", \"aria-label\": ariaLabel, \"aria-labelledby\": ariaLabelledby, name: name, id: id, checked: checked !== null && checked !== void 0 ? checked : undefined, disabled: disabled, onChange: function (e) {\n                onChange === null || onChange === void 0 ? void 0 : onChange(e);\n                setAnimatedClassName(e.currentTarget.checked ? 'sendbird-input-toggle-button--turned-on' : 'sendbird-input-toggle-button--turned-off');\n            }, onFocus: onFocus, onBlur: onBlur })));\n}\n\nfunction Toggle(props) {\n    var \n    // ToggleProvider\n    checked = props.checked, defaultChecked = props.defaultChecked, disabled = props.disabled, onChange = props.onChange, onFocus = props.onFocus, onBlur = props.onBlur, \n    // ToggleUI\n    className = props.className, reversed = props.reversed, width = props.width, \n    // height will be half of width\n    animationDuration = props.animationDuration, style = props.style, name = props.name, id = props.id, ariaLabel = props.ariaLabel, ariaLabelledby = props.ariaLabelledby;\n    return (React__default.createElement(\"div\", { className: \"sendbird-ui-toggle \".concat(className) },\n        React__default.createElement(ToggleContainer, { checked: checked, defaultChecked: defaultChecked, disabled: disabled, onChange: onChange, onFocus: onFocus, onBlur: onBlur },\n            React__default.createElement(ToggleUI, { reversed: reversed, width: width, animationDuration: animationDuration, style: style, name: name, id: id, ariaLabel: ariaLabel, ariaLabelledby: ariaLabelledby }))));\n}\n\nexport { Toggle, ToggleContainer, ToggleUI, useToggleContext };\n//# sourceMappingURL=Toggle.js.map\n", "import React__default, { useState, useContext, useEffect } from 'react';\nimport { MessageSearchUI } from './MessageSearch/components/MessageSearchUI.js';\nimport { L as LocalizationContext } from './chunks/bundle-BvAzWVA5.js';\nimport Icon, { IconTypes, IconColors } from './ui/Icon.js';\nimport Loader from './ui/Loader.js';\nimport { MessageSearchProvider } from './MessageSearch/context.js';\nimport Header from './ui/Header.js';\nimport './ui/MessageSearchItem.js';\nimport './chunks/bundle-B1SLZ0HT.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './ui/PlaceHolder.js';\nimport './ui/MessageSearchFileItem.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CfsHVenu.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/IconButton.js';\n\nfunction MessageSearchPannel(props) {\n    var channelUrl = props.channelUrl, onResultClick = props.onResultClick, onCloseClick = props.onCloseClick, messageSearchQuery = props.messageSearchQuery, renderPlaceHolderError = props.renderPlaceHolderError, renderPlaceHolderLoading = props.renderPlaceHolderLoading, renderPlaceHolderNoString = props.renderPlaceHolderNoString, renderPlaceHolderEmptyList = props.renderPlaceHolderEmptyList, renderSearchItem = props.renderSearchItem;\n    var _a = useState(''), searchString = _a[0], setSearchString = _a[1];\n    var _b = useState(''), inputString = _b[0], setInputString = _b[1];\n    var _c = useState(false), loading = _c[0], setLoading = _c[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var timeout = null;\n    useEffect(function () {\n        if (timeout) {\n            clearTimeout(timeout);\n        }\n        timeout = setTimeout(function () {\n            setSearchString(inputString);\n            setLoading(true);\n            timeout = null;\n        }, 500);\n    }, [inputString]);\n    var handleOnChangeInputString = function (e) {\n        setInputString(e.target.value);\n    };\n    var handleOnResultLoaded = function () {\n        setLoading(false);\n    };\n    var handleOnClickResetStringButton = function (e) {\n        e.stopPropagation();\n        setInputString('');\n        setSearchString('');\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel\" },\n        React__default.createElement(Header, { className: \"sendbird-message-search-pannel__header\", renderMiddle: function () { return (React__default.createElement(Header.Title, { title: stringSet.SEARCH_IN_CHANNEL })); }, renderRight: function () { return (React__default.createElement(Header.IconButton, { className: \"sendbird-message-search-pannel__header__close-button\", onClick: onCloseClick, type: IconTypes.CLOSE, color: IconColors.ON_BACKGROUND_1 })); } }),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel__input\" },\n            React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel__input__container\" },\n                React__default.createElement(Icon, { className: \"sendbird-message-search-pannel__input__container__search-icon\", type: IconTypes.SEARCH, fillColor: IconColors.ON_BACKGROUND_3, width: \"24px\", height: \"24px\" }),\n                React__default.createElement(\"input\", { className: \"sendbird-message-search-pannel__input__container__input-area\", placeholder: stringSet.SEARCH, value: inputString, onChange: handleOnChangeInputString }),\n                inputString && loading && (React__default.createElement(Loader, { className: \"sendbird-message-search-pannel__input__container__spinner\", width: \"20px\", height: \"20px\" },\n                    React__default.createElement(Icon, { type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"20px\", height: \"20px\" }))),\n                !loading && inputString && (React__default.createElement(Icon, { className: \"sendbird-message-search-pannel__input__container__reset-input-button\", type: IconTypes.REMOVE, fillColor: IconColors.ON_BACKGROUND_3, width: \"20px\", height: \"20px\", onClick: handleOnClickResetStringButton })))),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-pannel__message-search\" },\n            React__default.createElement(MessageSearchProvider, { channelUrl: channelUrl, searchString: searchString, onResultClick: onResultClick, onResultLoaded: handleOnResultLoaded, messageSearchQuery: messageSearchQuery },\n                React__default.createElement(MessageSearchUI, { renderPlaceHolderError: renderPlaceHolderError, renderPlaceHolderLoading: renderPlaceHolderLoading, renderPlaceHolderNoString: renderPlaceHolderNoString, renderPlaceHolderEmptyList: renderPlaceHolderEmptyList, renderSearchItem: renderSearchItem })))));\n}\n\nexport { MessageSearchPannel as default };\n//# sourceMappingURL=MessageSearch.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { useMessageSearchContext } from '../context.js';\nimport MessageSearchItem from '../../ui/MessageSearchItem.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport MessageSearchFileItem from '../../ui/MessageSearchFileItem.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CfsHVenu.js';\n\nvar MessageSearchUI = function (_a) {\n    var renderPlaceHolderError = _a.renderPlaceHolderError, renderPlaceHolderLoading = _a.renderPlaceHolderLoading, renderPlaceHolderNoString = _a.renderPlaceHolderNoString, renderPlaceHolderEmptyList = _a.renderPlaceHolderEmptyList, renderSearchItem = _a.renderSearchItem;\n    var _b = useMessageSearchContext(), isInvalid = _b.isInvalid, searchString = _b.searchString, requestString = _b.requestString, currentChannel = _b.currentChannel, retryCount = _b.retryCount, setRetryCount = _b.setRetryCount, loading = _b.loading, scrollRef = _b.scrollRef, hasMoreResult = _b.hasMoreResult, onScroll = _b.onScroll, allMessages = _b.allMessages, onResultClick = _b.onResultClick, selectedMessageId = _b.selectedMessageId, setSelectedMessageId = _b.setSelectedMessageId;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var handleRetryToConnect = function () {\n        setRetryCount(retryCount + 1);\n    };\n    var handleOnScroll = function (e) {\n        var scrollElement = e.target;\n        var scrollTop = scrollElement.scrollTop, scrollHeight = scrollElement.scrollHeight, clientHeight = scrollElement.clientHeight;\n        if (!hasMoreResult) {\n            return;\n        }\n        if (scrollTop + clientHeight >= scrollHeight - 1) {\n            onScroll(function () {\n                // after load more searched messages\n            });\n        }\n    };\n    var getChannelName = function () {\n        if (currentChannel && (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name) && (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name) !== 'Group Channel') {\n            return currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name;\n        }\n        if (currentChannel && ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name) === 'Group Channel' || !(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.name))) {\n            return currentChannel.members.map(function (member) { return member.nickname || stringSet.NO_NAME; }).join(', ');\n        }\n        return stringSet.NO_TITLE;\n    };\n    if (isInvalid && searchString && requestString) {\n        return (renderPlaceHolderError === null || renderPlaceHolderError === void 0 ? void 0 : renderPlaceHolderError()) || (React__default.createElement(\"div\", { className: \"sendbird-message-search\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG, retryToConnect: handleRetryToConnect })));\n    }\n    if (loading && searchString && requestString) {\n        return (renderPlaceHolderLoading === null || renderPlaceHolderLoading === void 0 ? void 0 : renderPlaceHolderLoading()) || (React__default.createElement(\"div\", { className: \"sendbird-message-search\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.SEARCHING })));\n    }\n    if (!searchString) {\n        return (renderPlaceHolderNoString === null || renderPlaceHolderNoString === void 0 ? void 0 : renderPlaceHolderNoString()) || (React__default.createElement(\"div\", { className: \"sendbird-message-search\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.SEARCH_IN, searchInString: getChannelName() })));\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-message-search\", onScroll: handleOnScroll, ref: scrollRef }, (allMessages.length > 0)\n        ? (allMessages.map(function (message) {\n            if (renderSearchItem) {\n                return renderSearchItem({ message: message, onResultClick: onResultClick });\n            }\n            if (message.messageType === 'file') {\n                return (React__default.createElement(MessageSearchFileItem, { className: \"sendbird-message-search__message-search-item\", message: message, key: message.messageId, selected: (selectedMessageId === message.messageId), onClick: function () {\n                        onResultClick === null || onResultClick === void 0 ? void 0 : onResultClick(message);\n                        setSelectedMessageId(message.messageId);\n                    } }));\n            }\n            return (React__default.createElement(MessageSearchItem, { className: \"sendbird-message-search__message-search-item\", message: message, key: message.messageId, selected: (selectedMessageId === message.messageId), onClick: function () {\n                    onResultClick === null || onResultClick === void 0 ? void 0 : onResultClick(message);\n                    setSelectedMessageId(message.messageId);\n                } }));\n        }))\n        : (renderPlaceHolderEmptyList === null || renderPlaceHolderEmptyList === void 0 ? void 0 : renderPlaceHolderEmptyList()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_RESULTS }))));\n};\n\nexport { MessageSearchUI, MessageSearchUI as default };\n//# sourceMappingURL=MessageSearchUI.js.map\n", "import React__default, { useEffect, useCallback, useState, useReducer, useRef } from 'react';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { _ as __assign, c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport '../withSendbird.js';\n\nvar GET_SEARCHED_MESSAGES = 'GET_SEARCHED_MESSAGES';\nvar GET_NEXT_SEARCHED_MESSAGES = 'GET_NEXT_SEARCHED_MESSAGES';\nvar START_MESSAGE_SEARCH = 'START_MESSAGE_SEARCH';\nvar START_GETTING_SEARCHED_MESSAGES = 'START_GETTING_SEARCHED_MESSAGES';\nvar SET_QUERY_INVALID = 'SET_QUERY_INVALID';\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar CHANNEL_INVALID = 'CHANNEL_INVALID';\nvar RESET_SEARCH_STRING = 'RESET_SEARCH_STRING';\n\nfunction reducer(state, action) {\n    switch (action.type) {\n        case SET_CURRENT_CHANNEL: {\n            var currentChannel = action.payload;\n            return __assign(__assign({}, state), { currentChannel: currentChannel, initialized: true });\n        }\n        case CHANNEL_INVALID: {\n            return __assign(__assign({}, state), { currentChannel: null, initialized: false });\n        }\n        case GET_SEARCHED_MESSAGES: {\n            var _a = action.payload, messages = _a.messages, createdQuery = _a.createdQuery;\n            if (createdQuery\n                && createdQuery.channelUrl === (state === null || state === void 0 ? void 0 : state.currentMessageSearchQuery).channelUrl\n                && createdQuery.key === (state === null || state === void 0 ? void 0 : state.currentMessageSearchQuery).key) {\n                return __assign(__assign({}, state), { loading: false, isInvalid: false, allMessages: __spreadArray([], messages, true), hasMoreResult: (state === null || state === void 0 ? void 0 : state.currentMessageSearchQuery).hasNext });\n            }\n            return __assign({}, state);\n        }\n        case SET_QUERY_INVALID: {\n            return __assign(__assign({}, state), { isInvalid: true });\n        }\n        case START_MESSAGE_SEARCH: {\n            return __assign(__assign({}, state), { isInvalid: false, loading: false });\n        }\n        case START_GETTING_SEARCHED_MESSAGES: {\n            var currentMessageSearchQuery = action.payload;\n            return __assign(__assign({}, state), { loading: true, currentMessageSearchQuery: currentMessageSearchQuery });\n        }\n        case GET_NEXT_SEARCHED_MESSAGES: {\n            var messages = action.payload;\n            return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages, true), messages, true), hasMoreResult: (state === null || state === void 0 ? void 0 : state.currentMessageSearchQuery).hasNext });\n        }\n        case RESET_SEARCH_STRING: {\n            return __assign(__assign({}, state), { allMessages: [] });\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\nvar initialState = {\n    allMessages: [],\n    loading: false,\n    isInvalid: false,\n    initialized: false,\n    currentChannel: null,\n    currentMessageSearchQuery: null,\n    hasMoreResult: false,\n};\n\nfunction useSetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit;\n    var sdk = _b.sdk, logger = _b.logger, messageSearchDispatcher = _b.messageSearchDispatcher;\n    useEffect(function () {\n        if (channelUrl && sdkInit && (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel)) {\n            sdk.groupChannel.getChannel(channelUrl).then(function (groupChannel) {\n                logger.info('MessageSearch | useSetChannel group channel', groupChannel);\n                messageSearchDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: groupChannel,\n                });\n            }).catch(function () {\n                messageSearchDispatcher({\n                    type: CHANNEL_INVALID,\n                    payload: null,\n                });\n            });\n        }\n    }, [channelUrl, sdkInit]);\n}\n\nvar MessageSearchOrder;\n(function (MessageSearchOrder) {\n    MessageSearchOrder[\"SCORE\"] = \"score\";\n    MessageSearchOrder[\"TIMESTAMP\"] = \"ts\";\n})(MessageSearchOrder || (MessageSearchOrder = {}));\nfunction useGetSearchedMessages(_a, _b) {\n    var currentChannel = _a.currentChannel, channelUrl = _a.channelUrl, requestString = _a.requestString, messageSearchQuery = _a.messageSearchQuery, onResultLoaded = _a.onResultLoaded, retryCount = _a.retryCount;\n    var sdk = _b.sdk, logger = _b.logger, messageSearchDispatcher = _b.messageSearchDispatcher;\n    useEffect(function () {\n        messageSearchDispatcher({\n            type: START_MESSAGE_SEARCH,\n            payload: null,\n        });\n        if (sdk && channelUrl && sdk.createMessageSearchQuery && currentChannel) {\n            if (requestString) {\n                currentChannel.refresh()\n                    .then(function (channel) {\n                    var inputSearchMessageQueryObject = __assign({ order: MessageSearchOrder.TIMESTAMP, channelUrl: channelUrl, messageTimestampFrom: channel.invitedAt, keyword: requestString }, messageSearchQuery);\n                    var createdQuery = sdk.createMessageSearchQuery(inputSearchMessageQueryObject);\n                    createdQuery.next().then(function (messages) {\n                        logger.info('MessageSearch | useGetSearchedMessages: succeeded getting messages', messages);\n                        messageSearchDispatcher({\n                            type: GET_SEARCHED_MESSAGES,\n                            payload: {\n                                messages: messages,\n                                createdQuery: createdQuery,\n                            },\n                        });\n                        if (onResultLoaded && typeof onResultLoaded === 'function') {\n                            onResultLoaded(messages, undefined);\n                        }\n                    }).catch(function (error) {\n                        logger.warning('MessageSearch | useGetSearchedMessages: failed getting search messages.', error);\n                        messageSearchDispatcher({\n                            type: SET_QUERY_INVALID,\n                            payload: null,\n                        });\n                        if (onResultLoaded && typeof onResultLoaded === 'function') {\n                            onResultLoaded(undefined, error);\n                        }\n                    });\n                    messageSearchDispatcher({\n                        type: START_GETTING_SEARCHED_MESSAGES,\n                        payload: createdQuery,\n                    });\n                })\n                    .catch(function (error) {\n                    logger.warning('MessageSearch | useGetSearchedMessages: failed getting channel.', error);\n                    messageSearchDispatcher({\n                        type: SET_QUERY_INVALID,\n                        payload: null,\n                    });\n                    if (onResultLoaded && typeof onResultLoaded === 'function') {\n                        onResultLoaded(undefined, error);\n                    }\n                });\n            }\n            else {\n                logger.info('MessageSearch | useGetSeasrchedMessages: search string is empty');\n            }\n        }\n    }, [channelUrl, messageSearchQuery, requestString, currentChannel, retryCount]);\n}\n\nfunction useScrollCallback(_a, _b) {\n    var currentMessageSearchQuery = _a.currentMessageSearchQuery, hasMoreResult = _a.hasMoreResult, onResultLoaded = _a.onResultLoaded;\n    var logger = _b.logger, messageSearchDispatcher = _b.messageSearchDispatcher;\n    return useCallback(function (cb) {\n        if (!hasMoreResult) {\n            logger.warning('MessageSearch | useScrollCallback: no more searched results', hasMoreResult);\n        }\n        if (currentMessageSearchQuery && currentMessageSearchQuery.hasNext) {\n            currentMessageSearchQuery\n                .next()\n                .then(function (messages) {\n                logger.info('MessageSearch | useScrollCallback: succeeded getting searched messages', messages);\n                messageSearchDispatcher({\n                    type: GET_NEXT_SEARCHED_MESSAGES,\n                    payload: messages,\n                });\n                cb(messages, null);\n                if (onResultLoaded && typeof onResultLoaded === 'function') {\n                    onResultLoaded(messages, null);\n                }\n            })\n                .catch(function (error) {\n                logger.warning('MessageSearch | useScrollCallback: failed getting searched messages', error);\n                cb(null, error);\n                if (onResultLoaded && typeof onResultLoaded === 'function') {\n                    onResultLoaded(null, error);\n                }\n            });\n        }\n        else {\n            logger.warning('MessageSearch | useScrollCallback: no currentMessageSearchQuery');\n        }\n    }, [currentMessageSearchQuery, hasMoreResult]);\n}\n\nvar DEBOUNCING_TIME = 500;\nfunction useSearchStringEffect(_a, _b) {\n    var searchString = _a.searchString;\n    var messageSearchDispatcher = _b.messageSearchDispatcher;\n    var _c = useState(''), requestString = _c[0], setRequestString = _c[1];\n    var _d = useState(null), debouncingTimer = _d[0], setDebouncingTimer = _d[1];\n    useEffect(function () {\n        clearTimeout(debouncingTimer !== null && debouncingTimer !== void 0 ? debouncingTimer : undefined);\n        if (searchString) {\n            setDebouncingTimer(setTimeout(function () {\n                setRequestString(searchString);\n            }, DEBOUNCING_TIME));\n        }\n        else {\n            setRequestString('');\n            messageSearchDispatcher({\n                type: RESET_SEARCH_STRING,\n                payload: '',\n            });\n        }\n    }, [searchString]);\n    return requestString;\n}\n\nvar MessageSearchContext = React__default.createContext(null);\nvar MessageSearchProvider = function (props) {\n    var _a, _b, _c, _d, _e;\n    var \n    // message search props\n    channelUrl = props.channelUrl, searchString = props.searchString, messageSearchQuery = props.messageSearchQuery, onResultLoaded = props.onResultLoaded, onResultClick = props.onResultClick;\n    var globalState = useSendbirdStateContext();\n    // hook variables\n    var _f = useState(0), retryCount = _f[0], setRetryCount = _f[1]; // this is a trigger flag for activating useGetSearchMessages\n    var _g = useState(0), selectedMessageId = _g[0], setSelectedMessageId = _g[1];\n    var _h = useReducer(reducer, initialState), messageSearchStore = _h[0], messageSearchDispatcher = _h[1];\n    var allMessages = messageSearchStore.allMessages, loading = messageSearchStore.loading, isInvalid = messageSearchStore.isInvalid, currentChannel = messageSearchStore.currentChannel, currentMessageSearchQuery = messageSearchStore.currentMessageSearchQuery, hasMoreResult = messageSearchStore.hasMoreResult;\n    var logger = (_a = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _a === void 0 ? void 0 : _a.logger;\n    var sdk = (_c = (_b = globalState === null || globalState === void 0 ? void 0 : globalState.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var sdkInit = (_e = (_d = globalState === null || globalState === void 0 ? void 0 : globalState.stores) === null || _d === void 0 ? void 0 : _d.sdkStore) === null || _e === void 0 ? void 0 : _e.initialized;\n    var scrollRef = useRef(null);\n    var handleOnScroll = function (e) {\n        var scrollElement = e.target;\n        var scrollTop = scrollElement.scrollTop, scrollHeight = scrollElement.scrollHeight, clientHeight = scrollElement.clientHeight;\n        if (!hasMoreResult) {\n            return;\n        }\n        if (scrollTop + clientHeight >= scrollHeight) {\n            onScroll(function () {\n                // after load more searched messages\n            });\n        }\n    };\n    useSetChannel({ channelUrl: channelUrl, sdkInit: sdkInit }, { sdk: sdk, logger: logger, messageSearchDispatcher: messageSearchDispatcher });\n    var requestString = useSearchStringEffect({ searchString: searchString !== null && searchString !== void 0 ? searchString : '' }, { messageSearchDispatcher: messageSearchDispatcher });\n    useGetSearchedMessages({ currentChannel: currentChannel, channelUrl: channelUrl, requestString: requestString, messageSearchQuery: messageSearchQuery, onResultLoaded: onResultLoaded, retryCount: retryCount }, { sdk: sdk, logger: logger, messageSearchDispatcher: messageSearchDispatcher });\n    var onScroll = useScrollCallback({ currentMessageSearchQuery: currentMessageSearchQuery, hasMoreResult: hasMoreResult, onResultLoaded: onResultLoaded }, { logger: logger, messageSearchDispatcher: messageSearchDispatcher });\n    var handleRetryToConnect = function () {\n        setRetryCount(retryCount + 1);\n    };\n    return (React__default.createElement(MessageSearchContext.Provider, { value: {\n            channelUrl: channelUrl,\n            searchString: searchString,\n            requestString: requestString,\n            messageSearchQuery: messageSearchQuery,\n            onResultLoaded: onResultLoaded,\n            onResultClick: onResultClick,\n            retryCount: retryCount,\n            setRetryCount: setRetryCount,\n            selectedMessageId: selectedMessageId,\n            setSelectedMessageId: setSelectedMessageId,\n            messageSearchDispatcher: messageSearchDispatcher,\n            allMessages: allMessages,\n            loading: loading,\n            isInvalid: isInvalid,\n            currentChannel: currentChannel,\n            currentMessageSearchQuery: currentMessageSearchQuery,\n            hasMoreResult: hasMoreResult,\n            onScroll: onScroll,\n            scrollRef: scrollRef,\n            handleRetryToConnect: handleRetryToConnect,\n            handleOnScroll: handleOnScroll,\n        } }, props === null || props === void 0 ? void 0 : props.children));\n};\nvar useMessageSearchContext = function () {\n    var context = React__default.useContext(MessageSearchContext);\n    if (!context)\n        throw new Error('MessageSearchContext not found. Use within the MessageSearch module.');\n    return context;\n};\n\nexport { MessageSearchProvider, useMessageSearchContext };\n//# sourceMappingURL=context.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from '../chunks/bundle-BxrZduJE.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-q_YvxT21.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './Icon.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\n// getCreatedAt\nfunction getCreatedAt (_a) {\n    var createdAt = _a.createdAt, locale = _a.locale, stringSet = _a.stringSet;\n    var optionalParam = { locale: locale };\n    if (!createdAt) {\n        return '';\n    }\n    if (isToday(createdAt)) {\n        return format(createdAt, 'p', optionalParam);\n    }\n    if (isYesterday(createdAt)) {\n        return (stringSet === null || stringSet === void 0 ? void 0 : stringSet.MESSAGE_STATUS__YESTERDAY) || 'Yesterday';\n    }\n    if (isThisYear(createdAt)) {\n        return format(createdAt, 'MMM d', optionalParam);\n    }\n    return format(createdAt, 'yyyy/M/d', optionalParam);\n}\n\nfunction MessageSearchItem(_a) {\n    var className = _a.className, message = _a.message, selected = _a.selected, onClick = _a.onClick;\n    var createdAt = message.createdAt;\n    var messageText = message.message;\n    // @ts-ignore\n    var sender = message.sender || message._sender;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname;\n    var _b = useLocalization(), stringSet = _b.stringSet, dateLocale = _b.dateLocale;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-message-search-item',\n            selected ? 'sendbird-message-search-item--selected' : '',\n        ], false).join(' '), onClick: function (e) {\n            e.stopPropagation();\n            onClick === null || onClick === void 0 ? void 0 : onClick(message);\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-item__left\" },\n            React__default.createElement(Avatar, { className: \"sendbird-message-search-item__left__sender-avatar\", src: profileUrl, alt: \"profile image\", width: \"56px\", height: \"56px\" })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-item__right\" },\n            React__default.createElement(Label, { className: \"sendbird-message-search-item__right__sender-name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, nickname || stringSet.NO_NAME),\n            React__default.createElement(Label, { className: \"sendbird-message-search-item__right__message-text\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 }, messageText),\n            React__default.createElement(Label, { className: \"sendbird-message-search-item__right__message-created-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, getCreatedAt({ createdAt: createdAt, locale: dateLocale, stringSet: stringSet }))),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-item__right-footer\" })));\n}\n\nexport { MessageSearchItem as default };\n//# sourceMappingURL=MessageSearchItem.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { i as isToday, a as isYesterday, b as isThisYear } from '../chunks/bundle-BxrZduJE.js';\nimport { i as isVoiceMessage } from '../chunks/bundle-D-cVbGxk.js';\nimport { g as getMessageFirstFileUrl, b as getMessageFirstFileName } from '../chunks/bundle-CfsHVenu.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-q_YvxT21.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\n\nfunction getCreatedAt(_a) {\n    var createdAt = _a.createdAt, locale = _a.locale, stringSet = _a.stringSet;\n    var optionalParam = { locale: locale };\n    if (!createdAt) {\n        return '';\n    }\n    if (isToday(createdAt)) {\n        return format(createdAt, 'p', optionalParam);\n    }\n    if (isYesterday(createdAt)) {\n        return (stringSet === null || stringSet === void 0 ? void 0 : stringSet.MESSAGE_STATUS__YESTERDAY) || 'Yesterday';\n    }\n    if (isThisYear(createdAt)) {\n        return format(createdAt, 'MMM d', optionalParam);\n    }\n    return format(createdAt, 'yyyy/M/d', optionalParam);\n}\nfunction getIconOfFileType(message) {\n    var _a, _b, _c;\n    var fileMessageUrl = (_a = getMessageFirstFileUrl(message)) !== null && _a !== void 0 ? _a : '';\n    var fileExtension = (_c = (_b = (fileMessageUrl.match(/\\.([^.]*?)(?=\\?|#|$)/))) === null || _b === void 0 ? void 0 : _b[1]) !== null && _c !== void 0 ? _c : '';\n    if (/(jpg|jpeg|png)$/i.test(fileExtension)) {\n        return IconTypes.PHOTO;\n    }\n    else if (/mp4$/i.test(fileExtension) || isVoiceMessage(message)) {\n        return IconTypes.PLAY;\n    }\n    else if (/mp3/i.test(fileExtension)) {\n        return IconTypes.FILE_AUDIO;\n    }\n    else if (/gif/i.test(fileExtension)) {\n        return IconTypes.GIF;\n    }\n    else {\n        return IconTypes.FILE_DOCUMENT;\n    }\n}\n\nfunction MessageSearchFileItem(props) {\n    var className = props.className, message = props.message, selected = props.selected, onClick = props.onClick;\n    var createdAt = message.createdAt;\n    var url = getMessageFirstFileUrl(message);\n    var name = getMessageFirstFileName(message);\n    // @ts-ignore\n    var sender = message.sender || message._sender;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname;\n    var _a = useLocalization(), stringSet = _a.stringSet, dateLocale = _a.dateLocale;\n    var isVoiceMsg = isVoiceMessage(message);\n    var prettyFilename = isVoiceMsg ? stringSet.VOICE_MESSAGE : (name || url);\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-message-search-file-item',\n            selected ? 'sendbird-message-search-file-item--selected' : '',\n        ], false).join(' '), onClick: function (e) {\n            e.stopPropagation();\n            onClick === null || onClick === void 0 ? void 0 : onClick(message);\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__left\" },\n            React__default.createElement(Avatar, { className: \"sendbird-message-search-file-item__left__sender-avatar\", src: profileUrl, alt: \"profile image\", width: \"56px\", height: \"56px\" })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right\" },\n            React__default.createElement(Label, { className: \"sendbird-message-search-file-item__right__sender-name\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, nickname || stringSet.NO_NAME),\n            React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right__content\" },\n                !isVoiceMsg && (React__default.createElement(\"div\", { className: 'sendbird-message-search-file-item__right__content__type-icon' },\n                    React__default.createElement(Icon, { type: getIconOfFileType(message), fillColor: IconColors.PRIMARY, width: \"18px\", height: \"18px\" }))),\n                React__default.createElement(Label, { className: \"sendbird-message-search-file-item__right__content__url\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, prettyFilename))),\n        React__default.createElement(Label, { className: \"sendbird-message-search-file-item__message-created-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, getCreatedAt({ createdAt: createdAt, locale: dateLocale, stringSet: stringSet })),\n        React__default.createElement(\"div\", { className: \"sendbird-message-search-file-item__right-footer\" })));\n}\n\nexport { MessageSearchFileItem as default };\n//# sourceMappingURL=MessageSearchFileItem.js.map\n", "import { _ as __assign } from './chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { ThreadProvider } from './Thread/context.js';\nimport ThreadUI from './Thread/components/ThreadUI.js';\nimport { c as classnames } from './chunks/bundle-CtBgdgkK.js';\nimport './chunks/bundle-D8esR1WH.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './Thread/context/types.js';\nimport '@sendbird/chat';\nimport './chunks/bundle-CwpgCadZ.js';\nimport '@sendbird/chat/groupChannel';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport './chunks/bundle-BKe5KBuS.js';\nimport './chunks/bundle-ke1HVuUa.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-FBWhhyW3.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './Thread/components/ParentMessageInfo.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-RC1OoWx9.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport 'react-dom';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-DO8nji3n.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport './ui/SortByRow.js';\nimport './chunks/bundle-CBwCMBt0.js';\nimport './Thread/components/ParentMessageInfoItem.js';\nimport './ui/ImageRenderer.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './ui/BottomSheet.js';\nimport './ui/UserListItem.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './chunks/bundle-uSSYB2TA.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './ui/PlaybackTime.js';\nimport './ui/Loader.js';\nimport './chunks/bundle-NWVriOUB.js';\nimport './chunks/bundle-DtlqJEe7.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './chunks/bundle-Bt68jirZ.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-DTOg7Xzt.js';\nimport './chunks/bundle-9-9DQjCI.js';\nimport './chunks/bundle-C_WYFRJt.js';\nimport './chunks/bundle-DHJZgVZH.js';\nimport './chunks/bundle-DcNHBjGp.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-BVBoUWl2.js';\nimport './chunks/bundle-fSuFm2tD.js';\nimport './chunks/bundle-B5vIoHSd.js';\nimport './ui/MobileMenu.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './chunks/bundle-DW8Sq-WK.js';\nimport './chunks/bundle-B6Uh5m2a.js';\nimport './chunks/bundle-CbMF1uDu.js';\nimport './Thread/components/ThreadHeader.js';\nimport './ui/Header.js';\nimport './Thread/components/ThreadList.js';\nimport './Thread/components/ThreadListItem.js';\nimport './ui/DateSeparator.js';\nimport './chunks/bundle-j0SR3DhQ.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/OGMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './chunks/bundle-CfsHVenu.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport 'date-fns';\nimport './Thread/components/ThreadMessageInput.js';\nimport './chunks/bundle-ChKVOZMC.js';\nimport './chunks/bundle-h1wbrjk9.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-B7FJxg4D.js';\nimport './chunks/bundle-DM6QiOiG.js';\nimport './GroupChannel/context.js';\nimport './chunks/bundle-DgQjrhyW.js';\nimport './chunks/bundle-5R9f3ZZp.js';\nimport './Channel/hooks/useHandleUploadFiles.js';\nimport './ui/PlaceHolder.js';\n\nvar Thread = function (props) {\n    var _a;\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-thread', (_a = props === null || props === void 0 ? void 0 : props.className) !== null && _a !== void 0 ? _a : '') },\n        React__default.createElement(ThreadProvider, __assign({}, props),\n            React__default.createElement(ThreadUI, __assign({}, props)))));\n};\n\nexport { Thread as default };\n//# sourceMappingURL=Thread.js.map\n", "import React__default, { useEffect, useCallback, useReducer, useMemo } from 'react';\nimport { c as compareIds, s as scrollIntoLast, g as getParentMessageFrom, u as useSendMultipleFilesMessage, a as getNicknamesMapFromMembers } from '../chunks/bundle-D8esR1WH.js';\nimport { U as UserProfileProvider } from '../chunks/bundle-BKxPk2t0.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { _ as __assign, c as __spreadArray, a as __awaiter, b as __generator } from '../chunks/bundle-B1SLZ0HT.js';\nimport { ChannelStateTypes, ThreadListStateTypes, ParentMessageStateTypes } from './context/types.js';\nimport { ChannelType } from '@sendbird/chat';\nimport { p as pubSubTopics, a as shouldPubSubPublishToThread, b as PUBSUB_TOPICS, P as PublishingModuleType } from '../chunks/bundle-DZhG3Z6D.js';\nimport { s as ON_FILE_INFO_UPLOADED, t as ON_TYPING_STATUS_UPDATED } from '../chunks/bundle-CwpgCadZ.js';\nimport { GroupChannelHandler } from '@sendbird/chat/groupChannel';\nimport { u as uuidv4 } from '../chunks/bundle-Cvt9FZvn.js';\nimport { c as compareIds$1 } from '../chunks/bundle-BKe5KBuS.js';\nimport { MessageType, SendingStatus, MessageMetaArray } from '@sendbird/chat/message';\nimport { e as SCROLL_BOTTOM_DELAY_FOR_SEND, f as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, M as META_ARRAY_VOICE_DURATION_KEY, g as META_ARRAY_MESSAGE_TYPE_KEY, h as META_ARRAY_MESSAGE_TYPE_VALUE__VOICE } from '../chunks/bundle-c4e24Qt4.js';\nimport { u as useMessageLayoutDirection } from '../chunks/bundle-ke1HVuUa.js';\nimport '../chunks/bundle-Dt4PQi4u.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../withSendbird.js';\n\nvar PREV_THREADS_FETCH_SIZE = 30;\nvar NEXT_THREADS_FETCH_SIZE = 30;\n\nvar ThreadContextActionTypes;\n(function (ThreadContextActionTypes) {\n    // initialize\n    ThreadContextActionTypes[\"INIT_USER_ID\"] = \"INIT_USER_ID\";\n    // channel\n    ThreadContextActionTypes[\"GET_CHANNEL_START\"] = \"GET_CHANNEL_START\";\n    ThreadContextActionTypes[\"GET_CHANNEL_SUCCESS\"] = \"GET_CHANNEL_SUCCESS\";\n    ThreadContextActionTypes[\"GET_CHANNEL_FAILURE\"] = \"GET_CHANNEL_FAILURE\";\n    // emojis\n    ThreadContextActionTypes[\"SET_EMOJI_CONTAINER\"] = \"SET_EMOJI_CONTAINER\";\n    // parent message\n    ThreadContextActionTypes[\"GET_PARENT_MESSAGE_START\"] = \"GET_PARENT_MESSAGE_START\";\n    ThreadContextActionTypes[\"GET_PARENT_MESSAGE_SUCCESS\"] = \"GET_PARENT_MESSAGE_SUCCESS\";\n    ThreadContextActionTypes[\"GET_PARENT_MESSAGE_FAILURE\"] = \"GET_PARENT_MESSAGE_FAILURE\";\n    // fetch threads\n    ThreadContextActionTypes[\"INITIALIZE_THREAD_LIST_START\"] = \"INITIALIZE_THREAD_LIST_START\";\n    ThreadContextActionTypes[\"INITIALIZE_THREAD_LIST_SUCCESS\"] = \"INITIALIZE_THREAD_LIST_SUCCESS\";\n    ThreadContextActionTypes[\"INITIALIZE_THREAD_LIST_FAILURE\"] = \"INITIALIZE_THREAD_LIST_FAILURE\";\n    ThreadContextActionTypes[\"GET_PREV_MESSAGES_START\"] = \"GET_PREV_MESSAGES_START\";\n    ThreadContextActionTypes[\"GET_PREV_MESSAGES_SUCESS\"] = \"GET_PREV_MESSAGES_SUCESS\";\n    ThreadContextActionTypes[\"GET_PREV_MESSAGES_FAILURE\"] = \"GET_PREV_MESSAGES_FAILURE\";\n    ThreadContextActionTypes[\"GET_NEXT_MESSAGES_START\"] = \"GET_NEXT_MESSAGES_START\";\n    ThreadContextActionTypes[\"GET_NEXT_MESSAGES_SUCESS\"] = \"GET_NEXT_MESSAGES_SUCESS\";\n    ThreadContextActionTypes[\"GET_NEXT_MESSAGES_FAILURE\"] = \"GET_NEXT_MESSAGES_FAILURE\";\n    // handle messages\n    ThreadContextActionTypes[\"SEND_MESSAGE_START\"] = \"SEND_MESSAGE_START\";\n    ThreadContextActionTypes[\"SEND_MESSAGE_SUCESS\"] = \"SEND_MESSAGE_SUCESS\";\n    ThreadContextActionTypes[\"SEND_MESSAGE_FAILURE\"] = \"SEND_MESSAGE_FAILURE\";\n    ThreadContextActionTypes[\"RESEND_MESSAGE_START\"] = \"RESEND_MESSAGE_START\";\n    ThreadContextActionTypes[\"ON_MESSAGE_DELETED_BY_REQ_ID\"] = \"ON_MESSAGE_DELETED_BY_REQ_ID\";\n    // event handlers - message status change\n    ThreadContextActionTypes[\"ON_MESSAGE_RECEIVED\"] = \"ON_MESSAGE_RECEIVED\";\n    ThreadContextActionTypes[\"ON_MESSAGE_UPDATED\"] = \"ON_MESSAGE_UPDATED\";\n    ThreadContextActionTypes[\"ON_MESSAGE_DELETED\"] = \"ON_MESSAGE_DELETED\";\n    ThreadContextActionTypes[\"ON_REACTION_UPDATED\"] = \"ON_REACTION_UPDATED\";\n    ThreadContextActionTypes[\"ON_FILE_INFO_UPLOADED\"] = \"ON_FILE_INFO_UPLOADED\";\n    // event handlers - user status change\n    ThreadContextActionTypes[\"ON_USER_MUTED\"] = \"ON_USER_MUTED\";\n    ThreadContextActionTypes[\"ON_USER_UNMUTED\"] = \"ON_USER_UNMUTED\";\n    ThreadContextActionTypes[\"ON_USER_BANNED\"] = \"ON_USER_BANNED\";\n    ThreadContextActionTypes[\"ON_USER_UNBANNED\"] = \"ON_USER_UNBANNED\";\n    ThreadContextActionTypes[\"ON_USER_LEFT\"] = \"ON_USER_LEFT\";\n    // event handler - channel status change\n    ThreadContextActionTypes[\"ON_CHANNEL_FROZEN\"] = \"ON_CHANNEL_FROZEN\";\n    ThreadContextActionTypes[\"ON_CHANNEL_UNFROZEN\"] = \"ON_CHANNEL_UNFROZEN\";\n    ThreadContextActionTypes[\"ON_OPERATOR_UPDATED\"] = \"ON_OPERATOR_UPDATED\";\n    // event handler - typing status change\n    ThreadContextActionTypes[\"ON_TYPING_STATUS_UPDATED\"] = \"ON_TYPING_STATUS_UPDATED\";\n})(ThreadContextActionTypes || (ThreadContextActionTypes = {}));\n\nfunction reducer(state, action) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y;\n    switch (action.type) {\n        // initialize\n        case ThreadContextActionTypes.INIT_USER_ID: {\n            return __assign(__assign({}, state), { currentUserId: action.payload });\n        }\n        case ThreadContextActionTypes.GET_CHANNEL_START: {\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.LOADING, currentChannel: null });\n        }\n        case ThreadContextActionTypes.GET_CHANNEL_SUCCESS: {\n            var groupChannel = action.payload.groupChannel;\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.INITIALIZED, currentChannel: groupChannel, \n                // only support in normal group channel\n                isMuted: ((_b = (_a = groupChannel === null || groupChannel === void 0 ? void 0 : groupChannel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === state.currentUserId; })) === null || _b === void 0 ? void 0 : _b.isMuted) || false, isChannelFrozen: (groupChannel === null || groupChannel === void 0 ? void 0 : groupChannel.isFrozen) || false });\n        }\n        case ThreadContextActionTypes.GET_CHANNEL_FAILURE: {\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.INVALID, currentChannel: null });\n        }\n        case ThreadContextActionTypes.SET_EMOJI_CONTAINER: {\n            var emojiContainer = action.payload.emojiContainer;\n            return __assign(__assign({}, state), { emojiContainer: emojiContainer });\n        }\n        case ThreadContextActionTypes.GET_PARENT_MESSAGE_START: {\n            return __assign(__assign({}, state), { parentMessageState: ParentMessageStateTypes.LOADING, parentMessage: null });\n        }\n        case ThreadContextActionTypes.GET_PARENT_MESSAGE_SUCCESS: {\n            return __assign(__assign({}, state), { parentMessageState: ParentMessageStateTypes.INITIALIZED, parentMessage: action.payload.parentMessage });\n        }\n        case ThreadContextActionTypes.GET_PARENT_MESSAGE_FAILURE: {\n            return __assign(__assign({}, state), { parentMessageState: ParentMessageStateTypes.INVALID, parentMessage: null });\n        }\n        // fetch threads\n        case ThreadContextActionTypes.INITIALIZE_THREAD_LIST_START: {\n            return __assign(__assign({}, state), { threadListState: ThreadListStateTypes.LOADING, allThreadMessages: [] });\n        }\n        case ThreadContextActionTypes.INITIALIZE_THREAD_LIST_SUCCESS: {\n            var _z = action.payload, parentMessage = _z.parentMessage, anchorMessage = _z.anchorMessage, threadedMessages = _z.threadedMessages;\n            var anchorMessageCreatedAt_1 = (!(anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.messageId)) ? parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.createdAt : anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.createdAt;\n            var anchorIndex = threadedMessages.findIndex(function (message) { return (message === null || message === void 0 ? void 0 : message.createdAt) > anchorMessageCreatedAt_1; });\n            var prevThreadMessages = anchorIndex > -1 ? threadedMessages.slice(0, anchorIndex) : threadedMessages;\n            var anchorThreadMessage = (anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.messageId) ? [anchorMessage] : [];\n            var nextThreadMessages = anchorIndex > -1 ? threadedMessages.slice(anchorIndex) : [];\n            return __assign(__assign({}, state), { threadListState: ThreadListStateTypes.INITIALIZED, hasMorePrev: anchorIndex === -1 || anchorIndex === PREV_THREADS_FETCH_SIZE, hasMoreNext: threadedMessages.length - anchorIndex === NEXT_THREADS_FETCH_SIZE, allThreadMessages: [prevThreadMessages, anchorThreadMessage, nextThreadMessages].flat() });\n        }\n        case ThreadContextActionTypes.INITIALIZE_THREAD_LIST_FAILURE: {\n            return __assign(__assign({}, state), { threadListState: ThreadListStateTypes.INVALID, allThreadMessages: [] });\n        }\n        case ThreadContextActionTypes.GET_NEXT_MESSAGES_START: {\n            return __assign({}, state);\n        }\n        case ThreadContextActionTypes.GET_NEXT_MESSAGES_SUCESS: {\n            var threadedMessages = action.payload.threadedMessages;\n            return __assign(__assign({}, state), { hasMoreNext: threadedMessages.length === NEXT_THREADS_FETCH_SIZE, allThreadMessages: __spreadArray(__spreadArray([], state.allThreadMessages, true), threadedMessages, true) });\n        }\n        case ThreadContextActionTypes.GET_NEXT_MESSAGES_FAILURE: {\n            return __assign(__assign({}, state), { hasMoreNext: false });\n        }\n        case ThreadContextActionTypes.GET_PREV_MESSAGES_START: {\n            return __assign({}, state);\n        }\n        case ThreadContextActionTypes.GET_PREV_MESSAGES_SUCESS: {\n            var threadedMessages = action.payload.threadedMessages;\n            return __assign(__assign({}, state), { hasMorePrev: threadedMessages.length === PREV_THREADS_FETCH_SIZE, allThreadMessages: __spreadArray(__spreadArray([], threadedMessages, true), state.allThreadMessages, true) });\n        }\n        case ThreadContextActionTypes.GET_PREV_MESSAGES_FAILURE: {\n            return __assign(__assign({}, state), { hasMorePrev: false });\n        }\n        // event handlers - message status change\n        case ThreadContextActionTypes.ON_MESSAGE_RECEIVED: {\n            var _0 = action.payload, channel = _0.channel, message_1 = _0.message;\n            if (((_c = state.currentChannel) === null || _c === void 0 ? void 0 : _c.url) !== (channel === null || channel === void 0 ? void 0 : channel.url)\n                || state.hasMoreNext\n                || ((_d = message_1 === null || message_1 === void 0 ? void 0 : message_1.parentMessage) === null || _d === void 0 ? void 0 : _d.messageId) !== ((_e = state === null || state === void 0 ? void 0 : state.parentMessage) === null || _e === void 0 ? void 0 : _e.messageId)) {\n                return state;\n            }\n            var isAlreadyReceived = state.allThreadMessages.findIndex(function (m) { return (m.messageId === message_1.messageId); }) > -1;\n            return __assign(__assign({}, state), { parentMessage: ((_f = state.parentMessage) === null || _f === void 0 ? void 0 : _f.messageId) === (message_1 === null || message_1 === void 0 ? void 0 : message_1.messageId) ? message_1 : state.parentMessage, allThreadMessages: isAlreadyReceived\n                    ? state.allThreadMessages.map(function (m) { return (m.messageId === message_1.messageId ? message_1 : m); })\n                    : __spreadArray(__spreadArray([], state.allThreadMessages.filter(function (m) { return (m === null || m === void 0 ? void 0 : m.reqId) !== (message_1 === null || message_1 === void 0 ? void 0 : message_1.reqId); }), true), [\n                        message_1,\n                    ], false) });\n        }\n        case ThreadContextActionTypes.ON_MESSAGE_UPDATED: {\n            var _1 = action.payload, channel = _1.channel, message_2 = _1.message;\n            if (((_g = state.currentChannel) === null || _g === void 0 ? void 0 : _g.url) !== (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { parentMessage: ((_h = state.parentMessage) === null || _h === void 0 ? void 0 : _h.messageId) === (message_2 === null || message_2 === void 0 ? void 0 : message_2.messageId)\n                    ? message_2\n                    : state.parentMessage, allThreadMessages: (_j = state.allThreadMessages) === null || _j === void 0 ? void 0 : _j.map(function (msg) { return (((msg === null || msg === void 0 ? void 0 : msg.messageId) === (message_2 === null || message_2 === void 0 ? void 0 : message_2.messageId)) ? message_2 : msg); }) });\n        }\n        case ThreadContextActionTypes.ON_MESSAGE_DELETED: {\n            var _2 = action.payload, channel = _2.channel, messageId_1 = _2.messageId;\n            if (((_k = state.currentChannel) === null || _k === void 0 ? void 0 : _k.url) !== (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                return state;\n            }\n            if (((_l = state === null || state === void 0 ? void 0 : state.parentMessage) === null || _l === void 0 ? void 0 : _l.messageId) === messageId_1) {\n                return __assign(__assign({}, state), { parentMessage: null, parentMessageState: ParentMessageStateTypes.NIL, allThreadMessages: [] });\n            }\n            return __assign(__assign({}, state), { allThreadMessages: (_m = state.allThreadMessages) === null || _m === void 0 ? void 0 : _m.filter(function (msg) { return ((msg === null || msg === void 0 ? void 0 : msg.messageId) !== messageId_1); }), localThreadMessages: (_o = state.localThreadMessages) === null || _o === void 0 ? void 0 : _o.filter(function (msg) { return ((msg === null || msg === void 0 ? void 0 : msg.messageId) !== messageId_1); }) });\n        }\n        case ThreadContextActionTypes.ON_MESSAGE_DELETED_BY_REQ_ID: {\n            return __assign(__assign({}, state), { localThreadMessages: state.localThreadMessages.filter(function (m) { return (!compareIds(m.reqId, action.payload)); }) });\n        }\n        case ThreadContextActionTypes.ON_REACTION_UPDATED: {\n            var reactionEvent_1 = (_p = action.payload) === null || _p === void 0 ? void 0 : _p.reactionEvent;\n            if (((_q = state === null || state === void 0 ? void 0 : state.parentMessage) === null || _q === void 0 ? void 0 : _q.messageId) === (reactionEvent_1 === null || reactionEvent_1 === void 0 ? void 0 : reactionEvent_1.messageId)) {\n                (_s = (_r = state.parentMessage) === null || _r === void 0 ? void 0 : _r.applyReactionEvent) === null || _s === void 0 ? void 0 : _s.call(_r, reactionEvent_1);\n            }\n            return __assign(__assign({}, state), { allThreadMessages: state.allThreadMessages.map(function (m) {\n                    var _a;\n                    if ((reactionEvent_1 === null || reactionEvent_1 === void 0 ? void 0 : reactionEvent_1.messageId) === (m === null || m === void 0 ? void 0 : m.messageId)) {\n                        (_a = m === null || m === void 0 ? void 0 : m.applyReactionEvent) === null || _a === void 0 ? void 0 : _a.call(m, reactionEvent_1);\n                        return m;\n                    }\n                    return m;\n                }) });\n        }\n        // event handlers - user status change\n        case ThreadContextActionTypes.ON_USER_MUTED: {\n            var _3 = action.payload, channel = _3.channel, user = _3.user;\n            if (((_t = state.currentChannel) === null || _t === void 0 ? void 0 : _t.url) !== (channel === null || channel === void 0 ? void 0 : channel.url) || state.currentUserId !== (user === null || user === void 0 ? void 0 : user.userId)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { isMuted: true });\n        }\n        case ThreadContextActionTypes.ON_USER_UNMUTED: {\n            var _4 = action.payload, channel = _4.channel, user = _4.user;\n            if (((_u = state.currentChannel) === null || _u === void 0 ? void 0 : _u.url) !== (channel === null || channel === void 0 ? void 0 : channel.url) || state.currentUserId !== (user === null || user === void 0 ? void 0 : user.userId)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { isMuted: false });\n        }\n        case ThreadContextActionTypes.ON_USER_BANNED: {\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.NIL, threadListState: ThreadListStateTypes.NIL, parentMessageState: ParentMessageStateTypes.NIL, currentChannel: null, parentMessage: null, allThreadMessages: [], hasMorePrev: false, hasMoreNext: false });\n        }\n        case ThreadContextActionTypes.ON_USER_UNBANNED: {\n            return __assign({}, state);\n        }\n        case ThreadContextActionTypes.ON_USER_LEFT: {\n            return __assign(__assign({}, state), { channelState: ChannelStateTypes.NIL, threadListState: ThreadListStateTypes.NIL, parentMessageState: ParentMessageStateTypes.NIL, currentChannel: null, parentMessage: null, allThreadMessages: [], hasMorePrev: false, hasMoreNext: false });\n        }\n        // event handler - channel status change\n        case ThreadContextActionTypes.ON_CHANNEL_FROZEN: {\n            return __assign(__assign({}, state), { isChannelFrozen: true });\n        }\n        case ThreadContextActionTypes.ON_CHANNEL_UNFROZEN: {\n            return __assign(__assign({}, state), { isChannelFrozen: false });\n        }\n        case ThreadContextActionTypes.ON_OPERATOR_UPDATED: {\n            var channel = action.payload.channel;\n            if ((channel === null || channel === void 0 ? void 0 : channel.url) === ((_v = state.currentChannel) === null || _v === void 0 ? void 0 : _v.url)) {\n                return __assign(__assign({}, state), { currentChannel: channel });\n            }\n            return state;\n        }\n        // message\n        case ThreadContextActionTypes.SEND_MESSAGE_START: {\n            var message = action.payload.message;\n            return __assign(__assign({}, state), { localThreadMessages: __spreadArray(__spreadArray([], state.localThreadMessages, true), [\n                    message,\n                ], false) });\n        }\n        case ThreadContextActionTypes.SEND_MESSAGE_SUCESS: {\n            var message_3 = action.payload.message;\n            return __assign(__assign({}, state), { allThreadMessages: __spreadArray(__spreadArray([], state.allThreadMessages.filter(function (m) { return (!compareIds(m === null || m === void 0 ? void 0 : m.reqId, message_3 === null || message_3 === void 0 ? void 0 : message_3.reqId)); }), true), [\n                    message_3,\n                ], false), localThreadMessages: state.localThreadMessages.filter(function (m) { return (!compareIds(m === null || m === void 0 ? void 0 : m.reqId, message_3 === null || message_3 === void 0 ? void 0 : message_3.reqId)); }) });\n        }\n        case ThreadContextActionTypes.SEND_MESSAGE_FAILURE: {\n            var message_4 = action.payload.message;\n            return __assign(__assign({}, state), { localThreadMessages: state.localThreadMessages.map(function (m) { return (compareIds(m === null || m === void 0 ? void 0 : m.reqId, message_4 === null || message_4 === void 0 ? void 0 : message_4.reqId)\n                    ? message_4\n                    : m); }) });\n        }\n        case ThreadContextActionTypes.RESEND_MESSAGE_START: {\n            var message_5 = action.payload.message;\n            return __assign(__assign({}, state), { localThreadMessages: state.localThreadMessages.map(function (m) { return (compareIds(m === null || m === void 0 ? void 0 : m.reqId, message_5 === null || message_5 === void 0 ? void 0 : message_5.reqId)\n                    ? message_5\n                    : m); }) });\n        }\n        case ThreadContextActionTypes.ON_FILE_INFO_UPLOADED: {\n            var _5 = action.payload, channelUrl = _5.channelUrl, requestId_1 = _5.requestId, index = _5.index, uploadableFileInfo = _5.uploadableFileInfo, error = _5.error;\n            if (!compareIds(channelUrl, (_w = state.currentChannel) === null || _w === void 0 ? void 0 : _w.url)) {\n                return state;\n            }\n            /**\n             * We don't have to do anything here because\n             * onFailed() will be called so handle error there instead.\n             */\n            if (error)\n                return state;\n            var localThreadMessages = state.localThreadMessages;\n            var messageToUpdate = localThreadMessages.find(function (message) { return compareIds(hasReqId(message) && message.reqId, requestId_1); });\n            var fileInfoList = (_x = messageToUpdate\n                .messageParams) === null || _x === void 0 ? void 0 : _x.fileInfoList;\n            if (Array.isArray(fileInfoList)) {\n                fileInfoList[index] = uploadableFileInfo;\n            }\n            return __assign(__assign({}, state), { localThreadMessages: localThreadMessages });\n        }\n        case ThreadContextActionTypes.ON_TYPING_STATUS_UPDATED: {\n            var _6 = action.payload, channel = _6.channel, typingMembers = _6.typingMembers;\n            if (!compareIds(channel.url, (_y = state.currentChannel) === null || _y === void 0 ? void 0 : _y.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { typingMembers: typingMembers });\n        }\n        default: {\n            return state;\n        }\n    }\n}\nfunction hasReqId(message) {\n    return 'reqId' in message;\n}\n\nvar initialState = {\n    currentChannel: null,\n    allThreadMessages: [],\n    localThreadMessages: [],\n    parentMessage: null,\n    channelState: ChannelStateTypes.NIL,\n    parentMessageState: ParentMessageStateTypes.NIL,\n    threadListState: ThreadListStateTypes.NIL,\n    hasMorePrev: false,\n    hasMoreNext: false,\n    emojiContainer: {},\n    isMuted: false,\n    isChannelFrozen: false,\n    currentUserId: '',\n    typingMembers: [],\n};\n\nfunction useGetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, message = _a.message;\n    var sdk = _b.sdk, logger = _b.logger, threadDispatcher = _b.threadDispatcher;\n    useEffect(function () {\n        var _a, _b;\n        // validation check\n        if (sdkInit && channelUrl && (sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel)) {\n            threadDispatcher({\n                type: ThreadContextActionTypes.GET_CHANNEL_START,\n                payload: null,\n            });\n            (_b = (_a = sdk.groupChannel).getChannel) === null || _b === void 0 ? void 0 : _b.call(_a, channelUrl).then(function (groupChannel) {\n                logger.info('Thread | useInitialize: Get channel succeeded', groupChannel);\n                threadDispatcher({\n                    type: ThreadContextActionTypes.GET_CHANNEL_SUCCESS,\n                    payload: { groupChannel: groupChannel },\n                });\n            }).catch(function (error) {\n                logger.info('Thread | useInitialize: Get channel failed', error);\n                threadDispatcher({\n                    type: ThreadContextActionTypes.GET_CHANNEL_FAILURE,\n                    payload: error,\n                });\n            });\n        }\n    }, [message, sdkInit]);\n    /**\n     * We don't use channelUrl here,\n     * because Thread must operate independently of the channel.\n     */\n}\n\nfunction useGetAllEmoji(_a, _b) {\n    var sdk = _a.sdk;\n    var logger = _b.logger, threadDispatcher = _b.threadDispatcher;\n    useEffect(function () {\n        if (sdk === null || sdk === void 0 ? void 0 : sdk.getAllEmoji) { // validation check\n            sdk === null || sdk === void 0 ? void 0 : sdk.getAllEmoji().then(function (emojiContainer) {\n                logger.info('Thread | useGetAllEmoji: Getting emojis succeeded.', emojiContainer);\n                threadDispatcher({\n                    type: ThreadContextActionTypes.SET_EMOJI_CONTAINER,\n                    payload: { emojiContainer: emojiContainer },\n                });\n            }).catch(function (error) {\n                logger.info('Thread | useGetAllEmoji: Getting emojis failed.', error);\n            });\n        }\n    }, [sdk]);\n}\n\nfunction useGetParentMessage(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, parentMessage = _a.parentMessage;\n    var sdk = _b.sdk, logger = _b.logger, threadDispatcher = _b.threadDispatcher;\n    useEffect(function () {\n        var _a, _b, _c;\n        // validation check\n        if (sdkInit && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.message) === null || _a === void 0 ? void 0 : _a.getMessage) && parentMessage) {\n            threadDispatcher({\n                type: ThreadContextActionTypes.GET_PARENT_MESSAGE_START,\n                payload: null,\n            });\n            var params = {\n                channelUrl: channelUrl,\n                channelType: ChannelType.GROUP,\n                messageId: parentMessage.messageId,\n                includeMetaArray: true,\n                includeReactions: true,\n                includeThreadInfo: true,\n                includeParentMessageInfo: true,\n            };\n            logger.info('Thread | useGetParentMessage: Get parent message start.', params);\n            (_c = (_b = sdk.message).getMessage) === null || _c === void 0 ? void 0 : _c.call(_b, params).then(function (parentMsg) {\n                logger.info('Thread | useGetParentMessage: Get parent message succeeded.', parentMessage);\n                // @ts-ignore\n                parentMsg.ogMetaData = (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.ogMetaData) || null; // ogMetaData is not included for now\n                threadDispatcher({\n                    type: ThreadContextActionTypes.GET_PARENT_MESSAGE_SUCCESS,\n                    payload: { parentMessage: parentMsg },\n                });\n            }).catch(function (error) {\n                logger.info('Thread | useGetParentMessage: Get parent message failed.', error);\n                threadDispatcher({\n                    type: ThreadContextActionTypes.GET_PARENT_MESSAGE_FAILURE,\n                    payload: error,\n                });\n            });\n        }\n    }, [sdkInit, parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId]);\n    /**\n     * We don't use channelUrl here,\n     * because Thread must operate independently of the channel.\n     */\n}\n\nfunction useHandleThreadPubsubEvents(_a, _b) {\n    var sdkInit = _a.sdkInit, currentChannel = _a.currentChannel, parentMessage = _a.parentMessage;\n    var pubSub = _b.pubSub, threadDispatcher = _b.threadDispatcher;\n    useEffect(function () {\n        var subscriber = new Map();\n        if (pubSub === null || pubSub === void 0 ? void 0 : pubSub.subscribe) {\n            // TODO: subscribe ON_FILE_INFO_UPLOADED\n            subscriber.set(pubSubTopics.SEND_MESSAGE_START, pubSub.subscribe(pubSubTopics.SEND_MESSAGE_START, function (props) {\n                var _a, _b;\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url) && (message === null || message === void 0 ? void 0 : message.parentMessageId) === (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId) && shouldPubSubPublishToThread(publishingModules)) {\n                    // TODO: const clonedMessage = cloneMessage(message);\n                    var pendingMessage = __assign({}, message);\n                    if (message.isMultipleFilesMessage()) {\n                        pendingMessage.fileInfoList = (_b = (_a = message === null || message === void 0 ? void 0 : message.messageParams) === null || _a === void 0 ? void 0 : _a.fileInfoList.map(function (fileInfo) { return (__assign(__assign({}, fileInfo), { url: URL.createObjectURL(fileInfo.file) })); })) !== null && _b !== void 0 ? _b : [];\n                    }\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_START,\n                        payload: {\n                            message: pendingMessage,\n                        },\n                    });\n                }\n                scrollIntoLast === null || scrollIntoLast === void 0 ? void 0 : scrollIntoLast();\n            }));\n            subscriber.set(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, pubSub.subscribe(PUBSUB_TOPICS.ON_FILE_INFO_UPLOADED, function (props) {\n                var response = props.response, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === response.channelUrl && shouldPubSubPublishToThread(publishingModules)) {\n                    threadDispatcher({\n                        type: ON_FILE_INFO_UPLOADED,\n                        payload: response,\n                    });\n                }\n            }));\n            subscriber.set(pubSubTopics.SEND_USER_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_USER_MESSAGE, function (props) {\n                var _a = props, channel = _a.channel, message = _a.message;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url)\n                    && (message === null || message === void 0 ? void 0 : message.parentMessageId) === (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId)) {\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_SUCESS,\n                        payload: { message: message },\n                    });\n                }\n                scrollIntoLast === null || scrollIntoLast === void 0 ? void 0 : scrollIntoLast();\n            }));\n            subscriber.set(pubSubTopics.SEND_MESSAGE_FAILED, pubSub.subscribe(pubSubTopics.SEND_MESSAGE_FAILED, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url) && (message === null || message === void 0 ? void 0 : message.parentMessageId) === (parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId) && shouldPubSubPublishToThread(publishingModules)) {\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                        payload: { message: message },\n                    });\n                }\n            }));\n            subscriber.set(pubSubTopics.SEND_FILE_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_FILE_MESSAGE, function (props) {\n                var channel = props.channel, message = props.message, publishingModules = props.publishingModules;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url) && shouldPubSubPublishToThread(publishingModules)) {\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_SUCESS,\n                        payload: { message: message },\n                    });\n                }\n                scrollIntoLast === null || scrollIntoLast === void 0 ? void 0 : scrollIntoLast();\n            }));\n            subscriber.set(pubSubTopics.UPDATE_USER_MESSAGE, pubSub.subscribe(pubSubTopics.UPDATE_USER_MESSAGE, function (props) {\n                var _a = props, channel = _a.channel, message = _a.message;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_MESSAGE_UPDATED,\n                        payload: { channel: channel, message: message },\n                    });\n                }\n            }));\n            subscriber.set(pubSubTopics.DELETE_MESSAGE, pubSub.subscribe(pubSubTopics.DELETE_MESSAGE, function (props) {\n                var _a = props, channel = _a.channel, messageId = _a.messageId;\n                if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (channel === null || channel === void 0 ? void 0 : channel.url)) {\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_MESSAGE_DELETED,\n                        payload: { messageId: messageId },\n                    });\n                }\n            }));\n        }\n        return function () {\n            subscriber === null || subscriber === void 0 ? void 0 : subscriber.forEach(function (s) {\n                try {\n                    s === null || s === void 0 ? void 0 : s.remove();\n                }\n                catch (_a) {\n                    //\n                }\n            });\n        };\n    }, [sdkInit, currentChannel, parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId]);\n}\n\nfunction useHandleChannelEvents(_a, _b) {\n    var sdk = _a.sdk, currentChannel = _a.currentChannel;\n    var logger = _b.logger, threadDispatcher = _b.threadDispatcher;\n    useEffect(function () {\n        var _a, _b, _c;\n        var handlerId = uuidv4();\n        // validation check\n        if (((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.addGroupChannelHandler)\n            && currentChannel) {\n            var channelHandlerParams = {\n                // message status change\n                onMessageReceived: function (channel, message) {\n                    logger.info('Thread | useHandleChannelEvents: onMessageReceived', { channel: channel, message: message });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_MESSAGE_RECEIVED,\n                        payload: { channel: channel, message: message },\n                    });\n                },\n                onMessageUpdated: function (channel, message) {\n                    logger.info('Thread | useHandleChannelEvents: onMessageUpdated', { channel: channel, message: message });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_MESSAGE_UPDATED,\n                        payload: { channel: channel, message: message },\n                    });\n                },\n                onMessageDeleted: function (channel, messageId) {\n                    logger.info('Thread | useHandleChannelEvents: onMessageDeleted', { channel: channel, messageId: messageId });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_MESSAGE_DELETED,\n                        payload: { channel: channel, messageId: messageId },\n                    });\n                },\n                onReactionUpdated: function (channel, reactionEvent) {\n                    logger.info('Thread | useHandleChannelEvents: onReactionUpdated', { channel: channel, reactionEvent: reactionEvent });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_REACTION_UPDATED,\n                        payload: { channel: channel, reactionEvent: reactionEvent },\n                    });\n                },\n                // user status change\n                onUserMuted: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserMuted', { channel: channel, user: user });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_USER_MUTED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserUnmuted: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserUnmuted', { channel: channel, user: user });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_USER_UNMUTED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserBanned: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserBanned', { channel: channel, user: user });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_USER_BANNED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserUnbanned: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserUnbanned', { channel: channel, user: user });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_USER_UNBANNED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserLeft: function (channel, user) {\n                    logger.info('Thread | useHandleChannelEvents: onUserLeft', { channel: channel, user: user });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_USER_LEFT,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                // channel status change\n                onChannelFrozen: function (channel) {\n                    logger.info('Thread | useHandleChannelEvents: onChannelFrozen', { channel: channel });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_CHANNEL_FROZEN,\n                        payload: { channel: channel },\n                    });\n                },\n                onChannelUnfrozen: function (channel) {\n                    logger.info('Thread | useHandleChannelEvents: onChannelUnfrozen', { channel: channel });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_CHANNEL_UNFROZEN,\n                        payload: { channel: channel },\n                    });\n                },\n                onOperatorUpdated: function (channel, users) {\n                    logger.info('Thread | useHandleChannelEvents: onOperatorUpdated', { channel: channel, users: users });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.ON_OPERATOR_UPDATED,\n                        payload: { channel: channel, users: users },\n                    });\n                },\n                onTypingStatusUpdated: function (channel) {\n                    if (compareIds$1(channel === null || channel === void 0 ? void 0 : channel.url, currentChannel.url)) {\n                        logger.info('Channel | onTypingStatusUpdated', { channel: channel });\n                        var typingMembers = channel.getTypingUsers();\n                        threadDispatcher({\n                            type: ON_TYPING_STATUS_UPDATED,\n                            payload: {\n                                channel: channel,\n                                typingMembers: typingMembers,\n                            },\n                        });\n                    }\n                },\n            };\n            var channelHandler = new GroupChannelHandler(channelHandlerParams);\n            (_c = (_b = sdk.groupChannel).addGroupChannelHandler) === null || _c === void 0 ? void 0 : _c.call(_b, handlerId, channelHandler);\n            logger.info('Thread | useHandleChannelEvents: Added channelHandler in Thread', { handlerId: handlerId, channelHandler: channelHandler });\n        }\n        return function () {\n            var _a, _b, _c;\n            // validation check\n            if (handlerId && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel) === null || _a === void 0 ? void 0 : _a.removeGroupChannelHandler)) {\n                (_c = (_b = sdk.groupChannel).removeGroupChannelHandler) === null || _c === void 0 ? void 0 : _c.call(_b, handlerId);\n                logger.info('Thread | useHandleChannelEvents: Removed channelHandler in Thread.', handlerId);\n            }\n        };\n    }, [\n        sdk === null || sdk === void 0 ? void 0 : sdk.groupChannel,\n        currentChannel,\n    ]);\n}\n\nfunction useSendFileMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, onBeforeSendFileMessage = _a.onBeforeSendFileMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, threadDispatcher = _b.threadDispatcher;\n    return useCallback(function (file, quoteMessage) {\n        return new Promise(function (resolve, reject) {\n            var _a;\n            var createParamsDefault = function () {\n                var params = {};\n                params.file = file;\n                if (quoteMessage) {\n                    params.isReplyToChannel = true;\n                    params.parentMessageId = quoteMessage.messageId;\n                }\n                return params;\n            };\n            var params = (_a = onBeforeSendFileMessage === null || onBeforeSendFileMessage === void 0 ? void 0 : onBeforeSendFileMessage(file, quoteMessage)) !== null && _a !== void 0 ? _a : createParamsDefault();\n            logger.info('Thread | useSendFileMessageCallback: Sending file message start.', params);\n            currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendFileMessage(params).onPending(function (pendingMessage) {\n                threadDispatcher({\n                    type: ThreadContextActionTypes.SEND_MESSAGE_START,\n                    payload: {\n                        /* pubSub is used instead of messagesDispatcher\n                          to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                        // TODO: remove data pollution\n                        message: __assign(__assign({}, pendingMessage), { url: URL.createObjectURL(file), \n                            // pending thumbnail message seems to be failed\n                            requestState: 'pending', isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }),\n                    },\n                });\n                setTimeout(function () { return scrollIntoLast(); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n            }).onFailed(function (error, message) {\n                message.localUrl = URL.createObjectURL(file);\n                message.file = file;\n                logger.info('Thread | useSendFileMessageCallback: Sending file message failed.', { message: message, error: error });\n                threadDispatcher({\n                    type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                    payload: { message: message, error: error },\n                });\n                reject(error);\n            }).onSucceeded(function (message) {\n                logger.info('Thread | useSendFileMessageCallback: Sending file message succeeded.', message);\n                pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                    channel: currentChannel,\n                    message: message,\n                    publishingModules: [PublishingModuleType.THREAD],\n                });\n                resolve(message);\n            });\n        });\n    }, [currentChannel]);\n}\n\nfunction useUpdateMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, isMentionEnabled = _a.isMentionEnabled;\n    var logger = _b.logger, pubSub = _b.pubSub, threadDispatcher = _b.threadDispatcher;\n    // TODO: add type\n    return useCallback(function (props) {\n        var _a;\n        var messageId = props.messageId, message = props.message, mentionedUsers = props.mentionedUsers, mentionTemplate = props.mentionTemplate;\n        var createParamsDefault = function () {\n            var params = {};\n            params.message = message;\n            if (isMentionEnabled && mentionedUsers && (mentionedUsers === null || mentionedUsers === void 0 ? void 0 : mentionedUsers.length) > 0) {\n                params.mentionedUsers = mentionedUsers;\n            }\n            if (isMentionEnabled && mentionTemplate) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            else {\n                params.mentionedMessageTemplate = message;\n            }\n            return params;\n        };\n        var params = createParamsDefault();\n        logger.info('Thread | useUpdateMessageCallback: Message update start.', params);\n        (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.updateUserMessage) === null || _a === void 0 ? void 0 : _a.call(currentChannel, messageId, params).then(function (message) {\n            logger.info('Thread | useUpdateMessageCallback: Message update succeeded.', message);\n            threadDispatcher({\n                type: ThreadContextActionTypes.ON_MESSAGE_UPDATED,\n                payload: {\n                    channel: currentChannel,\n                    message: message,\n                },\n            });\n            pubSub.publish(pubSubTopics.UPDATE_USER_MESSAGE, {\n                fromSelector: true,\n                channel: currentChannel,\n                message: message,\n                publishingModules: [PublishingModuleType.THREAD],\n            });\n        });\n    }, [currentChannel, isMentionEnabled]);\n}\n\nfunction useDeleteMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel, threadDispatcher = _a.threadDispatcher;\n    var logger = _b.logger;\n    return useCallback(function (message) {\n        logger.info('Thread | useDeleteMessageCallback: Deleting message.', message);\n        var sendingStatus = message.sendingStatus;\n        return new Promise(function (resolve, reject) {\n            var _a;\n            logger.info('Thread | useDeleteMessageCallback: Deleting message requestState:', sendingStatus);\n            // Message is only on local\n            if (sendingStatus === 'failed' || sendingStatus === 'pending') {\n                logger.info('Thread | useDeleteMessageCallback: Deleted message from local:', message);\n                threadDispatcher({\n                    type: ThreadContextActionTypes.ON_MESSAGE_DELETED_BY_REQ_ID,\n                    payload: message.reqId,\n                });\n                resolve();\n            }\n            logger.info('Thread | useDeleteMessageCallback: Deleting message from remote:', sendingStatus);\n            (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.deleteMessage) === null || _a === void 0 ? void 0 : _a.call(currentChannel, message).then(function () {\n                logger.info('Thread | useDeleteMessageCallback: Deleting message success!', message);\n                threadDispatcher({\n                    type: ThreadContextActionTypes.ON_MESSAGE_DELETED,\n                    payload: { message: message, channel: currentChannel },\n                });\n                resolve();\n            }).catch(function (err) {\n                logger.warning('Thread | useDeleteMessageCallback: Deleting message failed!', err);\n                reject(err);\n            });\n        });\n    }, [currentChannel]);\n}\n\nfunction useToggleReactionCallback(_a, _b) {\n    var currentChannel = _a.currentChannel;\n    var logger = _b.logger;\n    return useCallback(function (message, key, isReacted) {\n        var _a, _b;\n        if (isReacted) {\n            (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.deleteReaction) === null || _a === void 0 ? void 0 : _a.call(currentChannel, message, key).then(function (res) {\n                logger.info('Thread | useToggleReactionsCallback: Delete reaction succeeded.', res);\n            }).catch(function (err) {\n                logger.warning('Thread | useToggleReactionsCallback: Delete reaction failed.', err);\n            });\n            return;\n        }\n        (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.addReaction) === null || _b === void 0 ? void 0 : _b.call(currentChannel, message, key).then(function (res) {\n            logger.info('Thread | useToggleReactionsCallback: Add reaction succeeded.', res);\n        }).catch(function (err) {\n            logger.warning('Thread | useToggleReactionsCallback: Add reaction failed.', err);\n        });\n    }, [currentChannel]);\n}\n\nfunction useSendUserMessageCallback(_a, _b) {\n    var isMentionEnabled = _a.isMentionEnabled, currentChannel = _a.currentChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, threadDispatcher = _b.threadDispatcher;\n    var sendMessage = useCallback(function (props) {\n        var _a;\n        var message = props.message, quoteMessage = props.quoteMessage, mentionTemplate = props.mentionTemplate, mentionedUsers = props.mentionedUsers;\n        var createDefaultParams = function () {\n            var params = {};\n            params.message = message;\n            var mentionedUsersLength = (mentionedUsers === null || mentionedUsers === void 0 ? void 0 : mentionedUsers.length) || 0;\n            if (isMentionEnabled && mentionedUsersLength) {\n                params.mentionedUsers = mentionedUsers;\n            }\n            if (isMentionEnabled && mentionTemplate && mentionedUsersLength) {\n                params.mentionedMessageTemplate = mentionTemplate;\n            }\n            if (quoteMessage) {\n                params.isReplyToChannel = true;\n                params.parentMessageId = quoteMessage.messageId;\n            }\n            return params;\n        };\n        var params = (_a = onBeforeSendUserMessage === null || onBeforeSendUserMessage === void 0 ? void 0 : onBeforeSendUserMessage(message, quoteMessage)) !== null && _a !== void 0 ? _a : createDefaultParams();\n        logger.info('Thread | useSendUserMessageCallback: Sending user message start.', params);\n        if (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendUserMessage) {\n            currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendUserMessage(params).onPending(function (pendingMessage) {\n                threadDispatcher({\n                    type: ThreadContextActionTypes.SEND_MESSAGE_START,\n                    payload: { message: pendingMessage },\n                });\n            }).onFailed(function (error, message) {\n                logger.info('Thread | useSendUserMessageCallback: Sending user message failed.', { message: message, error: error });\n                threadDispatcher({\n                    type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                    payload: { error: error, message: message },\n                });\n            }).onSucceeded(function (message) {\n                logger.info('Thread | useSendUserMessageCallback: Sending user message succeeded.', message);\n                // because Thread doesn't subscribe SEND_USER_MESSAGE\n                pubSub.publish(pubSubTopics.SEND_USER_MESSAGE, {\n                    channel: currentChannel,\n                    message: message,\n                    publishingModules: [PublishingModuleType.THREAD],\n                });\n            });\n        }\n    }, [isMentionEnabled, currentChannel]);\n    return sendMessage;\n}\n\nfunction useResendMessageCallback(_a, _b) {\n    var currentChannel = _a.currentChannel;\n    var logger = _b.logger, pubSub = _b.pubSub, threadDispatcher = _b.threadDispatcher;\n    return useCallback(function (failedMessage) {\n        var _a, _b, _c, _d, _e;\n        if (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isResendable) {\n            logger.info('Thread | useResendMessageCallback: Resending failedMessage start.', failedMessage);\n            if (((_a = failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isUserMessage) === null || _a === void 0 ? void 0 : _a.call(failedMessage)) || (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.messageType) === MessageType.USER) {\n                try {\n                    currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.resendMessage(failedMessage).onPending(function (message) {\n                        logger.info('Thread | useResendMessageCallback: Resending user message started.', message);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.RESEND_MESSAGE_START,\n                            payload: { message: message },\n                        });\n                    }).onSucceeded(function (message) {\n                        logger.info('Thread | useResendMessageCallback: Resending user message succeeded.', message);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.SEND_MESSAGE_SUCESS,\n                            payload: { message: message },\n                        });\n                        pubSub.publish(pubSubTopics.SEND_USER_MESSAGE, {\n                            channel: currentChannel,\n                            message: message,\n                            publishingModules: [PublishingModuleType.THREAD],\n                        });\n                    }).onFailed(function (error) {\n                        logger.warning('Thread | useResendMessageCallback: Resending user message failed.', error);\n                        failedMessage.sendingStatus = SendingStatus.FAILED;\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                            payload: { message: failedMessage },\n                        });\n                    });\n                }\n                catch (err) {\n                    logger.warning('Thread | useResendMessageCallback: Resending user message failed.', err);\n                    failedMessage.sendingStatus = SendingStatus.FAILED;\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                        payload: { message: failedMessage },\n                    });\n                }\n            }\n            else if ((_b = failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isFileMessage) === null || _b === void 0 ? void 0 : _b.call(failedMessage)) {\n                try {\n                    (_c = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.resendMessage) === null || _c === void 0 ? void 0 : _c.call(currentChannel, failedMessage).onPending(function (message) {\n                        logger.info('Thread | useResendMessageCallback: Resending file message started.', message);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.RESEND_MESSAGE_START,\n                            payload: { message: message },\n                        });\n                    }).onSucceeded(function (message) {\n                        logger.info('Thread | useResendMessageCallback: Resending file message succeeded.', message);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.SEND_MESSAGE_SUCESS,\n                            payload: { message: message },\n                        });\n                        pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                            channel: currentChannel,\n                            message: failedMessage,\n                            publishingModules: [PublishingModuleType.THREAD],\n                        });\n                    }).onFailed(function (error) {\n                        logger.warning('Thread | useResendMessageCallback: Resending file message failed.', error);\n                        failedMessage.sendingStatus = SendingStatus.FAILED;\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                            payload: { message: failedMessage },\n                        });\n                    });\n                }\n                catch (err) {\n                    logger.warning('Thread | useResendMessageCallback: Resending file message failed.', err);\n                    failedMessage.sendingStatus = SendingStatus.FAILED;\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                        payload: { message: failedMessage },\n                    });\n                }\n            }\n            else if ((_d = failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isMultipleFilesMessage) === null || _d === void 0 ? void 0 : _d.call(failedMessage)) {\n                try {\n                    (_e = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.resendMessage) === null || _e === void 0 ? void 0 : _e.call(currentChannel, failedMessage).onPending(function (message) {\n                        logger.info('Thread | useResendMessageCallback: Resending multiple files message started.', message);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.RESEND_MESSAGE_START,\n                            payload: { message: message },\n                        });\n                    }).onFileUploaded(function (requestId, index, uploadableFileInfo, error) {\n                        logger.info('Thread | useResendMessageCallback: onFileUploaded during resending multiple files message.', {\n                            requestId: requestId,\n                            index: index,\n                            error: error,\n                            uploadableFileInfo: uploadableFileInfo,\n                        });\n                        pubSub.publish(pubSubTopics.ON_FILE_INFO_UPLOADED, {\n                            response: {\n                                channelUrl: currentChannel.url,\n                                requestId: requestId,\n                                index: index,\n                                uploadableFileInfo: uploadableFileInfo,\n                                error: error,\n                            },\n                            publishingModules: [PublishingModuleType.THREAD],\n                        });\n                    }).onSucceeded(function (message) {\n                        logger.info('Thread | useResendMessageCallback: Resending MFM succeeded.', message);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.SEND_MESSAGE_SUCESS,\n                            payload: { message: message },\n                        });\n                        pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                            channel: currentChannel,\n                            message: message,\n                            publishingModules: [PublishingModuleType.THREAD],\n                        });\n                    }).onFailed(function (error, message) {\n                        logger.warning('Thread | useResendMessageCallback: Resending MFM failed.', error);\n                        threadDispatcher({\n                            type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                            payload: { message: message },\n                        });\n                    });\n                }\n                catch (err) {\n                    logger.warning('Thread | useResendMessageCallback: Resending MFM failed.', err);\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                        payload: { message: failedMessage },\n                    });\n                }\n            }\n            else {\n                logger.warning('Thread | useResendMessageCallback: Message is not resendable.', failedMessage);\n                failedMessage.sendingStatus = SendingStatus.FAILED;\n                threadDispatcher({\n                    type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                    payload: { message: failedMessage },\n                });\n            }\n        }\n    }, [currentChannel]);\n}\n\nvar useSendVoiceMessageCallback = function (_a, _b) {\n    var currentChannel = _a.currentChannel, onBeforeSendVoiceMessage = _a.onBeforeSendVoiceMessage;\n    var logger = _b.logger, pubSub = _b.pubSub, threadDispatcher = _b.threadDispatcher;\n    var sendMessage = useCallback(function (file, duration, quoteMessage) {\n        var messageParams = (onBeforeSendVoiceMessage\n            && typeof onBeforeSendVoiceMessage === 'function')\n            ? onBeforeSendVoiceMessage(file, quoteMessage)\n            : {\n                file: file,\n                fileName: VOICE_MESSAGE_FILE_NAME,\n                mimeType: VOICE_MESSAGE_MIME_TYPE,\n                metaArrays: [\n                    new MessageMetaArray({\n                        key: META_ARRAY_VOICE_DURATION_KEY,\n                        value: [\"\".concat(duration)],\n                    }),\n                    new MessageMetaArray({\n                        key: META_ARRAY_MESSAGE_TYPE_KEY,\n                        value: [META_ARRAY_MESSAGE_TYPE_VALUE__VOICE],\n                    }),\n                ],\n            };\n        if (quoteMessage) {\n            messageParams.isReplyToChannel = true;\n            messageParams.parentMessageId = quoteMessage.messageId;\n        }\n        logger.info('Thread | useSendVoiceMessageCallback:  Start sending voice message', messageParams);\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.sendFileMessage(messageParams).onPending(function (pendingMessage) {\n            threadDispatcher({\n                type: ThreadContextActionTypes.SEND_MESSAGE_START,\n                payload: {\n                    /* pubSub is used instead of messagesDispatcher\n                    to avoid redundantly calling `messageActionTypes.SEND_MESSAGE_START` */\n                    // TODO: remove data pollution\n                    message: __assign(__assign({}, pendingMessage), { url: URL.createObjectURL(file), \n                        // pending thumbnail message seems to be failed\n                        requestState: 'pending', isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }),\n                },\n            });\n            setTimeout(function () { return scrollIntoLast(); }, SCROLL_BOTTOM_DELAY_FOR_SEND);\n        }).onFailed(function (error, message) {\n            message.localUrl = URL.createObjectURL(file);\n            message.file = file;\n            logger.info('Thread | useSendVoiceMessageCallback: Sending voice message failed.', { message: message, error: error });\n            threadDispatcher({\n                type: ThreadContextActionTypes.SEND_MESSAGE_FAILURE,\n                payload: { message: message, error: error },\n            });\n        }).onSucceeded(function (message) {\n            logger.info('Thread | useSendVoiceMessageCallback: Sending voice message succeeded.', message);\n            pubSub.publish(pubSubTopics.SEND_FILE_MESSAGE, {\n                channel: currentChannel,\n                message: message,\n                publishingModules: [PublishingModuleType.THREAD],\n            });\n        });\n    }, [\n        currentChannel,\n        onBeforeSendVoiceMessage,\n    ]);\n    return sendMessage;\n};\n\nfunction getThreadMessageListParams(params) {\n    return __assign({ prevResultSize: PREV_THREADS_FETCH_SIZE, nextResultSize: NEXT_THREADS_FETCH_SIZE, includeMetaArray: true }, params);\n}\nvar useThreadFetchers = function (_a) {\n    var isReactionEnabled = _a.isReactionEnabled, anchorMessage = _a.anchorMessage, staleParentMessage = _a.parentMessage, threadDispatcher = _a.threadDispatcher, logger = _a.logger, oldestMessageTimeStamp = _a.oldestMessageTimeStamp, latestMessageTimeStamp = _a.latestMessageTimeStamp, threadListState = _a.threadListState;\n    var stores = useSendbirdStateContext().stores;\n    var timestamp = (anchorMessage === null || anchorMessage === void 0 ? void 0 : anchorMessage.createdAt) || 0;\n    var initialize = useCallback(function (callback) { return __awaiter(void 0, void 0, void 0, function () {\n        var params, _a, threadedMessages_1, parentMessage, error_1;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!stores.sdkStore.initialized || !staleParentMessage)\n                        return [2 /*return*/];\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.INITIALIZE_THREAD_LIST_START,\n                        payload: null,\n                    });\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    params = getThreadMessageListParams({ includeReactions: isReactionEnabled });\n                    logger.info('Thread | useGetThreadList: Initialize thread list start.', { timestamp: timestamp, params: params });\n                    return [4 /*yield*/, staleParentMessage.getThreadedMessagesByTimestamp(timestamp, params)];\n                case 2:\n                    _a = _b.sent(), threadedMessages_1 = _a.threadedMessages, parentMessage = _a.parentMessage;\n                    logger.info('Thread | useGetThreadList: Initialize thread list succeeded.', { staleParentMessage: staleParentMessage, threadedMessages: threadedMessages_1 });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.INITIALIZE_THREAD_LIST_SUCCESS,\n                        payload: { parentMessage: parentMessage, anchorMessage: anchorMessage, threadedMessages: threadedMessages_1 },\n                    });\n                    setTimeout(function () { return callback === null || callback === void 0 ? void 0 : callback(threadedMessages_1); });\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_1 = _b.sent();\n                    logger.info('Thread | useGetThreadList: Initialize thread list failed.', error_1);\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.INITIALIZE_THREAD_LIST_FAILURE,\n                        payload: error_1,\n                    });\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [stores.sdkStore.initialized, staleParentMessage, anchorMessage, isReactionEnabled]);\n    var loadPrevious = useCallback(function (callback) { return __awaiter(void 0, void 0, void 0, function () {\n        var params, _a, threadedMessages_2, parentMessage, error_2;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (threadListState !== ThreadListStateTypes.INITIALIZED || oldestMessageTimeStamp === 0 || !staleParentMessage)\n                        return [2 /*return*/];\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.GET_PREV_MESSAGES_START,\n                        payload: null,\n                    });\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    params = getThreadMessageListParams({ nextResultSize: 0, includeReactions: isReactionEnabled });\n                    return [4 /*yield*/, staleParentMessage.getThreadedMessagesByTimestamp(oldestMessageTimeStamp, params)];\n                case 2:\n                    _a = _b.sent(), threadedMessages_2 = _a.threadedMessages, parentMessage = _a.parentMessage;\n                    logger.info('Thread | useGetPrevThreadsCallback: Fetch prev threads succeeded.', { parentMessage: parentMessage, threadedMessages: threadedMessages_2 });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.GET_PREV_MESSAGES_SUCESS,\n                        payload: { parentMessage: parentMessage, threadedMessages: threadedMessages_2 },\n                    });\n                    setTimeout(function () { return callback === null || callback === void 0 ? void 0 : callback(threadedMessages_2); });\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_2 = _b.sent();\n                    logger.info('Thread | useGetPrevThreadsCallback: Fetch prev threads failed.', error_2);\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.GET_PREV_MESSAGES_FAILURE,\n                        payload: error_2,\n                    });\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [threadListState, oldestMessageTimeStamp, isReactionEnabled, staleParentMessage]);\n    var loadNext = useCallback(function (callback) { return __awaiter(void 0, void 0, void 0, function () {\n        var params, _a, threadedMessages_3, parentMessage, error_3;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (threadListState !== ThreadListStateTypes.INITIALIZED || latestMessageTimeStamp === 0 || !staleParentMessage)\n                        return [2 /*return*/];\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.GET_NEXT_MESSAGES_START,\n                        payload: null,\n                    });\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    params = getThreadMessageListParams({ prevResultSize: 0, includeReactions: isReactionEnabled });\n                    return [4 /*yield*/, staleParentMessage.getThreadedMessagesByTimestamp(latestMessageTimeStamp, params)];\n                case 2:\n                    _a = _b.sent(), threadedMessages_3 = _a.threadedMessages, parentMessage = _a.parentMessage;\n                    logger.info('Thread | useGetNextThreadsCallback: Fetch next threads succeeded.', { parentMessage: parentMessage, threadedMessages: threadedMessages_3 });\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.GET_NEXT_MESSAGES_SUCESS,\n                        payload: { parentMessage: parentMessage, threadedMessages: threadedMessages_3 },\n                    });\n                    setTimeout(function () { return callback === null || callback === void 0 ? void 0 : callback(threadedMessages_3); });\n                    return [3 /*break*/, 4];\n                case 3:\n                    error_3 = _b.sent();\n                    logger.info('Thread | useGetNextThreadsCallback: Fetch next threads failed.', error_3);\n                    threadDispatcher({\n                        type: ThreadContextActionTypes.GET_NEXT_MESSAGES_FAILURE,\n                        payload: error_3,\n                    });\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); }, [threadListState, latestMessageTimeStamp, isReactionEnabled, staleParentMessage]);\n    return {\n        initialize: initialize,\n        loadPrevious: loadPrevious,\n        loadNext: loadNext,\n    };\n};\n\nvar ThreadContext = React__default.createContext(null);\nvar ThreadProvider = function (props) {\n    var _a, _b;\n    var children = props.children, channelUrl = props.channelUrl, onHeaderActionClick = props.onHeaderActionClick, onMoveToParentMessage = props.onMoveToParentMessage, onBeforeSendUserMessage = props.onBeforeSendUserMessage, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onBeforeSendVoiceMessage = props.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = props.onBeforeSendMultipleFilesMessage, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, \n    // User Profile\n    disableUserProfile = props.disableUserProfile, renderUserProfile = props.renderUserProfile;\n    var propsMessage = props === null || props === void 0 ? void 0 : props.message;\n    var propsParentMessage = getParentMessageFrom(propsMessage);\n    // Context from SendbirdProvider\n    var globalStore = useSendbirdStateContext();\n    var stores = globalStore.stores, config = globalStore.config;\n    // // stores\n    var sdkStore = stores.sdkStore, userStore = stores.userStore;\n    var sdk = sdkStore.sdk;\n    var user = userStore.user;\n    var sdkInit = sdkStore === null || sdkStore === void 0 ? void 0 : sdkStore.initialized;\n    // // config\n    var logger = config.logger, pubSub = config.pubSub, onUserProfileMessage = config.onUserProfileMessage, htmlTextDirection = config.htmlTextDirection, forceLeftToRightMessageLayout = config.forceLeftToRightMessageLayout;\n    var isMentionEnabled = config.groupChannel.enableMention;\n    var isReactionEnabled = config.groupChannel.enableReactions;\n    // dux of Thread\n    var _c = useReducer(reducer, initialState), threadStore = _c[0], threadDispatcher = _c[1];\n    var currentChannel = threadStore.currentChannel, allThreadMessages = threadStore.allThreadMessages, localThreadMessages = threadStore.localThreadMessages, parentMessage = threadStore.parentMessage, channelState = threadStore.channelState, threadListState = threadStore.threadListState, parentMessageState = threadStore.parentMessageState, hasMorePrev = threadStore.hasMorePrev, hasMoreNext = threadStore.hasMoreNext, emojiContainer = threadStore.emojiContainer, isMuted = threadStore.isMuted, isChannelFrozen = threadStore.isChannelFrozen, currentUserId = threadStore.currentUserId, typingMembers = threadStore.typingMembers;\n    // Initialization\n    useEffect(function () {\n        threadDispatcher({\n            type: ThreadContextActionTypes.INIT_USER_ID,\n            payload: user === null || user === void 0 ? void 0 : user.userId,\n        });\n    }, [user]);\n    useGetChannel({\n        channelUrl: channelUrl,\n        sdkInit: sdkInit,\n        message: propsMessage,\n    }, { sdk: sdk, logger: logger, threadDispatcher: threadDispatcher });\n    useGetParentMessage({\n        channelUrl: channelUrl,\n        sdkInit: sdkInit,\n        parentMessage: propsParentMessage,\n    }, { sdk: sdk, logger: logger, threadDispatcher: threadDispatcher });\n    useGetAllEmoji({ sdk: sdk }, { logger: logger, threadDispatcher: threadDispatcher });\n    // Handle channel events\n    useHandleChannelEvents({\n        sdk: sdk,\n        currentChannel: currentChannel,\n    }, { logger: logger, threadDispatcher: threadDispatcher });\n    useHandleThreadPubsubEvents({\n        sdkInit: sdkInit,\n        currentChannel: currentChannel,\n        parentMessage: parentMessage,\n    }, { logger: logger, pubSub: pubSub, threadDispatcher: threadDispatcher });\n    var _d = useThreadFetchers({\n        parentMessage: parentMessage,\n        // anchorMessage should be null when parentMessage doesn't exist\n        anchorMessage: (propsMessage === null || propsMessage === void 0 ? void 0 : propsMessage.messageId) !== (propsParentMessage === null || propsParentMessage === void 0 ? void 0 : propsParentMessage.messageId) ? propsMessage || undefined : undefined,\n        logger: logger,\n        isReactionEnabled: isReactionEnabled,\n        threadDispatcher: threadDispatcher,\n        threadListState: threadListState,\n        oldestMessageTimeStamp: ((_a = allThreadMessages[0]) === null || _a === void 0 ? void 0 : _a.createdAt) || 0,\n        latestMessageTimeStamp: ((_b = allThreadMessages[allThreadMessages.length - 1]) === null || _b === void 0 ? void 0 : _b.createdAt) || 0,\n    }), initialize = _d.initialize, loadPrevious = _d.loadPrevious, loadNext = _d.loadNext;\n    useEffect(function () {\n        if (stores.sdkStore.initialized && config.isOnline) {\n            initialize();\n        }\n    }, [stores.sdkStore.initialized, config.isOnline, initialize]);\n    useMessageLayoutDirection(htmlTextDirection, forceLeftToRightMessageLayout, \n    // we're assuming that if the thread message list is empty, it's in the loading state\n    allThreadMessages.length === 0);\n    var toggleReaction = useToggleReactionCallback({ currentChannel: currentChannel }, { logger: logger });\n    // Send Message Hooks\n    var sendMessage = useSendUserMessageCallback({\n        isMentionEnabled: isMentionEnabled,\n        currentChannel: currentChannel,\n        onBeforeSendUserMessage: onBeforeSendUserMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        threadDispatcher: threadDispatcher,\n    });\n    var sendFileMessage = useSendFileMessageCallback({\n        currentChannel: currentChannel,\n        onBeforeSendFileMessage: onBeforeSendFileMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        threadDispatcher: threadDispatcher,\n    });\n    var sendVoiceMessage = useSendVoiceMessageCallback({\n        currentChannel: currentChannel,\n        onBeforeSendVoiceMessage: onBeforeSendVoiceMessage,\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n        threadDispatcher: threadDispatcher,\n    });\n    var sendMultipleFilesMessage = useSendMultipleFilesMessage({\n        currentChannel: currentChannel,\n        onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage,\n        publishingModules: [PublishingModuleType.THREAD],\n    }, {\n        logger: logger,\n        pubSub: pubSub,\n    })[0];\n    var resendMessage = useResendMessageCallback({\n        currentChannel: currentChannel,\n    }, { logger: logger, pubSub: pubSub, threadDispatcher: threadDispatcher });\n    var updateMessage = useUpdateMessageCallback({\n        currentChannel: currentChannel,\n        isMentionEnabled: isMentionEnabled,\n    }, { logger: logger, pubSub: pubSub, threadDispatcher: threadDispatcher });\n    var deleteMessage = useDeleteMessageCallback({ currentChannel: currentChannel, threadDispatcher: threadDispatcher }, { logger: logger });\n    // memo\n    var nicknamesMap = useMemo(function () { return ((config.groupChannel.replyType !== 'none' && currentChannel)\n        ? getNicknamesMapFromMembers(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members)\n        : new Map()); }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members]);\n    return (React__default.createElement(ThreadContext.Provider, { value: {\n            // ThreadProviderProps\n            channelUrl: channelUrl,\n            message: propsMessage,\n            onHeaderActionClick: onHeaderActionClick,\n            onMoveToParentMessage: onMoveToParentMessage,\n            isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled,\n            onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n            // ThreadContextInitialState\n            currentChannel: currentChannel,\n            allThreadMessages: allThreadMessages,\n            localThreadMessages: localThreadMessages,\n            parentMessage: parentMessage,\n            channelState: channelState,\n            threadListState: threadListState,\n            parentMessageState: parentMessageState,\n            hasMorePrev: hasMorePrev,\n            hasMoreNext: hasMoreNext,\n            emojiContainer: emojiContainer,\n            // hooks\n            fetchPrevThreads: loadPrevious,\n            fetchNextThreads: loadNext,\n            toggleReaction: toggleReaction,\n            sendMessage: sendMessage,\n            sendFileMessage: sendFileMessage,\n            sendVoiceMessage: sendVoiceMessage,\n            sendMultipleFilesMessage: sendMultipleFilesMessage,\n            resendMessage: resendMessage,\n            updateMessage: updateMessage,\n            deleteMessage: deleteMessage,\n            // context\n            nicknamesMap: nicknamesMap,\n            isMuted: isMuted,\n            isChannelFrozen: isChannelFrozen,\n            currentUserId: currentUserId,\n            typingMembers: typingMembers,\n        } },\n        React__default.createElement(UserProfileProvider, { disableUserProfile: disableUserProfile !== null && disableUserProfile !== void 0 ? disableUserProfile : !config.common.enableUsingDefaultUserProfile, renderUserProfile: renderUserProfile, onUserProfileMessage: onUserProfileMessage }, children)));\n};\nvar useThreadContext = function () {\n    var context = React__default.useContext(ThreadContext);\n    if (!context)\n        throw new Error('ThreadContext not found. Use within the Thread module');\n    return context;\n};\n\nexport { ThreadProvider, useThreadContext };\n//# sourceMappingURL=context.js.map\n", "// Initializing status\nvar ChannelStateTypes;\n(function (ChannelStateTypes) {\n    ChannelStateTypes[\"NIL\"] = \"NIL\";\n    ChannelStateTypes[\"LOADING\"] = \"LOADING\";\n    ChannelStateTypes[\"INVALID\"] = \"INVALID\";\n    ChannelStateTypes[\"INITIALIZED\"] = \"INITIALIZED\";\n})(ChannelStateTypes || (ChannelStateTypes = {}));\nvar ParentMessageStateTypes;\n(function (ParentMessageStateTypes) {\n    ParentMessageStateTypes[\"NIL\"] = \"NIL\";\n    ParentMessageStateTypes[\"LOADING\"] = \"LOADING\";\n    ParentMessageStateTypes[\"INVALID\"] = \"INVALID\";\n    ParentMessageStateTypes[\"INITIALIZED\"] = \"INITIALIZED\";\n})(ParentMessageStateTypes || (ParentMessageStateTypes = {}));\nvar ThreadListStateTypes;\n(function (ThreadListStateTypes) {\n    ThreadListStateTypes[\"NIL\"] = \"NIL\";\n    ThreadListStateTypes[\"LOADING\"] = \"LOADING\";\n    ThreadListStateTypes[\"INVALID\"] = \"INVALID\";\n    ThreadListStateTypes[\"INITIALIZED\"] = \"INITIALIZED\";\n})(ThreadListStateTypes || (ThreadListStateTypes = {}));\n\nexport { ChannelStateTypes, ParentMessageStateTypes, ThreadListStateTypes };\n//# sourceMappingURL=types.js.map\n", "import React__default, { useMemo, useState, useRef } from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { g as getChannelTitle } from '../../chunks/bundle-FBWhhyW3.js';\nimport { useThreadContext } from '../context.js';\nimport ParentMessageInfo from './ParentMessageInfo.js';\nimport ThreadHeader from './ThreadHeader.js';\nimport ThreadList from './ThreadList.js';\nimport ThreadMessageInput from './ThreadMessageInput.js';\nimport { ParentMessageStateTypes, ThreadListStateTypes } from '../context/types.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { i as isAboutSame } from '../../chunks/bundle-D8esR1WH.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-RC1OoWx9.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport './ParentMessageInfoItem.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../ui/BottomSheet.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '../../chunks/bundle-9-9DQjCI.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-B5vIoHSd.js';\nimport '../../ui/MobileMenu.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport '../../ui/Header.js';\nimport './ThreadListItem.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\nimport 'date-fns';\nimport '../../chunks/bundle-ChKVOZMC.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-B7FJxg4D.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../GroupChannel/context.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../Channel/hooks/useHandleUploadFiles.js';\n\nvar useMemorizedHeader = function (_a) {\n    var renderHeader = _a.renderHeader;\n    return useMemo(function () {\n        if (typeof renderHeader === 'function') {\n            return renderHeader();\n        }\n        return null;\n    }, [renderHeader]);\n};\n\nvar useMemorizedParentMessageInfo = function (_a) {\n    var parentMessage = _a.parentMessage, parentMessageState = _a.parentMessageState, renderParentMessageInfo = _a.renderParentMessageInfo, renderParentMessageInfoPlaceholder = _a.renderParentMessageInfoPlaceholder;\n    return useMemo(function () {\n        if (parentMessageState === ParentMessageStateTypes.NIL\n            || parentMessageState === ParentMessageStateTypes.LOADING\n            || parentMessageState === ParentMessageStateTypes.INVALID) {\n            if (typeof renderParentMessageInfoPlaceholder === 'function') {\n                return renderParentMessageInfoPlaceholder(parentMessageState);\n            }\n            switch (parentMessageState) {\n                case ParentMessageStateTypes.NIL: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__parent-message-info placeholder-nil\", type: PlaceHolderTypes.NO_RESULTS, iconSize: \"64px\" }));\n                }\n                case ParentMessageStateTypes.LOADING: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__parent-message-info placeholder-loading\", type: PlaceHolderTypes.LOADING, iconSize: \"64px\" }));\n                }\n                case ParentMessageStateTypes.INVALID: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__parent-message-info placeholder-invalid\", type: PlaceHolderTypes.WRONG, iconSize: \"64px\" }));\n                }\n                default: {\n                    return null;\n                }\n            }\n        }\n        else if (parentMessageState === ParentMessageStateTypes.INITIALIZED) {\n            if (typeof renderParentMessageInfo === 'function') {\n                return renderParentMessageInfo();\n            }\n        }\n        return null;\n    }, [\n        parentMessage,\n        parentMessageState,\n        renderParentMessageInfo,\n        renderParentMessageInfoPlaceholder,\n    ]);\n};\n\nvar useMemorizedThreadList = function (_a) {\n    var threadListState = _a.threadListState, renderThreadListPlaceHolder = _a.renderThreadListPlaceHolder;\n    return useMemo(function () {\n        if (threadListState === ThreadListStateTypes.NIL\n            || threadListState === ThreadListStateTypes.LOADING\n            || threadListState === ThreadListStateTypes.INVALID) {\n            if (typeof renderThreadListPlaceHolder === 'function') {\n                return renderThreadListPlaceHolder(threadListState);\n            }\n            switch (threadListState) {\n                case ThreadListStateTypes.LOADING: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__thread-list placeholder-loading\", type: PlaceHolderTypes.LOADING, iconSize: \"64px\" }));\n                }\n                case ThreadListStateTypes.INVALID: {\n                    return (React__default.createElement(PlaceHolder, { className: \"sendbird-thread-ui__thread-list placeholder-invalid\", type: PlaceHolderTypes.WRONG, iconSize: \"64px\" }));\n                }\n                case ThreadListStateTypes.NIL: {\n                    return React__default.createElement(React__default.Fragment, null);\n                }\n                default: {\n                    return null;\n                }\n            }\n        }\n        return null;\n    }, [\n        threadListState,\n        renderThreadListPlaceHolder,\n    ]);\n};\n\nvar ThreadUI = function (_a) {\n    var _b, _c, _d, _e;\n    var renderHeader = _a.renderHeader, _f = _a.renderParentMessageInfo, renderParentMessageInfo = _f === void 0 ? function () { return React__default.createElement(ParentMessageInfo, { className: \"sendbird-thread-ui__parent-message-info\" }); } : _f, renderMessage = _a.renderMessage, renderMessageInput = _a.renderMessageInput, renderCustomSeparator = _a.renderCustomSeparator, renderParentMessageInfoPlaceholder = _a.renderParentMessageInfoPlaceholder, renderThreadListPlaceHolder = _a.renderThreadListPlaceHolder, renderFileUploadIcon = _a.renderFileUploadIcon, renderVoiceMessageIcon = _a.renderVoiceMessageIcon, renderSendMessageIcon = _a.renderSendMessageIcon;\n    var stores = useSendbirdStateContext().stores;\n    var currentUserId = (_d = (_c = (_b = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk) === null || _c === void 0 ? void 0 : _c.currentUser) === null || _d === void 0 ? void 0 : _d.userId;\n    var stringSet = useLocalization().stringSet;\n    var _g = useThreadContext(), currentChannel = _g.currentChannel, allThreadMessages = _g.allThreadMessages, parentMessage = _g.parentMessage, parentMessageState = _g.parentMessageState, threadListState = _g.threadListState, hasMorePrev = _g.hasMorePrev, hasMoreNext = _g.hasMoreNext, fetchPrevThreads = _g.fetchPrevThreads, fetchNextThreads = _g.fetchNextThreads, onHeaderActionClick = _g.onHeaderActionClick, onMoveToParentMessage = _g.onMoveToParentMessage;\n    var replyCount = allThreadMessages.length;\n    var isByMe = currentUserId === ((_e = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _e === void 0 ? void 0 : _e.userId);\n    // Memoized custom components\n    var MemorizedHeader = useMemorizedHeader({ renderHeader: renderHeader });\n    var MemorizedParentMessageInfo = useMemorizedParentMessageInfo({\n        parentMessage: parentMessage,\n        parentMessageState: parentMessageState,\n        renderParentMessageInfo: renderParentMessageInfo,\n        renderParentMessageInfoPlaceholder: renderParentMessageInfoPlaceholder,\n    });\n    var MemorizedThreadList = useMemorizedThreadList({\n        threadListState: threadListState,\n        renderThreadListPlaceHolder: renderThreadListPlaceHolder,\n    });\n    // scroll\n    var _h = useState(0), scrollBottom = _h[0], setScrollBottom = _h[1];\n    var scrollRef = useRef(null);\n    var onScroll = function (e) {\n        var _a;\n        var element = e.target;\n        var scrollTop = element.scrollTop, clientHeight = element.clientHeight, scrollHeight = element.scrollHeight;\n        var threadItemNodes = (_a = scrollRef.current) === null || _a === void 0 ? void 0 : _a.querySelectorAll('.sendbird-thread-list-item');\n        var firstNode = threadItemNodes === null || threadItemNodes === void 0 ? void 0 : threadItemNodes[0];\n        if (isAboutSame(scrollTop, 0, 10) && hasMorePrev) {\n            fetchPrevThreads(function (messages) {\n                var _a;\n                if (messages) {\n                    try {\n                        (_a = firstNode === null || firstNode === void 0 ? void 0 : firstNode.scrollIntoView) === null || _a === void 0 ? void 0 : _a.call(firstNode, { block: 'start', inline: 'nearest' });\n                    }\n                    catch (error) {\n                        //\n                    }\n                }\n            });\n        }\n        if (isAboutSame(clientHeight + scrollTop, scrollHeight, 10) && hasMoreNext) {\n            var scrollTop_1 = scrollTop;\n            fetchNextThreads(function (messages) {\n                if (messages) {\n                    try {\n                        element.scrollTop = scrollTop_1;\n                        if (scrollRef.current) {\n                            scrollRef.current.scrollTop = scrollTop_1;\n                        }\n                    }\n                    catch (error) {\n                        //\n                    }\n                }\n            });\n        }\n        // save the lastest scroll bottom value\n        if (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current) {\n            var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n            setScrollBottom(current.scrollHeight - current.scrollTop - current.offsetHeight);\n        }\n    };\n    return (React__default.createElement(\"div\", { className: 'sendbird-thread-ui' },\n        MemorizedHeader || (React__default.createElement(ThreadHeader, { className: \"sendbird-thread-ui__header\", channelName: getChannelTitle(currentChannel, currentUserId !== null && currentUserId !== void 0 ? currentUserId : '', stringSet), onActionIconClick: onHeaderActionClick, onChannelNameClick: function () {\n                onMoveToParentMessage === null || onMoveToParentMessage === void 0 ? void 0 : onMoveToParentMessage({ message: parentMessage, channel: currentChannel });\n            } })),\n        React__default.createElement(\"div\", { className: classnames('sendbird-thread-ui--scroll, sendbird-conversation__messages'), ref: scrollRef, onScroll: onScroll },\n            React__default.createElement(MessageProvider, { message: parentMessage, isByMe: isByMe }, MemorizedParentMessageInfo),\n            replyCount > 0 && (React__default.createElement(\"div\", { className: \"sendbird-thread-ui__reply-counts\" },\n                React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_3 }, \"\".concat(replyCount, \" \").concat(replyCount > 1 ? stringSet.THREAD__THREAD_REPLIES : stringSet.THREAD__THREAD_REPLY)))),\n            MemorizedThreadList || (React__default.createElement(ThreadList, { className: \"sendbird-thread-ui__thread-list\", renderMessage: renderMessage, renderCustomSeparator: renderCustomSeparator, scrollRef: scrollRef, scrollBottom: scrollBottom }))),\n        (renderMessageInput === null || renderMessageInput === void 0 ? void 0 : renderMessageInput()) || (React__default.createElement(ThreadMessageInput, { className: \"sendbird-thread-ui__message-input\", renderFileUploadIcon: renderFileUploadIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, renderSendMessageIcon: renderSendMessageIcon }))));\n};\n\nexport { ThreadUI as default };\n//# sourceMappingURL=ThreadUI.js.map\n", "import { c as __spreadArray, _ as __assign, a as __awaiter, b as __generator } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState, useRef, useEffect, useContext } from 'react';\nimport { f as format } from '../../chunks/bundle-C6F1gIgq.js';\nimport { R as RemoveMessage } from '../../chunks/bundle-RC1OoWx9.js';\nimport ParentMessageInfoItem from './ParentMessageInfoItem.js';\nimport { e as getSenderName } from '../../chunks/bundle-D-cVbGxk.js';\nimport { g as getIsReactionEnabled } from '../../chunks/bundle-uSSYB2TA.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useThreadContext } from '../context.js';\nimport { a as UserProfileContext } from '../../chunks/bundle-BKxPk2t0.js';\nimport { S as SuggestedMentionList } from '../../chunks/bundle-9-9DQjCI.js';\nimport { A as Avatar } from '../../chunks/bundle-C76-LA1E.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport FileViewer from '../../ui/FileViewer.js';\nimport { MessageEmojiMenu } from '../../ui/MessageItemReactionMenu.js';\nimport { d as MENU_ROOT_ID, E as EMOJI_MENU_ROOT_ID, g as getObservingId, e as MENU_OBSERVING_CLASS_NAME, C as ContextMenu, b as MenuItems } from '../../chunks/bundle-C7VSBUKJ.js';\nimport UserProfile from '../../ui/UserProfile.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { M as MessageInputKeys } from '../../chunks/bundle-DcNHBjGp.js';\nimport { R as Role } from '../../chunks/bundle-B5vIoHSd.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../../chunks/bundle-DxDVBm6N.js';\nimport { MobileMenu } from '../../ui/MobileMenu.js';\nimport { useDirtyGetMentions } from '../../Message/hooks/useDirtyGetMentions.js';\nimport { g as getCaseResolvedReplyType } from '../../chunks/bundle-DW8Sq-WK.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport { M as MessageMenu } from '../../chunks/bundle-B6Uh5m2a.js';\nimport { u as useElementObserver } from '../../chunks/bundle-CbMF1uDu.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/ReactionButton.js';\nimport '../../ui/BottomSheet.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../ui/SortByRow.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '../context/types.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\n\nfunction ParentMessageInfo(_a) {\n    var _this = this;\n    var _b, _c, _d, _e, _f, _g;\n    var className = _a.className, _h = _a.renderEmojiMenu, renderEmojiMenu = _h === void 0 ? function (props) { return React__default.createElement(MessageEmojiMenu, __assign({}, props)); } : _h, _j = _a.renderMessageMenu, renderMessageMenu = _j === void 0 ? function (props) { return React__default.createElement(MessageMenu, __assign({}, props)); } : _j;\n    var _k = useSendbirdStateContext(), stores = _k.stores, config = _k.config;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var userId = (_c = (_b = stores.userStore.user) === null || _b === void 0 ? void 0 : _b.userId) !== null && _c !== void 0 ? _c : '';\n    var dateLocale = useLocalization().dateLocale;\n    var _l = useThreadContext(), currentChannel = _l.currentChannel, parentMessage = _l.parentMessage, allThreadMessages = _l.allThreadMessages, emojiContainer = _l.emojiContainer, toggleReaction = _l.toggleReaction, updateMessage = _l.updateMessage, deleteMessage = _l.deleteMessage, onMoveToParentMessage = _l.onMoveToParentMessage, onHeaderActionClick = _l.onHeaderActionClick, isMuted = _l.isMuted, isChannelFrozen = _l.isChannelFrozen, onBeforeDownloadFileMessage = _l.onBeforeDownloadFileMessage;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isMenuMounted = useElementObserver(\"#\".concat(getObservingId(parentMessage.messageId), \".\").concat(MENU_OBSERVING_CLASS_NAME), [\n        document.getElementById(MENU_ROOT_ID),\n        document.getElementById(EMOJI_MENU_ROOT_ID),\n    ]);\n    var _m = useState(false), showRemove = _m[0], setShowRemove = _m[1];\n    var _o = useState(false), showFileViewer = _o[0], setShowFileViewer = _o[1];\n    var isReactionEnabled = getIsReactionEnabled({\n        channel: currentChannel,\n        config: config,\n    });\n    var isMentionEnabled = groupChannel.enableMention;\n    var replyType = getCaseResolvedReplyType(groupChannel.replyType).upperCase;\n    var isByMe = userId === parentMessage.sender.userId;\n    // Mobile\n    var mobileMenuRef = useRef(null);\n    var _p = useState(false), showMobileMenu = _p[0], setShowMobileMenu = _p[1];\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setShowMobileMenu(true);\n            }\n        },\n    }, {\n        shouldPreventDefault: false,\n    });\n    // Edit message\n    var _q = useState(false), showEditInput = _q[0], setShowEditInput = _q[1];\n    var disabled = !isOnline || isMuted || isChannelFrozen && !((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === Role.OPERATOR);\n    // Mention\n    var editMessageInputRef = useRef(null);\n    var _r = useState(''), mentionNickname = _r[0], setMentionNickname = _r[1];\n    var _s = useState([]), mentionedUsers = _s[0], setMentionedUsers = _s[1];\n    var _t = useState([]), mentionedUserIds = _t[0], setMentionedUserIds = _t[1];\n    var _u = useState(null), messageInputEvent = _u[0], setMessageInputEvent = _u[1];\n    var _v = useState(null), selectedUser = _v[0], setSelectedUser = _v[1];\n    var _w = useState([]), mentionSuggestedUsers = _w[0], setMentionSuggestedUsers = _w[1];\n    var displaySuggestedMentionList = isOnline\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isMuted\n        && !(isChannelFrozen && !(currentChannel.myRole === Role.OPERATOR));\n    var mentionNodes = useDirtyGetMentions({ ref: editMessageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    var handleOnDownloadClick = function (e) { return __awaiter(_this, void 0, void 0, function () {\n        var allowDownload, err_1;\n        var _a, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    if (!onBeforeDownloadFileMessage)\n                        return [2 /*return*/];\n                    _c.label = 1;\n                case 1:\n                    _c.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, onBeforeDownloadFileMessage({ message: parentMessage })];\n                case 2:\n                    allowDownload = _c.sent();\n                    if (!allowDownload) {\n                        e.preventDefault();\n                        (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ParentMessageInfo: Not allowed to download.');\n                    }\n                    return [3 /*break*/, 4];\n                case 3:\n                    err_1 = _c.sent();\n                    (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ParentMessageInfo: Error occurred while determining download continuation:', err_1);\n                    return [3 /*break*/, 4];\n                case 4: return [2 /*return*/];\n            }\n        });\n    }); };\n    // User Profile\n    var avatarRef = useRef(null);\n    var _x = useContext(UserProfileContext), disableUserProfile = _x.disableUserProfile, renderUserProfile = _x.renderUserProfile;\n    if (showEditInput && ((_d = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.isUserMessage) === null || _d === void 0 ? void 0 : _d.call(parentMessage))) {\n        return (React__default.createElement(React__default.Fragment, null,\n            displaySuggestedMentionList && (React__default.createElement(SuggestedMentionList, { className: \"parent-message-info--suggested-mention-list\", targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, \n                // renderUserMentionItem={renderUserMentionItem}\n                onUserItemClick: function (user) {\n                    if (user) {\n                        setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                    }\n                    setMentionNickname('');\n                    setSelectedUser(user);\n                    setMessageInputEvent(null);\n                }, onFocusItemChange: function () {\n                    setMessageInputEvent(null);\n                }, onFetchUsers: function (users) {\n                    setMentionSuggestedUsers(users);\n                }, ableAddMention: ableMention, maxMentionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount, maxSuggestionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount })),\n            React__default.createElement(MessageInput, { channel: currentChannel, isEdit: true, disabled: disabled, ref: editMessageInputRef, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, message: parentMessage, onStartTyping: function () {\n                    var _a;\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUpdateMessage: function (_a) {\n                    var _b;\n                    var messageId = _a.messageId, message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    updateMessage({\n                        messageId: messageId,\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionTemplate: mentionTemplate,\n                    });\n                    setShowEditInput(false);\n                    (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n                }, onCancelEdit: function () {\n                    var _a;\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    setMentionedUserIds([]);\n                    setMentionSuggestedUsers([]);\n                    setShowEditInput(false);\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } })));\n    }\n    return (React__default.createElement(\"div\", __assign({ className: \"sendbird-parent-message-info \".concat(className) }, (isMobile) ? __assign({}, longPress) : {}, { ref: mobileMenuRef }),\n        React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) {\n                var _a, _b, _c;\n                return (React__default.createElement(Avatar, { className: \"sendbird-parent-message-info__sender\", ref: avatarRef, src: ((_b = (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members) === null || _a === void 0 ? void 0 : _a.find(function (m) { var _a; return (m === null || m === void 0 ? void 0 : m.userId) === ((_a = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _a === void 0 ? void 0 : _a.userId); })) === null || _b === void 0 ? void 0 : _b.profileUrl)\n                        || ((_c = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _c === void 0 ? void 0 : _c.profileUrl), alt: \"thread message sender\", width: \"40px\", height: \"40px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } }));\n            }, menuItems: function (closeDropdown) { return (renderUserProfile\n                ? renderUserProfile({\n                    user: parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender,\n                    close: closeDropdown,\n                    currentUserId: userId,\n                    avatarRef: avatarRef,\n                })\n                : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                    React__default.createElement(UserProfile, { user: parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender, currentUserId: userId, onSuccess: closeDropdown })))); } }),\n        React__default.createElement(\"div\", { className: \"sendbird-parent-message-info__content\" },\n            React__default.createElement(\"div\", { className: \"sendbird-parent-message-info__content__info\" },\n                React__default.createElement(Label, { className: isReactionEnabled\n                        ? 'sendbird-parent-message-info__content__info__sender-name--use-reaction'\n                        : 'sendbird-parent-message-info__content__info__sender-name', type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, ((_f = (_e = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members) === null || _e === void 0 ? void 0 : _e.find(function (member) { var _a; return (member === null || member === void 0 ? void 0 : member.userId) === ((_a = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _a === void 0 ? void 0 : _a.userId); })) === null || _f === void 0 ? void 0 : _f.nickname) || (getSenderName === null || getSenderName === void 0 ? void 0 : getSenderName(parentMessage))),\n                React__default.createElement(Label, { className: \"sendbird-parent-message-info__content__info__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, format((parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.createdAt) || 0, 'p', { locale: dateLocale }))),\n            React__default.createElement(ParentMessageInfoItem, { message: parentMessage, showFileViewer: setShowFileViewer, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })),\n        !isMobile && (React__default.createElement(\"div\", { className: 'sendbird-parent-message-info__menu-container' },\n            renderMessageMenu({\n                className: classnames('sendbird-parent-message-info__context-menu', isReactionEnabled && 'use-reaction', isMenuMounted && 'sendbird-mouse-hover'),\n                channel: currentChannel,\n                message: parentMessage,\n                isByMe: userId === ((_g = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender) === null || _g === void 0 ? void 0 : _g.userId),\n                disableDeleteMessage: allThreadMessages.length > 0,\n                replyType: replyType,\n                showEdit: setShowEditInput,\n                showRemove: setShowRemove,\n                onMoveToParentMessage: function () {\n                    onMoveToParentMessage === null || onMoveToParentMessage === void 0 ? void 0 : onMoveToParentMessage({ message: parentMessage, channel: currentChannel });\n                },\n                deleteMessage: deleteMessage,\n            }),\n            isReactionEnabled && (renderEmojiMenu({\n                className: classnames('sendbird-parent-message-info__reaction-menu', isMenuMounted && 'sendbird-mouse-hover'),\n                message: parentMessage,\n                userId: userId,\n                emojiContainer: emojiContainer,\n                toggleReaction: toggleReaction,\n            })))),\n        showRemove && (React__default.createElement(RemoveMessage, { onCancel: function () { return setShowRemove(false); }, onSubmit: function () {\n                onHeaderActionClick === null || onHeaderActionClick === void 0 ? void 0 : onHeaderActionClick();\n            }, message: parentMessage })),\n        showFileViewer && (React__default.createElement(FileViewer, { message: parentMessage, onClose: function () { return setShowFileViewer(false); }, onDelete: function () {\n                deleteMessage(parentMessage)\n                    .then(function () {\n                    setShowFileViewer(false);\n                });\n            }, onDownloadClick: handleOnDownloadClick })),\n        showMobileMenu && (React__default.createElement(MobileMenu, { parentRef: mobileMenuRef, channel: currentChannel, message: parentMessage, userId: userId, replyType: replyType, hideMenu: function () {\n                setShowMobileMenu(false);\n            }, deleteMessage: deleteMessage, deleteMenuState: (allThreadMessages === null || allThreadMessages === void 0 ? void 0 : allThreadMessages.length) === 0\n                ? 'ACTIVE'\n                : 'HIDE', isReactionEnabled: isReactionEnabled, isByMe: isByMe, emojiContainer: emojiContainer, showEdit: setShowEditInput, showRemove: setShowRemove, toggleReaction: toggleReaction, isOpenedFromThread: true, onDownloadClick: handleOnDownloadClick }))));\n}\n\nexport { ParentMessageInfo as default };\n//# sourceMappingURL=ParentMessageInfo.js.map\n", "import React__default, { useContext } from 'react';\nimport { M as Modal } from './bundle-Bh6KfMRl.js';\nimport './bundle-B1SLZ0HT.js';\nimport './bundle-CEZ0D4qz.js';\nimport { ButtonTypes } from '../ui/Button.js';\nimport { L as LocalizationContext } from './bundle-BvAzWVA5.js';\nimport { useThreadContext } from '../Thread/context.js';\nimport { g as getModalDeleteMessageTitle } from './bundle-CBwCMBt0.js';\n\nvar RemoveMessage = function (props) {\n    var _a, _b;\n    var onCancel = props.onCancel, onSubmit = props.onSubmit, message = props.message;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var deleteMessage = useThreadContext().deleteMessage;\n    return (React__default.createElement(Modal, { type: ButtonTypes.DANGER, disabled: ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onCancel: onCancel, onSubmit: function () {\n            deleteMessage(message).then(function () {\n                onCancel === null || onCancel === void 0 ? void 0 : onCancel();\n                onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit();\n            });\n        }, submitText: stringSet.MESSAGE_MENU__DELETE, titleText: getModalDeleteMessageTitle(stringSet, message) }));\n};\n\nexport { RemoveMessage as R };\n//# sourceMappingURL=bundle-RC1OoWx9.js.map\n", "import { a as __awaiter, b as __generator } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useMemo, useState } from 'react';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { l as isUserMessage, d as isEditedMessage, m as getUIKitMessageType, n as getUIKitMessageTypes, o as getUIKitFileType, t as truncateString, c as isMultipleFilesMessage, i as isVoiceMessage, p as isThumbnailMessage, q as isSentMessage, r as isVideoMessage, s as isGifMessage, b as isFileMessage } from '../../chunks/bundle-D-cVbGxk.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport ImageRenderer from '../../ui/ImageRenderer.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport TextButton from '../../ui/TextButton.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport EmojiReactions from '../../ui/EmojiReactions.js';\nimport { useThreadContext } from '../context.js';\nimport { VoiceMessageItemBody } from '../../ui/VoiceMessageItemBody.js';\nimport { T as TextFragment } from '../../chunks/bundle-NWVriOUB.js';\nimport { t as tokenizeMessage } from '../../chunks/bundle-DtlqJEe7.js';\nimport { u as useThreadMessageKindKeySelector, a as useFileInfoListWithUploaded, M as MultipleFilesMessageItemBody, T as ThreadMessageKind } from '../../chunks/bundle-Bt68jirZ.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DBzinRyn.js';\nimport { C as Colors } from '../../chunks/bundle-CTaD4y3Q.js';\nimport { o as openURL } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../withSendbird.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../context/types.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/Loader.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\n\nfunction ParentMessageInfoItem(_a) {\n    var _this = this;\n    var _b, _c, _d, _e, _f, _g, _h, _j;\n    var className = _a.className, message = _a.message, showFileViewer = _a.showFileViewer, _k = _a.onBeforeDownloadFileMessage, onBeforeDownloadFileMessage = _k === void 0 ? null : _k;\n    var _l = useSendbirdStateContext(), stores = _l.stores, config = _l.config, eventHandlers = _l.eventHandlers;\n    var logger = config.logger;\n    var onPressUserProfileHandler = (_b = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.reaction) === null || _b === void 0 ? void 0 : _b.onPressUserProfile;\n    var currentUserId = (_d = (_c = stores === null || stores === void 0 ? void 0 : stores.userStore) === null || _c === void 0 ? void 0 : _c.user) === null || _d === void 0 ? void 0 : _d.userId;\n    var stringSet = useLocalization().stringSet;\n    var _m = useThreadContext(), currentChannel = _m.currentChannel, emojiContainer = _m.emojiContainer, nicknamesMap = _m.nicknamesMap, toggleReaction = _m.toggleReaction;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isReactionEnabled = config.groupChannel.enableReactions;\n    var isMentionEnabled = config.groupChannel.enableMention;\n    var threadMessageKindKey = useThreadMessageKindKeySelector({\n        threadMessageKind: ThreadMessageKind.PARENT,\n        isMobile: isMobile,\n    });\n    // For MultipleFilesMessage only.\n    var statefulFileInfoList = useFileInfoListWithUploaded(message);\n    var isMentionedMessage = isMentionEnabled\n        && ((_e = message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate) === null || _e === void 0 ? void 0 : _e.length) > 0\n        && (message === null || message === void 0 ? void 0 : message.mentionedUsers)\n        && message.mentionedUsers.length > 0;\n    // Emoji reactions\n    var isReactionActivated = isReactionEnabled\n        && config.groupChannel.replyType === 'thread'\n        && ((_f = message === null || message === void 0 ? void 0 : message.reactions) === null || _f === void 0 ? void 0 : _f.length) > 0;\n    var tokens = useMemo(function () {\n        var _a;\n        if (isMentionedMessage) {\n            return tokenizeMessage({\n                mentionedUsers: (_a = message === null || message === void 0 ? void 0 : message.mentionedUsers) !== null && _a !== void 0 ? _a : undefined,\n                messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                includeMarkdown: config.groupChannel.enableMarkdownForUserMessage,\n            });\n        }\n        return tokenizeMessage({\n            messageText: message === null || message === void 0 ? void 0 : message.message,\n            includeMarkdown: config.groupChannel.enableMarkdownForUserMessage,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    // Only for the FileMessageItemBody\n    var downloadFileWithUrl = function () {\n        if (isFileMessage(message))\n            openURL(message.url);\n    };\n    var handleOnClickTextButton = onBeforeDownloadFileMessage\n        ? function () { return __awaiter(_this, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!(message.messageType === 'file')) return [3 /*break*/, 4];\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                    case 2:\n                        allowDownload = _c.sent();\n                        if (allowDownload) {\n                            downloadFileWithUrl();\n                        }\n                        else {\n                            (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ParentMessageInfoItem: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _c.sent();\n                        (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ParentMessageInfoItem: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); }\n        : downloadFileWithUrl;\n    // Thumbnail mesage\n    var _o = useState(false), isImageRendered = _o[0], setImageRendered = _o[1];\n    var thumbnailUrl = ((_g = message === null || message === void 0 ? void 0 : message.thumbnails) === null || _g === void 0 ? void 0 : _g.length) > 0\n        ? (_h = message === null || message === void 0 ? void 0 : message.thumbnails[0]) === null || _h === void 0 ? void 0 : _h.url : '';\n    return (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item \".concat(className) },\n        isUserMessage(message) && (React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__text-message\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 },\n            React__default.createElement(TextFragment, { tokens: tokens }),\n            isEditedMessage(message) && (React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__text-message edited\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))),\n        // Instead of the FileMessageItemBody component\n        (getUIKitMessageType(message) === getUIKitMessageTypes().FILE) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__file-message\" },\n            React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__file-message__file-icon\" },\n                React__default.createElement(Icon, { className: \"sendbird-parent-message-info-item__file-message__file-icon__icon\", type: {\n                        IMAGE: IconTypes.PHOTO,\n                        VIDEO: IconTypes.PLAY,\n                        AUDIO: IconTypes.FILE_AUDIO,\n                        GIF: IconTypes.GIF,\n                        OTHERS: IconTypes.FILE_DOCUMENT,\n                    }[getUIKitFileType(message === null || message === void 0 ? void 0 : message.type)], fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })),\n            React__default.createElement(TextButton, { className: \"sendbird-parent-message-info-item__file-message__file-name\", onClick: handleOnClickTextButton, color: Colors.ONBACKGROUND_1 },\n                React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__file-message__file-name__text\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, truncateString((message === null || message === void 0 ? void 0 : message.name) || (message === null || message === void 0 ? void 0 : message.url), 30))))),\n        isMultipleFilesMessage(message) && (React__default.createElement(MultipleFilesMessageItemBody, { className: \"sendbird-parent-message-info-item__multiple-files-message-wrapper\", message: message, isByMe: false, isReactionEnabled: isReactionEnabled, threadMessageKindKey: threadMessageKindKey, statefulFileInfoList: statefulFileInfoList, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })),\n        isVoiceMessage(message) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__voice-message\" },\n            React__default.createElement(VoiceMessageItemBody, { className: \"sendbird-parent-message-info-item__voice-message__item\", message: message, channelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url, isByMe: false, isReactionEnabled: isReactionEnabled }))),\n        isThumbnailMessage(message) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message\", onClick: function () {\n                if (isSentMessage(message)) {\n                    showFileViewer === null || showFileViewer === void 0 ? void 0 : showFileViewer(true);\n                }\n            } },\n            React__default.createElement(ImageRenderer, { className: \"sendbird-parent-message-info-item__thumbnail-message__thumbnail\", url: thumbnailUrl || (message === null || message === void 0 ? void 0 : message.url) || (message === null || message === void 0 ? void 0 : message.plainUrl), alt: message === null || message === void 0 ? void 0 : message.type, width: \"200px\", height: \"148px\", onLoad: function () { setImageRendered(true); }, placeHolder: function (_a) {\n                    var style = _a.style;\n                    return (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__placeholder\", style: style },\n                        React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__placeholder__icon\" },\n                            React__default.createElement(Icon, { type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"34px\", height: \"34px\" }))));\n                } }),\n            (isVideoMessage(message) && !thumbnailUrl) && !isImageRendered && (React__default.createElement(\"video\", { className: \"sendbird-parent-message-info-item__thumbnail-message__video\" },\n                React__default.createElement(\"source\", { src: (message === null || message === void 0 ? void 0 : message.url) || (message === null || message === void 0 ? void 0 : message.plainUrl), type: message === null || message === void 0 ? void 0 : message.type }))),\n            React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__image-cover\" }),\n            (isVideoMessage(message) || isGifMessage(message)) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper\" },\n                React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__thumbnail-message__icon-wrapper__icon\" },\n                    React__default.createElement(Icon, { type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF, fillColor: IconColors.ON_BACKGROUND_2, width: \"34px\", height: \"34px\" })))))),\n        getUIKitMessageType(message) === ((_j = getUIKitMessageTypes === null || getUIKitMessageTypes === void 0 ? void 0 : getUIKitMessageTypes()) === null || _j === void 0 ? void 0 : _j.UNKNOWN) && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info-item__unknown-message\" },\n            React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__unknown-message__header\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE),\n            React__default.createElement(Label, { className: \"sendbird-parent-message-info-item__unknown-message__description\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, stringSet.UNKNOWN__CANNOT_READ_MESSAGE))),\n        isReactionActivated && (React__default.createElement(\"div\", { className: \"sendbird-parent-message-info__reactions\" },\n            React__default.createElement(EmojiReactions, { userId: currentUserId, message: message, channel: currentChannel, isByMe: false, emojiContainer: emojiContainer, memberNicknamesMap: nicknamesMap, toggleReaction: toggleReaction, onPressUserProfile: onPressUserProfileHandler })))));\n}\n\nexport { ParentMessageInfoItem as default };\n//# sourceMappingURL=ParentMessageInfoItem.js.map\n", "import { _ as __assign } from './bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { S as SuggestedMentionListView } from './bundle-C_WYFRJt.js';\nimport { useThreadContext } from '../Thread/context.js';\n\nvar SuggestedMentionList = function (props) {\n    var currentChannel = useThreadContext().currentChannel;\n    return (React__default.createElement(SuggestedMentionListView, __assign({}, props, { currentChannel: currentChannel })));\n};\n\nexport { SuggestedMentionList as S };\n//# sourceMappingURL=bundle-9-9DQjCI.js.map\n", "// note to SDK team:\n// using enum inside .d.ts won’t work for jest, but const enum will work.\nvar Role = {\n    OPERATOR: 'operator',\n    NONE: 'none',\n};\n\nexport { Role as R };\n//# sourceMappingURL=bundle-B5vIoHSd.js.map\n", "import React__default, { useMemo } from 'react';\nimport { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport Header from '../../ui/Header.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\n\nfunction ThreadHeader(_a) {\n    var className = _a.className, channelName = _a.channelName, renderActionIcon = _a.renderActionIcon, onActionIconClick = _a.onActionIconClick, onChannelNameClick = _a.onChannelNameClick;\n    var stringSet = useLocalization().stringSet;\n    var MemoizedActionIcon = useMemo(function () {\n        if (typeof renderActionIcon === 'function' && onActionIconClick) {\n            return renderActionIcon({ onActionIconClick: onActionIconClick });\n        }\n        return null;\n    }, [renderActionIcon]);\n    return (React__default.createElement(Header, { className: \"sendbird-thread-header \".concat(className), renderMiddle: function () { return (React__default.createElement(Header.Title, { title: stringSet.THREAD__HEADER_TITLE, subtitle: channelName, onClickSubtitle: onChannelNameClick })); }, renderRight: function () { return (MemoizedActionIcon || (React__default.createElement(\"div\", { className: \"sendbird-thread-header__action\" },\n            React__default.createElement(Header.IconButton, { onClick: function (e) { return onActionIconClick(e); }, type: IconTypes.CLOSE, color: IconColors.ON_BACKGROUND_1 })))); } }));\n}\n\nexport { ThreadHeader as default };\n//# sourceMappingURL=ThreadHeader.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport ThreadListItem from './ThreadListItem.js';\nimport { useThreadContext } from '../context.js';\nimport { compareMessagesForGrouping } from '../../Channel/utils/compareMessagesForGrouping.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { isSameDay } from 'date-fns';\nimport { MessageProvider } from '../../Message/context.js';\nimport { g as getCaseResolvedReplyType } from '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-RC1OoWx9.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../chunks/bundle-9-9DQjCI.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../context/types.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/MobileMenu.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport '../../chunks/bundle-B5vIoHSd.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nfunction ThreadList(_a) {\n    var className = _a.className, _b = _a.renderMessage, renderMessage = _b === void 0 ? function (props) { return React__default.createElement(ThreadListItem, __assign({}, props)); } : _b, renderCustomSeparator = _a.renderCustomSeparator, scrollRef = _a.scrollRef, scrollBottom = _a.scrollBottom;\n    var config = useSendbirdStateContext().config;\n    var userId = config.userId;\n    var _c = useThreadContext(), currentChannel = _c.currentChannel, allThreadMessages = _c.allThreadMessages, localThreadMessages = _c.localThreadMessages;\n    return (React__default.createElement(\"div\", { className: \"sendbird-thread-list \".concat(className) },\n        allThreadMessages.map(function (message, idx) {\n            var _a;\n            var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n            var prevMessage = allThreadMessages[idx - 1];\n            var nextMessage = allThreadMessages[idx + 1];\n            // eslint-disable-next-line no-constant-condition\n            var _b = compareMessagesForGrouping(prevMessage, message, nextMessage, currentChannel, getCaseResolvedReplyType(config.groupChannel.replyType).upperCase)\n                , chainTop = _b[0], chainBottom = _b[1];\n            var hasSeparator = !((prevMessage === null || prevMessage === void 0 ? void 0 : prevMessage.createdAt) > 0 && (isSameDay(message === null || message === void 0 ? void 0 : message.createdAt, prevMessage === null || prevMessage === void 0 ? void 0 : prevMessage.createdAt)));\n            var handleScroll = function () {\n                var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n                if (current && scrollBottom) {\n                    var bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n                    if (scrollBottom < bottom) {\n                        current.scrollTop += bottom - scrollBottom;\n                    }\n                }\n            };\n            return (React__default.createElement(MessageProvider, { message: message, isByMe: isByMe, key: message === null || message === void 0 ? void 0 : message.messageId }, renderMessage({\n                message: message,\n                chainTop: chainTop,\n                chainBottom: chainBottom,\n                hasSeparator: hasSeparator,\n                renderCustomSeparator: renderCustomSeparator,\n                handleScroll: handleScroll,\n            })));\n        }),\n        localThreadMessages.map(function (message) {\n            var _a;\n            var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n            var handleScroll = function () {\n                var current = scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current;\n                if (current) {\n                    var bottom = current.scrollHeight - current.scrollTop - current.offsetHeight;\n                    if (scrollBottom < bottom) {\n                        current.scrollTop += bottom - scrollBottom;\n                    }\n                }\n            };\n            return (React__default.createElement(MessageProvider, { message: message, isByMe: isByMe, key: message === null || message === void 0 ? void 0 : message.messageId }, renderMessage({\n                message: message,\n                hasSeparator: false,\n                renderCustomSeparator: renderCustomSeparator,\n                handleScroll: handleScroll,\n            })));\n        })));\n}\n\nexport { ThreadList as default };\n//# sourceMappingURL=ThreadList.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator, c as __spreadArray } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useContext, useRef, useState, useLayoutEffect, useEffect, useMemo } from 'react';\nimport { f as format } from '../../chunks/bundle-C6F1gIgq.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport DateSeparator from '../../ui/DateSeparator.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { R as RemoveMessage } from '../../chunks/bundle-RC1OoWx9.js';\nimport FileViewer from '../../ui/FileViewer.js';\nimport { useThreadContext } from '../context.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { S as SuggestedMentionList } from '../../chunks/bundle-9-9DQjCI.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { ThreadListStateTypes } from '../context/types.js';\nimport { M as MessageInputKeys } from '../../chunks/bundle-DcNHBjGp.js';\nimport { d as MENU_ROOT_ID, E as EMOJI_MENU_ROOT_ID, g as getObservingId, e as MENU_OBSERVING_CLASS_NAME, C as ContextMenu, b as MenuItems } from '../../chunks/bundle-C7VSBUKJ.js';\nimport { A as Avatar } from '../../chunks/bundle-C76-LA1E.js';\nimport { a as UserProfileContext } from '../../chunks/bundle-BKxPk2t0.js';\nimport UserProfile from '../../ui/UserProfile.js';\nimport { MessageEmojiMenu } from '../../ui/MessageItemReactionMenu.js';\nimport { n as getUIKitMessageTypes, e as getSenderName, w as getClassName, M as isOGMessage, N as isTextMessage, i as isVoiceMessage, m as getUIKitMessageType, c as isMultipleFilesMessage, p as isThumbnailMessage } from '../../chunks/bundle-D-cVbGxk.js';\nimport { M as MessageStatus } from '../../chunks/bundle-j0SR3DhQ.js';\nimport EmojiReactions from '../../ui/EmojiReactions.js';\nimport TextMessageItemBody from '../../ui/TextMessageItemBody.js';\nimport OGMessageItemBody from '../../ui/OGMessageItemBody.js';\nimport FileMessageItemBody from '../../ui/FileMessageItemBody.js';\nimport ThumbnailMessageItemBody from '../../ui/ThumbnailMessageItemBody.js';\nimport UnknownMessageItemBody from '../../ui/UnknownMessageItemBody.js';\nimport { VoiceMessageItemBody } from '../../ui/VoiceMessageItemBody.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../../chunks/bundle-DxDVBm6N.js';\nimport { MobileMenu } from '../../ui/MobileMenu.js';\nimport { u as useThreadMessageKindKeySelector, a as useFileInfoListWithUploaded, M as MultipleFilesMessageItemBody, T as ThreadMessageKind } from '../../chunks/bundle-Bt68jirZ.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport { M as MessageMenu } from '../../chunks/bundle-B6Uh5m2a.js';\nimport { u as useElementObserver } from '../../chunks/bundle-CbMF1uDu.js';\nimport { R as Role } from '../../chunks/bundle-B5vIoHSd.js';\nimport { useDirtyGetMentions } from '../../Message/hooks/useDirtyGetMentions.js';\nimport { g as getIsReactionEnabled } from '../../chunks/bundle-uSSYB2TA.js';\nimport { g as getCaseResolvedReplyType } from '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/chat/groupChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/ReactionButton.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\n\nfunction ThreadListItemContent(_a) {\n    var _this = this;\n    var _b, _c, _d, _e, _f;\n    var className = _a.className, userId = _a.userId, channel = _a.channel, message = _a.message, _g = _a.chainTop, chainTop = _g === void 0 ? false : _g, _h = _a.chainBottom, chainBottom = _h === void 0 ? false : _h, _j = _a.isMentionEnabled, isMentionEnabled = _j === void 0 ? false : _j, _k = _a.isReactionEnabled, isReactionEnabled = _k === void 0 ? false : _k, _l = _a.disableQuoteMessage, disableQuoteMessage = _l === void 0 ? false : _l, replyType = _a.replyType, nicknamesMap = _a.nicknamesMap, emojiContainer = _a.emojiContainer, showEdit = _a.showEdit, showRemove = _a.showRemove, showFileViewer = _a.showFileViewer, resendMessage = _a.resendMessage, toggleReaction = _a.toggleReaction, onReplyInThread = _a.onReplyInThread, _m = _a.renderEmojiMenu, renderEmojiMenu = _m === void 0 ? function (props) { return React__default.createElement(MessageEmojiMenu, __assign({}, props)); } : _m, _o = _a.renderMessageMenu, renderMessageMenu = _o === void 0 ? function (props) { return React__default.createElement(MessageMenu, __assign({}, props)); } : _o;\n    var messageTypes = getUIKitMessageTypes();\n    var isMobile = useMediaQueryContext().isMobile;\n    var dateLocale = useLocalization().dateLocale;\n    var _p = (useSendbirdStateContext === null || useSendbirdStateContext === void 0 ? void 0 : useSendbirdStateContext()) || {}, config = _p.config, eventHandlers = _p.eventHandlers;\n    var logger = config.logger;\n    var onPressUserProfileHandler = (_b = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.reaction) === null || _b === void 0 ? void 0 : _b.onPressUserProfile;\n    var isMenuMounted = useElementObserver(\"#\".concat(getObservingId(message.messageId), \".\").concat(MENU_OBSERVING_CLASS_NAME), [\n        document.getElementById(MENU_ROOT_ID),\n        document.getElementById(EMOJI_MENU_ROOT_ID),\n    ]);\n    var _q = useContext(UserProfileContext), disableUserProfile = _q.disableUserProfile, renderUserProfile = _q.renderUserProfile;\n    var _r = useThreadContext(), deleteMessage = _r.deleteMessage, onBeforeDownloadFileMessage = _r.onBeforeDownloadFileMessage;\n    var avatarRef = useRef(null);\n    var isByMe = (userId === ((_c = message === null || message === void 0 ? void 0 : message.sender) === null || _c === void 0 ? void 0 : _c.userId))\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'pending')\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'failed');\n    var useReplying = !!((replyType === 'QUOTE_REPLY' || replyType === 'THREAD')\n        && (message === null || message === void 0 ? void 0 : message.parentMessageId) && (message === null || message === void 0 ? void 0 : message.parentMessage)\n        && !disableQuoteMessage);\n    var supposedHoverClassName = isMenuMounted ? 'sendbird-mouse-hover' : '';\n    var isReactionEnabledInChannel = isReactionEnabled && !(channel === null || channel === void 0 ? void 0 : channel.isEphemeral);\n    var isOgMessageEnabledInGroupChannel = channel.isGroupChannel() && config.groupChannel.enableOgtag;\n    // Mobile\n    var mobileMenuRef = useRef(null);\n    var _s = useState(false), showMobileMenu = _s[0], setShowMobileMenu = _s[1];\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setShowMobileMenu(true);\n            }\n        },\n    }, {\n        shouldPreventDefault: false,\n    });\n    var threadMessageKindKey = useThreadMessageKindKeySelector({\n        threadMessageKind: ThreadMessageKind.CHILD,\n        isMobile: isMobile,\n    });\n    // For MultipleFilesMessage only.\n    var statefulFileInfoList = useFileInfoListWithUploaded(message);\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content', className, isByMe ? 'outgoing' : 'incoming'), ref: mobileMenuRef },\n        React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content__left', isReactionEnabledInChannel && 'use-reaction', isByMe ? 'outgoing' : 'incoming') },\n            (!isByMe && !chainBottom) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) {\n                    var _a, _b, _c;\n                    return (React__default.createElement(Avatar, { className: \"sendbird-thread-list-item-content__left__avatar\", src: ((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) { var _a; return (member === null || member === void 0 ? void 0 : member.userId) === ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId); })) === null || _b === void 0 ? void 0 : _b.profileUrl) || ((_c = message === null || message === void 0 ? void 0 : message.sender) === null || _c === void 0 ? void 0 : _c.profileUrl) || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                            if (!disableUserProfile) {\n                                toggleDropdown === null || toggleDropdown === void 0 ? void 0 : toggleDropdown();\n                            }\n                        } }));\n                }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? renderUserProfile({\n                        user: message === null || message === void 0 ? void 0 : message.sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    })\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: message === null || message === void 0 ? void 0 : message.sender, onSuccess: closeDropdown })))); } })),\n            (isByMe && !isMobile) && (React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content-menu', isReactionEnabledInChannel && 'use-reaction', isByMe ? 'outgoing' : 'incoming', supposedHoverClassName) },\n                renderMessageMenu({\n                    className: 'sendbird-thread-list-item-content-menu__normal-menu',\n                    channel: channel,\n                    message: message,\n                    isByMe: isByMe,\n                    replyType: replyType,\n                    showEdit: showEdit,\n                    showRemove: showRemove,\n                    resendMessage: resendMessage,\n                    onReplyInThread: onReplyInThread,\n                    deleteMessage: deleteMessage,\n                }),\n                isReactionEnabledInChannel && (React__default.createElement(React__default.Fragment, null, renderEmojiMenu({\n                    className: 'sendbird-thread-list-item-content-menu__reaction-menu',\n                    message: message,\n                    userId: userId,\n                    emojiContainer: emojiContainer,\n                    toggleReaction: toggleReaction,\n                })))))),\n        React__default.createElement(\"div\", __assign({ className: \"sendbird-thread-list-item-content__middle\" }, (isMobile) ? __assign({}, longPress) : {}),\n            (!isByMe && !chainTop && !useReplying) && (React__default.createElement(Label, { className: \"sendbird-thread-list-item-content__middle__sender-name\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, ((_e = (_d = channel === null || channel === void 0 ? void 0 : channel.members) === null || _d === void 0 ? void 0 : _d.find(function (member) { var _a; return (member === null || member === void 0 ? void 0 : member.userId) === ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId); })) === null || _e === void 0 ? void 0 : _e.nickname)\n                || getSenderName(message)\n            // TODO: Divide getting profileUrl logic to utils\n            )),\n            React__default.createElement(\"div\", { className: getClassName(['sendbird-thread-list-item-content__middle__body-container']) },\n                (isByMe && !chainBottom) && (React__default.createElement(\"div\", { className: getClassName(['sendbird-thread-list-item-content__middle__body-container__created-at', 'left', supposedHoverClassName]) },\n                    React__default.createElement(\"div\", { className: \"sendbird-thread-list-item-content__middle__body-container__created-at__component-container\" },\n                        React__default.createElement(MessageStatus, { message: message, channel: channel })))),\n                isOgMessageEnabledInGroupChannel && isOGMessage(message)\n                    ? (React__default.createElement(OGMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, isByMe: isByMe, isMentionEnabled: isMentionEnabled, isReactionEnabled: isReactionEnabledInChannel, isMarkdownEnabled: config.groupChannel.enableMarkdownForUserMessage })) : isTextMessage(message) && (React__default.createElement(TextMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, isByMe: isByMe, isMentionEnabled: isMentionEnabled, isReactionEnabled: isReactionEnabledInChannel, isMarkdownEnabled: config.groupChannel.enableMarkdownForUserMessage })),\n                isVoiceMessage(message) && (React__default.createElement(VoiceMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, channelUrl: channel === null || channel === void 0 ? void 0 : channel.url, isByMe: isByMe, isReactionEnabled: isReactionEnabledInChannel })),\n                (getUIKitMessageType(message) === messageTypes.FILE) && (React__default.createElement(FileMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, isByMe: isByMe, isReactionEnabled: isReactionEnabledInChannel, truncateLimit: isByMe ? 18 : 14, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })),\n                isMultipleFilesMessage(message) && (React__default.createElement(MultipleFilesMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, isByMe: isByMe, isReactionEnabled: isReactionEnabled, threadMessageKindKey: threadMessageKindKey, statefulFileInfoList: statefulFileInfoList })),\n                (isThumbnailMessage(message)) && (React__default.createElement(ThumbnailMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, isByMe: isByMe, isReactionEnabled: isReactionEnabledInChannel, showFileViewer: showFileViewer, style: {\n                        width: isMobile ? '100%' : '200px',\n                        height: '148px',\n                    } })),\n                (getUIKitMessageType(message) === messageTypes.UNKNOWN) && (React__default.createElement(UnknownMessageItemBody, { className: \"sendbird-thread-list-item-content__middle__message-item-body\", message: message, isByMe: isByMe, isReactionEnabled: isReactionEnabledInChannel })),\n                (isReactionEnabledInChannel && ((_f = message === null || message === void 0 ? void 0 : message.reactions) === null || _f === void 0 ? void 0 : _f.length) > 0) && (React__default.createElement(\"div\", { className: getClassName([\n                        'sendbird-thread-list-item-content-reactions',\n                        (!isByMe\n                            || isThumbnailMessage(message)\n                            || (isOgMessageEnabledInGroupChannel && isOGMessage(message))\n                            || isMultipleFilesMessage(message)) ? '' : 'primary',\n                    ]) },\n                    React__default.createElement(EmojiReactions, { userId: userId, message: message, channel: channel, isByMe: isByMe, emojiContainer: emojiContainer, memberNicknamesMap: nicknamesMap, toggleReaction: toggleReaction, onPressUserProfile: onPressUserProfileHandler }))),\n                (!isByMe && !chainBottom) && (React__default.createElement(Label, { className: getClassName(['sendbird-thread-list-item-content__middle__body-container__created-at', 'right', supposedHoverClassName]), type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, format((message === null || message === void 0 ? void 0 : message.createdAt) || 0, 'p', {\n                    locale: dateLocale,\n                }))))),\n        React__default.createElement(\"div\", { className: classnames('sendbird-thread-list-item-content__right', chainTop && 'chain-top', isByMe ? 'outgoing' : 'incoming') }, (!isByMe && !isMobile) && (React__default.createElement(\"div\", { className: \"sendbird-thread-list-item-content-menu \".concat(supposedHoverClassName) },\n            isReactionEnabledInChannel && (renderEmojiMenu({\n                className: 'sendbird-thread-list-item-content-menu__reaction-menu',\n                message: message,\n                userId: userId,\n                emojiContainer: emojiContainer,\n                toggleReaction: toggleReaction,\n            })),\n            renderMessageMenu({\n                className: 'sendbird-thread-list-item-content-menu__normal-menu',\n                channel: channel,\n                message: message,\n                isByMe: isByMe,\n                replyType: replyType,\n                showRemove: showRemove,\n                resendMessage: resendMessage,\n                onReplyInThread: onReplyInThread,\n                deleteMessage: deleteMessage,\n            })))),\n        showMobileMenu && (React__default.createElement(MobileMenu, { parentRef: mobileMenuRef, channel: channel, message: message, userId: userId, replyType: replyType, hideMenu: function () {\n                setShowMobileMenu(false);\n            }, isReactionEnabled: isReactionEnabled, isByMe: isByMe, emojiContainer: emojiContainer, showEdit: showEdit, showRemove: showRemove, toggleReaction: toggleReaction, isOpenedFromThread: true, deleteMessage: deleteMessage, onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage)\n                                return [2 /*return*/];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ThreadListItemContent: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ThreadListItemContent: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); } }))));\n}\n\nfunction ThreadListItem(_a) {\n    var _this = this;\n    var _b, _c, _d, _e;\n    var className = _a.className, message = _a.message, chainTop = _a.chainTop, chainBottom = _a.chainBottom, hasSeparator = _a.hasSeparator, renderCustomSeparator = _a.renderCustomSeparator, handleScroll = _a.handleScroll, renderEmojiMenu = _a.renderEmojiMenu, renderMessageMenu = _a.renderMessageMenu;\n    var _f = useSendbirdStateContext(), stores = _f.stores, config = _f.config;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var userId = (_c = (_b = stores === null || stores === void 0 ? void 0 : stores.userStore) === null || _b === void 0 ? void 0 : _b.user) === null || _c === void 0 ? void 0 : _c.userId;\n    var _g = useLocalization(), dateLocale = _g.dateLocale, stringSet = _g.stringSet;\n    var threadContext = useThreadContext === null || useThreadContext === void 0 ? void 0 : useThreadContext();\n    var currentChannel = threadContext.currentChannel, nicknamesMap = threadContext.nicknamesMap, emojiContainer = threadContext.emojiContainer, toggleReaction = threadContext.toggleReaction, threadListState = threadContext.threadListState, updateMessage = threadContext.updateMessage, resendMessage = threadContext.resendMessage, deleteMessage = threadContext.deleteMessage, isMuted = threadContext.isMuted, isChannelFrozen = threadContext.isChannelFrozen, onBeforeDownloadFileMessage = threadContext.onBeforeDownloadFileMessage;\n    var openingMessage = threadContext === null || threadContext === void 0 ? void 0 : threadContext.message;\n    var _h = useState(false), showEdit = _h[0], setShowEdit = _h[1];\n    var _j = useState(false), showRemove = _j[0], setShowRemove = _j[1];\n    var _k = useState(false), showFileViewer = _k[0], setShowFileViewer = _k[1];\n    var isReactionEnabled = getIsReactionEnabled({\n        channel: currentChannel,\n        config: config,\n    });\n    var isMentionEnabled = groupChannel.enableMention;\n    var replyType = getCaseResolvedReplyType(groupChannel.replyType).upperCase;\n    // Move to message\n    var messageScrollRef = useRef(null);\n    useLayoutEffect(function () {\n        var _a;\n        if ((openingMessage === null || openingMessage === void 0 ? void 0 : openingMessage.messageId) === (message === null || message === void 0 ? void 0 : message.messageId) && (messageScrollRef === null || messageScrollRef === void 0 ? void 0 : messageScrollRef.current)) {\n            (_a = messageScrollRef.current) === null || _a === void 0 ? void 0 : _a.scrollIntoView({ block: 'center', inline: 'center' });\n        }\n    }, [openingMessage, messageScrollRef === null || messageScrollRef === void 0 ? void 0 : messageScrollRef.current]);\n    // reactions\n    useLayoutEffect(function () {\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll();\n    }, [showEdit, (_d = message === null || message === void 0 ? void 0 : message.reactions) === null || _d === void 0 ? void 0 : _d.length]);\n    // mention\n    var editMessageInputRef = useRef(null);\n    var _l = useState(''), mentionNickname = _l[0], setMentionNickname = _l[1];\n    var _m = useState([]), mentionedUsers = _m[0], setMentionedUsers = _m[1];\n    var _o = useState([]), mentionedUserIds = _o[0], setMentionedUserIds = _o[1];\n    var _p = useState(null), messageInputEvent = _p[0], setMessageInputEvent = _p[1];\n    var _q = useState(null), selectedUser = _q[0], setSelectedUser = _q[1];\n    var _r = useState([]), mentionSuggestedUsers = _r[0], setMentionSuggestedUsers = _r[1];\n    var displaySuggestedMentionList = isOnline\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isMuted\n        && !(isChannelFrozen && !(currentChannel.myRole === Role.OPERATOR));\n    var mentionNodes = useDirtyGetMentions({ ref: editMessageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    // edit input\n    var disabled = !(threadListState === ThreadListStateTypes.INITIALIZED)\n        || !isOnline\n        || isMuted\n        || isChannelFrozen;\n    // memorize\n    var MemorizedSeparator = useMemo(function () {\n        if (typeof renderCustomSeparator === 'function') {\n            return renderCustomSeparator === null || renderCustomSeparator === void 0 ? void 0 : renderCustomSeparator({ message: message });\n        }\n    }, [message, renderCustomSeparator]);\n    // Edit message\n    if (showEdit && message.isUserMessage()) {\n        return (React__default.createElement(React__default.Fragment, null,\n            displaySuggestedMentionList && (React__default.createElement(SuggestedMentionList, { targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, \n                // renderUserMentionItem={renderUserMentionItem}\n                onUserItemClick: function (user) {\n                    if (user) {\n                        setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                    }\n                    setMentionNickname('');\n                    setSelectedUser(user);\n                    setMessageInputEvent(null);\n                }, onFocusItemChange: function () {\n                    setMessageInputEvent(null);\n                }, onFetchUsers: function (users) {\n                    setMentionSuggestedUsers(users);\n                }, ableAddMention: ableMention, maxMentionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount, maxSuggestionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount })),\n            React__default.createElement(MessageInput, { isEdit: true, channel: currentChannel, disabled: disabled, ref: editMessageInputRef, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, message: message, onStartTyping: function () {\n                    var _a;\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUpdateMessage: function (_a) {\n                    var _b;\n                    var messageId = _a.messageId, message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    updateMessage({\n                        messageId: messageId,\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionTemplate: mentionTemplate,\n                    });\n                    setShowEdit(false);\n                    (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n                }, onCancelEdit: function () {\n                    var _a;\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    setMentionedUserIds([]);\n                    setMentionSuggestedUsers([]);\n                    setShowEdit(false);\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } })));\n    }\n    return (React__default.createElement(\"div\", { ref: messageScrollRef, className: classnames('sendbird-thread-list-item', className), \"data-testid\": \"sendbird-thread-list-item\" },\n        hasSeparator && (message === null || message === void 0 ? void 0 : message.createdAt) && (MemorizedSeparator || (React__default.createElement(DateSeparator, null,\n            React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, format(message === null || message === void 0 ? void 0 : message.createdAt, stringSet.DATE_FORMAT__THREAD_LIST__DATE_SEPARATOR, { locale: dateLocale }))))),\n        React__default.createElement(ThreadListItemContent, { userId: userId, channel: currentChannel, message: message, chainTop: chainTop, chainBottom: chainBottom, isReactionEnabled: isReactionEnabled, isMentionEnabled: isMentionEnabled, disableQuoteMessage: true, replyType: replyType, nicknamesMap: nicknamesMap, emojiContainer: emojiContainer, resendMessage: resendMessage, showRemove: setShowRemove, showFileViewer: setShowFileViewer, toggleReaction: toggleReaction, showEdit: setShowEdit, renderEmojiMenu: renderEmojiMenu, renderMessageMenu: renderMessageMenu }),\n        showRemove && (React__default.createElement(RemoveMessage, { message: message, onCancel: function () { return setShowRemove(false); } })),\n        showFileViewer && (React__default.createElement(FileViewer, { message: message, isByMe: ((_e = message === null || message === void 0 ? void 0 : message.sender) === null || _e === void 0 ? void 0 : _e.userId) === userId, onClose: function () { return setShowFileViewer(false); }, onDelete: function () {\n                deleteMessage(message);\n                setShowFileViewer(false);\n            }, onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage)\n                                return [2 /*return*/];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'ThreadListItem: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'ThreadListItem: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); } }))));\n}\n\nexport { ThreadListItem as default };\n//# sourceMappingURL=ThreadListItem.js.map\n", "function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };", "export default function toInteger(dirtyNumber) {\n  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n    return NaN;\n  }\n  var number = Number(dirtyNumber);\n  if (isNaN(number)) {\n    return number;\n  }\n  return number < 0 ? Math.ceil(number) : Math.floor(number);\n}", "export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument);\n\n  // Clone the date\n  if (argument instanceof Date || _typeof(argument) === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments\");\n      // eslint-disable-next-line no-console\n      console.warn(new Error().stack);\n    }\n    return new Date(NaN);\n  }\n}", "var defaultOptions = {};\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}", "/**\n * Days in 1 week.\n *\n * @name daysInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInWeek = 7;\n\n/**\n * Days in 1 year\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occures every 4 years, except for years that are divisable by 100 and not divisable by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n *\n * @name daysInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var daysInYear = 365.2425;\n\n/**\n * Maximum allowed time.\n *\n * @name maxTime\n * @constant\n * @type {number}\n * @default\n */\nexport var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * Milliseconds in 1 minute\n *\n * @name millisecondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInMinute = 60000;\n\n/**\n * Milliseconds in 1 hour\n *\n * @name millisecondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInHour = 3600000;\n\n/**\n * Milliseconds in 1 second\n *\n * @name millisecondsInSecond\n * @constant\n * @type {number}\n * @default\n */\nexport var millisecondsInSecond = 1000;\n\n/**\n * Minimum allowed time.\n *\n * @name minTime\n * @constant\n * @type {number}\n * @default\n */\nexport var minTime = -maxTime;\n\n/**\n * Minutes in 1 hour\n *\n * @name minutesInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var minutesInHour = 60;\n\n/**\n * Months in 1 quarter\n *\n * @name monthsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInQuarter = 3;\n\n/**\n * Months in 1 year\n *\n * @name monthsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var monthsInYear = 12;\n\n/**\n * Quarters in 1 year\n *\n * @name quartersInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var quartersInYear = 4;\n\n/**\n * Seconds in 1 hour\n *\n * @name secondsInHour\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInHour = 3600;\n\n/**\n * Seconds in 1 minute\n *\n * @name secondsInMinute\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMinute = 60;\n\n/**\n * Seconds in 1 day\n *\n * @name secondsInDay\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInDay = secondsInHour * 24;\n\n/**\n * Seconds in 1 week\n *\n * @name secondsInWeek\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInWeek = secondsInDay * 7;\n\n/**\n * Seconds in 1 year\n *\n * @name secondsInYear\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInYear = secondsInDay * daysInYear;\n\n/**\n * Seconds in 1 month\n *\n * @name secondsInMonth\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInMonth = secondsInYear / 12;\n\n/**\n * Seconds in 1 quarter\n *\n * @name secondsInQuarter\n * @constant\n * @type {number}\n * @default\n */\nexport var secondsInQuarter = secondsInMonth * 3;", "import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day (and year and month)\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nexport default function getUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var fourthOfJanuaryOfNextYear = new Date(0);\n  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);\n  var fourthOfJanuaryOfThisYear = new Date(0);\n  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCISOWeekYear from \"../getUTCISOWeekYear/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function startOfUTCISOWeekYear(dirtyDate) {\n  requiredArgs(1, arguments);\n  var year = getUTCISOWeekYear(dirtyDate);\n  var fourthOfJanuary = new Date(0);\n  fourthOfJanuary.setUTCFullYear(year, 0, 4);\n  fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCISOWeek(fourthOfJanuary);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCISOWeek from \"../startOfUTCISOWeek/index.js\";\nimport startOfUTCISOWeekYear from \"../startOfUTCISOWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCISOWeek(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeek(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = date.getUTCDay();\n  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n  date.setUTCDate(date.getUTCDate() - diff);\n  date.setUTCHours(0, 0, 0, 0);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function getUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var year = date.getUTCFullYear();\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n\n  // Test if weekStartsOn is between 1 and 7 _and_ is not NaN\n  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n    throw new RangeError('firstWeekContainsDate must be between 1 and 7 inclusively');\n  }\n  var firstWeekOfNextYear = new Date(0);\n  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);\n  var firstWeekOfThisYear = new Date(0);\n  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);\n  if (date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}", "import getUTCWeekYear from \"../getUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function startOfUTCWeekYear(dirtyDate, options) {\n  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(1, arguments);\n  var defaultOptions = getDefaultOptions();\n  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);\n  var year = getUTCWeekYear(dirtyDate, options);\n  var firstWeek = new Date(0);\n  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setUTCHours(0, 0, 0, 0);\n  var date = startOfUTCWeek(firstWeek, options);\n  return date;\n}", "import toDate from \"../../toDate/index.js\";\nimport startOfUTCWeek from \"../startOfUTCWeek/index.js\";\nimport startOfUTCWeekYear from \"../startOfUTCWeekYear/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nvar MILLISECONDS_IN_WEEK = 604800000;\nexport default function getUTCWeek(dirtyDate, options) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();\n\n  // Round the number of days to the nearest integer\n  // because the number of milliseconds in a week is not constant\n  // (e.g. it's different in the week of the daylight saving time clock shift)\n  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n}", "export default function buildFormatLongFn(args) {\n  return function () {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // TODO: Remove String()\n    var width = options.width ? String(options.width) : args.defaultWidth;\n    var format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}", "import buildFormatLongFn from \"../../../_lib/buildFormatLongFn/index.js\";\nvar dateFormats = {\n  full: 'EEEE, MMMM do, y',\n  long: 'MMMM do, y',\n  medium: 'MMM d, y',\n  short: 'MM/dd/yyyy'\n};\nvar timeFormats = {\n  full: 'h:mm:ss a zzzz',\n  long: 'h:mm:ss a z',\n  medium: 'h:mm:ss a',\n  short: 'h:mm a'\n};\nvar dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: '{{date}}, {{time}}',\n  short: '{{date}}, {{time}}'\n};\nvar formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: 'full'\n  }),\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: 'full'\n  }),\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: 'full'\n  })\n};\nexport default formatLong;", "export default function buildLocalizeFn(args) {\n  return function (dirtyIndex, options) {\n    var context = options !== null && options !== void 0 && options.context ? String(options.context) : 'standalone';\n    var valuesArray;\n    if (context === 'formatting' && args.formattingValues) {\n      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;\n      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      var _defaultWidth = args.defaultWidth;\n      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;\n      valuesArray = args.values[_width] || args.values[_defaultWidth];\n    }\n    var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n    // @ts-ignore: For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}", "import buildLocalizeFn from \"../../../_lib/buildLocalizeFn/index.js\";\nvar eraValues = {\n  narrow: ['B', 'A'],\n  abbreviated: ['BC', 'AD'],\n  wide: ['Before Christ', 'Anno Domini']\n};\nvar quarterValues = {\n  narrow: ['1', '2', '3', '4'],\n  abbreviated: ['Q1', 'Q2', 'Q3', 'Q4'],\n  wide: ['1st quarter', '2nd quarter', '3rd quarter', '4th quarter']\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nvar monthValues = {\n  narrow: ['J', 'F', 'M', 'A', 'M', 'J', 'J', 'A', 'S', 'O', 'N', 'D'],\n  abbreviated: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  wide: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n};\nvar dayValues = {\n  narrow: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  short: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],\n  abbreviated: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n  wide: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n};\nvar dayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'morning',\n    afternoon: 'afternoon',\n    evening: 'evening',\n    night: 'night'\n  }\n};\nvar formattingDayPeriodValues = {\n  narrow: {\n    am: 'a',\n    pm: 'p',\n    midnight: 'mi',\n    noon: 'n',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  abbreviated: {\n    am: 'AM',\n    pm: 'PM',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  },\n  wide: {\n    am: 'a.m.',\n    pm: 'p.m.',\n    midnight: 'midnight',\n    noon: 'noon',\n    morning: 'in the morning',\n    afternoon: 'in the afternoon',\n    evening: 'in the evening',\n    night: 'at night'\n  }\n};\nvar ordinalNumber = function ordinalNumber(dirtyNumber, _options) {\n  var number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  var rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + 'st';\n      case 2:\n        return number + 'nd';\n      case 3:\n        return number + 'rd';\n    }\n  }\n  return number + 'th';\n};\nvar localize = {\n  ordinalNumber: ordinalNumber,\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: 'wide'\n  }),\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: 'wide',\n    argumentCallback: function argumentCallback(quarter) {\n      return quarter - 1;\n    }\n  }),\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: 'wide'\n  }),\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: 'wide'\n  }),\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: 'wide',\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: 'wide'\n  })\n};\nexport default localize;", "export default function buildMatchFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var width = options.width;\n    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n    var matchResult = string.match(matchPattern);\n    if (!matchResult) {\n      return null;\n    }\n    var matchedString = matchResult[0];\n    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    }) : findKey(parsePatterns, function (pattern) {\n      return pattern.test(matchedString);\n    });\n    var value;\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}\nfunction findKey(object, predicate) {\n  for (var key in object) {\n    if (object.hasOwnProperty(key) && predicate(object[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\nfunction findIndex(array, predicate) {\n  for (var key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}", "export default function buildMatchPatternFn(args) {\n  return function (string) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    var matchedString = matchResult[0];\n    var parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n    value = options.valueCallback ? options.valueCallback(value) : value;\n    var rest = string.slice(matchedString.length);\n    return {\n      value: value,\n      rest: rest\n    };\n  };\n}", "import buildMatchFn from \"../../../_lib/buildMatchFn/index.js\";\nimport buildMatchPatternFn from \"../../../_lib/buildMatchPatternFn/index.js\";\nvar matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nvar parseOrdinalNumberPattern = /\\d+/i;\nvar matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i\n};\nvar parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i]\n};\nvar matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i\n};\nvar parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i]\n};\nvar matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n};\nvar parseMonthPatterns = {\n  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n};\nvar matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n};\nvar parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n};\nvar matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n};\nvar parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i\n  }\n};\nvar match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: function valueCallback(value) {\n      return parseInt(value, 10);\n    }\n  }),\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: 'any'\n  }),\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: 'any',\n    valueCallback: function valueCallback(index) {\n      return index + 1;\n    }\n  }),\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: 'any'\n  }),\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: 'wide',\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: 'any'\n  }),\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: 'any',\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: 'any'\n  })\n};\nexport default match;", "import { getDefaultOptions } from \"../_lib/defaultOptions/index.js\";\nimport getTimezoneOffsetInMilliseconds from \"../_lib/getTimezoneOffsetInMilliseconds/index.js\";\nimport compareAsc from \"../compareAsc/index.js\";\nimport toDate from \"../toDate/index.js\";\nimport cloneObject from \"../_lib/cloneObject/index.js\";\nimport assign from \"../_lib/assign/index.js\";\nimport defaultLocale from \"../_lib/defaultLocale/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_MINUTE = 1000 * 60;\nvar MINUTES_IN_DAY = 60 * 24;\nvar MINUTES_IN_MONTH = MINUTES_IN_DAY * 30;\nvar MINUTES_IN_YEAR = MINUTES_IN_DAY * 365;\n\n/**\n * @name formatDistanceStrict\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words, using strict units.\n * This is like `formatDistance`, but does not use helpers like 'almost', 'over',\n * 'less than' and the like.\n *\n * | Distance between dates | Result              |\n * |------------------------|---------------------|\n * | 0 ... 59 secs          | [0..59] seconds     |\n * | 1 ... 59 mins          | [1..59] minutes     |\n * | 1 ... 23 hrs           | [1..23] hours       |\n * | 1 ... 29 days          | [1..29] days        |\n * | 1 ... 11 months        | [1..11] months      |\n * | 1 ... N years          | [1..N]  years       |\n *\n * @param {Date|Number} date - the date\n * @param {Date|Number} baseDate - the date to compare with\n * @param {Object} [options] - an object with options.\n * @param {Boolean} [options.addSuffix=false] - result indicates if the second date is earlier or later than the first\n * @param {'second'|'minute'|'hour'|'day'|'month'|'year'} [options.unit] - if specified, will force a unit\n * @param {'floor'|'ceil'|'round'} [options.roundingMethod='round'] - which way to round partial units\n * @param {Locale} [options.locale=defaultLocale] - the locale object. See [Locale]{@link https://date-fns.org/docs/Locale}\n * @returns {String} the distance in words\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} `date` must not be Invalid Date\n * @throws {RangeError} `baseDate` must not be Invalid Date\n * @throws {RangeError} `options.roundingMethod` must be 'floor', 'ceil' or 'round'\n * @throws {RangeError} `options.unit` must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\n * @throws {RangeError} `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistanceStrict(new Date(2014, 6, 2), new Date(2015, 0, 2))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00?\n * const result = formatDistanceStrict(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0)\n * )\n * //=> '15 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistanceStrict(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> '1 year ago'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, in minutes?\n * const result = formatDistanceStrict(new Date(2016, 0, 1), new Date(2015, 0, 1), {\n *   unit: 'minute'\n * })\n * //=> '525600 minutes'\n *\n * @example\n * // What is the distance from 1 January 2015\n * // to 28 January 2015, in months, rounded up?\n * const result = formatDistanceStrict(new Date(2015, 0, 28), new Date(2015, 0, 1), {\n *   unit: 'month',\n *   roundingMethod: 'ceil'\n * })\n * //=> '1 month'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistanceStrict(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> '1 jaro'\n */\n\nexport default function formatDistanceStrict(dirtyDate, dirtyBaseDate, options) {\n  var _ref, _options$locale, _options$roundingMeth;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var locale = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions.locale) !== null && _ref !== void 0 ? _ref : defaultLocale;\n  if (!locale.formatDistance) {\n    throw new RangeError('locale must contain localize.formatDistance property');\n  }\n  var comparison = compareAsc(dirtyDate, dirtyBaseDate);\n  if (isNaN(comparison)) {\n    throw new RangeError('Invalid time value');\n  }\n  var localizeOptions = assign(cloneObject(options), {\n    addSuffix: Boolean(options === null || options === void 0 ? void 0 : options.addSuffix),\n    comparison: comparison\n  });\n  var dateLeft;\n  var dateRight;\n  if (comparison > 0) {\n    dateLeft = toDate(dirtyBaseDate);\n    dateRight = toDate(dirtyDate);\n  } else {\n    dateLeft = toDate(dirtyDate);\n    dateRight = toDate(dirtyBaseDate);\n  }\n  var roundingMethod = String((_options$roundingMeth = options === null || options === void 0 ? void 0 : options.roundingMethod) !== null && _options$roundingMeth !== void 0 ? _options$roundingMeth : 'round');\n  var roundingMethodFn;\n  if (roundingMethod === 'floor') {\n    roundingMethodFn = Math.floor;\n  } else if (roundingMethod === 'ceil') {\n    roundingMethodFn = Math.ceil;\n  } else if (roundingMethod === 'round') {\n    roundingMethodFn = Math.round;\n  } else {\n    throw new RangeError(\"roundingMethod must be 'floor', 'ceil' or 'round'\");\n  }\n  var milliseconds = dateRight.getTime() - dateLeft.getTime();\n  var minutes = milliseconds / MILLISECONDS_IN_MINUTE;\n  var timezoneOffset = getTimezoneOffsetInMilliseconds(dateRight) - getTimezoneOffsetInMilliseconds(dateLeft);\n\n  // Use DST-normalized difference in minutes for years, months and days;\n  // use regular difference in minutes for hours, minutes and seconds.\n  var dstNormalizedMinutes = (milliseconds - timezoneOffset) / MILLISECONDS_IN_MINUTE;\n  var defaultUnit = options === null || options === void 0 ? void 0 : options.unit;\n  var unit;\n  if (!defaultUnit) {\n    if (minutes < 1) {\n      unit = 'second';\n    } else if (minutes < 60) {\n      unit = 'minute';\n    } else if (minutes < MINUTES_IN_DAY) {\n      unit = 'hour';\n    } else if (dstNormalizedMinutes < MINUTES_IN_MONTH) {\n      unit = 'day';\n    } else if (dstNormalizedMinutes < MINUTES_IN_YEAR) {\n      unit = 'month';\n    } else {\n      unit = 'year';\n    }\n  } else {\n    unit = String(defaultUnit);\n  }\n\n  // 0 up to 60 seconds\n  if (unit === 'second') {\n    var seconds = roundingMethodFn(milliseconds / 1000);\n    return locale.formatDistance('xSeconds', seconds, localizeOptions);\n\n    // 1 up to 60 mins\n  } else if (unit === 'minute') {\n    var roundedMinutes = roundingMethodFn(minutes);\n    return locale.formatDistance('xMinutes', roundedMinutes, localizeOptions);\n\n    // 1 up to 24 hours\n  } else if (unit === 'hour') {\n    var hours = roundingMethodFn(minutes / 60);\n    return locale.formatDistance('xHours', hours, localizeOptions);\n\n    // 1 up to 30 days\n  } else if (unit === 'day') {\n    var days = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_DAY);\n    return locale.formatDistance('xDays', days, localizeOptions);\n\n    // 1 up to 12 months\n  } else if (unit === 'month') {\n    var months = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_MONTH);\n    return months === 12 && defaultUnit !== 'month' ? locale.formatDistance('xYears', 1, localizeOptions) : locale.formatDistance('xMonths', months, localizeOptions);\n\n    // 1 year up to max Date\n  } else if (unit === 'year') {\n    var years = roundingMethodFn(dstNormalizedMinutes / MINUTES_IN_YEAR);\n    return locale.formatDistance('xYears', years, localizeOptions);\n  }\n  throw new RangeError(\"unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'\");\n}", "import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_DAY = 24 * 60 * 60 * 1000;\n\n/**\n * @name getOverlappingDaysInIntervals\n * @category Interval Helpers\n * @summary Get the number of days that overlap in two time intervals\n *\n * @description\n * Get the number of days that overlap in two time intervals\n *\n * @param {Interval} intervalLeft - the first interval to compare. See [Interval]{@link docs/Interval}\n * @param {Interval} intervalRight - the second interval to compare. See [Interval]{@link docs/Interval}\n * @returns {Number} the number of days that overlap in two time intervals\n * @throws {TypeError} 2 arguments required\n * @throws {RangeError} The start of an interval cannot be after its end\n * @throws {RangeError} Date in interval cannot be `Invalid Date`\n *\n * @example\n * // For overlapping time intervals adds 1 for each started overlapping day:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 17), end: new Date(2014, 0, 21) }\n * )\n * //=> 3\n *\n * @example\n * // For non-overlapping time intervals returns 0:\n * getOverlappingDaysInIntervals(\n *   { start: new Date(2014, 0, 10), end: new Date(2014, 0, 20) },\n *   { start: new Date(2014, 0, 21), end: new Date(2014, 0, 22) }\n * )\n * //=> 0\n */\n\nexport default function getOverlappingDaysInIntervals(dirtyIntervalLeft, dirtyIntervalRight) {\n  requiredArgs(2, arguments);\n  var intervalLeft = dirtyIntervalLeft || {};\n  var intervalRight = dirtyIntervalRight || {};\n  var leftStartTime = toDate(intervalLeft.start).getTime();\n  var leftEndTime = toDate(intervalLeft.end).getTime();\n  var rightStartTime = toDate(intervalRight.start).getTime();\n  var rightEndTime = toDate(intervalRight.end).getTime();\n\n  // Throw an exception if start date is after end date or if any date is `Invalid Date`\n  if (!(leftStartTime <= leftEndTime && rightStartTime <= rightEndTime)) {\n    throw new RangeError('Invalid interval');\n  }\n  var isOverlapping = leftStartTime < rightEndTime && rightStartTime < leftEndTime;\n  if (!isOverlapping) {\n    return 0;\n  }\n  var overlapStartDate = rightStartTime < leftStartTime ? leftStartTime : rightStartTime;\n  var overlapEndDate = rightEndTime > leftEndTime ? leftEndTime : rightEndTime;\n  var differenceInMs = overlapEndDate - overlapStartDate;\n  return Math.ceil(differenceInMs / MILLISECONDS_IN_DAY);\n}", "function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };", "function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };", "import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };", "function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };", "function _isNativeReflectConstruct() {\n  try {\n    var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n  } catch (t) {}\n  return (_isNativeReflectConstruct = function _isNativeReflectConstruct() {\n    return !!t;\n  })();\n}\nexport { _isNativeReflectConstruct as default };", "import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };", "import getPrototypeOf from \"./getPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn.js\";\nfunction _createSuper(t) {\n  var r = isNativeReflectConstruct();\n  return function () {\n    var e,\n      o = getPrototypeOf(t);\n    if (r) {\n      var s = getPrototypeOf(this).constructor;\n      e = Reflect.construct(o, arguments, s);\n    } else e = o.apply(this, arguments);\n    return possibleConstructorReturn(this, e);\n  };\n}\nexport { _createSuper as default };", "function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };", "import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };", "import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };", "import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };", "import _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar TIMEZONE_UNIT_PRIORITY = 10;\nexport var Setter = /*#__PURE__*/function () {\n  function Setter() {\n    _classCallCheck(this, Setter);\n    _defineProperty(this, \"priority\", void 0);\n    _defineProperty(this, \"subPriority\", 0);\n  }\n  _createClass(Setter, [{\n    key: \"validate\",\n    value: function validate(_utcDate, _options) {\n      return true;\n    }\n  }]);\n  return Setter;\n}();\nexport var ValueSetter = /*#__PURE__*/function (_Setter) {\n  _inherits(ValueSetter, _Setter);\n  var _super = _createSuper(ValueSetter);\n  function ValueSetter(value, validateValue, setValue, priority, subPriority) {\n    var _this;\n    _classCallCheck(this, ValueSetter);\n    _this = _super.call(this);\n    _this.value = value;\n    _this.validateValue = validateValue;\n    _this.setValue = setValue;\n    _this.priority = priority;\n    if (subPriority) {\n      _this.subPriority = subPriority;\n    }\n    return _this;\n  }\n  _createClass(ValueSetter, [{\n    key: \"validate\",\n    value: function validate(utcDate, options) {\n      return this.validateValue(utcDate, this.value, options);\n    }\n  }, {\n    key: \"set\",\n    value: function set(utcDate, flags, options) {\n      return this.setValue(utcDate, flags, this.value, options);\n    }\n  }]);\n  return ValueSetter;\n}(Setter);\nexport var DateToSystemTimezoneSetter = /*#__PURE__*/function (_Setter2) {\n  _inherits(DateToSystemTimezoneSetter, _Setter2);\n  var _super2 = _createSuper(DateToSystemTimezoneSetter);\n  function DateToSystemTimezoneSetter() {\n    var _this2;\n    _classCallCheck(this, DateToSystemTimezoneSetter);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this2 = _super2.call.apply(_super2, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this2), \"priority\", TIMEZONE_UNIT_PRIORITY);\n    _defineProperty(_assertThisInitialized(_this2), \"subPriority\", -1);\n    return _this2;\n  }\n  _createClass(DateToSystemTimezoneSetter, [{\n    key: \"set\",\n    value: function set(date, flags) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      var convertedDate = new Date(0);\n      convertedDate.setFullYear(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate());\n      convertedDate.setHours(date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\n      return convertedDate;\n    }\n  }]);\n  return DateToSystemTimezoneSetter;\n}(Setter);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { ValueSetter } from \"./Setter.js\";\nexport var Parser = /*#__PURE__*/function () {\n  function Parser() {\n    _classCallCheck(this, Parser);\n    _defineProperty(this, \"incompatibleTokens\", void 0);\n    _defineProperty(this, \"priority\", void 0);\n    _defineProperty(this, \"subPriority\", void 0);\n  }\n  _createClass(Parser, [{\n    key: \"run\",\n    value: function run(dateString, token, match, options) {\n      var result = this.parse(dateString, token, match, options);\n      if (!result) {\n        return null;\n      }\n      return {\n        setter: new ValueSetter(result.value, this.validate, this.set, this.priority, this.subPriority),\n        rest: result.rest\n      };\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_utcDate, _value, _options) {\n      return true;\n    }\n  }]);\n  return Parser;\n}();", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nexport var EraParser = /*#__PURE__*/function (_Parser) {\n  _inherits(EraParser, _Parser);\n  var _super = _createSuper(EraParser);\n  function EraParser() {\n    var _this;\n    _classCallCheck(this, EraParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 140);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['R', 'u', 't', 'T']);\n    return _this;\n  }\n  _createClass(EraParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // AD, BC\n        case 'G':\n        case 'GG':\n        case 'GGG':\n          return match.era(dateString, {\n            width: 'abbreviated'\n          }) || match.era(dateString, {\n            width: 'narrow'\n          });\n        // A, B\n        case 'GGGGG':\n          return match.era(dateString, {\n            width: 'narrow'\n          });\n        // Anno Domini, Before Christ\n        case 'GGGG':\n        default:\n          return match.era(dateString, {\n            width: 'wide'\n          }) || match.era(dateString, {\n            width: 'abbreviated'\n          }) || match.era(dateString, {\n            width: 'narrow'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      flags.era = value;\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return EraParser;\n}(Parser);", "export var numericPatterns = {\n  month: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  date: /^(3[0-1]|[0-2]?\\d)/,\n  // 0 to 31\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/,\n  // 0 to 366\n  week: /^(5[0-3]|[0-4]?\\d)/,\n  // 0 to 53\n  hour23h: /^(2[0-3]|[0-1]?\\d)/,\n  // 0 to 23\n  hour24h: /^(2[0-4]|[0-1]?\\d)/,\n  // 0 to 24\n  hour11h: /^(1[0-1]|0?\\d)/,\n  // 0 to 11\n  hour12h: /^(1[0-2]|0?\\d)/,\n  // 0 to 12\n  minute: /^[0-5]?\\d/,\n  // 0 to 59\n  second: /^[0-5]?\\d/,\n  // 0 to 59\n\n  singleDigit: /^\\d/,\n  // 0 to 9\n  twoDigits: /^\\d{1,2}/,\n  // 0 to 99\n  threeDigits: /^\\d{1,3}/,\n  // 0 to 999\n  fourDigits: /^\\d{1,4}/,\n  // 0 to 9999\n\n  anyDigitsSigned: /^-?\\d+/,\n  singleDigitSigned: /^-?\\d/,\n  // 0 to 9, -0 to -9\n  twoDigitsSigned: /^-?\\d{1,2}/,\n  // 0 to 99, -0 to -99\n  threeDigitsSigned: /^-?\\d{1,3}/,\n  // 0 to 999, -0 to -999\n  fourDigitsSigned: /^-?\\d{1,4}/ // 0 to 9999, -0 to -9999\n};\n\nexport var timezonePatterns = {\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/\n};", "import { millisecondsInHour, millisecondsInMinute, millisecondsInSecond } from \"../../constants/index.js\";\nimport { numericPatterns } from \"./constants.js\";\nexport function mapValue(parseFnResult, mapFn) {\n  if (!parseFnResult) {\n    return parseFnResult;\n  }\n  return {\n    value: mapFn(parseFnResult.value),\n    rest: parseFnResult.rest\n  };\n}\nexport function parseNumericPattern(pattern, dateString) {\n  var matchResult = dateString.match(pattern);\n  if (!matchResult) {\n    return null;\n  }\n  return {\n    value: parseInt(matchResult[0], 10),\n    rest: dateString.slice(matchResult[0].length)\n  };\n}\nexport function parseTimezonePattern(pattern, dateString) {\n  var matchResult = dateString.match(pattern);\n  if (!matchResult) {\n    return null;\n  }\n\n  // Input is 'Z'\n  if (matchResult[0] === 'Z') {\n    return {\n      value: 0,\n      rest: dateString.slice(1)\n    };\n  }\n  var sign = matchResult[1] === '+' ? 1 : -1;\n  var hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\n  var minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\n  var seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\n  return {\n    value: sign * (hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * millisecondsInSecond),\n    rest: dateString.slice(matchResult[0].length)\n  };\n}\nexport function parseAnyDigitsSigned(dateString) {\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\n}\nexport function parseNDigits(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\n    default:\n      return parseNumericPattern(new RegExp('^\\\\d{1,' + n + '}'), dateString);\n  }\n}\nexport function parseNDigitsSigned(n, dateString) {\n  switch (n) {\n    case 1:\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\n    case 2:\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\n    case 3:\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\n    case 4:\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\n    default:\n      return parseNumericPattern(new RegExp('^-?\\\\d{1,' + n + '}'), dateString);\n  }\n}\nexport function dayPeriodEnumToHours(dayPeriod) {\n  switch (dayPeriod) {\n    case 'morning':\n      return 4;\n    case 'evening':\n      return 17;\n    case 'pm':\n    case 'noon':\n    case 'afternoon':\n      return 12;\n    case 'am':\n    case 'midnight':\n    case 'night':\n    default:\n      return 0;\n  }\n}\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\n  var isCommonEra = currentYear > 0;\n  // Absolute number of the current year:\n  // 1 -> 1 AC\n  // 0 -> 1 BC\n  // -1 -> 2 BC\n  var absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\n  var result;\n  if (absCurrentYear <= 50) {\n    result = twoDigitYear || 100;\n  } else {\n    var rangeEnd = absCurrentYear + 50;\n    var rangeEndCentury = Math.floor(rangeEnd / 100) * 100;\n    var isPreviousCentury = twoDigitYear >= rangeEnd % 100;\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\n  }\n  return isCommonEra ? result : 1 - result;\n}\nexport function isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100 !== 0;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n// |----------|-------|----|-------|-------|-------|\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\nexport var YearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(YearParser, _Parser);\n  var _super = _createSuper(YearParser);\n  function YearParser() {\n    var _this;\n    _classCallCheck(this, YearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'u', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(YearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'yy'\n        };\n      };\n      switch (token) {\n        case 'y':\n          return mapValue(parseNDigits(4, dateString), valueCallback);\n        case 'yo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'year'\n          }), valueCallback);\n        default:\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value.isTwoDigitYear || value.year > 0;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      var currentYear = date.getUTCFullYear();\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, 1);\n        date.setUTCHours(0, 0, 0, 0);\n        return date;\n      }\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return YearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits, normalizeTwoDigitYear, mapValue } from \"../utils.js\";\nimport getUTCWeekYear from \"../../../_lib/getUTCWeekYear/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\";\n// Local week-numbering year\nexport var LocalWeekYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalWeekYearParser, _Parser);\n  var _super = _createSuper(LocalWeekYearParser);\n  function LocalWeekYearParser() {\n    var _this;\n    _classCallCheck(this, LocalWeekYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'Q', 'q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalWeekYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(year) {\n        return {\n          year: year,\n          isTwoDigitYear: token === 'YY'\n        };\n      };\n      switch (token) {\n        case 'Y':\n          return mapValue(parseNDigits(4, dateString), valueCallback);\n        case 'Yo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'year'\n          }), valueCallback);\n        default:\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value.isTwoDigitYear || value.year > 0;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value, options) {\n      var currentYear = getUTCWeekYear(date, options);\n      if (value.isTwoDigitYear) {\n        var normalizedTwoDigitYear = normalizeTwoDigitYear(value.year, currentYear);\n        date.setUTCFullYear(normalizedTwoDigitYear, 0, options.firstWeekContainsDate);\n        date.setUTCHours(0, 0, 0, 0);\n        return startOfUTCWeek(date, options);\n      }\n      var year = !('era' in flags) || flags.era === 1 ? value.year : 1 - value.year;\n      date.setUTCFullYear(year, 0, options.firstWeekContainsDate);\n      date.setUTCHours(0, 0, 0, 0);\n      return startOfUTCWeek(date, options);\n    }\n  }]);\n  return LocalWeekYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigitsSigned } from \"../utils.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week-numbering year\nexport var ISOWeekYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOWeekYearParser, _Parser);\n  var _super = _createSuper(ISOWeekYearParser);\n  function ISOWeekYearParser() {\n    var _this;\n    _classCallCheck(this, ISOWeekYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'u', 'Q', 'q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISOWeekYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      if (token === 'R') {\n        return parseNDigitsSigned(4, dateString);\n      }\n      return parseNDigitsSigned(token.length, dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      var firstWeekOfYear = new Date(0);\n      firstWeekOfYear.setUTCFullYear(value, 0, 4);\n      firstWeekOfYear.setUTCHours(0, 0, 0, 0);\n      return startOfUTCISOWeek(firstWeekOfYear);\n    }\n  }]);\n  return ISOWeekYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigitsSigned } from \"../utils.js\";\nexport var ExtendedYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ExtendedYearParser, _Parser);\n  var _super = _createSuper(ExtendedYearParser);\n  function ExtendedYearParser() {\n    var _this;\n    _classCallCheck(this, ExtendedYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 130);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['G', 'y', 'Y', 'R', 'w', 'I', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ExtendedYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      if (token === 'u') {\n        return parseNDigitsSigned(4, dateString);\n      }\n      return parseNDigitsSigned(token.length, dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCFullYear(value, 0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return ExtendedYearParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits } from \"../utils.js\";\nexport var QuarterParser = /*#__PURE__*/function (_Parser) {\n  _inherits(QuarterParser, _Parser);\n  var _super = _createSuper(QuarterParser);\n  function QuarterParser() {\n    var _this;\n    _classCallCheck(this, QuarterParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(QuarterParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'Q':\n        case 'QQ':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, dateString);\n        // 1st, 2nd, 3rd, 4th\n        case 'Qo':\n          return match.ordinalNumber(dateString, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n        case 'QQQ':\n          return match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n        case 'QQQQQ':\n          return match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // 1st quarter, 2nd quarter, ...\n        case 'QQQQ':\n        default:\n          return match.quarter(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 4;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return QuarterParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseNDigits } from \"../utils.js\";\nexport var StandAloneQuarterParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneQuarterParser, _Parser);\n  var _super = _createSuper(StandAloneQuarterParser);\n  function StandAloneQuarterParser() {\n    var _this;\n    _classCallCheck(this, StandAloneQuarterParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 120);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'Q', 'M', 'L', 'w', 'I', 'd', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneQuarterParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // 1, 2, 3, 4\n        case 'q':\n        case 'qq':\n          // 01, 02, 03, 04\n          return parseNDigits(token.length, dateString);\n        // 1st, 2nd, 3rd, 4th\n        case 'qo':\n          return match.ordinalNumber(dateString, {\n            unit: 'quarter'\n          });\n        // Q1, Q2, Q3, Q4\n        case 'qqq':\n          return match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n        case 'qqqqq':\n          return match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // 1st quarter, 2nd quarter, ...\n        case 'qqqq':\n        default:\n          return match.quarter(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.quarter(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 4;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth((value - 1) * 3, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneQuarterParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nexport var MonthParser = /*#__PURE__*/function (_Parser) {\n  _inherits(MonthParser, _Parser);\n  var _super = _createSuper(MonthParser);\n  function MonthParser() {\n    var _this;\n    _classCallCheck(this, MonthParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'L', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\n    return _this;\n  }\n  _createClass(MonthParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'M':\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\n        // 01, 02, ..., 12\n        case 'MM':\n          return mapValue(parseNDigits(2, dateString), valueCallback);\n        // 1st, 2nd, ..., 12th\n        case 'Mo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'month'\n          }), valueCallback);\n        // Jan, Feb, ..., Dec\n        case 'MMM':\n          return match.month(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // J, F, ..., D\n        case 'MMMMM':\n          return match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // January, February, ..., December\n        case 'MMMM':\n        default:\n          return match.month(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return MonthParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits, mapValue } from \"../utils.js\";\nexport var StandAloneMonthParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneMonthParser, _Parser);\n  var _super = _createSuper(StandAloneMonthParser);\n  function StandAloneMonthParser() {\n    var _this;\n    _classCallCheck(this, StandAloneMonthParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 110);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneMonthParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        return value - 1;\n      };\n      switch (token) {\n        // 1, 2, ..., 12\n        case 'L':\n          return mapValue(parseNumericPattern(numericPatterns.month, dateString), valueCallback);\n        // 01, 02, ..., 12\n        case 'LL':\n          return mapValue(parseNDigits(2, dateString), valueCallback);\n        // 1st, 2nd, ..., 12th\n        case 'Lo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'month'\n          }), valueCallback);\n        // Jan, Feb, ..., Dec\n        case 'LLL':\n          return match.month(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // J, F, ..., D\n        case 'LLLLL':\n          return match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // January, February, ..., December\n        case 'LLLL':\n        default:\n          return match.month(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.month(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(value, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneMonthParser;\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCWeek from \"../getUTCWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function setUTCWeek(dirtyDate, dirtyWeek, options) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var week = toInteger(dirtyWeek);\n  var diff = getUTCWeek(date, options) - week;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nimport setUTCWeek from \"../../../_lib/setUTCWeek/index.js\";\nimport startOfUTCWeek from \"../../../_lib/startOfUTCWeek/index.js\"; // Local week of year\nexport var LocalWeekParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalWeekParser, _Parser);\n  var _super = _createSuper(LocalWeekParser);\n  function LocalWeekParser() {\n    var _this;\n    _classCallCheck(this, LocalWeekParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'i', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalWeekParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'w':\n          return parseNumericPattern(numericPatterns.week, dateString);\n        case 'wo':\n          return match.ordinalNumber(dateString, {\n            unit: 'week'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 53;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      return startOfUTCWeek(setUTCWeek(date, value, options), options);\n    }\n  }]);\n  return LocalWeekParser;\n}(Parser);", "import toInteger from \"../toInteger/index.js\";\nimport toDate from \"../../toDate/index.js\";\nimport getUTCISOWeek from \"../getUTCISOWeek/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nexport default function setUTCISOWeek(dirtyDate, dirtyISOWeek) {\n  requiredArgs(2, arguments);\n  var date = toDate(dirtyDate);\n  var isoWeek = toInteger(dirtyISOWeek);\n  var diff = getUTCISOWeek(date) - isoWeek;\n  date.setUTCDate(date.getUTCDate() - diff * 7);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nimport setUTCISOWeek from \"../../../_lib/setUTCISOWeek/index.js\";\nimport startOfUTCISOWeek from \"../../../_lib/startOfUTCISOWeek/index.js\"; // ISO week of year\nexport var ISOWeekParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOWeekParser, _Parser);\n  var _super = _createSuper(ISOWeekParser);\n  function ISOWeekParser() {\n    var _this;\n    _classCallCheck(this, ISOWeekParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 100);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISOWeekParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'I':\n          return parseNumericPattern(numericPatterns.week, dateString);\n        case 'Io':\n          return match.ordinalNumber(dateString, {\n            unit: 'week'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 53;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      return startOfUTCISOWeek(setUTCISOWeek(date, value));\n    }\n  }]);\n  return ISOWeekParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { isLeapYearIndex, parseNDigits, parseNumericPattern } from \"../utils.js\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nvar DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nvar DAYS_IN_MONTH_LEAP_YEAR = [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\n// Day of the month\nexport var DateParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DateParser, _Parser);\n  var _super = _createSuper(DateParser);\n  function DateParser() {\n    var _this;\n    _classCallCheck(this, DateParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"subPriority\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'w', 'I', 'D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DateParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'd':\n          return parseNumericPattern(numericPatterns.date, dateString);\n        case 'do':\n          return match.ordinalNumber(dateString, {\n            unit: 'date'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(date, value) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      var month = date.getUTCMonth();\n      if (isLeapYear) {\n        return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\n      } else {\n        return value >= 1 && value <= DAYS_IN_MONTH[month];\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCDate(value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DateParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits, isLeapYearIndex } from \"../utils.js\";\nexport var DayOfYearParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayOfYearParser, _Parser);\n  var _super = _createSuper(DayOfYearParser);\n  function DayOfYearParser() {\n    var _this;\n    _classCallCheck(this, DayOfYearParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"subpriority\", 1);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['Y', 'R', 'q', 'Q', 'M', 'L', 'w', 'I', 'd', 'E', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayOfYearParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'D':\n        case 'DD':\n          return parseNumericPattern(numericPatterns.dayOfYear, dateString);\n        case 'Do':\n          return match.ordinalNumber(dateString, {\n            unit: 'date'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(date, value) {\n      var year = date.getUTCFullYear();\n      var isLeapYear = isLeapYearIndex(year);\n      if (isLeapYear) {\n        return value >= 1 && value <= 366;\n      } else {\n        return value >= 1 && value <= 365;\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMonth(0, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayOfYearParser;\n}(Parser);", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nimport { getDefaultOptions } from \"../defaultOptions/index.js\";\nexport default function setUTCDay(dirtyDate, dirtyDay, options) {\n  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;\n  requiredArgs(2, arguments);\n  var defaultOptions = getDefaultOptions();\n  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);\n\n  // Test if weekStartsOn is between 0 and 6 _and_ is not NaN\n  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n    throw new RangeError('weekStartsOn must be between 0 and 6 inclusively');\n  }\n  var date = toDate(dirtyDate);\n  var day = toInteger(dirtyDay);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Day of week\nexport var DayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayParser, _Parser);\n  var _super = _createSuper(DayParser);\n  function DayParser() {\n    var _this;\n    _classCallCheck(this, DayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['D', 'i', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        // Tue\n        case 'E':\n        case 'EE':\n        case 'EEE':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n        case 'EEEEE':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n        case 'EEEEEE':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n        case 'EEEE':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Local day of week\nexport var LocalDayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(LocalDayParser, _Parser);\n  var _super = _createSuper(LocalDayParser);\n  function LocalDayParser() {\n    var _this;\n    _classCallCheck(this, LocalDayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(LocalDayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n      switch (token) {\n        // 3\n        case 'e':\n        case 'ee':\n          // 03\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n        // 3rd\n        case 'eo':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'day'\n          }), valueCallback);\n        // Tue\n        case 'eee':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // T\n        case 'eeeee':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tu\n        case 'eeeeee':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        // Tuesday\n        case 'eeee':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return LocalDayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCDay from \"../../../_lib/setUTCDay/index.js\"; // Stand-alone local day of week\nexport var StandAloneLocalDayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(StandAloneLocalDayParser, _Parser);\n  var _super = _createSuper(StandAloneLocalDayParser);\n  function StandAloneLocalDayParser() {\n    var _this;\n    _classCallCheck(this, StandAloneLocalDayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'R', 'u', 'q', 'Q', 'M', 'L', 'I', 'd', 'D', 'E', 'i', 'e', 't', 'T']);\n    return _this;\n  }\n  _createClass(StandAloneLocalDayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match, options) {\n      var valueCallback = function valueCallback(value) {\n        var wholeWeekDays = Math.floor((value - 1) / 7) * 7;\n        return (value + options.weekStartsOn + 6) % 7 + wholeWeekDays;\n      };\n      switch (token) {\n        // 3\n        case 'c':\n        case 'cc':\n          // 03\n          return mapValue(parseNDigits(token.length, dateString), valueCallback);\n        // 3rd\n        case 'co':\n          return mapValue(match.ordinalNumber(dateString, {\n            unit: 'day'\n          }), valueCallback);\n        // Tue\n        case 'ccc':\n          return match.day(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // T\n        case 'ccccc':\n          return match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tu\n        case 'cccccc':\n          return match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n        // Tuesday\n        case 'cccc':\n        default:\n          return match.day(dateString, {\n            width: 'wide',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'standalone'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'standalone'\n          });\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 6;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value, options) {\n      date = setUTCDay(date, value, options);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return StandAloneLocalDayParser;\n}(Parser);", "import toDate from \"../../toDate/index.js\";\nimport requiredArgs from \"../requiredArgs/index.js\";\nimport toInteger from \"../toInteger/index.js\";\nexport default function setUTCISODay(dirtyDate, dirtyDay) {\n  requiredArgs(2, arguments);\n  var day = toInteger(dirtyDay);\n  if (day % 7 === 0) {\n    day = day - 7;\n  }\n  var weekStartsOn = 1;\n  var date = toDate(dirtyDate);\n  var currentDay = date.getUTCDay();\n  var remainder = day % 7;\n  var dayIndex = (remainder + 7) % 7;\n  var diff = (dayIndex < weekStartsOn ? 7 : 0) + day - currentDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nimport setUTCISODay from \"../../../_lib/setUTCISODay/index.js\"; // ISO day of week\nexport var ISODayParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISODayParser, _Parser);\n  var _super = _createSuper(ISODayParser);\n  function ISODayParser() {\n    var _this;\n    _classCallCheck(this, ISODayParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 90);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['y', 'Y', 'u', 'q', 'Q', 'M', 'L', 'w', 'd', 'D', 'E', 'e', 'c', 't', 'T']);\n    return _this;\n  }\n  _createClass(ISODayParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      var valueCallback = function valueCallback(value) {\n        if (value === 0) {\n          return 7;\n        }\n        return value;\n      };\n      switch (token) {\n        // 2\n        case 'i':\n        case 'ii':\n          // 02\n          return parseNDigits(token.length, dateString);\n        // 2nd\n        case 'io':\n          return match.ordinalNumber(dateString, {\n            unit: 'day'\n          });\n        // Tue\n        case 'iii':\n          return mapValue(match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // T\n        case 'iiiii':\n          return mapValue(match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // Tu\n        case 'iiiiii':\n          return mapValue(match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n        // Tuesday\n        case 'iiii':\n        default:\n          return mapValue(match.day(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'short',\n            context: 'formatting'\n          }) || match.day(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          }), valueCallback);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 7;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date = setUTCISODay(date, value);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return ISODayParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\";\nexport var AMPMParser = /*#__PURE__*/function (_Parser) {\n  _inherits(AMPMParser, _Parser);\n  var _super = _createSuper(AMPMParser);\n  function AMPMParser() {\n    var _this;\n    _classCallCheck(this, AMPMParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['b', 'B', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(AMPMParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'a':\n        case 'aa':\n        case 'aaa':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'aaaaa':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'aaaa':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return AMPMParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\";\nexport var AMPMMidnightParser = /*#__PURE__*/function (_Parser) {\n  _inherits(AMPMMidnightParser, _Parser);\n  var _super = _createSuper(AMPMMidnightParser);\n  function AMPMMidnightParser() {\n    var _this;\n    _classCallCheck(this, AMPMMidnightParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'B', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(AMPMMidnightParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'b':\n        case 'bb':\n        case 'bbb':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'bbbbb':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'bbbb':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return AMPMMidnightParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { dayPeriodEnumToHours } from \"../utils.js\"; // in the morning, in the afternoon, in the evening, at night\nexport var DayPeriodParser = /*#__PURE__*/function (_Parser) {\n  _inherits(DayPeriodParser, _Parser);\n  var _super = _createSuper(DayPeriodParser);\n  function DayPeriodParser() {\n    var _this;\n    _classCallCheck(this, DayPeriodParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 80);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 't', 'T']);\n    return _this;\n  }\n  _createClass(DayPeriodParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'B':\n        case 'BB':\n        case 'BBB':\n          return match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'BBBBB':\n          return match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n        case 'BBBB':\n        default:\n          return match.dayPeriod(dateString, {\n            width: 'wide',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'abbreviated',\n            context: 'formatting'\n          }) || match.dayPeriod(dateString, {\n            width: 'narrow',\n            context: 'formatting'\n          });\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(dayPeriodEnumToHours(value), 0, 0, 0);\n      return date;\n    }\n  }]);\n  return DayPeriodParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour1to12Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour1to12Parser, _Parser);\n  var _super = _createSuper(Hour1to12Parser);\n  function Hour1to12Parser() {\n    var _this;\n    _classCallCheck(this, Hour1to12Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['H', 'K', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour1to12Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'h':\n          return parseNumericPattern(numericPatterns.hour12h, dateString);\n        case 'ho':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 12;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var isPM = date.getUTCHours() >= 12;\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else if (!isPM && value === 12) {\n        date.setUTCHours(0, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n      return date;\n    }\n  }]);\n  return Hour1to12Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour0to23Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour0to23Parser, _Parser);\n  var _super = _createSuper(Hour0to23Parser);\n  function Hour0to23Parser() {\n    var _this;\n    _classCallCheck(this, Hour0to23Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'K', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour0to23Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'H':\n          return parseNumericPattern(numericPatterns.hour23h, dateString);\n        case 'Ho':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 23;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCHours(value, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return Hour0to23Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour0To11Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour0To11Parser, _Parser);\n  var _super = _createSuper(Hour0To11Parser);\n  function Hour0To11Parser() {\n    var _this;\n    _classCallCheck(this, Hour0To11Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['h', 'H', 'k', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour0To11Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'K':\n          return parseNumericPattern(numericPatterns.hour11h, dateString);\n        case 'Ko':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 11;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var isPM = date.getUTCHours() >= 12;\n      if (isPM && value < 12) {\n        date.setUTCHours(value + 12, 0, 0, 0);\n      } else {\n        date.setUTCHours(value, 0, 0, 0);\n      }\n      return date;\n    }\n  }]);\n  return Hour0To11Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var Hour1To24Parser = /*#__PURE__*/function (_Parser) {\n  _inherits(Hour1To24Parser, _Parser);\n  var _super = _createSuper(Hour1To24Parser);\n  function Hour1To24Parser() {\n    var _this;\n    _classCallCheck(this, Hour1To24Parser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 70);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['a', 'b', 'h', 'H', 'K', 't', 'T']);\n    return _this;\n  }\n  _createClass(Hour1To24Parser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'k':\n          return parseNumericPattern(numericPatterns.hour24h, dateString);\n        case 'ko':\n          return match.ordinalNumber(dateString, {\n            unit: 'hour'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 1 && value <= 24;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      var hours = value <= 24 ? value % 24 : value;\n      date.setUTCHours(hours, 0, 0, 0);\n      return date;\n    }\n  }]);\n  return Hour1To24Parser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var MinuteParser = /*#__PURE__*/function (_Parser) {\n  _inherits(MinuteParser, _Parser);\n  var _super = _createSuper(MinuteParser);\n  function MinuteParser() {\n    var _this;\n    _classCallCheck(this, MinuteParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 60);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(MinuteParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 'm':\n          return parseNumericPattern(numericPatterns.minute, dateString);\n        case 'mo':\n          return match.ordinalNumber(dateString, {\n            unit: 'minute'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 59;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMinutes(value, 0, 0);\n      return date;\n    }\n  }]);\n  return MinuteParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { numericPatterns } from \"../constants.js\";\nimport { parseNumericPattern, parseNDigits } from \"../utils.js\";\nexport var SecondParser = /*#__PURE__*/function (_Parser) {\n  _inherits(SecondParser, _Parser);\n  var _super = _createSuper(SecondParser);\n  function SecondParser() {\n    var _this;\n    _classCallCheck(this, SecondParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 50);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(SecondParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token, match) {\n      switch (token) {\n        case 's':\n          return parseNumericPattern(numericPatterns.second, dateString);\n        case 'so':\n          return match.ordinalNumber(dateString, {\n            unit: 'second'\n          });\n        default:\n          return parseNDigits(token.length, dateString);\n      }\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(_date, value) {\n      return value >= 0 && value <= 59;\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCSeconds(value, 0);\n      return date;\n    }\n  }]);\n  return SecondParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { mapValue, parseNDigits } from \"../utils.js\";\nexport var FractionOfSecondParser = /*#__PURE__*/function (_Parser) {\n  _inherits(FractionOfSecondParser, _Parser);\n  var _super = _createSuper(FractionOfSecondParser);\n  function FractionOfSecondParser() {\n    var _this;\n    _classCallCheck(this, FractionOfSecondParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 30);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T']);\n    return _this;\n  }\n  _createClass(FractionOfSecondParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      var valueCallback = function valueCallback(value) {\n        return Math.floor(value * Math.pow(10, -token.length + 3));\n      };\n      return mapValue(parseNDigits(token.length, dateString), valueCallback);\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, _flags, value) {\n      date.setUTCMilliseconds(value);\n      return date;\n    }\n  }]);\n  return FractionOfSecondParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601. +00:00 is `'Z'`)\nexport var ISOTimezoneWithZParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOTimezoneWithZParser, _Parser);\n  var _super = _createSuper(ISOTimezoneWithZParser);\n  function ISOTimezoneWithZParser() {\n    var _this;\n    _classCallCheck(this, ISOTimezoneWithZParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'x']);\n    return _this;\n  }\n  _createClass(ISOTimezoneWithZParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      switch (token) {\n        case 'X':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\n        case 'XX':\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\n        case 'XXXX':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\n        case 'XXXXX':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\n        case 'XXX':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      return new Date(date.getTime() - value);\n    }\n  }]);\n  return ISOTimezoneWithZParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { timezonePatterns } from \"../constants.js\";\nimport { parseTimezonePattern } from \"../utils.js\"; // Timezone (ISO-8601)\nexport var ISOTimezoneParser = /*#__PURE__*/function (_Parser) {\n  _inherits(ISOTimezoneParser, _Parser);\n  var _super = _createSuper(ISOTimezoneParser);\n  function ISOTimezoneParser() {\n    var _this;\n    _classCallCheck(this, ISOTimezoneParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 10);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", ['t', 'T', 'X']);\n    return _this;\n  }\n  _createClass(ISOTimezoneParser, [{\n    key: \"parse\",\n    value: function parse(dateString, token) {\n      switch (token) {\n        case 'x':\n          return parseTimezonePattern(timezonePatterns.basicOptionalMinutes, dateString);\n        case 'xx':\n          return parseTimezonePattern(timezonePatterns.basic, dateString);\n        case 'xxxx':\n          return parseTimezonePattern(timezonePatterns.basicOptionalSeconds, dateString);\n        case 'xxxxx':\n          return parseTimezonePattern(timezonePatterns.extendedOptionalSeconds, dateString);\n        case 'xxx':\n        default:\n          return parseTimezonePattern(timezonePatterns.extended, dateString);\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(date, flags, value) {\n      if (flags.timestampIsSet) {\n        return date;\n      }\n      return new Date(date.getTime() - value);\n    }\n  }]);\n  return ISOTimezoneParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseAnyDigitsSigned } from \"../utils.js\";\nexport var TimestampSecondsParser = /*#__PURE__*/function (_Parser) {\n  _inherits(TimestampSecondsParser, _Parser);\n  var _super = _createSuper(TimestampSecondsParser);\n  function TimestampSecondsParser() {\n    var _this;\n    _classCallCheck(this, TimestampSecondsParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 40);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\n    return _this;\n  }\n  _createClass(TimestampSecondsParser, [{\n    key: \"parse\",\n    value: function parse(dateString) {\n      return parseAnyDigitsSigned(dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      return [new Date(value * 1000), {\n        timestampIsSet: true\n      }];\n    }\n  }]);\n  return TimestampSecondsParser;\n}(Parser);", "import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { Parser } from \"../Parser.js\";\nimport { parseAnyDigitsSigned } from \"../utils.js\";\nexport var TimestampMillisecondsParser = /*#__PURE__*/function (_Parser) {\n  _inherits(TimestampMillisecondsParser, _Parser);\n  var _super = _createSuper(TimestampMillisecondsParser);\n  function TimestampMillisecondsParser() {\n    var _this;\n    _classCallCheck(this, TimestampMillisecondsParser);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"priority\", 20);\n    _defineProperty(_assertThisInitialized(_this), \"incompatibleTokens\", '*');\n    return _this;\n  }\n  _createClass(TimestampMillisecondsParser, [{\n    key: \"parse\",\n    value: function parse(dateString) {\n      return parseAnyDigitsSigned(dateString);\n    }\n  }, {\n    key: \"set\",\n    value: function set(_date, _flags, value) {\n      return [new Date(value), {\n        timestampIsSet: true\n      }];\n    }\n  }]);\n  return TimestampMillisecondsParser;\n}(Parser);", "import { EraParser } from \"./EraParser.js\";\nimport { YearParser } from \"./YearParser.js\";\nimport { LocalWeekYearParser } from \"./LocalWeekYearParser.js\";\nimport { ISOWeekYearParser } from \"./ISOWeekYearParser.js\";\nimport { ExtendedYearParser } from \"./ExtendedYearParser.js\";\nimport { QuarterParser } from \"./QuarterParser.js\";\nimport { StandAloneQuarterParser } from \"./StandAloneQuarterParser.js\";\nimport { MonthParser } from \"./MonthParser.js\";\nimport { StandAloneMonthParser } from \"./StandAloneMonthParser.js\";\nimport { LocalWeekParser } from \"./LocalWeekParser.js\";\nimport { ISOWeekParser } from \"./ISOWeekParser.js\";\nimport { DateParser } from \"./DateParser.js\";\nimport { DayOfYearParser } from \"./DayOfYearParser.js\";\nimport { DayParser } from \"./DayParser.js\";\nimport { LocalDayParser } from \"./LocalDayParser.js\";\nimport { StandAloneLocalDayParser } from \"./StandAloneLocalDayParser.js\";\nimport { ISODayParser } from \"./ISODayParser.js\";\nimport { AMPMParser } from \"./AMPMParser.js\";\nimport { AMPMMidnightParser } from \"./AMPMMidnightParser.js\";\nimport { DayPeriodParser } from \"./DayPeriodParser.js\";\nimport { Hour1to12Parser } from \"./Hour1to12Parser.js\";\nimport { Hour0to23Parser } from \"./Hour0to23Parser.js\";\nimport { Hour0To11Parser } from \"./Hour0To11Parser.js\";\nimport { Hour1To24Parser } from \"./Hour1To24Parser.js\";\nimport { MinuteParser } from \"./MinuteParser.js\";\nimport { SecondParser } from \"./SecondParser.js\";\nimport { FractionOfSecondParser } from \"./FractionOfSecondParser.js\";\nimport { ISOTimezoneWithZParser } from \"./ISOTimezoneWithZParser.js\";\nimport { ISOTimezoneParser } from \"./ISOTimezoneParser.js\";\nimport { TimestampSecondsParser } from \"./TimestampSecondsParser.js\";\nimport { TimestampMillisecondsParser } from \"./TimestampMillisecondsParser.js\";\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\n * |  p  |                                |  P  |                                |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n */\nexport var parsers = {\n  G: new EraParser(),\n  y: new YearParser(),\n  Y: new LocalWeekYearParser(),\n  R: new ISOWeekYearParser(),\n  u: new ExtendedYearParser(),\n  Q: new QuarterParser(),\n  q: new StandAloneQuarterParser(),\n  M: new MonthParser(),\n  L: new StandAloneMonthParser(),\n  w: new LocalWeekParser(),\n  I: new ISOWeekParser(),\n  d: new DateParser(),\n  D: new DayOfYearParser(),\n  E: new DayParser(),\n  e: new LocalDayParser(),\n  c: new StandAloneLocalDayParser(),\n  i: new ISODayParser(),\n  a: new AMPMParser(),\n  b: new AMPMMidnightParser(),\n  B: new DayPeriodParser(),\n  h: new Hour1to12Parser(),\n  H: new Hour0to23Parser(),\n  K: new Hour0To11Parser(),\n  k: new Hour1To24Parser(),\n  m: new MinuteParser(),\n  s: new SecondParser(),\n  S: new FractionOfSecondParser(),\n  X: new ISOTimezoneWithZParser(),\n  x: new ISOTimezoneParser(),\n  t: new TimestampSecondsParser(),\n  T: new TimestampMillisecondsParser()\n};", "import { c as __spreadArray } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useState, useEffect } from 'react';\nimport { MutedState } from '@sendbird/chat/groupChannel';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DBzinRyn.js';\nimport { useThreadContext } from '../context.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { M as MessageInputKeys } from '../../chunks/bundle-DcNHBjGp.js';\nimport { S as SuggestedMentionList } from '../../chunks/bundle-9-9DQjCI.js';\nimport { V as VoiceMessageInputWrapper } from '../../chunks/bundle-ChKVOZMC.js';\nimport '../../GroupChannel/context.js';\nimport { R as Role } from '../../chunks/bundle-B5vIoHSd.js';\nimport { useDirtyGetMentions } from '../../Message/hooks/useDirtyGetMentions.js';\nimport { useHandleUploadFiles } from '../../Channel/hooks/useHandleUploadFiles.js';\nimport { b as isDisabledBecauseFrozen, c as isDisabledBecauseMuted } from '../../chunks/bundle-Dt4PQi4u.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-D8esR1WH.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../context/types.js';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-CwpgCadZ.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../GroupChannel/components/SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-B7FJxg4D.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ProgressBar.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\n\nvar ThreadMessageInput = function (props, ref) {\n    var _a;\n    var className = props.className, renderFileUploadIcon = props.renderFileUploadIcon, renderVoiceMessageIcon = props.renderVoiceMessageIcon, renderSendMessageIcon = props.renderSendMessageIcon, acceptableMimeTypes = props.acceptableMimeTypes;\n    var config = useSendbirdStateContext().config;\n    var isMobile = useMediaQueryContext().isMobile;\n    var stringSet = useLocalization().stringSet;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var threadContext = useThreadContext();\n    var currentChannel = threadContext.currentChannel, parentMessage = threadContext.parentMessage, sendMessage = threadContext.sendMessage, sendFileMessage = threadContext.sendFileMessage, sendVoiceMessage = threadContext.sendVoiceMessage, sendMultipleFilesMessage = threadContext.sendMultipleFilesMessage, isMuted = threadContext.isMuted, isChannelFrozen = threadContext.isChannelFrozen, allThreadMessages = threadContext.allThreadMessages;\n    var messageInputRef = useRef();\n    var isMentionEnabled = groupChannel.enableMention;\n    var isVoiceMessageEnabled = groupChannel.enableVoiceMessage;\n    var isMultipleFilesMessageEnabled = (_a = threadContext.isMultipleFilesMessageEnabled) !== null && _a !== void 0 ? _a : config.isMultipleFilesMessageEnabled;\n    var threadInputDisabled = props.disabled\n        || !isOnline\n        || isMuted\n        || (!((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === Role.OPERATOR) && isChannelFrozen) || parentMessage === null;\n    // MFM\n    var handleUploadFiles = useHandleUploadFiles({\n        sendFileMessage: sendFileMessage,\n        sendMultipleFilesMessage: sendMultipleFilesMessage,\n        quoteMessage: parentMessage,\n    }, {\n        logger: logger,\n    });\n    // mention\n    var _b = useState(''), mentionNickname = _b[0], setMentionNickname = _b[1];\n    var _c = useState([]), mentionedUsers = _c[0], setMentionedUsers = _c[1];\n    var _d = useState([]), mentionedUserIds = _d[0], setMentionedUserIds = _d[1];\n    var _e = useState(null), selectedUser = _e[0], setSelectedUser = _e[1];\n    var _f = useState([]), mentionSuggestedUsers = _f[0], setMentionSuggestedUsers = _f[1];\n    var _g = useState(null), messageInputEvent = _g[0], setMessageInputEvent = _g[1];\n    var _h = useState(false), showVoiceMessageInput = _h[0], setShowVoiceMessageInput = _h[1];\n    var displaySuggestedMentionList = isOnline\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isDisabledBecauseFrozen(currentChannel)\n        && !isDisabledBecauseMuted(currentChannel)\n        && !(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isBroadcast);\n    // Reset when changing channel\n    useEffect(function () {\n        setShowVoiceMessageInput(false);\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    var mentionNodes = useDirtyGetMentions({ ref: ref || messageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isBroadcast) && (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) !== Role.OPERATOR) {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    return (React__default.createElement(\"div\", { className: classnames(showVoiceMessageInput ? 'sendbird-thread-message-input--voice-message' : 'sendbird-thread-message-input', className) },\n        displaySuggestedMentionList && (React__default.createElement(SuggestedMentionList, { targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, \n            // renderUserMentionItem={renderUserMentionItem}\n            onUserItemClick: function (user) {\n                if (user) {\n                    setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n            }, onFocusItemChange: function () {\n                setMessageInputEvent(null);\n            }, onFetchUsers: function (users) {\n                setMentionSuggestedUsers(users);\n            }, ableAddMention: ableMention, maxMentionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount, maxSuggestionCount: userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount })),\n        showVoiceMessageInput\n            ? (React__default.createElement(VoiceMessageInputWrapper, { channel: currentChannel, onSubmitClick: function (recordedFile, duration) {\n                    sendVoiceMessage(recordedFile, duration, parentMessage);\n                    setShowVoiceMessageInput(false);\n                }, onCancelClick: function () {\n                    setShowVoiceMessageInput(false);\n                } }))\n            : (React__default.createElement(MessageInput, { className: \"sendbird-thread-message-input__message-input\", messageFieldId: \"sendbird-message-input-text-field--thread\", channel: currentChannel, channelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url, isMobile: isMobile, disabled: threadInputDisabled, acceptableMimeTypes: acceptableMimeTypes, setMentionedUsers: setMentionedUsers, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, isVoiceMessageEnabled: isVoiceMessageEnabled, isSelectingMultipleFilesEnabled: isMultipleFilesMessageEnabled, onVoiceMessageIconClick: function () {\n                    setShowVoiceMessageInput(true);\n                }, renderFileUploadIcon: renderFileUploadIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, renderSendMessageIcon: renderSendMessageIcon, ref: ref || messageInputRef, placeholder: ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isFrozen) && !((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === Role.OPERATOR) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED)\n                    || ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myMutedState) === MutedState.MUTED && stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT)\n                    || (allThreadMessages.length > 0\n                        ? stringSet.THREAD__INPUT__REPLY_TO_THREAD\n                        : stringSet.THREAD__INPUT__REPLY_IN_THREAD), onStartTyping: function () {\n                    var _a;\n                    (_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping) === null || _a === void 0 ? void 0 : _a.call(currentChannel);\n                }, onSendMessage: function (_a) {\n                    var _b;\n                    var message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    sendMessage({\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionTemplate: mentionTemplate,\n                        quoteMessage: parentMessage,\n                    });\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n                }, onFileUpload: handleUploadFiles, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention) || e.key === MessageInputKeys.ArrowUp || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } }))));\n};\nvar ThreadMessageInput$1 = React__default.forwardRef(ThreadMessageInput);\n\nexport { ThreadMessageInput$1 as default };\n//# sourceMappingURL=ThreadMessageInput.js.map\n", "import { a as __awaiter, b as __generator } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useCallback } from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { j as isImage } from '../../chunks/bundle-D-cVbGxk.js';\nimport { b as useGlobalModalContext, c as ModalFooter } from '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport { ButtonTypes } from '../../ui/Button.js';\nimport { u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { c as compressImages } from '../../chunks/bundle-DM6QiOiG.js';\nimport { O as ONE_MiB } from '../../chunks/bundle-c4e24Qt4.js';\nimport '../../withSendbird.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\n\nvar useHandleUploadFiles = function (_a, _b) {\n    var sendFileMessage = _a.sendFileMessage, sendMultipleFilesMessage = _a.sendMultipleFilesMessage, quoteMessage = _a.quoteMessage;\n    var logger = _b.logger;\n    var stringSet = useLocalization().stringSet;\n    var config = useSendbirdStateContext().config;\n    var imageCompression = config.imageCompression;\n    var uikitUploadSizeLimit = config === null || config === void 0 ? void 0 : config.uikitUploadSizeLimit;\n    var uikitMultipleFilesMessageLimit = config === null || config === void 0 ? void 0 : config.uikitMultipleFilesMessageLimit;\n    var openModal = useGlobalModalContext().openModal;\n    var handleUploadFiles = useCallback(function (files) { return __awaiter(void 0, void 0, void 0, function () {\n        var compressedFiles, sendingFiles, file, imageFiles_1, otherFiles_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    // Validate Parameters\n                    if (!sendFileMessage || !sendMultipleFilesMessage) {\n                        logger.warning('Channel|useHandleUploadFiles: required functions are undefined', { sendFileMessage: sendFileMessage, sendMultipleFilesMessage: sendMultipleFilesMessage });\n                        return [2 /*return*/];\n                    }\n                    if (files.length === 0) {\n                        logger.warning('Channel|useHandleUploadFiles: given file list is empty.', { files: files });\n                        return [2 /*return*/];\n                    }\n                    if (files.length > uikitMultipleFilesMessageLimit) {\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload files more than \".concat(uikitMultipleFilesMessageLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT.replace('%d', \"\".concat(uikitMultipleFilesMessageLimit)),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    /**\n                     * Validate file sizes\n                     * The default value of uikitUploadSizeLimit is 25MiB\n                     */\n                    if (files.some(function (file) { return file.size > uikitUploadSizeLimit; })) {\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload file size exceeding \".concat(uikitUploadSizeLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace('%d', \"\".concat(Math.floor(uikitUploadSizeLimit / ONE_MiB))),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, compressImages({\n                            files: files,\n                            imageCompression: imageCompression,\n                            logger: logger,\n                        })];\n                case 1:\n                    compressedFiles = (_a.sent()).compressedFiles;\n                    sendingFiles = compressedFiles;\n                    // Send File Message\n                    if (sendingFiles.length === 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending one file.');\n                        file = sendingFiles[0];\n                        sendFileMessage(file, quoteMessage);\n                    }\n                    else if (sendingFiles.length > 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending multiple files.');\n                        imageFiles_1 = [];\n                        otherFiles_1 = [];\n                        sendingFiles.forEach(function (file) {\n                            if (isImage(file.type)) {\n                                imageFiles_1.push(file);\n                            }\n                            else {\n                                otherFiles_1.push(file);\n                            }\n                        });\n                        return [2 /*return*/, otherFiles_1.reduce(function (previousPromise, item) {\n                                return previousPromise.then(function () {\n                                    return sendFileMessage(item, quoteMessage);\n                                });\n                            }, (function () {\n                                if (imageFiles_1.length === 0) {\n                                    return Promise.resolve();\n                                }\n                                else if (imageFiles_1.length === 1) {\n                                    return sendFileMessage(imageFiles_1[0], quoteMessage);\n                                }\n                                else {\n                                    return sendMultipleFilesMessage(imageFiles_1, quoteMessage);\n                                }\n                            })())];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [\n        sendFileMessage,\n        sendMultipleFilesMessage,\n        quoteMessage,\n    ]);\n    return handleUploadFiles;\n};\n\nexport { useHandleUploadFiles };\n//# sourceMappingURL=useHandleUploadFiles.js.map\n", "import React__default from 'react';\nimport OpenChannelUI from './OpenChannel/components/OpenChannelUI.js';\nimport { O as OpenChannelProvider } from './chunks/bundle-v7PcSk1i.js';\nimport './OpenChannel/components/OpenChannelInput.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-B1SLZ0HT.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-DcNHBjGp.js';\nimport './chunks/bundle-DHJZgVZH.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-BVBoUWl2.js';\nimport './chunks/bundle-fSuFm2tD.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-DtlqJEe7.js';\nimport './OpenChannel/components/FrozenChannelNotification.js';\nimport './OpenChannel/components/OpenChannelHeader.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './OpenChannel/components/OpenChannelMessageList.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './OpenChannel/components/OpenChannelMessage.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './ui/OpenchannelUserMessage.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './ui/SortByRow.js';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport './ui/UserProfile.js';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './sendbirdSelectors.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-MlowEcAQ.js';\nimport './chunks/bundle-BOC6Vh1w.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './ui/OpenChannelAdminMessage.js';\nimport './ui/OpenchannelOGMessage.js';\nimport './ui/LinkLabel.js';\nimport './chunks/bundle-NWVriOUB.js';\nimport './Message/context.js';\nimport './ui/MentionLabel.js';\nimport './ui/OpenchannelThumbnailMessage.js';\nimport './ui/OpenchannelFileMessage.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/DateSeparator.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport './chunks/bundle-DO8nji3n.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-DTOg7Xzt.js';\nimport './chunks/bundle-CBwCMBt0.js';\nimport './chunks/bundle-Cn1EBKt6.js';\nimport './chunks/bundle-FtNvi0ib.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './chunks/bundle-BKe5KBuS.js';\nimport './chunks/bundle-DM6QiOiG.js';\n\nvar OpenChannel = function (props) {\n    return (React__default.createElement(OpenChannelProvider, { channelUrl: props === null || props === void 0 ? void 0 : props.channelUrl, isMessageGroupingEnabled: props === null || props === void 0 ? void 0 : props.isMessageGroupingEnabled, queries: props === null || props === void 0 ? void 0 : props.queries, messageLimit: props === null || props === void 0 ? void 0 : props.messageLimit, onBeforeSendUserMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendUserMessage, onBeforeSendFileMessage: props === null || props === void 0 ? void 0 : props.onBeforeSendFileMessage, onChatHeaderActionClick: props === null || props === void 0 ? void 0 : props.onChatHeaderActionClick, disableUserProfile: props === null || props === void 0 ? void 0 : props.disableUserProfile, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile, onBackClick: props === null || props === void 0 ? void 0 : props.onBackClick },\n        React__default.createElement(OpenChannelUI, { renderMessage: props === null || props === void 0 ? void 0 : props.renderMessage, renderHeader: props === null || props === void 0 ? void 0 : props.renderHeader, renderInput: props === null || props === void 0 ? void 0 : props.renderInput, renderMessageInput: props === null || props === void 0 ? void 0 : props.renderMessageInput, renderPlaceHolderEmptyList: props === null || props === void 0 ? void 0 : props.renderPlaceHolderEmptyList, renderPlaceHolderError: props === null || props === void 0 ? void 0 : props.renderPlaceHolderError, renderPlaceHolderLoading: props === null || props === void 0 ? void 0 : props.renderPlaceHolderLoading })));\n};\n\nexport { OpenChannel as default };\n//# sourceMappingURL=OpenChannel.js.map\n", "import React__default from 'react';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-v7PcSk1i.js';\nimport OpenChannelInput from './OpenChannelInput.js';\nimport FrozenNotification from './FrozenChannelNotification.js';\nimport OpenchannelConversationHeader from './OpenChannelHeader.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport OpenChannelMessageList from './OpenChannelMessageList.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport './OpenChannelMessage.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../ui/OpenchannelUserMessage.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-MlowEcAQ.js';\nimport '../../chunks/bundle-BOC6Vh1w.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../ui/OpenChannelAdminMessage.js';\nimport '../../ui/OpenchannelOGMessage.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../Message/context.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/OpenchannelThumbnailMessage.js';\nimport '../../ui/OpenchannelFileMessage.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../chunks/bundle-Cn1EBKt6.js';\nimport '../../chunks/bundle-FtNvi0ib.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\n\nvar COMPONENT_CLASS_NAME = 'sendbird-openchannel-conversation';\nvar OpenChannelUI = function (_a) {\n    var renderMessage = _a.renderMessage, renderHeader = _a.renderHeader, renderPlaceHolderEmptyList = _a.renderPlaceHolderEmptyList, renderPlaceHolderError = _a.renderPlaceHolderError, renderPlaceHolderLoading = _a.renderPlaceHolderLoading, renderMessageInput = _a.renderMessageInput, renderInput = _a.renderInput;\n    var _b = useOpenChannelContext(), currentOpenChannel = _b.currentOpenChannel, amIBanned = _b.amIBanned, loading = _b.loading, isInvalid = _b.isInvalid, messageInputRef = _b.messageInputRef, conversationScrollRef = _b.conversationScrollRef;\n    if (!currentOpenChannel\n        || !(currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url)\n        || amIBanned) {\n        return ((renderPlaceHolderError === null || renderPlaceHolderError === void 0 ? void 0 : renderPlaceHolderError())\n            || React__default.createElement(\"div\", { className: COMPONENT_CLASS_NAME },\n                React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_CHANNELS })));\n    }\n    if (loading) {\n        return ((renderPlaceHolderLoading === null || renderPlaceHolderLoading === void 0 ? void 0 : renderPlaceHolderLoading())\n            || React__default.createElement(\"div\", { className: COMPONENT_CLASS_NAME },\n                React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING })));\n    }\n    if (isInvalid) {\n        return ((renderPlaceHolderError === null || renderPlaceHolderError === void 0 ? void 0 : renderPlaceHolderError())\n            || React__default.createElement(\"div\", { className: COMPONENT_CLASS_NAME },\n                React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG })));\n    }\n    var renderInputComponent = renderMessageInput || renderInput;\n    return (React__default.createElement(\"div\", { className: COMPONENT_CLASS_NAME },\n        (renderHeader === null || renderHeader === void 0 ? void 0 : renderHeader()) || React__default.createElement(OpenchannelConversationHeader, null),\n        (currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isFrozen) && React__default.createElement(FrozenNotification, null),\n        React__default.createElement(OpenChannelMessageList, { ref: conversationScrollRef, renderMessage: renderMessage, renderPlaceHolderEmptyList: renderPlaceHolderEmptyList }),\n        (renderInputComponent === null || renderInputComponent === void 0 ? void 0 : renderInputComponent()) || React__default.createElement(OpenChannelInput, { ref: messageInputRef })));\n};\n\nexport { OpenChannelUI as default };\n//# sourceMappingURL=OpenChannelUI.js.map\n", "import React__default, { useEffect, useCallback, useState, useReducer, useRef, useMemo } from 'react';\nimport { U as UserProfileProvider } from './bundle-BKxPk2t0.js';\nimport { _ as __assign, c as __spreadArray, a as __awaiter, b as __generator } from './bundle-B1SLZ0HT.js';\nimport { c as compareIds } from './bundle-BKe5KBuS.js';\nimport { p as pubSubTopics } from './bundle-DZhG3Z6D.js';\nimport { ChannelType } from '@sendbird/chat';\nimport { OpenChannelHandler } from '@sendbird/chat/openChannel';\nimport { u as uuidv4 } from './bundle-Cvt9FZvn.js';\nimport { c as compressImages } from './bundle-DM6QiOiG.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { b as useGlobalModalContext, c as ModalFooter } from './bundle-Bh6KfMRl.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { O as ONE_MiB } from './bundle-c4e24Qt4.js';\nimport './bundle-CEZ0D4qz.js';\nimport { ButtonTypes } from '../ui/Button.js';\n\nvar shouldFetchMore = function (messageLength, maxMessages) {\n    if (typeof maxMessages !== 'number') {\n        return true;\n    }\n    return maxMessages > messageLength;\n};\n/* eslint-disable default-param-last */\nvar scrollIntoLast = function (initialTry, scrollRef) {\n    if (initialTry === void 0) { initialTry = 0; }\n    var MAX_TRIES = 10;\n    var currentTry = initialTry;\n    if (currentTry > MAX_TRIES) {\n        return;\n    }\n    try {\n        var scrollDOM = (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current) || document.querySelector('.sendbird-openchannel-conversation-scroll__container__item-container');\n        // eslint-disable-next-line no-multi-assign\n        if (scrollDOM) {\n            scrollDOM.scrollTop = scrollDOM.scrollHeight;\n        }\n    }\n    catch (error) {\n        setTimeout(function () {\n            scrollIntoLast(currentTry + 1, scrollRef);\n        }, 500 * currentTry);\n    }\n};\nvar kFormatter = function (num) {\n    if (Math.abs(num) > 999999) {\n        return \"\".concat((Math.abs(num) / 1000000).toFixed(1), \"M\");\n    }\n    if (Math.abs(num) > 999) {\n        return \"\".concat((Math.abs(num) / 1000).toFixed(1), \"K\");\n    }\n    return \"\".concat(num);\n};\nvar isOperator = function (openChannel, userId) {\n    var operators = openChannel === null || openChannel === void 0 ? void 0 : openChannel.operators;\n    if (operators.map(function (operator) { return operator.userId; }).indexOf(userId) < 0) {\n        return false;\n    }\n    return true;\n};\nvar isDisabledBecauseFrozen = function (openChannel, userId) {\n    if (!openChannel)\n        return false;\n    var isFrozen = openChannel.isFrozen;\n    return isFrozen && !isOperator(openChannel, userId);\n};\nvar isDisabledBecauseMuted = function (mutedParticipantIds, userId) {\n    return mutedParticipantIds.indexOf(userId) > -1;\n};\nvar fetchWithListQuery = function (listQuery, logger, eachQueryNextCallback) {\n    var fetchList = function (query) {\n        var hasNext = query.hasNext;\n        if (hasNext) {\n            query.next().then(function (users) {\n                eachQueryNextCallback(users);\n                fetchList(query);\n            }).catch(function (error) {\n                logger.warning('OpenChannel | FetchUserList failed', error);\n            });\n        }\n        else {\n            logger.info('OpenChannel | FetchUserList finished');\n        }\n    };\n    logger.info('OpenChannel | FetchUserList start', listQuery);\n    fetchList(listQuery);\n};\n\nvar SET_CURRENT_CHANNEL = 'SET_CURRENT_CHANNEL';\nvar SET_CHANNEL_INVALID = 'SET_CHANNEL_INVALID';\nvar RESET_MESSAGES = 'RESET_MESSAGES';\nvar EXIT_CURRENT_CHANNEL = 'EXIT_CURRENT_CHANNEL';\nvar GET_PREV_MESSAGES_START = 'GET_PREV_MESSAGES_START';\nvar GET_PREV_MESSAGES_SUCESS = 'GET_PREV_MESSAGES_SUCESS';\nvar GET_PREV_MESSAGES_FAIL = 'GET_PREV_MESSAGES_FAIL';\nvar SENDING_MESSAGE_FAILED = 'SENDING_MESSAGE_FAILED';\nvar SENDING_MESSAGE_SUCCEEDED = 'SENDING_MESSAGE_SUCCEEDED';\nvar SENDING_MESSAGE_START = 'SENDING_MESSAGE_START';\nvar RESENDING_MESSAGE_START = 'RESENDING_MESSAGE_START';\nvar FETCH_PARTICIPANT_LIST = 'FETCH_PARTICIPANT_LIST';\nvar FETCH_BANNED_USER_LIST = 'FETCH_BANNED_USER_LIST';\nvar FETCH_MUTED_USER_LIST = 'FETCH_MUTED_USER_LIST';\nvar TRIM_MESSAGE_LIST = 'TRIM_MESSAGE_LIST';\n// event handlers\nvar ON_MESSAGE_RECEIVED = 'ON_MESSAGE_RECEIVED';\nvar ON_MESSAGE_UPDATED = 'ON_MESSAGE_UPDATED';\nvar ON_MESSAGE_DELETED = 'ON_MESSAGE_DELETED';\nvar ON_MESSAGE_DELETED_BY_REQ_ID = 'ON_MESSAGE_DELETED_BY_REQ_ID';\nvar ON_OPERATOR_UPDATED = 'ON_OPERATOR_UPDATED';\nvar ON_USER_ENTERED = 'ON_USER_ENTERED';\nvar ON_USER_EXITED = 'ON_USER_EXITED';\nvar ON_USER_MUTED = 'ON_USER_MUTED';\nvar ON_USER_UNMUTED = 'ON_USER_UNMUTED';\nvar ON_USER_BANNED = 'ON_USER_BANNED';\nvar ON_USER_UNBANNED = 'ON_USER_UNBANNED';\nvar ON_CHANNEL_FROZEN = 'ON_CHANNEL_FROZEN';\nvar ON_CHANNEL_UNFROZEN = 'ON_CHANNEL_UNFROZEN';\nvar ON_CHANNEL_CHANGED = 'ON_CHANNEL_CHANGED';\nvar ON_CHANNEL_DELETED = 'ON_CHANNEL_DELETED';\nvar ON_META_DATA_CREATED = 'ON_META_DATA_CREATED';\nvar ON_META_DATA_UPDATED = 'ON_META_DATA_UPDATED';\nvar ON_META_DATA_DELETED = 'ON_META_DATA_DELETED';\nvar ON_META_COUNTERS_CREATED = 'ON_META_COUNTERS_CREATED';\nvar ON_META_COUNTERS_UPDATED = 'ON_META_COUNTERS_UPDATED';\nvar ON_META_COUNTERS_DELETED = 'ON_META_COUNTERS_DELETED';\nvar ON_MENTION_RECEIVED = 'ON_MENTION_RECEIVED';\n\nfunction reducer(state, action) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    switch (action.type) {\n        case RESET_MESSAGES: {\n            return __assign(__assign({}, state), { allMessages: [] });\n        }\n        case EXIT_CURRENT_CHANNEL: {\n            if (((_a = action.payload) === null || _a === void 0 ? void 0 : _a.url) === ((_b = state.currentOpenChannel) === null || _b === void 0 ? void 0 : _b.url)) {\n                return __assign(__assign({}, state), { currentOpenChannel: null });\n            }\n            return state;\n        }\n        case SET_CURRENT_CHANNEL: {\n            var gottenChannel = action.payload;\n            var operators = gottenChannel.operators;\n            if (!state.isInvalid\n                && state.currentOpenChannel\n                && state.currentOpenChannel.url\n                && (state.currentOpenChannel.url === gottenChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { currentOpenChannel: gottenChannel, isInvalid: false, operators: operators, participants: operators, bannedParticipantIds: [], mutedParticipantIds: [] });\n        }\n        case SET_CHANNEL_INVALID: {\n            return __assign(__assign({}, state), { isInvalid: true });\n        }\n        case GET_PREV_MESSAGES_START: {\n            return __assign(__assign({}, state), { loading: true });\n        }\n        case GET_PREV_MESSAGES_SUCESS:\n        case GET_PREV_MESSAGES_FAIL: {\n            var isFailed = (action.type === GET_PREV_MESSAGES_FAIL);\n            var _j = action.payload, _k = _j.currentOpenChannel, currentOpenChannel = _k === void 0 ? {} : _k, _l = _j.messages, messages = _l === void 0 ? [] : _l, hasMore = _j.hasMore, lastMessageTimestamp = _j.lastMessageTimestamp;\n            var actionChannelUrl = currentOpenChannel.url;\n            var receivedMessages_1 = (isFailed ? [] : messages);\n            var _hasMore = isFailed ? false : hasMore;\n            var _lastMessageTimestamp = isFailed ? 0 : lastMessageTimestamp;\n            var stateChannel = state.currentOpenChannel;\n            var stateChannelUrl = stateChannel === null || stateChannel === void 0 ? void 0 : stateChannel.url;\n            if (actionChannelUrl !== stateChannelUrl) {\n                return state;\n            }\n            var filteredAllMessages = state.allMessages.filter(function (message) { return (!(receivedMessages_1.find(function (_a) {\n                var messageId = _a.messageId;\n                return compareIds(messageId, message.messageId);\n            }))); });\n            return __assign(__assign({}, state), { loading: false, initialized: true, hasMore: _hasMore, lastMessageTimestamp: _lastMessageTimestamp, allMessages: __spreadArray(__spreadArray([], receivedMessages_1, true), filteredAllMessages, true) });\n        }\n        case SENDING_MESSAGE_START: {\n            var _m = action.payload, message_1 = _m.message, channel = _m.channel;\n            if ((channel === null || channel === void 0 ? void 0 : channel.url) !== ((_c = state.currentOpenChannel) === null || _c === void 0 ? void 0 : _c.url)\n                || state.allMessages.some(function (m) { return m.reqId === message_1.reqId; })\n            // Handing failed first than sending start issue\n            ) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages, true), [\n                    message_1,\n                ], false) });\n        }\n        case SENDING_MESSAGE_SUCCEEDED: {\n            var sentMessage_1 = action.payload;\n            var newMessages = state.allMessages.map(function (m) { return (compareIds(m.reqId, sentMessage_1.reqId) ? sentMessage_1 : m); });\n            return __assign(__assign({}, state), { allMessages: newMessages });\n        }\n        case SENDING_MESSAGE_FAILED: {\n            var sentMessage_2 = action.payload;\n            sentMessage_2.sendingStatus = 'failed';\n            if (!(state.allMessages.some(function (m) { return (m === null || m === void 0 ? void 0 : m.reqId) === (sentMessage_2 === null || sentMessage_2 === void 0 ? void 0 : sentMessage_2.reqId); }))) {\n                // Handling failed first than sending start issue\n                return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages.filter(function (m) { return !compareIds(m.reqId, sentMessage_2); }), true), [\n                        sentMessage_2,\n                    ], false) });\n            }\n            else {\n                return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) { return (compareIds(m.reqId, sentMessage_2.reqId) ? sentMessage_2 : m); }) });\n            }\n        }\n        case TRIM_MESSAGE_LIST: {\n            var allMessages = state.allMessages;\n            var messageLimit = (_d = action.payload) === null || _d === void 0 ? void 0 : _d.messageLimit;\n            if (messageLimit\n                && messageLimit > 0\n                && (allMessages === null || allMessages === void 0 ? void 0 : allMessages.length) > messageLimit) {\n                var sliceAt = allMessages.length - messageLimit;\n                return __assign(__assign({}, state), { allMessages: allMessages.slice(sliceAt) });\n            }\n            return state;\n        }\n        case RESENDING_MESSAGE_START: {\n            var eventedChannel = action.payload.channel;\n            var resentMessage_1 = action.payload.message;\n            if (eventedChannel.url !== ((_e = state.currentOpenChannel) === null || _e === void 0 ? void 0 : _e.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (m) { return (compareIds(m.reqId, resentMessage_1.reqId) ? resentMessage_1 : m); }) });\n        }\n        case FETCH_PARTICIPANT_LIST: {\n            var eventedChannel = action.payload.channel;\n            var fetchedParticipantList = action.payload.users;\n            if (eventedChannel.url !== ((_f = state.currentOpenChannel) === null || _f === void 0 ? void 0 : _f.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { participants: __spreadArray(__spreadArray([], state.participants, true), fetchedParticipantList, true) });\n        }\n        case FETCH_BANNED_USER_LIST: {\n            var eventedChannel = action.payload.channel;\n            var fetchedBannedUserList = action.payload.users;\n            if ((eventedChannel.url !== ((_g = state.currentOpenChannel) === null || _g === void 0 ? void 0 : _g.url))\n                || !(fetchedBannedUserList.every(function (user) { return typeof user.userId === 'string'; }))) {\n                return state;\n            }\n            return __assign(__assign({}, state), { bannedParticipantIds: __spreadArray(__spreadArray([], state.bannedParticipantIds, true), fetchedBannedUserList.map(function (user) { return user.userId; }), true) });\n        }\n        case FETCH_MUTED_USER_LIST: {\n            var eventedChannel = action.payload.channel;\n            var fetchedMutedUserList = action.payload.users;\n            if ((eventedChannel.url !== ((_h = state.currentOpenChannel) === null || _h === void 0 ? void 0 : _h.url))\n                || !(fetchedMutedUserList.every(function (user) { return typeof user.userId === 'string'; }))) {\n                return state;\n            }\n            return __assign(__assign({}, state), { mutedParticipantIds: __spreadArray(__spreadArray([], state.mutedParticipantIds, true), fetchedMutedUserList.map(function (user) { return user.userId; }), true) });\n        }\n        // events\n        case ON_MESSAGE_RECEIVED: {\n            var eventedChannel = action.payload.channel;\n            var receivedMessage = action.payload.message;\n            var currentOpenChannel = state.currentOpenChannel;\n            if (!compareIds(eventedChannel.url, currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url)\n                || (!(state.allMessages.map(function (message) { return message.messageId; }).indexOf(receivedMessage.messageId) < 0))) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: __spreadArray(__spreadArray([], state.allMessages, true), [receivedMessage], false) });\n        }\n        case ON_MESSAGE_UPDATED: {\n            var eventedChannel = action.payload.channel;\n            var updatedMessage_1 = action.payload.message;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: state.allMessages.map(function (message) { return (message.isIdentical(updatedMessage_1)\n                    ? updatedMessage_1\n                    : message); }) });\n        }\n        case ON_MESSAGE_DELETED: {\n            var eventedChannel = action.payload.channel;\n            var deletedMessageId_1 = action.payload.messageId;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (message) { return (!compareIds(message.messageId, deletedMessageId_1)); }) });\n        }\n        case ON_MESSAGE_DELETED_BY_REQ_ID: {\n            return __assign(__assign({}, state), { allMessages: state.allMessages.filter(function (m) { return (!compareIds(m.reqId, action.payload)); }) });\n        }\n        case ON_OPERATOR_UPDATED: {\n            var eventedChannel = action.payload.channel;\n            var updatedOperators = action.payload.operators;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { currentOpenChannel: eventedChannel, operators: updatedOperators });\n        }\n        case ON_USER_ENTERED: {\n            var eventedChannel = action.payload.channel;\n            var enteredUser = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { participants: __spreadArray(__spreadArray([], state.participants, true), [enteredUser], false) });\n        }\n        case ON_USER_EXITED: {\n            var eventedChannel = action.payload.channel;\n            var exitedUser_1 = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== eventedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { participants: state.participants.filter(function (participant) { return (!compareIds(participant.userId, exitedUser_1.userId)); }) });\n        }\n        case ON_USER_MUTED: {\n            var eventedChannel = action.payload.channel;\n            var mutedUser = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel\n                || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n                || state.mutedParticipantIds.indexOf(mutedUser.userId) >= 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { mutedParticipantIds: __spreadArray(__spreadArray([], state.mutedParticipantIds, true), [mutedUser.userId], false) });\n        }\n        case ON_USER_UNMUTED: {\n            var eventedChannel = action.payload.channel;\n            var unmutedUser_1 = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel\n                || (currentChannel.url && (currentChannel.url !== eventedChannel.url))\n                || state.mutedParticipantIds.indexOf(unmutedUser_1.userId) < 0) {\n                return state;\n            }\n            return __assign(__assign({}, state), { mutedParticipantIds: state.mutedParticipantIds.filter(function (userId) { return userId !== unmutedUser_1.userId; }) });\n        }\n        case ON_USER_BANNED: {\n            var eventedChannel = action.payload.channel;\n            var bannedUser = action.payload.user;\n            var currentUser = action.payload.currentUser;\n            var currentChannel = state.currentOpenChannel;\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (eventedChannel === null || eventedChannel === void 0 ? void 0 : eventedChannel.url) && (bannedUser === null || bannedUser === void 0 ? void 0 : bannedUser.userId) === (currentUser === null || currentUser === void 0 ? void 0 : currentUser.userId)) {\n                return __assign(__assign({}, state), { currentOpenChannel: null });\n            }\n            else if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (eventedChannel === null || eventedChannel === void 0 ? void 0 : eventedChannel.url)) {\n                return __assign(__assign({}, state), { bannedParticipantIds: __spreadArray(__spreadArray([], state.bannedParticipantIds, true), [bannedUser.userId], false) });\n            }\n            return state;\n        }\n        case ON_USER_UNBANNED: {\n            var eventedChannel = action.payload.channel;\n            var unbannedUser_1 = action.payload.user;\n            var currentChannel = state.currentOpenChannel;\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === (eventedChannel === null || eventedChannel === void 0 ? void 0 : eventedChannel.url)) {\n                return __assign(__assign({}, state), { bannedParticipantIds: state.bannedParticipantIds.filter(function (userId) { return userId !== unbannedUser_1.userId; }) });\n            }\n            return state;\n        }\n        case ON_CHANNEL_FROZEN: {\n            var frozenChannel = action.payload;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== frozenChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { frozen: true });\n        }\n        case ON_CHANNEL_UNFROZEN: {\n            var unfrozenChannel = action.payload;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== unfrozenChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { frozen: false });\n        }\n        case ON_CHANNEL_CHANGED: {\n            var changedChannel = action.payload;\n            var currentChannel = state.currentOpenChannel;\n            if (!currentChannel || currentChannel.url && (currentChannel.url !== changedChannel.url)) {\n                return state;\n            }\n            return __assign(__assign({}, state), { currentOpenChannel: changedChannel });\n        }\n        case ON_CHANNEL_DELETED: {\n            var deletedChannelUrl = action.payload;\n            var currentChannel = state === null || state === void 0 ? void 0 : state.currentOpenChannel;\n            if ((currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) === deletedChannelUrl) {\n                return __assign(__assign({}, state), { currentOpenChannel: null });\n            }\n            return state;\n        }\n        case ON_META_DATA_CREATED: {\n            // const eventedChannel = action.payload.channel;\n            // const createdMetaData = action.payload.metaData;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_DATA_UPDATED: {\n            // const eventedChannel = action.payload.channel;\n            // const updatedMetaData = action.payload.metaData;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_DATA_DELETED: {\n            // const eventedChannel = action.payload.channel;\n            // const deletedMetaDataKeys = action.payload.metaDataKeys;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_COUNTERS_CREATED: {\n            // const eventedChannel = action.payload.channel;\n            // const createdMetaCounter = action.payload.metaCounter;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_COUNTERS_UPDATED: {\n            // const eventedChannel = action.payload.channel;\n            // const updatedMetaCounter = action.payload.metaCounter;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_META_COUNTERS_DELETED: {\n            // const eventedChannel = action.payload.channel;\n            // const deletedMetaCounterKeys = action.payload.metaCounterKeys;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        case ON_MENTION_RECEIVED: {\n            // const eventedChannel = action.payload.channel;\n            // const mentionedMessage = action.payload.message;\n            // return {\n            //   ...state\n            // };\n            return state;\n        }\n        default:\n            return state;\n    }\n}\n\nvar initialState = {\n    allMessages: [],\n    loading: false,\n    initialized: false,\n    currentOpenChannel: null,\n    isInvalid: false,\n    hasMore: false,\n    lastMessageTimestamp: 0,\n    frozen: false,\n    operators: [],\n    participants: [],\n    bannedParticipantIds: [],\n    mutedParticipantIds: [],\n};\n\nfunction useSetChannel(_a, _b) {\n    var channelUrl = _a.channelUrl, sdkInit = _a.sdkInit, fetchingParticipants = _a.fetchingParticipants, userId = _a.userId, currentOpenChannel = _a.currentOpenChannel;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    useEffect(function () {\n        var _a;\n        if (channelUrl && sdkInit && (sdk === null || sdk === void 0 ? void 0 : sdk.openChannel)) {\n            if (currentOpenChannel && (currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.exit)) {\n                (_a = currentOpenChannel.exit) === null || _a === void 0 ? void 0 : _a.call(currentOpenChannel).then(function () {\n                    logger.info('OpenChannel | useSetChannel: Exit from the previous open channel', currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url);\n                    messagesDispatcher({\n                        type: EXIT_CURRENT_CHANNEL,\n                        payload: currentOpenChannel,\n                    });\n                });\n            }\n            logger.info('OpenChannel | useSetChannel: Fetching channel', channelUrl);\n            sdk.openChannel.getChannel(channelUrl).then(function (openChannel) {\n                logger.info('OpenChannel | useSetChannel: Succeeded to fetch channel', openChannel);\n                messagesDispatcher({\n                    type: SET_CURRENT_CHANNEL,\n                    payload: openChannel,\n                });\n                openChannel.enter().then(function () {\n                    if (openChannel.isOperator(userId)) { // only operator has a permission to fetch these list\n                        var bannedParticipantListQuery = openChannel.createBannedUserListQuery();\n                        var mutedParticipantListQuery = openChannel.createMutedUserListQuery();\n                        fetchWithListQuery(bannedParticipantListQuery, logger, function (users) {\n                            messagesDispatcher({\n                                type: FETCH_BANNED_USER_LIST,\n                                payload: {\n                                    channel: openChannel,\n                                    users: users,\n                                },\n                            });\n                        });\n                        fetchWithListQuery(mutedParticipantListQuery, logger, function (users) {\n                            messagesDispatcher({\n                                type: FETCH_MUTED_USER_LIST,\n                                payload: {\n                                    channel: openChannel,\n                                    users: users,\n                                },\n                            });\n                        });\n                    }\n                    else {\n                        openChannel.getMyMutedInfo()\n                            .then(function (mutedInfo) {\n                            if (mutedInfo === null || mutedInfo === void 0 ? void 0 : mutedInfo.isMuted) {\n                                messagesDispatcher({\n                                    type: FETCH_MUTED_USER_LIST,\n                                    payload: {\n                                        channel: openChannel,\n                                        users: [sdk === null || sdk === void 0 ? void 0 : sdk.currentUser],\n                                    },\n                                });\n                            }\n                        });\n                    }\n                    if (fetchingParticipants) {\n                        // fetch participants list\n                        var participantListQuery = openChannel.createParticipantListQuery({\n                            limit: openChannel.participantCount,\n                        });\n                        fetchWithListQuery(participantListQuery, logger, function (users) {\n                            messagesDispatcher({\n                                type: FETCH_PARTICIPANT_LIST,\n                                payload: {\n                                    channel: openChannel,\n                                    users: users,\n                                },\n                            });\n                        });\n                    }\n                }).catch(function (error) {\n                    logger.warning('OpenChannel | useSetChannel: Failed to enter channel', { channelUrl: channelUrl, error: error });\n                    messagesDispatcher({\n                        type: SET_CHANNEL_INVALID,\n                        payload: null,\n                    });\n                });\n            }).catch(function (error) {\n                logger.warning('OpenChannel | useSetChannel: Failed to fetch channel', { channelUrl: channelUrl, error: error });\n                messagesDispatcher({\n                    type: SET_CHANNEL_INVALID,\n                    payload: null,\n                });\n            });\n        }\n    }, [channelUrl, sdkInit, fetchingParticipants]);\n}\n\nfunction useHandleChannelEvents(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, checkScrollBottom = _a.checkScrollBottom;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    useEffect(function () {\n        var _a, _b;\n        var messageReceiverId = uuidv4();\n        if (currentOpenChannel && currentOpenChannel.url && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.addOpenChannelHandler)) {\n            logger.info('OpenChannel | useHandleChannelEvents: Setup evnet handler', messageReceiverId);\n            var channelHandlerParams = {\n                onMessageReceived: function (channel, message) {\n                    var scrollToEnd = checkScrollBottom();\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMessageReceived', { channelUrl: channelUrl, message: message });\n                    messagesDispatcher({\n                        type: ON_MESSAGE_RECEIVED,\n                        payload: { channel: channel, message: message },\n                    });\n                    if (scrollToEnd) {\n                        try {\n                            setTimeout(function () {\n                                scrollIntoLast(0, scrollRef);\n                            });\n                        }\n                        catch (error) {\n                            logger.warning('OpenChannel | onMessageReceived | scroll to end failed');\n                        }\n                    }\n                },\n                onMessageUpdated: function (channel, message) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMessageUpdated', { channelUrl: channelUrl, message: message });\n                    messagesDispatcher({\n                        type: ON_MESSAGE_UPDATED,\n                        payload: { channel: channel, message: message },\n                    });\n                },\n                onMessageDeleted: function (channel, messageId) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMessageDeleted', { channelUrl: channelUrl, messageId: messageId });\n                    messagesDispatcher({\n                        type: ON_MESSAGE_DELETED,\n                        payload: { channel: channel, messageId: messageId },\n                    });\n                },\n                onOperatorUpdated: function (channel, operators) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onOperatorUpdated', { channelUrl: channelUrl, operators: operators });\n                    messagesDispatcher({\n                        type: ON_OPERATOR_UPDATED,\n                        payload: { channel: channel, operators: operators },\n                    });\n                },\n                onUserEntered: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserEntered', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_ENTERED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserExited: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserExited', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_EXITED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserMuted: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserMuted', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_MUTED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserUnmuted: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserUnmuted', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_UNMUTED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onUserBanned: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserBanned', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_BANNED,\n                        payload: { channel: channel, user: user, currentUser: sdk === null || sdk === void 0 ? void 0 : sdk.currentUser },\n                    });\n                },\n                onUserUnbanned: function (channel, user) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onUserUnbanned', { channelUrl: channelUrl, user: user });\n                    messagesDispatcher({\n                        type: ON_USER_UNBANNED,\n                        payload: { channel: channel, user: user },\n                    });\n                },\n                onChannelFrozen: function (channel) {\n                    logger.info('OpenChannel | useHandleChannelEvents: onChannelFrozen', channel);\n                    messagesDispatcher({\n                        type: ON_CHANNEL_FROZEN,\n                        payload: channel,\n                    });\n                },\n                onChannelUnfrozen: function (channel) {\n                    logger.info('OpenChannel | useHandleChannelEvents: onChannelUnfrozen', channel);\n                    messagesDispatcher({\n                        type: ON_CHANNEL_UNFROZEN,\n                        payload: channel,\n                    });\n                },\n                onChannelChanged: function (channel) {\n                    logger.info('OpenChannel | useHandleChannelEvents: onChannelChanged', channel);\n                    messagesDispatcher({\n                        type: ON_CHANNEL_CHANGED,\n                        payload: channel,\n                    });\n                },\n                onMetaDataCreated: function (channel, metaData) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaDataCreated', { channelUrl: channelUrl, metaData: metaData });\n                    messagesDispatcher({\n                        type: ON_META_DATA_CREATED,\n                        payload: { channel: channel, metaData: metaData },\n                    });\n                },\n                onMetaDataUpdated: function (channel, metaData) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaDataUpdated', { channelUrl: channelUrl, metaData: metaData });\n                    messagesDispatcher({\n                        type: ON_META_DATA_UPDATED,\n                        payload: { channel: channel, metaData: metaData },\n                    });\n                },\n                onMetaDataDeleted: function (channel, metaDataKeys) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaDataDeleted', { channelUrl: channelUrl, metaDataKeys: metaDataKeys });\n                    messagesDispatcher({\n                        type: ON_META_DATA_DELETED,\n                        payload: { channel: channel, metaDataKeys: metaDataKeys },\n                    });\n                },\n                onMetaCounterCreated: function (channel, metaCounter) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersCreated', { channelUrl: channelUrl, metaCounter: metaCounter });\n                    messagesDispatcher({\n                        type: ON_META_COUNTERS_CREATED,\n                        payload: { channel: channel, metaCounter: metaCounter },\n                    });\n                },\n                onMetaCounterUpdated: function (channel, metaCounter) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersUpdated', { channelUrl: channelUrl, metaCounter: metaCounter });\n                    messagesDispatcher({\n                        type: ON_META_COUNTERS_UPDATED,\n                        payload: { channel: channel, metaCounter: metaCounter },\n                    });\n                },\n                onMetaCounterDeleted: function (channel, metaCounterKeys) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMetaCountersDeleted', { channelUrl: channelUrl, metaCounterKeys: metaCounterKeys });\n                    messagesDispatcher({\n                        type: ON_META_COUNTERS_DELETED,\n                        payload: { channel: channel, metaCounterKeys: metaCounterKeys },\n                    });\n                },\n                onMentionReceived: function (channel, message) {\n                    var channelUrl = channel === null || channel === void 0 ? void 0 : channel.url;\n                    logger.info('OpenChannel | useHandleChannelEvents: onMentionReceived', { channelUrl: channelUrl, message: message });\n                    messagesDispatcher({\n                        type: ON_MENTION_RECEIVED,\n                        payload: { channel: channel, message: message },\n                    });\n                },\n                onChannelDeleted: function (channelUrl, channelType) {\n                    if (channelType === ChannelType.OPEN && (currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.url) === channelUrl) {\n                        messagesDispatcher({\n                            type: ON_CHANNEL_DELETED,\n                            payload: channelUrl,\n                        });\n                    }\n                },\n            };\n            var ChannelHandler = new OpenChannelHandler(channelHandlerParams);\n            (_b = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _b === void 0 ? void 0 : _b.addOpenChannelHandler(messageReceiverId, ChannelHandler);\n        }\n        return function () {\n            var _a;\n            if ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.removeOpenChannelHandler) {\n                logger.info('OpenChannel | useHandleChannelEvents: Removing message receiver handler', messageReceiverId);\n                sdk.openChannel.removeOpenChannelHandler(messageReceiverId);\n            }\n        };\n    }, [currentOpenChannel]);\n}\n\nfunction useInitialMessagesFetch(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, userFilledMessageListParams = _a.userFilledMessageListParams;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    useEffect(function () {\n        logger.info('OpenChannel | useInitialMessagesFetch: Setup started', currentOpenChannel);\n        messagesDispatcher({\n            type: RESET_MESSAGES,\n            payload: null,\n        });\n        if (currentOpenChannel && currentOpenChannel.getMessagesByTimestamp) {\n            var messageListParams_1 = {\n                nextResultSize: 0,\n                prevResultSize: 30,\n                isInclusive: true,\n                includeReactions: false,\n            };\n            if (userFilledMessageListParams) {\n                Object.keys(userFilledMessageListParams).forEach(function (key) {\n                    // @ts-ignore\n                    messageListParams_1[key] = userFilledMessageListParams[key];\n                });\n                logger.info('OpenChannel | useInitialMessagesFetch: Used customizedMessageListParams');\n            }\n            logger.info('OpenChannel | useInitialMessagesFetch: Fetching messages', { currentOpenChannel: currentOpenChannel, messageListParams: messageListParams_1 });\n            messagesDispatcher({\n                type: GET_PREV_MESSAGES_START,\n                payload: null,\n            });\n            currentOpenChannel.getMessagesByTimestamp(new Date().getTime(), messageListParams_1).then(function (messages) {\n                logger.info('OpenChannel | useInitialMessagesFetch: Fetching messages succeeded', messages);\n                var hasMore = (messages && messages.length > 0);\n                var lastMessageTimestamp = hasMore ? messages[0].createdAt : null;\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_SUCESS,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: messages,\n                        hasMore: hasMore,\n                        lastMessageTimestamp: lastMessageTimestamp,\n                    },\n                });\n                setTimeout(function () { scrollIntoLast(0, scrollRef); });\n            }).catch(function (error) {\n                logger.error('OpenChannel | useInitialMessagesFetch: Fetching messages failed', error);\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_FAIL,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: [],\n                        hasMore: false,\n                        lastMessageTimestamp: 0,\n                    },\n                });\n            });\n        }\n    }, [currentOpenChannel, userFilledMessageListParams]);\n}\n\nfunction useScrollCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, lastMessageTimestamp = _a.lastMessageTimestamp, fetchMore = _a.fetchMore;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, hasMore = _b.hasMore, userFilledMessageListParams = _b.userFilledMessageListParams;\n    return useCallback(function (callback) {\n        if (fetchMore && hasMore) {\n            logger.info('OpenChannel | useScrollCallback: start');\n            var messageListParams_1 = {\n                prevResultSize: 30,\n                includeReactions: false,\n                nextResultSize: 0,\n            };\n            if (userFilledMessageListParams) {\n                Object.keys(userFilledMessageListParams).forEach(function (key) {\n                    // @ts-ignore\n                    messageListParams_1[key] = userFilledMessageListParams[key];\n                });\n                logger.info('OpenChannel | useScrollCallback: Used userFilledMessageListParams', userFilledMessageListParams);\n            }\n            logger.info('OpenChannel | useScrollCallback: Fetching messages', { currentOpenChannel: currentOpenChannel, messageListParams: messageListParams_1 });\n            currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.getMessagesByTimestamp(lastMessageTimestamp || new Date().getTime(), messageListParams_1).then(function (messages) {\n                logger.info('OpenChannel | useScrollCallback: Fetching messages succeeded', messages);\n                var hasMore = (messages && messages.length > 0);\n                var lastMessageTimestamp = hasMore ? messages[0].createdAt : null;\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_SUCESS,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: messages,\n                        hasMore: hasMore,\n                        lastMessageTimestamp: lastMessageTimestamp,\n                    },\n                });\n                setTimeout(function () {\n                    callback();\n                });\n            }).catch(function (error) {\n                logger.error('OpenChannel | useScrollCallback: Fetching messages failed', error);\n                messagesDispatcher({\n                    type: GET_PREV_MESSAGES_FAIL,\n                    payload: {\n                        currentOpenChannel: currentOpenChannel,\n                        messages: [],\n                        hasMore: false,\n                        lastMessageTimestamp: 0,\n                    },\n                });\n            });\n        }\n    }, [currentOpenChannel, lastMessageTimestamp, fetchMore, sdk]);\n}\n\nfunction useCheckScrollBottom(_a, _b) {\n    var conversationScrollRef = _a.conversationScrollRef;\n    var logger = _b.logger;\n    return useCallback(function () {\n        var isBottom = true;\n        if (conversationScrollRef && (conversationScrollRef === null || conversationScrollRef === void 0 ? void 0 : conversationScrollRef.current)) {\n            try {\n                var conversationScroll = conversationScrollRef.current;\n                isBottom = conversationScroll.scrollHeight <= conversationScroll.scrollTop + conversationScroll.clientHeight;\n            }\n            catch (error) {\n                logger.error('OpenChannel | useCheckScrollBottom', error);\n            }\n        }\n        return isBottom;\n    }, [conversationScrollRef]);\n}\n\nfunction useSendMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage, messageInputRef = _a.messageInputRef;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    return useCallback(function () {\n        var _a;\n        if (sdk) {\n            var text = (_a = messageInputRef.current) === null || _a === void 0 ? void 0 : _a.innerText;\n            var createParamsDefault = function (txt) {\n                var message = txt;\n                var params = {\n                    message: message,\n                };\n                return params;\n            };\n            var createCustomParams = onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function';\n            if (createCustomParams) {\n                logger.info('OpenChannel | useSendMessageCallback: Creating params using onBeforeSendUserMessage', onBeforeSendUserMessage);\n            }\n            var params = onBeforeSendUserMessage ? onBeforeSendUserMessage(text !== null && text !== void 0 ? text : '') : createParamsDefault(text !== null && text !== void 0 ? text : '');\n            logger.info('OpenChannel | useSendMessageCallback: Sending message has started', params);\n            var pendingMsg_1;\n            currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.sendUserMessage(params).onPending(function (pendingMessage) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_START,\n                    payload: {\n                        message: pendingMessage,\n                        channel: currentOpenChannel,\n                    },\n                });\n                pendingMsg_1 = pendingMessage;\n                setTimeout(function () { return scrollIntoLast(0, scrollRef); });\n            }).onSucceeded(function (message) {\n                logger.info('OpenChannel | useSendMessageCallback: Sending message succeeded', message);\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_SUCCEEDED,\n                    payload: message,\n                });\n            }).onFailed(function (error) {\n                logger.warning('OpenChannel | useSendMessageCallback: Sending message failed', error);\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_FAILED,\n                    payload: pendingMsg_1,\n                });\n                // https://sendbird.com/docs/chat/v3/javascript/guides/error-codes#2-server-error-codes\n                // TODO: Do we need to handle the error cases?\n                // @ts-ignore\n                if ((error === null || error === void 0 ? void 0 : error.code) === 900041) {\n                    messagesDispatcher({\n                        type: ON_USER_MUTED,\n                        payload: {\n                            channel: currentOpenChannel,\n                            user: sdk.currentUser,\n                        },\n                    });\n                }\n            });\n        }\n    }, [currentOpenChannel, onBeforeSendUserMessage, messageInputRef]);\n}\n\nfunction useFileUploadCallback(_a, _b) {\n    var _this = this;\n    var currentOpenChannel = _a.currentOpenChannel, _c = _a.imageCompression, imageCompression = _c === void 0 ? {} : _c, onBeforeSendFileMessage = _a.onBeforeSendFileMessage;\n    var sdk = _b.sdk, logger = _b.logger, messagesDispatcher = _b.messagesDispatcher, scrollRef = _b.scrollRef;\n    var stringSet = useLocalization().stringSet;\n    var openModal = useGlobalModalContext().openModal;\n    var config = useSendbirdStateContext().config;\n    var uikitUploadSizeLimit = config.uikitUploadSizeLimit;\n    return useCallback(function (files) { return __awaiter(_this, void 0, void 0, function () {\n        var file_1, createCustomParams, createParamsDefault, compressedFiles, compressedFile, params;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!sdk) return [3 /*break*/, 2];\n                    file_1 = Array.isArray(files) ? files[0] : files;\n                    createCustomParams = onBeforeSendFileMessage && typeof onBeforeSendFileMessage === 'function';\n                    createParamsDefault = function (file) {\n                        var params = {};\n                        params.file = file;\n                        return params;\n                    };\n                    /**\n                     * Validate file sizes\n                     * The default value of uikitUploadSizeLimit is 25MiB\n                     */\n                    if (file_1.size > uikitUploadSizeLimit) {\n                        logger.info(\"OpenChannel | useFileUploadCallback: Cannot upload file size exceeding \".concat(uikitUploadSizeLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace('%d', \"\".concat(Math.floor(uikitUploadSizeLimit / ONE_MiB))),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, compressImages({\n                            files: [file_1],\n                            imageCompression: imageCompression,\n                            logger: logger,\n                        })];\n                case 1:\n                    compressedFiles = (_a.sent()).compressedFiles;\n                    compressedFile = compressedFiles[0];\n                    // Send FileMessage\n                    if (createCustomParams) {\n                        logger.info('OpenChannel | useFileUploadCallback: Creating params using onBeforeSendFileMessage', onBeforeSendFileMessage);\n                    }\n                    params = onBeforeSendFileMessage ? onBeforeSendFileMessage(compressedFile) : createParamsDefault(compressedFile);\n                    logger.info('OpenChannel | useFileUploadCallback: Uploading file message start', params);\n                    currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.sendFileMessage(params).onPending(function (pendingMessage) {\n                        messagesDispatcher({\n                            type: SENDING_MESSAGE_START,\n                            payload: {\n                                // TODO: remove data pollution\n                                message: __assign(__assign({}, pendingMessage), { url: URL.createObjectURL(file_1), \n                                    // pending thumbnail message seems to be failed\n                                    requestState: 'pending', isUserMessage: pendingMessage.isUserMessage, isFileMessage: pendingMessage.isFileMessage, isAdminMessage: pendingMessage.isAdminMessage, isMultipleFilesMessage: pendingMessage.isMultipleFilesMessage }),\n                                channel: currentOpenChannel,\n                            },\n                        });\n                        setTimeout(function () { return scrollIntoLast(0, scrollRef); });\n                    }).onSucceeded(function (message) {\n                        logger.info('OpenChannel | useFileUploadCallback: Sending message succeeded', message);\n                        messagesDispatcher({\n                            type: SENDING_MESSAGE_SUCCEEDED,\n                            payload: message,\n                        });\n                    }).onFailed(function (error, message) {\n                        logger.error('OpenChannel | useFileUploadCallback: Sending file message failed', { message: message, error: error });\n                        // @ts-ignore\n                        message.localUrl = URL.createObjectURL(file_1);\n                        // @ts-ignore\n                        message.file = file_1;\n                        messagesDispatcher({\n                            type: SENDING_MESSAGE_FAILED,\n                            payload: message,\n                        });\n                    });\n                    _a.label = 2;\n                case 2: return [2 /*return*/];\n            }\n        });\n    }); }, [currentOpenChannel, onBeforeSendFileMessage, imageCompression]);\n}\n\nfunction useUpdateMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel, onBeforeSendUserMessage = _a.onBeforeSendUserMessage;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    return useCallback(function (messageId, text, callback) {\n        var createParamsDefault = function (txt) {\n            return {\n                message: txt,\n            };\n        };\n        if (onBeforeSendUserMessage && typeof onBeforeSendUserMessage === 'function') {\n            logger.info('OpenChannel | useUpdateMessageCallback: Creating params using onBeforeUpdateUserMessage');\n        }\n        var params = onBeforeSendUserMessage ? onBeforeSendUserMessage(text) : createParamsDefault(text);\n        currentOpenChannel.updateUserMessage(messageId, params)\n            .then(function (message) {\n            if (callback) {\n                callback();\n            }\n            logger.info('OpenChannel | useUpdateMessageCallback: Updating message succeeded', { message: message, params: params });\n            messagesDispatcher({\n                type: ON_MESSAGE_UPDATED,\n                payload: {\n                    channel: currentOpenChannel,\n                    message: message,\n                },\n            });\n        });\n    }, [currentOpenChannel, onBeforeSendUserMessage]);\n}\n\nfunction useDeleteMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    return useCallback(function (message, callback) {\n        logger.info('OpenChannel | useDeleteMessageCallback: Deleting message', message);\n        var sendingStatus = message.sendingStatus;\n        logger.info('OpenChannel | useDeleteMessageCallback: Deleting message requestState', sendingStatus);\n        if (sendingStatus === 'failed' || sendingStatus === 'pending') {\n            logger.info('OpenChannel | useDeleteMessageCallback: Deleted message from local', message);\n            messagesDispatcher({\n                type: ON_MESSAGE_DELETED_BY_REQ_ID,\n                payload: message.reqId,\n            });\n            if (callback) {\n                callback();\n            }\n        }\n        else {\n            if (!(message.messageType === 'file' || message.messageType === 'user')) {\n                return;\n            }\n            var messageToDelete = message;\n            currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.deleteMessage(messageToDelete).then(function () {\n                logger.info('OpenChannel | useDeleteMessageCallback: Deleting message on server', sendingStatus);\n                if (callback) {\n                    callback();\n                }\n                logger.info('OpenChannel | useDeleteMessageCallback: Deleting message succeeded', message);\n                messagesDispatcher({\n                    type: ON_MESSAGE_DELETED,\n                    payload: {\n                        channel: currentOpenChannel,\n                        messageId: message.messageId,\n                    },\n                });\n            }).catch(function (error) {\n                logger.warning('OpenChannel | useDeleteMessageCallback: Deleting message failed', error);\n            });\n        }\n    }, [currentOpenChannel]);\n}\n\nfunction useResendMessageCallback(_a, _b) {\n    var currentOpenChannel = _a.currentOpenChannel;\n    var logger = _b.logger, messagesDispatcher = _b.messagesDispatcher;\n    return useCallback(function (failedMessage) {\n        logger.info('OpenChannel | useResendMessageCallback: Resending message has started', failedMessage);\n        if (typeof (failedMessage === null || failedMessage === void 0 ? void 0 : failedMessage.isResendable) === 'boolean'\n            && failedMessage.isResendable) {\n            // userMessage\n            if (failedMessage.isUserMessage()) {\n                currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.resendMessage(failedMessage).onPending(function (message) {\n                    messagesDispatcher({\n                        type: RESENDING_MESSAGE_START,\n                        payload: {\n                            channel: currentOpenChannel,\n                            message: message,\n                        },\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('OpenChannel | useResendMessageCallback: Reseding message succeeded', message);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_SUCCEEDED,\n                        payload: message,\n                    });\n                }).onFailed(function (error, message) {\n                    logger.warning('OpenChannel | useResendMessageCallback: Resending message failed', error);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_FAILED,\n                        payload: message,\n                    });\n                });\n            }\n            // fileMessage\n            if (failedMessage.isFileMessage()) {\n                currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.resendMessage(failedMessage).onPending(function (message) {\n                    messagesDispatcher({\n                        type: RESENDING_MESSAGE_START,\n                        payload: {\n                            channel: currentOpenChannel,\n                            message: message,\n                        },\n                    });\n                }).onSucceeded(function (message) {\n                    logger.info('OpenChannel | useResendMessageCallback: Resending file message succeeded', message);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_SUCCEEDED,\n                        payload: message,\n                    });\n                }).onFailed(function (error, message) {\n                    logger.warning('OpenChannel | useResendMessageCallback: Resending file message failed', error);\n                    messagesDispatcher({\n                        type: SENDING_MESSAGE_FAILED,\n                        payload: message,\n                    });\n                });\n            }\n        }\n        else {\n            // to alert user on console\n            // eslint-disable-next-line no-console\n            console.error('OpenChannel | useResendMessageCallback: Message is not resendable');\n            logger.warning('OpenChannel | useResendMessageCallback: Message is not resendable', failedMessage);\n        }\n    }, [currentOpenChannel]);\n}\n\nvar THROTTLE_TIMER = 5000;\n// to trim message list so that we wont keep thousands of messages in memory\n// We are throttling here; not debouncing\n// it will be called once very 5 sec if messagesLength, messageLimit changes\n// we check if messagesLength > messageLimit before dispatching action\nfunction useTrimMessageList(_a, _b) {\n    var messagesLength = _a.messagesLength, messageLimit = _a.messageLimit;\n    var messagesDispatcher = _b.messagesDispatcher, logger = _b.logger;\n    var _c = useState(false), inProgress = _c[0], setInProgress = _c[1];\n    useEffect(function () {\n        if (inProgress) {\n            return;\n        }\n        if (typeof messagesLength === 'number' && typeof messageLimit === 'number' && messagesLength > messageLimit) {\n            logger.info('Trimming MessageList');\n            messagesDispatcher({\n                type: TRIM_MESSAGE_LIST,\n                payload: { messageLimit: messageLimit },\n            });\n        }\n        setInProgress(true);\n        setTimeout(function () { setInProgress(false); }, THROTTLE_TIMER);\n    }, [messagesLength, messageLimit]);\n}\n\nvar OpenChannelContext = React__default.createContext(null);\nvar OpenChannelProvider = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    var channelUrl = props.channelUrl, children = props.children, _h = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _h === void 0 ? true : _h, queries = props.queries, onBeforeSendUserMessage = props.onBeforeSendUserMessage, messageLimit = props.messageLimit, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onChatHeaderActionClick = props.onChatHeaderActionClick, onBackClick = props.onBackClick, disableUserProfile = props.disableUserProfile, renderUserProfile = props.renderUserProfile;\n    // We didn't decide to support fetching participant list\n    var fetchingParticipants = false;\n    var globalStore = useSendbirdStateContext();\n    var sdk = (_b = (_a = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _a === void 0 ? void 0 : _a.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk;\n    var sdkInit = (_d = (_c = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _c === void 0 ? void 0 : _c.sdkStore) === null || _d === void 0 ? void 0 : _d.initialized;\n    var user = (_f = (_e = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _e === void 0 ? void 0 : _e.userStore) === null || _f === void 0 ? void 0 : _f.user;\n    var config = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config;\n    var userId = config.userId, isOnline = config.isOnline, logger = config.logger, pubSub = config.pubSub, imageCompression = config.imageCompression;\n    // hook variables\n    var _j = useReducer(reducer, initialState), messagesStore = _j[0], messagesDispatcher = _j[1];\n    var allMessages = messagesStore.allMessages, loading = messagesStore.loading, initialized = messagesStore.initialized, currentOpenChannel = messagesStore.currentOpenChannel, isInvalid = messagesStore.isInvalid, hasMore = messagesStore.hasMore, lastMessageTimestamp = messagesStore.lastMessageTimestamp, operators = messagesStore.operators, bannedParticipantIds = messagesStore.bannedParticipantIds, mutedParticipantIds = messagesStore.mutedParticipantIds;\n    // ref\n    var messageInputRef = useRef(null); // useSendMessageCallback\n    var conversationScrollRef = useRef(null); // useScrollAfterSendMessageCallback\n    // const\n    var userFilledMessageListParams = queries === null || queries === void 0 ? void 0 : queries.messageListParams;\n    var disabled = !initialized\n        || !isOnline\n        || isDisabledBecauseFrozen(currentOpenChannel, userId)\n        || isDisabledBecauseMuted(mutedParticipantIds, userId);\n    // useMemo\n    var amIBanned = useMemo(function () {\n        return bannedParticipantIds.indexOf(user.userId) >= 0;\n    }, [channelUrl, bannedParticipantIds, user]);\n    var amIMuted = useMemo(function () {\n        return mutedParticipantIds.indexOf(user.userId) >= 0;\n    }, [channelUrl, mutedParticipantIds, user]);\n    var amIOperator = useMemo(function () {\n        return operators.map(function (operator) { return operator.userId; }).indexOf(user.userId) >= 0;\n    }, [channelUrl, operators, user]);\n    // use hooks\n    useSetChannel({ channelUrl: channelUrl, sdkInit: sdkInit, fetchingParticipants: fetchingParticipants, userId: userId, currentOpenChannel: currentOpenChannel }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher });\n    var checkScrollBottom = useCheckScrollBottom({ conversationScrollRef: conversationScrollRef }, { logger: logger });\n    useHandleChannelEvents({ currentOpenChannel: currentOpenChannel, checkScrollBottom: checkScrollBottom }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    useInitialMessagesFetch({ currentOpenChannel: currentOpenChannel, userFilledMessageListParams: userFilledMessageListParams }, { logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    var fetchMore = shouldFetchMore(allMessages === null || allMessages === void 0 ? void 0 : allMessages.length, messageLimit);\n    // do not fetch more for streaming\n    var onScroll = useScrollCallback({ currentOpenChannel: currentOpenChannel, lastMessageTimestamp: lastMessageTimestamp, fetchMore: fetchMore }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, hasMore: hasMore, userFilledMessageListParams: userFilledMessageListParams });\n    var handleSendMessage = useSendMessageCallback({ currentOpenChannel: currentOpenChannel, onBeforeSendUserMessage: onBeforeSendUserMessage, checkScrollBottom: checkScrollBottom, messageInputRef: messageInputRef }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    var handleFileUpload = useFileUploadCallback({ currentOpenChannel: currentOpenChannel, onBeforeSendFileMessage: onBeforeSendFileMessage, checkScrollBottom: checkScrollBottom, imageCompression: imageCompression }, { sdk: sdk, logger: logger, messagesDispatcher: messagesDispatcher, scrollRef: conversationScrollRef });\n    var updateMessage = useUpdateMessageCallback({ currentOpenChannel: currentOpenChannel, onBeforeSendUserMessage: onBeforeSendUserMessage }, { logger: logger, messagesDispatcher: messagesDispatcher });\n    var deleteMessage = useDeleteMessageCallback({ currentOpenChannel: currentOpenChannel }, { logger: logger, messagesDispatcher: messagesDispatcher });\n    var resendMessage = useResendMessageCallback({ currentOpenChannel: currentOpenChannel }, { logger: logger, messagesDispatcher: messagesDispatcher });\n    useTrimMessageList({ messagesLength: allMessages === null || allMessages === void 0 ? void 0 : allMessages.length, messageLimit: messageLimit }, { messagesDispatcher: messagesDispatcher, logger: logger });\n    // handle API calls from withSendbird\n    useEffect(function () {\n        var subscriber = new Map();\n        if (!pubSub || !pubSub.subscribe) {\n            return;\n        }\n        subscriber.set(pubSubTopics.SEND_USER_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_USER_MESSAGE, function (msg) {\n            var channel = msg.channel, message = msg.message;\n            scrollIntoLast(0, conversationScrollRef);\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_SUCCEEDED,\n                    payload: message,\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.SEND_MESSAGE_START, pubSub.subscribe(pubSubTopics.SEND_MESSAGE_START, function (msg) {\n            var channel = msg.channel, message = msg.message;\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_START,\n                    payload: { message: message, channel: channel },\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.SEND_FILE_MESSAGE, pubSub.subscribe(pubSubTopics.SEND_FILE_MESSAGE, function (msg) {\n            var channel = msg.channel, message = msg.message;\n            scrollIntoLast(0, conversationScrollRef);\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: SENDING_MESSAGE_SUCCEEDED,\n                    payload: { message: message, channel: channel },\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.UPDATE_USER_MESSAGE, pubSub.subscribe(pubSubTopics.UPDATE_USER_MESSAGE, function (msg) {\n            var channel = msg.channel, message = msg.message, fromSelector = msg.fromSelector;\n            if (fromSelector && channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: ON_MESSAGE_UPDATED,\n                    payload: { channel: channel, message: message },\n                });\n            }\n        }));\n        subscriber.set(pubSubTopics.DELETE_MESSAGE, pubSub.subscribe(pubSubTopics.DELETE_MESSAGE, function (msg) {\n            var channel = msg.channel, messageId = msg.messageId;\n            if (channel && (channelUrl === (channel === null || channel === void 0 ? void 0 : channel.url))) {\n                messagesDispatcher({\n                    type: ON_MESSAGE_DELETED,\n                    payload: messageId,\n                });\n            }\n        }));\n        return function () {\n            if (subscriber) {\n                subscriber.forEach(function (s) {\n                    try {\n                        s.remove();\n                    }\n                    catch (_a) {\n                        //\n                    }\n                });\n            }\n        };\n    }, [channelUrl, sdkInit]);\n    return (React__default.createElement(OpenChannelContext.Provider, { value: {\n            // props\n            channelUrl: channelUrl,\n            children: children,\n            isMessageGroupingEnabled: isMessageGroupingEnabled,\n            queries: queries,\n            onBeforeSendUserMessage: onBeforeSendUserMessage,\n            messageLimit: messageLimit,\n            onBeforeSendFileMessage: onBeforeSendFileMessage,\n            onChatHeaderActionClick: onChatHeaderActionClick,\n            onBackClick: onBackClick,\n            // store\n            allMessages: allMessages,\n            loading: loading,\n            initialized: initialized,\n            currentOpenChannel: currentOpenChannel,\n            isInvalid: isInvalid,\n            hasMore: hasMore,\n            lastMessageTimestamp: lastMessageTimestamp,\n            operators: operators,\n            bannedParticipantIds: bannedParticipantIds,\n            mutedParticipantIds: mutedParticipantIds,\n            // derived/utils\n            messageInputRef: messageInputRef,\n            conversationScrollRef: conversationScrollRef,\n            disabled: disabled,\n            amIBanned: amIBanned,\n            amIMuted: amIMuted,\n            amIOperator: amIOperator,\n            checkScrollBottom: checkScrollBottom,\n            fetchMore: fetchMore,\n            onScroll: onScroll,\n            handleSendMessage: handleSendMessage,\n            handleFileUpload: handleFileUpload,\n            updateMessage: updateMessage,\n            deleteMessage: deleteMessage,\n            resendMessage: resendMessage,\n            frozen: messagesStore.frozen,\n            disableUserProfile: disableUserProfile,\n            renderUserProfile: renderUserProfile,\n            participants: messagesStore.participants,\n        } },\n        React__default.createElement(UserProfileProvider, { isOpenChannel: true, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile, disableUserProfile: (_g = props === null || props === void 0 ? void 0 : props.disableUserProfile) !== null && _g !== void 0 ? _g : config === null || config === void 0 ? void 0 : config.disableUserProfile }, children)));\n};\nvar useOpenChannelContext = function () {\n    var context = React__default.useContext(OpenChannelContext);\n    if (!context)\n        throw new Error('OpenChannelContext not found. Use within the OpenChannel module');\n    return context;\n};\n\nexport { OpenChannelProvider as O, kFormatter as k, useOpenChannelContext as u };\n//# sourceMappingURL=bundle-v7PcSk1i.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-v7PcSk1i.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\n\nvar OpenChannelInput = React__default.forwardRef(function (props, ref) {\n    var _a = useOpenChannelContext(), currentOpenChannel = _a.currentOpenChannel, disabled = _a.disabled, handleSendMessage = _a.handleSendMessage, handleFileUpload = _a.handleFileUpload, amIMuted = _a.amIMuted;\n    var channel = currentOpenChannel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var value = props.value;\n    function getPlaceHolderString() {\n        if (amIMuted) {\n            return stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED;\n        }\n        if (disabled) {\n            return stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED;\n        }\n        return '';\n    }\n    if (!channel) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-footer\" },\n        React__default.createElement(MessageInput, { channel: currentOpenChannel, ref: ref, value: value, disabled: disabled, isVoiceMessageEnabled: false, onSendMessage: handleSendMessage, onFileUpload: handleFileUpload, placeholder: getPlaceHolderString() })));\n});\n\nexport { OpenChannelInput as default };\n//# sourceMappingURL=OpenChannelInput.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, a as LabelTypography } from '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\n\nvar FrozenNotification = function () {\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-frozen-channel-notification\" },\n        React__default.createElement(Label, { className: \"sendbird-frozen-channel-notification__text\", type: LabelTypography.CAPTION_2 }, stringSet.CHANNEL_FROZEN)));\n};\n\nexport { FrozenNotification as default };\n//# sourceMappingURL=FrozenChannelNotification.js.map\n", "import React__default, { useContext } from 'react';\nimport { A as Avatar } from '../../chunks/bundle-C76-LA1E.js';\nimport Icon, { IconColors, IconTypes } from '../../ui/Icon.js';\nimport IconButton from '../../ui/IconButton.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { u as useOpenChannelContext, k as kFormatter } from '../../chunks/bundle-v7PcSk1i.js';\nimport { u as useMediaQueryContext } from '../../chunks/bundle-DBzinRyn.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\n\nfunction OpenchannelConversationHeader() {\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _a = useOpenChannelContext(), currentOpenChannel = _a.currentOpenChannel, onChatHeaderActionClick = _a.onChatHeaderActionClick, amIOperator = _a.amIOperator, onBackClick = _a.onBackClick;\n    var title = currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.name;\n    var subTitle = \"\".concat(kFormatter(currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.participantCount), \" \").concat(stringSet.OPEN_CHANNEL_CONVERSATION__TITLE_PARTICIPANTS);\n    var coverImage = currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.coverUrl;\n    var isMobile = useMediaQueryContext().isMobile;\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-header\" },\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-header__left\" },\n            isMobile && (React__default.createElement(Icon, { className: \"sendbird-oepnchannel-header__icon_back\", onClick: onBackClick, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\", type: IconTypes.ARROW_LEFT })),\n            coverImage ? (React__default.createElement(Avatar, { className: \"sendbird-openchannel-conversation-header__left__cover-image\", src: coverImage, alt: \"channel cover image\", width: \"32px\", height: \"32px\" })) : (React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-header__left__cover-image--icon\", style: { width: 32, height: 32 } },\n                React__default.createElement(Icon, { type: IconTypes.CHANNELS, fillColor: IconColors.CONTENT, width: \"18px\", height: \"18px\" }))),\n            React__default.createElement(Label, { className: \"sendbird-openchannel-conversation-header__left__title\", type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, title || stringSet.NO_TITLE),\n            React__default.createElement(Label, { className: \"sendbird-openchannel-conversation-header__left__sub-title\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_2 }, subTitle || stringSet.NO_TITLE)),\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-header__right\" },\n            React__default.createElement(IconButton, { className: \"sendbird-openchannel-conversation-header__right__trigger\", width: \"32px\", height: \"32px\", onClick: onChatHeaderActionClick },\n                React__default.createElement(Icon, { type: (amIOperator\n                        ? IconTypes.INFO\n                        : IconTypes.MEMBERS), fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n}\n\nexport { OpenchannelConversationHeader as default };\n//# sourceMappingURL=OpenChannelHeader.js.map\n", "import React__default, { useRef, useState, useMemo } from 'react';\nimport { i as isSameDay } from '../../chunks/bundle-q_YvxT21.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-v7PcSk1i.js';\nimport OpenChannelMessage from './OpenChannelMessage.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { u as useHandleOnScrollCallback } from '../../chunks/bundle-Cn1EBKt6.js';\nimport { compareMessagesForGrouping } from '../../Channel/utils/compareMessagesForGrouping.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../ui/OpenchannelUserMessage.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-MlowEcAQ.js';\nimport '../../chunks/bundle-BOC6Vh1w.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../ui/OpenChannelAdminMessage.js';\nimport '../../ui/OpenchannelOGMessage.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/OpenchannelThumbnailMessage.js';\nimport '../../ui/OpenchannelFileMessage.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../chunks/bundle-FtNvi0ib.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/message';\n\nfunction OpenChannelMessageList(props, ref) {\n    var _a = useOpenChannelContext(), _b = _a.isMessageGroupingEnabled, isMessageGroupingEnabled = _b === void 0 ? true : _b, allMessages = _a.allMessages, hasMore = _a.hasMore, onScroll = _a.onScroll;\n    var store = useSendbirdStateContext();\n    var userId = store.config.userId;\n    var localRef = useRef(null);\n    var scrollRef = ref || localRef;\n    var _c = useState(false), showScrollDownButton = _c[0], setShowScrollDownButton = _c[1];\n    var scrollToBottom = function () {\n        if (scrollRef && 'current' in scrollRef && scrollRef.current) {\n            scrollRef.current.scrollTo(0, scrollRef.current.scrollHeight);\n            setShowScrollDownButton(false);\n        }\n    };\n    var handleOnScroll = useHandleOnScrollCallback({\n        setShowScrollDownButton: setShowScrollDownButton,\n        hasMore: hasMore,\n        onScroll: onScroll,\n        scrollRef: scrollRef,\n    });\n    var memoizedMessageList = useMemo(function () {\n        var _a;\n        if (allMessages.length > 0) {\n            return (allMessages.map(function (message, index) {\n                var _a;\n                var previousMessage = allMessages[index - 1];\n                var nextMessage = allMessages[index - 1];\n                var previousMessageCreatedAt = previousMessage && previousMessage.createdAt;\n                var currentCreatedAt = message === null || message === void 0 ? void 0 : message.createdAt;\n                // https://stackoverflow.com/a/41855608\n                var hasSeparator = !(previousMessageCreatedAt && (isSameDay(currentCreatedAt, previousMessageCreatedAt)));\n                var _b = isMessageGroupingEnabled\n                    ? compareMessagesForGrouping(previousMessage, message, nextMessage)\n                    : [false, false], chainTop = _b[0], chainBottom = _b[1];\n                var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n                var key = (message === null || message === void 0 ? void 0 : message.messageId) || (message === null || message === void 0 ? void 0 : message.reqId);\n                return (React__default.createElement(MessageProvider, { message: message, isByMe: isByMe, key: key },\n                    React__default.createElement(OpenChannelMessage, { message: message, chainTop: chainTop, chainBottom: chainBottom, hasSeparator: hasSeparator, renderMessage: props === null || props === void 0 ? void 0 : props.renderMessage })));\n            }));\n        }\n        return (((_a = props === null || props === void 0 ? void 0 : props.renderPlaceHolderEmptyList) === null || _a === void 0 ? void 0 : _a.call(props)) || (React__default.createElement(PlaceHolder, { className: \"sendbird-openchannel-conversation-scroll__container__place-holder\", type: PlaceHolderTypes.NO_MESSAGES })));\n    }, [allMessages]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll\" },\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll__container\" },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll__container__padding\" }),\n            React__default.createElement(\"div\", { className: [\n                    'sendbird-openchannel-conversation-scroll__container__item-container',\n                    (allMessages.length > 0) ? '' : 'no-messages',\n                ].join(' '), onScroll: handleOnScroll, ref: scrollRef }, memoizedMessageList)),\n        showScrollDownButton && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-conversation-scroll__container__scroll-bottom-button\", onClick: scrollToBottom, onKeyDown: scrollToBottom, tabIndex: 0, role: \"button\" },\n            React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.CONTENT })))));\n}\nvar OpenChannelMessageList$1 = React__default.forwardRef(OpenChannelMessageList);\n\nexport { OpenChannelMessageList$1 as default };\n//# sourceMappingURL=OpenChannelMessageList.js.map\n", "import React__default, { useContext, useState, useRef } from 'react';\nimport { f as format } from '../../chunks/bundle-C6F1gIgq.js';\nimport OpenchannelUserMessage from '../../ui/OpenchannelUserMessage.js';\nimport OpenChannelAdminMessage from '../../ui/OpenChannelAdminMessage.js';\nimport OpenChannelOGMessage from '../../ui/OpenchannelOGMessage.js';\nimport OpenchannelThumbnailMessage from '../../ui/OpenchannelThumbnailMessage.js';\nimport OpenChannelFileMessage from '../../ui/OpenchannelFileMessage.js';\nimport DateSeparator from '../../ui/DateSeparator.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport MessageInput from '../../ui/MessageInput.js';\nimport FileViewer from '../../ui/FileViewer.js';\nimport { M as Modal } from '../../chunks/bundle-Bh6KfMRl.js';\nimport { L as LocalizationContext, u as useLocalization } from '../../chunks/bundle-BvAzWVA5.js';\nimport { g as getModalDeleteMessageTitle } from '../../chunks/bundle-CBwCMBt0.js';\nimport { j as isImage, h as isVideo } from '../../chunks/bundle-D-cVbGxk.js';\nimport { u as useOpenChannelContext } from '../../chunks/bundle-v7PcSk1i.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../withSendbird.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Loader.js';\nimport '../../ui/UserProfile.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-MlowEcAQ.js';\nimport '../../chunks/bundle-BOC6Vh1w.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../ui/LinkLabel.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../Message/context.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-BKe5KBuS.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\n\nfunction RemoveMessageModal(_a) {\n    var message = _a.message, onCloseModal = _a.onCloseModal, onDeleteMessage = _a.onDeleteMessage;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { onCancel: onCloseModal, onSubmit: onDeleteMessage, submitText: stringSet.MESSAGE_MENU__DELETE, titleText: getModalDeleteMessageTitle(stringSet, message) }));\n}\n\nvar MessageTypes = {\n    ADMIN: 'ADMIN',\n    USER: 'USER',\n    FILE: 'FILE',\n    THUMBNAIL: 'THUMBNAIL',\n    OG: 'OG',\n    UNKNOWN: 'UNKNOWN',\n};\nvar SendingMessageStatus = {\n    NONE: 'none',\n    SUCCEEDED: 'succeeded',\n    FAILED: 'failed',\n    PENDING: 'pending',\n};\nvar getMessageType = function (message, options) {\n    var _a, _b;\n    var isOgMessageEnabledInOpenChannel = options === null || options === void 0 ? void 0 : options.isOgMessageEnabledInOpenChannel;\n    if (((_a = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _a === void 0 ? void 0 : _a.call(message)) || (message === null || message === void 0 ? void 0 : message.messageType) === 'user') {\n        return ((message === null || message === void 0 ? void 0 : message.ogMetaData) && isOgMessageEnabledInOpenChannel)\n            ? MessageTypes.OG\n            : MessageTypes.USER;\n    }\n    if ((_b = message === null || message === void 0 ? void 0 : message.isAdminMessage) === null || _b === void 0 ? void 0 : _b.call(message)) {\n        return MessageTypes.ADMIN;\n    }\n    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'file') {\n        return (isImage(message.type) || isVideo(message.type))\n            ? MessageTypes.THUMBNAIL\n            : MessageTypes.FILE;\n    }\n    return MessageTypes.UNKNOWN;\n};\n\nfunction OpenChannelMessage(props) {\n    var _a;\n    var _b;\n    var message = props.message, chainTop = props.chainTop, chainBottom = props.chainBottom, hasSeparator = props.hasSeparator, renderMessage = props.renderMessage;\n    var _c = useOpenChannelContext(), currentOpenChannel = _c.currentOpenChannel, deleteMessage = _c.deleteMessage, updateMessage = _c.updateMessage, resendMessage = _c.resendMessage;\n    var _d = useLocalization(), dateLocale = _d.dateLocale, stringSet = _d.stringSet;\n    var editDisabled = currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isFrozen;\n    var globalState = useSendbirdStateContext();\n    var currentUserId = (_b = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var isOgMessageEnabledInOpenChannel = globalState.config.openChannel.enableOgtag;\n    var sender;\n    if ((message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n        sender = message === null || message === void 0 ? void 0 : message.sender;\n    }\n    var _e = useState(false), showEdit = _e[0], setShowEdit = _e[1];\n    var _f = useState(false), showRemove = _f[0], setShowRemove = _f[1];\n    var _g = useState(false), showFileViewer = _g[0], setShowFileViewer = _g[1];\n    var editMessageInputRef = useRef(null);\n    var isByMe = false;\n    if (sender && (message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n        // pending and failed messages are by me\n        isByMe = currentUserId === sender.userId\n            || (message === null || message === void 0 ? void 0 : message.sendingStatus)\n                === SendingMessageStatus.PENDING\n            || (message === null || message === void 0 ? void 0 : message.sendingStatus)\n                === SendingMessageStatus.FAILED;\n    }\n    if (renderMessage) {\n        return (React__default.createElement(\"div\", { className: \"sendbird-msg-hoc sendbird-msg--scroll-ref\", \"data-testid\": \"sendbird-message-hoc\" }, renderMessage({ message: message, chainTop: chainTop, chainBottom: chainBottom })));\n    }\n    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'user' && showEdit) {\n        return (React__default.createElement(MessageInput, { isEdit: true, channel: currentOpenChannel, disabled: editDisabled, ref: editMessageInputRef, message: message, onUpdateMessage: function (_a) {\n                var messageId = _a.messageId, message = _a.message;\n                updateMessage(messageId, message);\n                setShowEdit(false);\n            }, onCancelEdit: function () {\n                setShowEdit(false);\n            } }));\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-msg-hoc sendbird-msg--scroll-ref\", \"data-testid\": \"sendbird-message-hoc\" },\n        React__default.createElement(React__default.Fragment, null,\n            hasSeparator && (message === null || message === void 0 ? void 0 : message.createdAt) && (React__default.createElement(DateSeparator, null,\n                React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, format(message === null || message === void 0 ? void 0 : message.createdAt, stringSet.DATE_FORMAT__MESSAGE_LIST__DATE_SEPARATOR, { locale: dateLocale })))),\n            (_a = {},\n                _a[MessageTypes.ADMIN] = (function () {\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'admin') {\n                        return (React__default.createElement(OpenChannelAdminMessage, { message: message }));\n                    }\n                })(),\n                _a[MessageTypes.FILE] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'file') {\n                        return (React__default.createElement(OpenChannelFileMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, disabled: editDisabled, userId: currentUserId, showRemove: setShowRemove, resendMessage: resendMessage, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.OG] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'user'\n                        && isOgMessageEnabledInOpenChannel) {\n                        return (React__default.createElement(OpenChannelOGMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, userId: currentUserId, showEdit: setShowEdit, disabled: editDisabled, showRemove: setShowRemove, resendMessage: resendMessage, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.THUMBNAIL] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'file') {\n                        return (React__default.createElement(OpenchannelThumbnailMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, disabled: editDisabled, userId: currentUserId, showRemove: setShowRemove, resendMessage: resendMessage, onClick: setShowFileViewer, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.USER] = (function () {\n                    var _a;\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) === 'user') {\n                        return (React__default.createElement(OpenchannelUserMessage, { message: message, isOperator: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isOperator((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId), isEphemeral: currentOpenChannel === null || currentOpenChannel === void 0 ? void 0 : currentOpenChannel.isEphemeral, userId: currentUserId, disabled: editDisabled, showEdit: setShowEdit, showRemove: setShowRemove, resendMessage: resendMessage, chainTop: chainTop, chainBottom: chainBottom }));\n                    }\n                })(),\n                _a[MessageTypes.UNKNOWN] = (function () {\n                    // return (\n                    //   <OpenChannelUnknownMessage message={message} />\n                    // );\n                })(),\n                _a)[getMessageType(message, { isOgMessageEnabledInOpenChannel: isOgMessageEnabledInOpenChannel })],\n            showRemove && (React__default.createElement(RemoveMessageModal, { message: message, onCloseModal: function () { return setShowRemove(false); }, onDeleteMessage: function () {\n                    if ((message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n                        deleteMessage(message);\n                    }\n                } })),\n            showFileViewer && (message === null || message === void 0 ? void 0 : message.messageType) === 'file' && (React__default.createElement(FileViewer, { onClose: function () { return setShowFileViewer(false); }, message: message, onDelete: function () { return deleteMessage(message); }, isByMe: isByMe })))));\n}\n\nexport { OpenChannelMessage as default };\n//# sourceMappingURL=OpenChannelMessage.js.map\n", "import { c as __spreadArray, _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useContext, useRef, useState, useEffect } from 'react';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-C7VSBUKJ.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport Loader from './Loader.js';\nimport UserProfile from './UserProfile.js';\nimport { a as UserProfileContext } from '../chunks/bundle-BKxPk2t0.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { c as copyToClipboard } from '../chunks/bundle-MlowEcAQ.js';\nimport { u as uuidv4 } from '../chunks/bundle-Cvt9FZvn.js';\nimport { g as getSenderFromMessage, s as showMenuTrigger, i as isFineCopy, a as isFineEdit, b as isFineResend, c as isFineDelete, O as OpenChannelMobileMenu, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BOC6Vh1w.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { d as isEditedMessage } from '../chunks/bundle-D-cVbGxk.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport './Button.js';\nimport '../useSendbirdStateContext.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\n\nfunction OpenchannelUserMessage(_a) {\n    var className = _a.className, message = _a.message, isOperator = _a.isOperator, _b = _a.isEphemeral, isEphemeral = _b === void 0 ? false : _b, userId = _a.userId, resendMessage = _a.resendMessage, disabled = _a.disabled, showEdit = _a.showEdit, showRemove = _a.showRemove, chainTop = _a.chainTop;\n    // hooks\n    var _c = useLocalization(), stringSet = _c.stringSet, dateLocale = _c.dateLocale;\n    var _d = useContext(UserProfileContext), disableUserProfile = _d.disableUserProfile, renderUserProfile = _d.renderUserProfile;\n    var messageRef = useRef();\n    var avatarRef = useRef();\n    var contextMenuRef = useRef();\n    var mobileMenuRef = useRef();\n    var _e = useState({}), contextStyle = _e[0], setContextStyle = _e[1];\n    var _f = useState(false), contextMenu = _f[0], setContextMenu = _f[1];\n    // consts\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    // place context menu top depending clientHeight of message component\n    useEffect(function () {\n        var _a;\n        if (((_a = messageRef === null || messageRef === void 0 ? void 0 : messageRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight) && messageRef.current.clientHeight > 36) {\n            setContextStyle({ top: '8px ' });\n        }\n        else {\n            setContextStyle({ top: '2px' });\n        }\n    }, [window.innerWidth]);\n    var onLongPress = useLongPress({\n        onLongPress: function () {\n            setContextMenu(true);\n        },\n    });\n    var isMobile = useMediaQueryContext().isMobile;\n    if (!message || message.messageType !== 'user') {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-user-message',\n            ], false).join(' '), ref: messageRef },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-user-message__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? (renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    }))\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__right\" },\n                !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__right__top\" },\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-user-message__right__top__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                        || sender.nickname\n                        || sender.userId)),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-user-message__right__top__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message === null || message === void 0 ? void 0 : message.createdAt, 'p', {\n                        locale: dateLocale,\n                    }))))),\n                React__default.createElement(\"div\", __assign({}, (isMobile ? __assign({}, onLongPress) : {}), { className: \"sendbird-openchannel-user-message__right__bottom\", ref: mobileMenuRef }),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-user-message__right__bottom__message\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, message === null || message === void 0 ? void 0 :\n                        message.message,\n                        isEditedMessage(message) && (React__default.createElement(Label, { key: uuidv4(), type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2, className: \"sendbird-openchannel-user-message-word\" }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-user-message__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-user-message__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" }))))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-user-message__context-menu\", ref: contextMenuRef, style: contextStyle },\n                React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-user-message__context-menu--icon\", width: \"32px\", height: \"32px\", onClick: function () {\n                            toggleDropdown();\n                        } },\n                        React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                        isFineCopy({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__copy\", onClick: function () {\n                                copyToClipboard(message.message);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_copy\" }, stringSet.CONTEXT_MENU_DROPDOWN__COPY)),\n                        (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__edit\", onClick: function () {\n                                if (disabled) {\n                                    return;\n                                }\n                                showEdit(true);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_edit\" }, stringSet.CONTEXT_MENU_DROPDOWN__EDIT)),\n                        isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__resend\", onClick: function () {\n                                resendMessage(message);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                        (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-user-message__context-menu__delete\", onClick: function () {\n                                if (disabled) {\n                                    return;\n                                }\n                                showRemove(true);\n                                closeDropdown();\n                            }, testID: \"open_channel_user_message_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } })))),\n        contextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, parentRef: mobileMenuRef, hideMenu: function () {\n                setContextMenu(false);\n            }, showRemove: function () {\n                setContextMenu(false);\n                showRemove(true);\n            }, showEdit: function () {\n                setContextMenu(false);\n                showEdit(true);\n            }, copyToClipboard: function () {\n                setContextMenu(false);\n                copyToClipboard(message === null || message === void 0 ? void 0 : message.message);\n            }, resendMessage: function () {\n                setContextMenu(false);\n                resendMessage(message);\n            } }))));\n}\n\nexport { OpenchannelUserMessage as default };\n//# sourceMappingURL=OpenchannelUserMessage.js.map\n", "var copyToClipboard = function (text) {\n    // @ts-ignore: Unreachable code error\n    if (window.clipboardData && window.clipboardData.setData) {\n        // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n        // @ts-ignore: Unreachable code error\n        return window.clipboardData.setData('Text', text);\n    }\n    if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n        var textarea = document.createElement('textarea');\n        textarea.textContent = text;\n        textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n        document.body.appendChild(textarea);\n        textarea.select();\n        try {\n            return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n        }\n        catch (ex) {\n            return false;\n        }\n        finally {\n            document.body.removeChild(textarea);\n        }\n    }\n    return false;\n};\n\nexport { copyToClipboard as c };\n//# sourceMappingURL=bundle-MlowEcAQ.js.map\n", "import React__default from 'react';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from './bundle-C7VSBUKJ.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\n\nvar OpenChannelMessageStatusTypes = {\n    NONE: 'none',\n    PENDING: 'pending',\n    FAILED: 'failed',\n    CANCELED: 'canceled',\n    SUCCEEDED: 'succeeded',\n};\nvar getSenderFromMessage = function (message) {\n    // @ts-ignore\n    return message.sender || message._sender;\n};\nvar checkIsSent = function (status) { return (status === OpenChannelMessageStatusTypes.SUCCEEDED); };\nvar checkIsPending = function (status) { return (status === OpenChannelMessageStatusTypes.PENDING); };\nvar checkIsFailed = function (status) { return (status === OpenChannelMessageStatusTypes.FAILED); };\nvar checkIsByMe = function (message, userId) { return (getSenderFromMessage(message).userId === userId); };\nvar isFineCopy = function (_a) {\n    var _b;\n    var message = _a.message;\n    return ((message === null || message === void 0 ? void 0 : message.messageType) === 'user' && ((_b = message === null || message === void 0 ? void 0 : message.message) === null || _b === void 0 ? void 0 : _b.length) > 0);\n};\nvar isFineResend = function (_a) {\n    var message = _a.message, status = _a.status, userId = _a.userId;\n    return checkIsByMe(message, userId)\n        && checkIsFailed(status)\n        // @ts-ignore\n        && (message === null || message === void 0 ? void 0 : message.isResendable);\n};\nvar isFineEdit = function (_a) {\n    var _b;\n    var message = _a.message, status = _a.status, userId = _a.userId;\n    return checkIsByMe(message, userId) && checkIsSent(status) && ((_b = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _b === void 0 ? void 0 : _b.call(message));\n};\nvar isFineDelete = function (_a) {\n    var message = _a.message, userId = _a.userId;\n    return checkIsByMe(message, userId);\n};\nvar isFineDownload = function (_a) {\n    var _b;\n    var message = _a.message, status = _a.status;\n    if (((_b = message === null || message === void 0 ? void 0 : message.isFileMessage) === null || _b === void 0 ? void 0 : _b.call(message)) && checkIsSent(status)) {\n        return true;\n    }\n    return false;\n};\nvar showMenuTrigger = function (props) {\n    var message = props.message, status = props.status, userId = props.userId;\n    // @ts-ignore\n    if (message.messageType === 'user') {\n        return (isFineDelete({ message: message, status: status, userId: userId })\n            || isFineEdit({ message: message, status: status, userId: userId })\n            // @ts-ignore\n            || isFineCopy({ message: message, status: status, userId: userId })\n            || isFineResend({ message: message, status: status, userId: userId }));\n    }\n    else {\n        return (isFineDelete({ message: message, status: status, userId: userId })\n            || isFineResend({ message: message, status: status, userId: userId }));\n    }\n};\n\nvar OpenChannelMobileMenu = function (props) {\n    var _a, _b;\n    var message = props.message, parentRef = props.parentRef, resendMessage = props.resendMessage, showEdit = props.showEdit, showRemove = props.showRemove, copyToClipboard = props.copyToClipboard, hideMenu = props.hideMenu, _c = props.isEphemeral, isEphemeral = _c === void 0 ? false : _c;\n    var userMessage = message;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var stringSet = useLocalization().stringSet;\n    var userId = (_b = (_a = useSendbirdStateContext()) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var fileMessage = message;\n    return (React__default.createElement(ContextMenu, { isOpen: true, menuItems: function () { return (React__default.createElement(MenuItems, { className: \"sendbird-openchannel__mobile-menu\", parentRef: parentRef, parentContainRef: parentRef, closeDropdown: hideMenu },\n            isFineCopy({ message: userMessage, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__copy\", onClick: function () {\n                    copyToClipboard === null || copyToClipboard === void 0 ? void 0 : copyToClipboard();\n                }, testID: \"open_channel_mobile_context_menu_copy\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__COPY))),\n            (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__edit\", onClick: function () {\n                    showEdit === null || showEdit === void 0 ? void 0 : showEdit();\n                }, testID: \"open_channel_mobile_context_menu_edit\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__EDIT))),\n            isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                    resendMessage === null || resendMessage === void 0 ? void 0 : resendMessage();\n                }, testID: \"open_channel_mobile_context_menu_resend\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__RESEND))),\n            (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { onClick: function () {\n                    showRemove === null || showRemove === void 0 ? void 0 : showRemove();\n                }, testID: \"open_channel_mobile_context_menu_delete\" },\n                React__default.createElement(React__default.Fragment, null, stringSet.CONTEXT_MENU_DROPDOWN__DELETE))),\n            isFineDownload({ message: message, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                    hideMenu();\n                }, testID: \"open_channel_mobile_context_menu_download_file\" },\n                React__default.createElement(\"a\", { className: \"sendbird-openchannel__mobile-menu-hyperlink\", rel: \"noopener noreferrer\", href: fileMessage === null || fileMessage === void 0 ? void 0 : fileMessage.url, target: \"_blank\" }, stringSet.CONTEXT_MENU_DROPDOWN__SAVE))))); } }));\n};\n\nexport { OpenChannelMobileMenu as O, isFineEdit as a, isFineResend as b, isFineDelete as c, checkIsPending as d, checkIsFailed as e, checkIsSent as f, getSenderFromMessage as g, isFineCopy as i, showMenuTrigger as s };\n//# sourceMappingURL=bundle-BOC6Vh1w.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nfunction OpenChannelAdminMessage(_a) {\n    var className = _a.className, message = _a.message;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-openchannel-admin-message',\n        ], false).join(' ') },\n        React__default.createElement(Label, { className: \"sendbird-openchannel-admin-message__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, message.message || '')));\n}\n\nexport { OpenChannelAdminMessage as default };\n//# sourceMappingURL=OpenChannelAdminMessage.js.map\n", "import { _ as __assign, c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useContext, useState, useRef, useMemo, useEffect } from 'react';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-C7VSBUKJ.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport LinkLabel from './LinkLabel.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport Loader from './Loader.js';\nimport UserProfile from './UserProfile.js';\nimport { a as UserProfileContext } from '../chunks/bundle-BKxPk2t0.js';\nimport { u as uuidv4 } from '../chunks/bundle-Cvt9FZvn.js';\nimport { c as copyToClipboard } from '../chunks/bundle-MlowEcAQ.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { g as getSenderFromMessage, s as showMenuTrigger, i as isFineCopy, a as isFineEdit, b as isFineResend, c as isFineDelete, O as OpenChannelMobileMenu, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BOC6Vh1w.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { T as TextFragment } from '../chunks/bundle-NWVriOUB.js';\nimport { t as tokenizeMessage } from '../chunks/bundle-DtlqJEe7.js';\nimport { o as openURL } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport './Button.js';\nimport '../useSendbirdStateContext.js';\nimport '../Message/context.js';\nimport './MentionLabel.js';\n\nfunction OpenChannelOGMessage(_a) {\n    var _b, _c, _d;\n    var message = _a.message, isOperator = _a.isOperator, _e = _a.isEphemeral, isEphemeral = _e === void 0 ? false : _e, className = _a.className, disabled = _a.disabled, showEdit = _a.showEdit, showRemove = _a.showRemove, resendMessage = _a.resendMessage, chainTop = _a.chainTop, userId = _a.userId;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var ogMetaData = (_b = message.ogMetaData) !== null && _b !== void 0 ? _b : null;\n    var defaultImage = ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.defaultImage;\n    var _f = useLocalization(), stringSet = _f.stringSet, dateLocale = _f.dateLocale;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _g = useContext(UserProfileContext), disableUserProfile = _g.disableUserProfile, renderUserProfile = _g.renderUserProfile;\n    var _h = useState({}), contextStyle = _h[0], setContextStyle = _h[1];\n    var _j = useState(false), showContextMenu = _j[0], setShowContextMenu = _j[1];\n    var openLink = function () { return openURL(ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.url); };\n    var onLongPress = useLongPress({\n        onLongPress: function () { return setShowContextMenu(true); },\n        onClick: openLink,\n    }, {\n        delay: 300,\n    });\n    var messageComponentRef = useRef();\n    var contextMenuRef = useRef();\n    var mobileMenuRef = useRef();\n    var avatarRef = useRef();\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    var tokens = useMemo(function () {\n        return tokenizeMessage({\n            messageText: message.message,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    // place conxt menu top depending clientHeight of message component\n    useEffect(function () {\n        var _a, _b;\n        if (((_a = messageComponentRef === null || messageComponentRef === void 0 ? void 0 : messageComponentRef.current) === null || _a === void 0 ? void 0 : _a.clientHeight) && ((_b = messageComponentRef === null || messageComponentRef === void 0 ? void 0 : messageComponentRef.current) === null || _b === void 0 ? void 0 : _b.clientHeight) > 36) {\n            setContextStyle({ top: '8px ' });\n        }\n        else {\n            setContextStyle({ top: '2px' });\n        }\n    }, [window.innerWidth]);\n    if (!message || message.messageType !== 'user') {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", __assign({ className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-og-message',\n            ], false).join(' '), ref: messageComponentRef }, (isMobile ? __assign({}, onLongPress) : {})),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top\" },\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-og-message__top__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                            if (!disableUserProfile) {\n                                toggleDropdown();\n                            }\n                        } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                        ? (renderUserProfile({\n                            user: sender,\n                            close: closeDropdown,\n                            currentUserId: userId,\n                            avatarRef: avatarRef,\n                        }))\n                        : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                            React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right\" },\n                    !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right__title\" },\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__top__right__title__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                            || sender.nickname\n                            || sender.userId)),\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__top__right__title__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message === null || message === void 0 ? void 0 : message.createdAt, 'p', {\n                            locale: dateLocale,\n                        }))))),\n                    React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right__description\" },\n                        React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__top__right__description__message\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 },\n                            React__default.createElement(TextFragment, { tokens: tokens }),\n                            (((_c = message === null || message === void 0 ? void 0 : message.updatedAt) !== null && _c !== void 0 ? _c : 0) > 0) && (React__default.createElement(Label, { key: uuidv4(), className: 'sendbird-openchannel-og-message--word', type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, stringSet.MESSAGE_EDITED))))),\n                !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__context-menu\", ref: contextMenuRef, style: contextStyle },\n                    React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-og-message__top__context-menu--icon\", width: \"32px\", height: \"32px\", onClick: function () {\n                                toggleDropdown();\n                            } },\n                            React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                            isFineCopy({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__copy\", onClick: function () {\n                                    copyToClipboard(message.message);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_copy\" }, stringSet.CONTEXT_MENU_DROPDOWN__COPY)),\n                            (!isEphemeral && isFineEdit({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__edit\", onClick: function () {\n                                    if (disabled) {\n                                        return;\n                                    }\n                                    showEdit(true);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_edit\" }, stringSet.CONTEXT_MENU_DROPDOWN__EDIT)),\n                            isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__resend\", onClick: function () {\n                                    resendMessage(message);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                            (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { className: \"sendbird-openchannel-og-message__top__context-menu__delete\", onClick: function () {\n                                    if (disabled) {\n                                        return;\n                                    }\n                                    showRemove(true);\n                                    closeDropdown();\n                                }, testID: \"open_channel_og_message_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } })))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom\" },\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom__og-tag\", ref: mobileMenuRef },\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.url) && (React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__bottom__og-tag__url\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, ogMetaData.url)),\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.title) && (React__default.createElement(LinkLabel, { className: \"sendbird-openchannel-og-message__bottom__og-tag__title\", src: (_d = ogMetaData.url) !== null && _d !== void 0 ? _d : '', type: LabelTypography.SUBTITLE_2, color: LabelColors.PRIMARY }, ogMetaData.title)),\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.description) && (React__default.createElement(Label, { className: \"sendbird-openchannel-og-message__bottom__og-tag__description\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, ogMetaData.description)),\n                    (ogMetaData === null || ogMetaData === void 0 ? void 0 : ogMetaData.url) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom__og-tag__thumbnail\", role: \"button\", onClick: openLink, onKeyDown: openLink, tabIndex: 0 }, defaultImage && (React__default.createElement(ImageRenderer, { className: \"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image\", url: defaultImage.url || '', alt: defaultImage.alt || '', height: \"189px\", defaultComponent: (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__bottom__og-tag__thumbnail__image--placeholder\" },\n                            React__default.createElement(Icon, { type: IconTypes.THUMBNAIL_NONE, width: \"56px\", height: \"56px\" }))) }))))),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-og-message__top__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-og-message__top__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-og-message__top__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" })))))),\n        showContextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, parentRef: mobileMenuRef, hideMenu: function () {\n                setShowContextMenu(false);\n            }, showRemove: function () {\n                setShowContextMenu(false);\n                showRemove(true);\n            }, showEdit: function () {\n                setShowContextMenu(false);\n                showEdit(true);\n            }, copyToClipboard: function () {\n                setShowContextMenu(false);\n                copyToClipboard(message === null || message === void 0 ? void 0 : message.message);\n            }, resendMessage: function () {\n                setShowContextMenu(false);\n                resendMessage(message);\n            } }))));\n}\n\nexport { OpenChannelOGMessage as default };\n//# sourceMappingURL=OpenchannelOGMessage.js.map\n", "import { c as __spreadArray, _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useContext, useState, useRef, useMemo, useEffect } from 'react';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-C7VSBUKJ.js';\nimport Icon, { IconColors, IconTypes } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport Loader from './Loader.js';\nimport UserProfile from './UserProfile.js';\nimport { a as UserProfileContext } from '../chunks/bundle-BKxPk2t0.js';\nimport { g as getSenderFromMessage, b as isFineResend, s as showMenuTrigger, c as isFineDelete, O as OpenChannelMobileMenu, f as checkIsSent, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BOC6Vh1w.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport './Button.js';\nimport '../useSendbirdStateContext.js';\n\nvar SUPPORTING_TYPES = {\n    IMAGE: 'IMAGE',\n    VIDEO: 'VIDEO',\n    UNSUPPORTED: 'UNSUPPORTED',\n};\nvar SUPPORTED_MIMES = {\n    IMAGE: [\n        'image/jpeg',\n        'image/jpg',\n        'image/png',\n        'image/gif',\n        'image/webp',\n    ],\n    VIDEO: [\n        'video/mpeg',\n        'video/ogg',\n        'video/webm',\n        'video/mp4',\n    ],\n};\nvar getSupportingFileType = function (type) {\n    if (SUPPORTED_MIMES.IMAGE.indexOf(type) >= 0) {\n        return SUPPORTING_TYPES.IMAGE;\n    }\n    if (SUPPORTED_MIMES.VIDEO.indexOf(type) >= 0) {\n        return SUPPORTING_TYPES.VIDEO;\n    }\n    return SUPPORTING_TYPES.UNSUPPORTED;\n};\n\nfunction OpenchannelThumbnailMessage(_a) {\n    var _b;\n    var className = _a.className, message = _a.message, isOperator = _a.isOperator, _c = _a.isEphemeral, isEphemeral = _c === void 0 ? false : _c, disabled = _a.disabled, userId = _a.userId, chainTop = _a.chainTop, onClick = _a.onClick, showRemove = _a.showRemove, resendMessage = _a.resendMessage;\n    var type = message.type, url = message.url, thumbnails = message.thumbnails, localUrl = message.localUrl;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var thumbnailUrl = (thumbnails && thumbnails.length > 0 && thumbnails[0].url) || null;\n    var _d = useLocalization(), stringSet = _d.stringSet, dateLocale = _d.dateLocale;\n    var _e = useContext(UserProfileContext), disableUserProfile = _e.disableUserProfile, renderUserProfile = _e.renderUserProfile;\n    var _f = useState(360), messageWidth = _f[0], setMessageWidth = _f[1];\n    var _g = useState(false), contextMenu = _g[0], setContextMenu = _g[1];\n    var messageRef = useRef(null);\n    var mobileMenuRef = useRef(null);\n    var contextMenuRef = useRef(null);\n    var avatarRef = useRef(null);\n    var onLongPress = useLongPress({\n        onLongPress: function () { setContextMenu(true); },\n        onClick: function () { onClick(true); },\n    });\n    var isMobile = useMediaQueryContext().isMobile;\n    var memorizedThumbnailPlaceHolder = useMemo(function () { return function (type) { return function (_a) {\n        var style = _a.style;\n        return ( // eslint-disable-line\n        React__default.createElement(\"div\", { style: style },\n            React__default.createElement(Icon, { type: type, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" })));\n    }; }; }, []);\n    var isMessageSent = checkIsSent(status);\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    useEffect(function () {\n        var _a, _b;\n        var thumbnailWidth = ((_b = (_a = messageRef === null || messageRef === void 0 ? void 0 : messageRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth) !== null && _b !== void 0 ? _b : 0) - 80;\n        setMessageWidth(thumbnailWidth > 360 ? 360 : thumbnailWidth);\n    }, []);\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-thumbnail-message',\n            ], false).join(' '), ref: messageRef },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-thumbnail-message__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? (renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    }))\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right\" },\n                !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__title\" },\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-thumbnail-message__right__title__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                        || sender.nickname\n                        || sender.userId)),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-thumbnail-message__right__title__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message.createdAt, 'p', {\n                        locale: dateLocale,\n                    }))))),\n                React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__body\", ref: mobileMenuRef },\n                    React__default.createElement(\"div\", __assign({ className: \"sendbird-openchannel-thumbnail-message__right__body__wrap\", role: \"button\", onClick: function () {\n                            if (isMessageSent) {\n                                onClick(true);\n                            }\n                        }, onKeyDown: function () {\n                            if (isMessageSent) {\n                                onClick(true);\n                            }\n                        }, tabIndex: 0 }, (isMobile ? __assign({}, onLongPress) : {})),\n                        React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__overlay\" }),\n                        (_b = {},\n                            _b[SUPPORTING_TYPES.VIDEO] = ((url || localUrl)\n                                ? (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video\" },\n                                    (thumbnailUrl)\n                                        ? (React__default.createElement(ImageRenderer, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video\", url: thumbnailUrl, width: messageWidth, height: \"270px\", alt: \"image\", placeHolder: memorizedThumbnailPlaceHolder(IconTypes.PLAY) }))\n                                        : (React__default.createElement(\"video\", { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video__video\" },\n                                            React__default.createElement(\"source\", { src: url || localUrl, type: type }))),\n                                    React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video__icon\", type: IconTypes.PLAY, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" })))\n                                : (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__video--icon\", type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" }))),\n                            _b[SUPPORTING_TYPES.IMAGE] = ((url || localUrl)\n                                ? (React__default.createElement(ImageRenderer, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__image\", url: thumbnailUrl || url || localUrl || '', alt: \"image\", width: messageWidth, height: \"270px\", placeHolder: memorizedThumbnailPlaceHolder(IconTypes.PHOTO) }))\n                                : (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__image--icon\", type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" }))),\n                            _b[SUPPORTING_TYPES.UNSUPPORTED] = (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__body__wrap__unknown\", type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"56px\", height: \"56px\" })),\n                            _b)[getSupportingFileType(type)])),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-thumbnail-message__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" }))))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-thumbnail-message__context-menu\", ref: contextMenuRef }, (isFineResend({ message: message, userId: userId, status: status }) || !isEphemeral) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-thumbnail-message__context-menu--icon\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                    React__default.createElement(Icon, { type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                    isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                            resendMessage(message);\n                            closeDropdown();\n                        }, testID: \"open_channel_thumbnail_message_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                    (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { onClick: function () {\n                            if (disabled) {\n                                return;\n                            }\n                            showRemove(true);\n                            closeDropdown();\n                        }, testID: \"open_channel_thumbnail_message_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } }))))),\n        contextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, parentRef: mobileMenuRef, hideMenu: function () {\n                setContextMenu(false);\n            }, showRemove: function () {\n                setContextMenu(false);\n                showRemove(true);\n            }, resendMessage: function () {\n                setContextMenu(false);\n                resendMessage(message);\n            } }))));\n}\n\nexport { OpenchannelThumbnailMessage as default };\n//# sourceMappingURL=OpenchannelThumbnailMessage.js.map\n", "import { c as __spreadArray, _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useContext, useState } from 'react';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem } from '../chunks/bundle-C7VSBUKJ.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport Loader from './Loader.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport TextButton from './TextButton.js';\nimport UserProfile from './UserProfile.js';\nimport { a as UserProfileContext } from '../chunks/bundle-BKxPk2t0.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { g as getSenderFromMessage, b as isFineResend, s as showMenuTrigger, c as isFineDelete, O as OpenChannelMobileMenu, d as checkIsPending, e as checkIsFailed } from '../chunks/bundle-BOC6Vh1w.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { o as openURL } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-CTaD4y3Q.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport './Button.js';\nimport '../useSendbirdStateContext.js';\n\nvar checkFileType = function (fileUrl) {\n    var audioFile = /(\\.mp3)$/i;\n    var gifFile = /(\\.gif)$/i;\n    if (audioFile.test(fileUrl)) {\n        return IconTypes.FILE_AUDIO;\n    }\n    if (gifFile.test(fileUrl)) {\n        return IconTypes.GIF;\n    }\n    return IconTypes.FILE_DOCUMENT;\n};\nvar truncate = function (fullStr, strLen) {\n    if (fullStr === null || fullStr === undefined)\n        return '';\n    if (fullStr.length <= strLen)\n        return fullStr;\n    var separator = '...';\n    var sepLen = separator.length;\n    var charsToShow = strLen - sepLen;\n    var frontChars = Math.ceil(charsToShow / 2);\n    var backChars = Math.floor(charsToShow / 2);\n    return fullStr.substr(0, frontChars) + separator + fullStr.substr(fullStr.length - backChars);\n};\n\nfunction OpenChannelFileMessage(_a) {\n    var className = _a.className, message = _a.message, isOperator = _a.isOperator, _b = _a.isEphemeral, isEphemeral = _b === void 0 ? false : _b, userId = _a.userId, disabled = _a.disabled, chainTop = _a.chainTop, showRemove = _a.showRemove, resendMessage = _a.resendMessage;\n    var status = message === null || message === void 0 ? void 0 : message.sendingStatus;\n    var _c = useLocalization(), dateLocale = _c.dateLocale, stringSet = _c.stringSet;\n    var contextMenuRef = useRef(null);\n    var mobileMenuRef = useRef(null);\n    var avatarRef = useRef(null);\n    var _d = useContext(UserProfileContext), disableUserProfile = _d.disableUserProfile, renderUserProfile = _d.renderUserProfile;\n    var isMobile = useMediaQueryContext().isMobile;\n    var openFileUrl = function () { return openURL(message.url); };\n    var isPending = checkIsPending(status);\n    var isFailed = checkIsFailed(status);\n    var sender = getSenderFromMessage(message);\n    var _e = useState(false), contextMenu = _e[0], setContextMenu = _e[1];\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (isMobile) {\n                setContextMenu(true);\n            }\n        },\n        onClick: openFileUrl,\n    }, { delay: 300 });\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n                'sendbird-openchannel-file-message',\n            ], false).join(' '), ref: mobileMenuRef },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__left\" }, !chainTop && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(Avatar, { className: \"sendbird-openchannel-file-message__left__avatar\", src: sender.profileUrl || '', ref: avatarRef, width: \"28px\", height: \"28px\", onClick: function () {\n                        if (!disableUserProfile) {\n                            toggleDropdown();\n                        }\n                    } })); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? (renderUserProfile({\n                        user: sender,\n                        close: closeDropdown,\n                        currentUserId: userId,\n                        avatarRef: avatarRef,\n                    }))\n                    : (React__default.createElement(MenuItems, { parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { user: sender, onSuccess: closeDropdown, disableMessaging: true })))); } }))),\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__right\" },\n                !chainTop && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__right__title\" },\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-file-message__right__title__sender-name\", type: LabelTypography.CAPTION_2, color: isOperator ? LabelColors.SECONDARY_3 : LabelColors.ONBACKGROUND_2 }, sender && (sender.friendName\n                        || sender.nickname\n                        || sender.userId)),\n                    React__default.createElement(Label, { className: \"sendbird-openchannel-file-message__right__title__sent-at\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_3 }, (message === null || message === void 0 ? void 0 : message.createdAt) && (format(message.createdAt, 'p', {\n                        locale: dateLocale,\n                    }))))),\n                React__default.createElement(\"div\", __assign({ className: \"sendbird-openchannel-file-message__right__body\" }, (isMobile ? __assign({}, longPress) : {})),\n                    checkFileType(message.url) && (React__default.createElement(Icon, { className: \"sendbird-openchannel-file-message__right__body__icon\", type: checkFileType(message.url), fillColor: IconColors.PRIMARY, width: \"48px\", height: \"48px\" })),\n                    React__default.createElement(TextButton, { className: \"sendbird-openchannel-file-message__right__body__file-name\", onClick: openFileUrl },\n                        React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, truncate(message.name || message.url, 40)))),\n                (isPending || isFailed) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__right__tail\" },\n                    isPending && (React__default.createElement(Loader, { width: \"16px\", height: \"16px\" },\n                        React__default.createElement(Icon, { className: \"sendbird-openchannel-file-message__right__tail__pending\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" }))),\n                    isFailed && (React__default.createElement(Icon, { className: \"sendbird-openchannel-file-message__right__tail__failed\", type: IconTypes.ERROR, fillColor: IconColors.ERROR, width: \"16px\", height: \"16px\" }))))),\n            !isMobile && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-file-message__context-menu\", ref: contextMenuRef }, (isFineResend({ message: message, userId: userId, status: status }) || !isEphemeral) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (showMenuTrigger({ message: message, userId: userId, status: status }) && (React__default.createElement(IconButton, { className: \"sendbird-openchannel-file-message__context-menu__icon\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                    React__default.createElement(Icon, { type: IconTypes.MORE, width: \"24px\", height: \"24px\" })))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: contextMenuRef, parentContainRef: contextMenuRef, closeDropdown: closeDropdown, openLeft: true },\n                    isFineResend({ message: message, userId: userId, status: status }) && (React__default.createElement(MenuItem, { onClick: function () {\n                            if (disabled) {\n                                return;\n                            }\n                            resendMessage(message);\n                            closeDropdown();\n                        }, testID: \"open_channel_file_message_context_menu_resend\" }, stringSet.CONTEXT_MENU_DROPDOWN__RESEND)),\n                    (!isEphemeral && isFineDelete({ message: message, userId: userId, status: status })) && (React__default.createElement(MenuItem, { onClick: function () {\n                            if (disabled) {\n                                return;\n                            }\n                            showRemove(true);\n                            closeDropdown();\n                        }, testID: \"open_channel_file_message_context_menu_delete\" }, stringSet.CONTEXT_MENU_DROPDOWN__DELETE)))); } }))))),\n        contextMenu && (React__default.createElement(OpenChannelMobileMenu, { message: message, hideMenu: function () {\n                setContextMenu(false);\n            }, parentRef: mobileMenuRef, showRemove: function () {\n                setContextMenu(false);\n                showRemove(true);\n            } }))));\n}\n\nexport { OpenChannelFileMessage as default };\n//# sourceMappingURL=OpenchannelFileMessage.js.map\n", "import React__default from 'react';\nimport OpenChannelUI from './OpenChannelSettings/components/OpenChannelSettingsUI.js';\nimport { OpenChannelSettingsProvider } from './OpenChannelSettings/context.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './chunks/bundle-B1SLZ0HT.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './OpenChannelSettings/components/OperatorUI.js';\nimport './OpenChannelSettings/components/OpenChannelProfile.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/OpenChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './OpenChannelSettings/components/EditDetailsModal.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport './chunks/bundle-DO8nji3n.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport './ui/SortByRow.js';\nimport './ui/Input.js';\nimport './chunks/bundle-CqCMcS8B.js';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './ui/AccordionGroup.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/UserListItem.js';\nimport './ui/Checkbox.js';\nimport './ui/Accordion.js';\n\nvar OpenChannelSetting = function (props) {\n    return (React__default.createElement(OpenChannelSettingsProvider, { channelUrl: props === null || props === void 0 ? void 0 : props.channelUrl, onCloseClick: props === null || props === void 0 ? void 0 : props.onCloseClick, onBeforeUpdateChannel: props === null || props === void 0 ? void 0 : props.onBeforeUpdateChannel, onChannelModified: props === null || props === void 0 ? void 0 : props.onChannelModified, onDeleteChannel: props === null || props === void 0 ? void 0 : props.onDeleteChannel, disableUserProfile: props === null || props === void 0 ? void 0 : props.disableUserProfile, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile },\n        React__default.createElement(OpenChannelUI, { renderOperatorUI: props === null || props === void 0 ? void 0 : props.renderOperatorUI, renderParticipantList: props === null || props === void 0 ? void 0 : props.renderParticipantList })));\n};\n\nexport { OpenChannelSetting as default };\n//# sourceMappingURL=OpenChannelSettings.js.map\n", "import React__default, { useContext } from 'react';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useOpenChannelSettingsContext } from '../context.js';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport Icon, { IconTypes } from '../../ui/Icon.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport { OperatorUI } from './OperatorUI.js';\nimport { P as ParticipantList } from '../../chunks/bundle-CqCMcS8B.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../ui/Loader.js';\nimport './OpenChannelProfile.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/OpenChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport './EditDetailsModal.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/Input.js';\nimport '../../ui/Accordion.js';\nimport '../../ui/AccordionGroup.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\n\nfunction InvalidChannel(_a) {\n    var onCloseClick = _a.onCloseClick;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings\" },\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__header\" },\n            React__default.createElement(Label, { type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.CHANNEL_SETTING__HEADER__TITLE),\n            React__default.createElement(Icon, { type: IconTypes.CLOSE, className: \"sendbird-openchannel-settings__close-icon\", height: \"24px\", width: \"24px\", onClick: function () {\n                    onCloseClick === null || onCloseClick === void 0 ? void 0 : onCloseClick();\n                } })),\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__placeholder\" },\n            React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG }))));\n}\n\nvar OpenChannelUI = function (_a) {\n    var _b, _c, _d;\n    var renderOperatorUI = _a.renderOperatorUI, renderParticipantList = _a.renderParticipantList;\n    var _e = useOpenChannelSettingsContext(), channel = _e.channel, onCloseClick = _e.onCloseClick, isChannelInitialized = _e.isChannelInitialized;\n    var globalStore = useSendbirdStateContext();\n    var logger = (_b = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _b === void 0 ? void 0 : _b.logger;\n    var user = (_d = (_c = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _c === void 0 ? void 0 : _c.userStore) === null || _d === void 0 ? void 0 : _d.user;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    if (isChannelInitialized && !channel) {\n        return (React__default.createElement(InvalidChannel, { onCloseClick: function () {\n                logger.info('OpenChannelSettings: Click close');\n                if (onCloseClick) {\n                    onCloseClick();\n                }\n            } }));\n    }\n    return (React__default.createElement(\"div\", { className: 'sendbird-openchannel-settings' },\n        (channel === null || channel === void 0 ? void 0 : channel.isOperator(user)) && ((renderOperatorUI === null || renderOperatorUI === void 0 ? void 0 : renderOperatorUI()) || (React__default.createElement(OperatorUI, null))),\n        !(channel === null || channel === void 0 ? void 0 : channel.isOperator(user)) && (React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__participant\" },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__header\" },\n                React__default.createElement(Label, { type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_TITLE),\n                React__default.createElement(Icon, { type: IconTypes.CLOSE, className: \"sendbird-openchannel-settings__close-icon\", height: \"24px\", width: \"24px\", onClick: function () {\n                        onCloseClick === null || onCloseClick === void 0 ? void 0 : onCloseClick();\n                    } })),\n            (renderParticipantList === null || renderParticipantList === void 0 ? void 0 : renderParticipantList()) || (React__default.createElement(ParticipantList, null))))));\n};\n\nexport { OpenChannelUI as default };\n//# sourceMappingURL=OpenChannelSettingsUI.js.map\n", "import React__default, { useState, useEffect } from 'react';\nimport { OpenChannelHandler } from '@sendbird/chat/openChannel';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { U as UserProfileProvider } from '../chunks/bundle-BKxPk2t0.js';\nimport { u as uuidv4 } from '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\n\nvar OpenChannelSettingsContext = React__default.createContext(null);\nvar OpenChannelSettingsProvider = function (props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    var children = props.children, channelUrl = props.channelUrl, onCloseClick = props.onCloseClick, onChannelModified = props.onChannelModified, onBeforeUpdateChannel = props.onBeforeUpdateChannel, onDeleteChannel = props.onDeleteChannel;\n    // fetch store from <SendbirdProvider />\n    var globalStore = useSendbirdStateContext();\n    var sdk = (_b = (_a = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _a === void 0 ? void 0 : _a.sdkStore) === null || _b === void 0 ? void 0 : _b.sdk;\n    var isSDKInitialized = (_d = (_c = globalStore === null || globalStore === void 0 ? void 0 : globalStore.stores) === null || _c === void 0 ? void 0 : _c.sdkStore) === null || _d === void 0 ? void 0 : _d.initialized;\n    var logger = (_e = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _e === void 0 ? void 0 : _e.logger;\n    var currentUserId = (_f = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _f === void 0 ? void 0 : _f.userId;\n    var _j = useState(null), currentChannel = _j[0], setChannel = _j[1];\n    var _k = useState(false), isChannelInitialized = _k[0], setChannelInitialized = _k[1];\n    useEffect(function () {\n        if (!channelUrl || !sdk.openChannel) {\n            setChannel(null);\n            return;\n        }\n        sdk.openChannel.getChannel(channelUrl)\n            .then(function (channel) {\n            logger.info('open channel setting: fetched', channel);\n            // TODO: Add pending status\n            channel.enter()\n                .then(function () {\n                setChannel(channel);\n                logger.info('OpenChannelSettings | Succeeded to enter channel', channel === null || channel === void 0 ? void 0 : channel.url);\n                setChannelInitialized(true);\n            })\n                .catch(function (error) {\n                setChannel(null);\n                logger.warning('OpenChannelSettings | Failed to enter channel', error);\n            });\n        })\n            .catch(function (error) {\n            logger.error('open channel setting: error fetching', error);\n            setChannel(null);\n        });\n        return function () {\n            if (currentChannel && currentChannel.exit) {\n                currentChannel.exit()\n                    .then(function () {\n                    logger.info('OpenChannelSettings | Succeeded to exit channel', currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url);\n                })\n                    .catch(function (error) {\n                    logger.warning('OpenChannelSettings | Failed to exit channel', error);\n                });\n            }\n        };\n    }, [channelUrl, isSDKInitialized]);\n    useEffect(function () {\n        var _a;\n        var channelHandlerId = uuidv4();\n        if (currentChannel !== null && ((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.addOpenChannelHandler)) {\n            var channelHandlerParams = new OpenChannelHandler({\n                onOperatorUpdated: function (channel) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setChannel(channel);\n                    }\n                },\n                onUserMuted: function (channel, user) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(channel);\n                    }\n                },\n                onUserUnmuted: function (channel, user) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(channel);\n                    }\n                },\n                onUserBanned: function (channel, user) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url) && (user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(null);\n                    }\n                },\n                onUserUnbanned: function (channel, user) {\n                    if ((user === null || user === void 0 ? void 0 : user.userId) === currentUserId) {\n                        setChannel(channel);\n                    }\n                },\n                onChannelChanged: function (channel) {\n                    if ((channel === null || channel === void 0 ? void 0 : channel.url) === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setChannel(channel);\n                    }\n                },\n                onChannelDeleted: function (channelUrl) {\n                    if (channelUrl === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url)) {\n                        setChannel(null);\n                    }\n                },\n            });\n            sdk.openChannel.addOpenChannelHandler(channelHandlerId, channelHandlerParams);\n        }\n        return function () {\n            var _a, _b, _c;\n            if (((_a = sdk === null || sdk === void 0 ? void 0 : sdk.openChannel) === null || _a === void 0 ? void 0 : _a.removeOpenChannelHandler) && channelHandlerId) {\n                logger.info('OpenChannelSettings | Removing channel handlers', channelHandlerId);\n                (_c = (_b = sdk.openChannel).removeOpenChannelHandler) === null || _c === void 0 ? void 0 : _c.call(_b, channelHandlerId);\n            }\n        };\n    }, [channelUrl]);\n    return (React__default.createElement(OpenChannelSettingsContext.Provider, { value: {\n            channelUrl: channelUrl,\n            channel: currentChannel,\n            isChannelInitialized: isChannelInitialized,\n            setChannel: setChannel,\n            onCloseClick: onCloseClick,\n            onChannelModified: onChannelModified,\n            onBeforeUpdateChannel: onBeforeUpdateChannel,\n            onDeleteChannel: onDeleteChannel,\n        } },\n        React__default.createElement(UserProfileProvider, { isOpenChannel: true, renderUserProfile: props === null || props === void 0 ? void 0 : props.renderUserProfile, disableUserProfile: (_g = props === null || props === void 0 ? void 0 : props.disableUserProfile) !== null && _g !== void 0 ? _g : (_h = globalStore === null || globalStore === void 0 ? void 0 : globalStore.config) === null || _h === void 0 ? void 0 : _h.disableUserProfile }, children)));\n};\nvar useOpenChannelSettingsContext = function () {\n    var context = React__default.useContext(OpenChannelSettingsContext);\n    if (!context)\n        throw new Error('OpenChannelSettingsContext not found. Use within the OpenChannelSettings module.');\n    return context;\n};\n\nexport { OpenChannelSettingsProvider, useOpenChannelSettingsContext };\n//# sourceMappingURL=context.js.map\n", "import React__default, { useState, useContext, useEffect, useCallback } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { useOpenChannelSettingsContext } from '../context.js';\nimport ChannelProfile from './OpenChannelProfile.js';\nimport { M as Modal } from '../../chunks/bundle-Bh6KfMRl.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { U as UserListItem$1, P as ParticipantList } from '../../chunks/bundle-CqCMcS8B.js';\nimport Accordion, { AccordionGroup } from '../../ui/Accordion.js';\nimport Button, { ButtonTypes, ButtonSizes } from '../../ui/Button.js';\nimport { C as ContextMenu, b as MenuItems, c as MenuItem, h as MuteMenuItem } from '../../chunks/bundle-C7VSBUKJ.js';\nimport IconButton from '../../ui/IconButton.js';\nimport { c as __spreadArray, _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport { UserListItem } from '../../ui/UserListItem.js';\nimport { n as noop } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../withSendbird.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/OpenChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport './EditDetailsModal.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/AccordionGroup.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Checkbox.js';\n\nfunction DeleteChannel() {\n    var _a, _b;\n    var _c = useState(false), showDeleteChannelModal = _c[0], setShowDeleteChannelModal = _c[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var globalState = useSendbirdStateContext();\n    var isOnline = (_a = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _a === void 0 ? void 0 : _a.isOnline;\n    var logger = (_b = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _b === void 0 ? void 0 : _b.logger;\n    var _d = useOpenChannelSettingsContext(), channel = _d.channel, onDeleteChannel = _d.onDeleteChannel;\n    var deleteChannel = function () {\n        channel === null || channel === void 0 ? void 0 : channel.delete().then(function (response) {\n            logger.info('OpenChannelSettings: Delete channel success', response);\n            if (onDeleteChannel) {\n                onDeleteChannel(channel);\n            }\n        }).catch(function (error) {\n            logger.warning('OpenChannelSettings: Delete channel failed', error);\n        });\n    };\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__panel-item\\n          sendbird-openchannel-settings__delete-channel\\n            \".concat(!isOnline ? 'sendbird-openchannel-settings__panel-item__disabled' : ''), role: \"button\", tabIndex: 0, onKeyDown: function () {\n                if (!isOnline) {\n                    return;\n                }\n                setShowDeleteChannelModal(true);\n            }, onClick: function () {\n                if (!isOnline) {\n                    return;\n                }\n                setShowDeleteChannelModal(true);\n            } },\n            React__default.createElement(Icon, { type: IconTypes.DELETE, fillColor: IconColors.ERROR, className: [\n                    'sendbird-openchannel-settings__panel-icon-left',\n                    'sendbird-openchannel-settings__panel-icon__delete',\n                ].join(' '), height: \"24px\", width: \"24px\" }),\n            React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_PANEL)),\n        showDeleteChannelModal && (React__default.createElement(Modal, { isFullScreenOnMobile: true, onCancel: function () {\n                setShowDeleteChannelModal(false);\n            }, onSubmit: function () {\n                deleteChannel();\n            }, titleText: stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_TITLE, submitText: stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_SUBMIT }, stringSet.OPEN_CHANNEL_SETTINGS__DELETE_CHANNEL_CONTEXT))));\n}\n\nfunction OperatorListModal(_a) {\n    var _b;\n    var onCancel = _a.onCancel;\n    var _c = useState([]), users = _c[0], setUsers = _c[1];\n    var _d = useState(null), operatorQuery = _d[0], setOperatorQuery = _d[1];\n    var channel = useOpenChannelSettingsContext().channel;\n    var state = useSendbirdStateContext();\n    var currentUserId = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        var operatorListQuery = channel === null || channel === void 0 ? void 0 : channel.createOperatorListQuery({\n            limit: 20,\n        });\n        if (operatorListQuery) {\n            operatorListQuery.next().then(function (participants) {\n                setUsers(participants);\n            });\n            setOperatorQuery(operatorListQuery);\n        }\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { hideFooter: true, isFullScreenOnMobile: true, titleText: stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL, onCancel: onCancel },\n            React__default.createElement(\"div\", { className: \"sendbird-more-users__popup-scroll\", onScroll: function (e) {\n                    var hasNext = operatorQuery === null || operatorQuery === void 0 ? void 0 : operatorQuery.hasNext;\n                    var target = e.target;\n                    var fetchMore = (target.clientHeight + target.scrollTop === target.scrollHeight);\n                    if (hasNext && fetchMore) {\n                        operatorQuery.next().then(function (o) {\n                            setUsers(__spreadArray(__spreadArray([], users, true), o, true));\n                        });\n                    }\n                } }, users.map(function (operator) { return (React__default.createElement(UserListItem, { currentUser: currentUserId, user: operator, key: operator.userId, action: function (_a) {\n                    var parentRef = _a.parentRef, actionRef = _a.actionRef;\n                    return (currentUserId !== (operator === null || operator === void 0 ? void 0 : operator.userId)\n                        ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentContainRef: parentRef, parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                                React__default.createElement(MenuItem, { onClick: function () {\n                                        channel === null || channel === void 0 ? void 0 : channel.removeOperators([operator.userId]).then(function () {\n                                            setUsers(users.filter(function (_a) {\n                                                var userId = _a.userId;\n                                                return userId !== operator.userId;\n                                            }));\n                                        });\n                                        closeDropdown();\n                                    }, testID: \"open_channel_setting_operator_context_menu_unregister_operator\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR))); } })) : React__default.createElement(React__default.Fragment, null));\n                } })); })))));\n}\n\nfunction AddOperatorsModal(_a) {\n    var onCancel = _a.onCancel, onSubmit = _a.onSubmit;\n    var _b = useState([]), participants = _b[0], setParticipants = _b[1];\n    var _c = useState({}), selectedUsers = _c[0], setSelectedUsers = _c[1];\n    var _d = useState(null), participantQuery = _d[0], setParticipantQuery = _d[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var channel = useOpenChannelSettingsContext().channel;\n    useEffect(function () {\n        var participantListQuery = channel === null || channel === void 0 ? void 0 : channel.createParticipantListQuery({\n            limit: 20,\n        });\n        if (participantListQuery) {\n            participantListQuery.next().then(function (users) {\n                setParticipants(users);\n            });\n            setParticipantQuery(participantListQuery);\n        }\n    }, []);\n    var selectedCount = Object.keys(selectedUsers).filter(function (m) { return selectedUsers[m]; }).length;\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, type: ButtonTypes.PRIMARY, submitText: stringSet.CHANNEL_SETTING__OPERATORS__ADD_BUTTON, onCancel: onCancel, onSubmit: function () {\n                var users = Object.keys(selectedUsers).filter(function (m) { return selectedUsers[m]; });\n                channel === null || channel === void 0 ? void 0 : channel.addOperators(users).then(function () {\n                    onSubmit(users);\n                });\n            }, titleText: stringSet.OPEN_CHANNEL_CONVERSATION__SELECT_PARTICIPANTS },\n            React__default.createElement(Label, { color: (selectedCount > 0) ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3, type: LabelTypography.CAPTION_1 }, \"\".concat(selectedCount, \" \").concat(stringSet.MODAL__INVITE_MEMBER__SELECTED)),\n            React__default.createElement(\"div\", { className: \"sendbird-more-users__popup-scroll\", onScroll: function (e) {\n                    var hasNext = participantQuery ? participantQuery.hasNext : false;\n                    var target = e.target;\n                    var fetchMore = (target.clientHeight + target.scrollTop === target.scrollHeight);\n                    if (hasNext && fetchMore && participantQuery) {\n                        participantQuery.next().then(function (o) {\n                            setParticipants(__spreadArray(__spreadArray([], participants, true), o, true));\n                        });\n                    }\n                } }, participants.map(function (participant) {\n                var isOperator = (channel === null || channel === void 0 ? void 0 : channel.operators.find(function (operator) { return (operator === null || operator === void 0 ? void 0 : operator.userId) === (participant === null || participant === void 0 ? void 0 : participant.userId); })) ? true : false;\n                return (React__default.createElement(UserListItem, { user: participant, key: participant.userId, checkBox: true, checked: selectedUsers[participant.userId] || isOperator, disabled: isOperator, isOperator: isOperator, onChange: function (event) {\n                        var _a;\n                        var modifiedSelectedUsers = __assign(__assign({}, selectedUsers), (_a = {}, _a[event.target.id] = event.target.checked, _a));\n                        if (!event.target.checked) {\n                            delete modifiedSelectedUsers[event.target.id];\n                        }\n                        setSelectedUsers(modifiedSelectedUsers);\n                    } }));\n            })))));\n}\n\nvar OperatorList = function () {\n    var _a, _b;\n    var _c = useState(false), showAdd = _c[0], setShowAdd = _c[1];\n    var _d = useState(false), showMore = _d[0], setShowMore = _d[1];\n    var state = useSendbirdStateContext();\n    var currentUserId = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var channel = useOpenChannelSettingsContext().channel;\n    return (React__default.createElement(\"div\", null, (_b = channel === null || channel === void 0 ? void 0 : channel.operators) === null || _b === void 0 ? void 0 :\n        _b.slice(0, 10).map(function (operator) { return (React__default.createElement(UserListItem$1, { key: operator.userId, user: operator, currentUser: currentUserId, action: function (_a) {\n                var actionRef = _a.actionRef;\n                return (currentUserId !== (operator === null || operator === void 0 ? void 0 : operator.userId)\n                    ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-openchannel-operator-list__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                            React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                            React__default.createElement(MenuItem, { onClick: function () {\n                                    channel === null || channel === void 0 ? void 0 : channel.removeOperators([operator.userId]).then(function () {\n                                        closeDropdown();\n                                    });\n                                }, testID: \"open_channel_setting_operator_context_menu_unregister_operator\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR),\n                            React__default.createElement(MuteMenuItem, { channel: channel, user: operator, onChange: function () { return closeDropdown(); }, onError: function () {\n                                    // FIXME: handle error later\n                                    closeDropdown();\n                                }, testID: \"open_channel_setting_operator_context_menu_\".concat(operator.isMuted ? 'unmute' : 'mute') }, operator.isMuted\n                                ? stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE\n                                : stringSet.OPEN_CHANNEL_SETTING__MODERATION__MUTE),\n                            React__default.createElement(MenuItem, { onClick: function () {\n                                    channel === null || channel === void 0 ? void 0 : channel.banUser(operator).then(function () {\n                                        closeDropdown();\n                                    });\n                                }, testID: \"open_channel_setting_operator_context_menu_ban\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__BAN))); } })) : React__default.createElement(React__default.Fragment, null));\n            } })); }),\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-operator-list__footer\" },\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowAdd(true);\n                } }, stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ADD),\n            (channel === null || channel === void 0 ? void 0 : channel.operators) && channel.operators.length > 10 && (React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowMore(true);\n                } }, stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS__TITLE_ALL))),\n        showMore && (React__default.createElement(React__default.Fragment, null,\n            React__default.createElement(OperatorListModal, { onCancel: function () {\n                    setShowMore(false);\n                } }))),\n        showAdd && (React__default.createElement(React__default.Fragment, null,\n            React__default.createElement(AddOperatorsModal, { onCancel: function () { return setShowAdd(false); }, onSubmit: function () {\n                    setShowAdd(false);\n                } })))));\n};\n\nfunction MutedParticipantsModal(_a) {\n    var _b;\n    var onCancel = _a.onCancel;\n    var _c = useState([]), mutedUsers = _c[0], setMutedUsers = _c[1];\n    var _d = useState(null), userListQuery = _d[0], setUserListQuery = _d[1];\n    var channel = useOpenChannelSettingsContext().channel;\n    var state = useSendbirdStateContext();\n    var currentUserId = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        var mutedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createMutedUserListQuery({\n            limit: 10,\n        });\n        mutedUserListQuery === null || mutedUserListQuery === void 0 ? void 0 : mutedUserListQuery.next().then(function (users) {\n            setMutedUsers(users);\n        });\n        if (mutedUserListQuery) {\n            setUserListQuery(mutedUserListQuery);\n        }\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { isFullScreenOnMobile: true, hideFooter: true, onCancel: function () { return onCancel(); }, onSubmit: noop, titleText: stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: function (e) {\n                    var hasNext = userListQuery === null || userListQuery === void 0 ? void 0 : userListQuery.hasNext;\n                    var target = e.target;\n                    var fetchMore = (target.clientHeight + target.scrollTop === target.scrollHeight);\n                    if (hasNext && fetchMore) {\n                        userListQuery.next().then(function (o) {\n                            setMutedUsers(__spreadArray(__spreadArray([], mutedUsers, true), o, true));\n                        });\n                    }\n                } }, mutedUsers.map(function (mutedUser) { return (React__default.createElement(UserListItem, { currentUser: currentUserId, user: mutedUser, key: mutedUser.userId, action: function (_a) {\n                    var actionRef = _a.actionRef;\n                    return ((mutedUser === null || mutedUser === void 0 ? void 0 : mutedUser.userId) !== currentUserId\n                        ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                                React__default.createElement(MenuItem, { onClick: function () {\n                                        channel === null || channel === void 0 ? void 0 : channel.unmuteUser(mutedUser).then(function () {\n                                            closeDropdown();\n                                            setMutedUsers(mutedUsers.filter(function (u) {\n                                                return (u.userId !== mutedUser.userId);\n                                            }));\n                                        });\n                                    }, testID: \"open_channel_setting_muted_member_context_menu_unmute\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE))); } })) : React__default.createElement(React__default.Fragment, null));\n                } })); })))));\n}\n\nvar MutedParticipantList = function () {\n    var _a;\n    var _b = useState([]), mutedUsers = _b[0], setMutedUsers = _b[1];\n    var _c = useState(false), hasNext = _c[0], setHasNext = _c[1];\n    var _d = useState(false), showModal = _d[0], setShowModal = _d[1];\n    var channel = useOpenChannelSettingsContext().channel;\n    var state = useSendbirdStateContext();\n    var currentUserId = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        if (!channel) {\n            setMutedUsers([]);\n            return;\n        }\n        var mutedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createMutedUserListQuery({\n            limit: 10,\n        });\n        mutedUserListQuery.next().then(function (members) {\n            setMutedUsers(members);\n            setHasNext(mutedUserListQuery.hasNext);\n        });\n    }, [channel]);\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setMutedUsers([]);\n            return;\n        }\n        var mutedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createMutedUserListQuery({\n            limit: 10,\n        });\n        mutedUserListQuery.next().then(function (members) {\n            setMutedUsers(members);\n            setHasNext(mutedUserListQuery.hasNext);\n        });\n    }, [channel]);\n    return (React__default.createElement(React__default.Fragment, null,\n        mutedUsers.map(function (mutedUser) { return (React__default.createElement(UserListItem$1, { key: mutedUser.userId, user: mutedUser, currentUser: currentUserId, isOperator: channel === null || channel === void 0 ? void 0 : channel.isOperator(mutedUser.userId), action: function (_a) {\n                var actionRef = _a.actionRef;\n                return ((mutedUser === null || mutedUser === void 0 ? void 0 : mutedUser.userId) !== currentUserId\n                    ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                            React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { closeDropdown: closeDropdown, openLeft: true, parentRef: actionRef },\n                            React__default.createElement(MenuItem, { onClick: function () {\n                                    channel === null || channel === void 0 ? void 0 : channel.unmuteUser(mutedUser).then(function () {\n                                        refreshList();\n                                        closeDropdown();\n                                    });\n                                }, testID: \"open_channel_setting_muted_member_context_menu_unmute\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE))); } })) : React__default.createElement(React__default.Fragment, null));\n            } })); }),\n        mutedUsers && mutedUsers.length === 0 && (React__default.createElement(Label, { className: \"sendbird-channel-settings__empty-list\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_3 }, stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__NO_ONE)),\n        hasNext && (React__default.createElement(\"div\", { className: \"sendbird-channel-settings-muted-participant-list__footer\" },\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowModal(true);\n                } }, stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE_ALL))),\n        showModal && (React__default.createElement(MutedParticipantsModal, { onCancel: function () {\n                setShowModal(false);\n                refreshList();\n            } }))));\n};\n\nfunction BannedUsersModal(_a) {\n    var _b;\n    var onCancel = _a.onCancel;\n    var _c = useState([]), bannedUsers = _c[0], setBannedUsers = _c[1];\n    var _d = useState(null), userListQuery = _d[0], setUserListQuery = _d[1];\n    var channel = useOpenChannelSettingsContext().channel;\n    var state = useSendbirdStateContext();\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var currentUserId = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.userId;\n    useEffect(function () {\n        var bannedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createBannedUserListQuery();\n        bannedUserListQuery === null || bannedUserListQuery === void 0 ? void 0 : bannedUserListQuery.next().then(function (users) {\n            setBannedUsers(users);\n        });\n        setUserListQuery(bannedUserListQuery !== null && bannedUserListQuery !== void 0 ? bannedUserListQuery : null);\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { hideFooter: true, isFullScreenOnMobile: true, onCancel: function () { return onCancel(); }, onSubmit: noop, titleText: stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: function (e) {\n                    var hasNext = userListQuery === null || userListQuery === void 0 ? void 0 : userListQuery.hasNext;\n                    var target = e.target;\n                    var fetchMore = (target.clientHeight + target.scrollTop === target.scrollHeight);\n                    if (hasNext && fetchMore) {\n                        userListQuery.next().then(function (o) {\n                            setBannedUsers(__spreadArray(__spreadArray([], bannedUsers, true), o, true));\n                        });\n                    }\n                } }, bannedUsers.map(function (bannedUser) { return (React__default.createElement(UserListItem, { user: bannedUser, key: bannedUser.userId, action: function (_a) {\n                    var actionRef = _a.actionRef;\n                    return ((bannedUser === null || bannedUser === void 0 ? void 0 : bannedUser.userId) !== currentUserId\n                        ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                                React__default.createElement(MenuItem, { onClick: function () {\n                                        channel === null || channel === void 0 ? void 0 : channel.unbanUser(bannedUser).then(function () {\n                                            closeDropdown();\n                                            setBannedUsers(bannedUsers.filter(function (u) {\n                                                return (u.userId !== bannedUser.userId);\n                                            }));\n                                        });\n                                    }, testID: \"open_channel_setting_banned_user_context_menu_unban\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNBAN))); } })) : React__default.createElement(React__default.Fragment, null));\n                } })); })))));\n}\n\nvar BannedUserList = function () {\n    var _a;\n    var _b = useState([]), bannedUsers = _b[0], setBannedUsers = _b[1];\n    var _c = useState(false), hasNext = _c[0], setHasNext = _c[1];\n    var _d = useState(false), showModal = _d[0], setShowModal = _d[1];\n    var channel = useOpenChannelSettingsContext().channel;\n    var state = useSendbirdStateContext();\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var currentUserId = (_a = state === null || state === void 0 ? void 0 : state.config) === null || _a === void 0 ? void 0 : _a.userId;\n    useEffect(function () {\n        if (!channel) {\n            setBannedUsers([]);\n            return;\n        }\n        var bannedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createBannedUserListQuery();\n        bannedUserListQuery.next().then(function (users) {\n            setBannedUsers(users);\n            setHasNext(bannedUserListQuery.hasNext);\n        });\n    }, [channel]);\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setBannedUsers([]);\n            return;\n        }\n        var bannedUserListQuery = channel === null || channel === void 0 ? void 0 : channel.createBannedUserListQuery();\n        bannedUserListQuery.next().then(function (users) {\n            setBannedUsers(users);\n            setHasNext(bannedUserListQuery.hasNext);\n        });\n    }, [channel]);\n    return (React__default.createElement(React__default.Fragment, null,\n        bannedUsers.map(function (bannedUser) { return (React__default.createElement(UserListItem$1, { key: bannedUser.userId, user: bannedUser, isOperator: channel === null || channel === void 0 ? void 0 : channel.isOperator(bannedUser.userId), action: function (_a) {\n                var actionRef = _a.actionRef;\n                return ((bannedUser === null || bannedUser === void 0 ? void 0 : bannedUser.userId) !== currentUserId\n                    ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                            React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                            React__default.createElement(MenuItem, { onClick: function () {\n                                    channel === null || channel === void 0 ? void 0 : channel.unbanUser(bannedUser).then(function () {\n                                        closeDropdown();\n                                        refreshList();\n                                    });\n                                }, testID: \"open_channel_setting_banned_user_context_menu_unban\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNBAN))); } })) : React__default.createElement(React__default.Fragment, null));\n            } })); }),\n        bannedUsers && bannedUsers.length === 0 && (React__default.createElement(Label, { className: \"sendbird-channel-settings__empty-list\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_3 }, stringSet.OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__NO_ONE)),\n        hasNext && (React__default.createElement(\"div\", { className: \"sendbird-channel-settings-banned-user-list__footer\" },\n            React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () {\n                    setShowModal(true);\n                } }, stringSet.OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE_ALL))),\n        showModal && (React__default.createElement(BannedUsersModal, { onCancel: function () {\n                setShowModal(false);\n                refreshList();\n            } }))));\n};\n\nvar copyToClipboard = function (text) {\n    // @ts-ignore: Unreachable code error\n    if (window.clipboardData && window.clipboardData.setData) {\n        // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.\n        // @ts-ignore: Unreachable code error\n        return window.clipboardData.setData('Text', text);\n    }\n    if (document.queryCommandSupported && document.queryCommandSupported('copy')) {\n        var textarea = document.createElement('textarea');\n        textarea.textContent = text;\n        textarea.style.position = 'fixed'; // Prevent scrolling to bottom of page in Microsoft Edge.\n        document.body.appendChild(textarea);\n        textarea.select();\n        try {\n            return document.execCommand('copy'); // Security exception may be thrown by some browsers.\n        }\n        catch (ex) {\n            return false;\n        }\n        finally {\n            document.body.removeChild(textarea);\n        }\n    }\n    return false;\n};\nvar OperatorUI = function (_a) {\n    var renderChannelProfile = _a.renderChannelProfile;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _b = useOpenChannelSettingsContext(), onCloseClick = _b.onCloseClick, channel = _b.channel;\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__header\" },\n            React__default.createElement(Label, { type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.CHANNEL_SETTING__HEADER__TITLE),\n            React__default.createElement(Icon, { className: \"sendbird-openchannel-settings__close-icon\", type: IconTypes.CLOSE, height: \"24px\", width: \"24px\", onClick: function () {\n                    onCloseClick === null || onCloseClick === void 0 ? void 0 : onCloseClick();\n                } })),\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__profile\" }, (renderChannelProfile === null || renderChannelProfile === void 0 ? void 0 : renderChannelProfile()) || (React__default.createElement(ChannelProfile, null))),\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__url\" },\n            React__default.createElement(Icon, { className: \"sendbird-openchannel-settings__copy-icon\", type: IconTypes.COPY, height: \"22px\", width: \"22px\", onClick: function () {\n                    var _a;\n                    copyToClipboard((_a = channel === null || channel === void 0 ? void 0 : channel.url) !== null && _a !== void 0 ? _a : '');\n                } }),\n            React__default.createElement(Label, { className: \"sendbird-openchannel-settings__url-label\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, stringSet.OPEN_CHANNEL_SETTINGS__OPERATOR_URL),\n            React__default.createElement(Label, { className: \"sendbird-openchannel-settings__url-value\", type: LabelTypography.SUBTITLE_2 }, channel === null || channel === void 0 ? void 0 : channel.url)),\n        React__default.createElement(AccordionGroup, null,\n            React__default.createElement(Accordion, { className: \"sendbird-openchannel-settings__operators-list\", id: \"operators\", renderTitle: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(Icon, { className: \"sendbird-openchannel-settings__operator-accordion-icon\", type: IconTypes.OPERATOR, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n                    React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.OPEN_CHANNEL_SETTINGS__OPERATORS_TITLE))); }, renderContent: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(OperatorList, null))); } }),\n            React__default.createElement(Accordion, { className: \"sendbird-channel-settings__operators-list\", id: \"participants\", renderTitle: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(Icon, { type: IconTypes.MEMBERS, fillColor: IconColors.PRIMARY, width: 24, height: 24, className: \"sendbird-openchannel-settings__operator-accordion-icon\" }),\n                    React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.OPEN_CHANNEL_SETTINGS__PARTICIPANTS_ACCORDION_TITLE))); }, renderContent: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(ParticipantList, { isOperatorView: true }))); } }),\n            React__default.createElement(Accordion, { className: \"sendbird-channel-settings__operators-list\", id: \"mutedMembers\", renderTitle: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(Icon, { className: \"sendbird-openchannel-settings__operator-accordion-icon\", type: IconTypes.MUTE, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n                    React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.OPEN_CHANNEL_SETTINGS__MUTED_MEMBERS__TITLE))); }, renderContent: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(MutedParticipantList, null))); } }),\n            React__default.createElement(Accordion, { className: \"sendbird-channel-settings__operators-list\", id: \"bannedUsers\", renderTitle: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(Icon, { className: \"sendbird-openchannel-settings__operator-accordion-icon\", type: IconTypes.BAN, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n                    React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.OPEN_CHANNEL_SETTINGS__BANNED_MEMBERS__TITLE))); }, renderContent: function () { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(BannedUserList, null))); } })),\n        React__default.createElement(DeleteChannel, null)));\n};\n\nexport { OperatorUI, copyToClipboard, OperatorUI as default };\n//# sourceMappingURL=OperatorUI.js.map\n", "import React__default, { useState, useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport TextButton from '../../ui/TextButton.js';\nimport ChannelAvatar from '../../ui/OpenChannelAvatar.js';\nimport EditDetails from './EditDetailsModal.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { useOpenChannelSettingsContext } from '../context.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/Input.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\n\nfunction ChannelProfile() {\n    var _a, _b;\n    var globalState = useSendbirdStateContext();\n    var disabled = !((_a = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _a === void 0 ? void 0 : _a.isOnline);\n    var theme = (_b = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _b === void 0 ? void 0 : _b.theme;\n    var channel = useOpenChannelSettingsContext().channel;\n    var title = channel === null || channel === void 0 ? void 0 : channel.name;\n    var _c = useState(false), showModal = _c[0], setShowModal = _c[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-profile\" },\n        React__default.createElement(\"div\", { className: \"sendbird-openchannel-profile--inner\" },\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-profile__avatar\" },\n                React__default.createElement(ChannelAvatar, { channel: channel, theme: theme, height: 80, width: 80 })),\n            React__default.createElement(Label, { type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1, className: \"sendbird-openchannel-profile__title\" }, title || stringSet.OPEN_CHANNEL_SETTINGS__NO_TITLE),\n            React__default.createElement(TextButton, { disabled: disabled, className: \"sendbird-openchannel-profile__edit\", onClick: function () {\n                    if (disabled) {\n                        return;\n                    }\n                    setShowModal(true);\n                }, disableUnderline: true },\n                React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: disabled ? LabelColors.ONBACKGROUND_2 : LabelColors.PRIMARY }, stringSet.CHANNEL_SETTING__PROFILE__EDIT)),\n            showModal && (React__default.createElement(EditDetails, { onCancel: function () { return setShowModal(false); } })))));\n}\n\nexport { ChannelProfile as default };\n//# sourceMappingURL=OpenChannelProfile.js.map\n", "import React__default, { useContext, useMemo } from 'react';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { b as getOpenChannelAvatar } from '../chunks/bundle-CRKkgI5q.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './Icon.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\n\nfunction ChannelAvatar(_a) {\n    var channel = _a.channel, theme = _a.theme, _b = _a.height, height = _b === void 0 ? 56 : _b, _c = _a.width, width = _c === void 0 ? 56 : _c;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var memoizedAvatar = useMemo(function () {\n        return (React__default.createElement(Avatar, { className: \"sendbird-chat-header__avatar--open-channel\", src: getOpenChannelAvatar(channel), width: \"\".concat(width, \"px\"), height: \"\".concat(height, \"px\"), alt: (channel === null || channel === void 0 ? void 0 : channel.name) || stringSet.OPEN_CHANNEL_SETTINGS__NO_TITLE }));\n    }, [channel === null || channel === void 0 ? void 0 : channel.coverUrl, theme]);\n    return (React__default.createElement(React__default.Fragment, null, memoizedAvatar));\n}\n\nexport { ChannelAvatar as default };\n//# sourceMappingURL=OpenChannelAvatar.js.map\n", "import React__default, { useRef, useState, useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { p as pubSubTopics } from '../../chunks/bundle-DZhG3Z6D.js';\nimport { M as Modal } from '../../chunks/bundle-Bh6KfMRl.js';\nimport Input, { InputLabel } from '../../ui/Input.js';\nimport { A as Avatar } from '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { ButtonTypes } from '../../ui/Button.js';\nimport TextButton from '../../ui/TextButton.js';\nimport ChannelAvatar from '../../ui/OpenChannelAvatar.js';\nimport { useOpenChannelSettingsContext } from '../context.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\n\nvar EditDetails = function (props) {\n    var onCancel = props.onCancel;\n    var globalState = useSendbirdStateContext();\n    var _a = globalState.config, logger = _a.logger, theme = _a.theme, pubSub = _a.pubSub;\n    var _b = useOpenChannelSettingsContext(), channel = _b.channel, onBeforeUpdateChannel = _b.onBeforeUpdateChannel, onChannelModified = _b.onChannelModified, setChannel = _b.setChannel;\n    var inputRef = useRef(null);\n    var formRef = useRef(null);\n    var hiddenInputRef = useRef(null);\n    var _c = useState(null), currentImg = _c[0], setCurrentImg = _c[1];\n    var _d = useState(null), newFile = _d[0], setNewFile = _d[1];\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var title = channel === null || channel === void 0 ? void 0 : channel.name;\n    return (React__default.createElement(Modal, { isFullScreenOnMobile: true, titleText: stringSet.MODAL__CHANNEL_INFORMATION__TITLE, submitText: stringSet.BUTTON__SAVE, onCancel: onCancel, onSubmit: function () {\n            var _a, _b, _c, _d, _e;\n            if (title !== '' && !((_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.value)) {\n                if ((_b = formRef.current) === null || _b === void 0 ? void 0 : _b.reportValidity) { // might not work in explorer\n                    formRef.current.reportValidity();\n                }\n                return;\n            }\n            var currentTitle = (_d = (_c = inputRef.current) === null || _c === void 0 ? void 0 : _c.value) !== null && _d !== void 0 ? _d : '';\n            var currentImg = newFile;\n            logger.info('ChannelSettings: Channel information being updated');\n            var params = onBeforeUpdateChannel\n                ? onBeforeUpdateChannel(currentTitle, currentImg, (_e = channel === null || channel === void 0 ? void 0 : channel.data) !== null && _e !== void 0 ? _e : '')\n                : {\n                    name: currentTitle,\n                    coverUrlOrImage: currentImg !== null && currentImg !== void 0 ? currentImg : undefined,\n                    data: channel === null || channel === void 0 ? void 0 : channel.data,\n                };\n            logger.info('ChannelSettings: Updating channel information', params);\n            channel === null || channel === void 0 ? void 0 : channel.updateChannel(params).then(function (updatedChannel) {\n                logger.info('ChannelSettings: Channel information update succeeded', updatedChannel);\n                onChannelModified === null || onChannelModified === void 0 ? void 0 : onChannelModified(updatedChannel);\n                setChannel === null || setChannel === void 0 ? void 0 : setChannel(updatedChannel);\n                pubSub === null || pubSub === void 0 ? void 0 : pubSub.publish(pubSubTopics.UPDATE_OPEN_CHANNEL, updatedChannel);\n            }).catch(function (error) {\n                logger.error('ChannelSettings: Channel infomation update failed', error);\n                setChannel === null || setChannel === void 0 ? void 0 : setChannel(null);\n            });\n            onCancel();\n        }, type: ButtonTypes.PRIMARY },\n        React__default.createElement(\"form\", { className: \"channel-profile-form\", ref: formRef, onSubmit: function (e) { e.preventDefault(); } },\n            React__default.createElement(\"div\", { className: \"channel-profile-form__img-section\" },\n                React__default.createElement(InputLabel, null, stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_IMAGE),\n                React__default.createElement(\"div\", { className: \"channel-profile-form__avatar\" }, currentImg\n                    ? (React__default.createElement(Avatar, { height: \"80px\", width: \"80px\", src: currentImg })) : (React__default.createElement(ChannelAvatar, { height: 80, width: 80, channel: channel, theme: theme }))),\n                React__default.createElement(\"input\", { ref: hiddenInputRef, type: \"file\", accept: \"image/gif, image/jpeg, image/png\", style: { display: 'none' }, onChange: function (e) {\n                        if (e.target.files) {\n                            setCurrentImg(URL.createObjectURL(e.target.files[0]));\n                            setNewFile(e.target.files[0]);\n                        }\n                        if (hiddenInputRef.current)\n                            hiddenInputRef.current.value = '';\n                    } }),\n                React__default.createElement(TextButton, { className: \"channel-profile-form__avatar-button\", onClick: function () { var _a; return (_a = hiddenInputRef.current) === null || _a === void 0 ? void 0 : _a.click(); }, disableUnderline: true },\n                    React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: LabelColors.PRIMARY }, stringSet.MODAL__CHANNEL_INFORMATION__UPLOAD))),\n            React__default.createElement(\"div\", { className: \"channel-profile-form__name-section\" },\n                React__default.createElement(InputLabel, null, stringSet.MODAL__CHANNEL_INFORMATION__CHANNEL_NAME),\n                React__default.createElement(Input, { required: title !== '', name: \"channel-profile-form__name\", ref: inputRef, value: title, placeHolder: stringSet.MODAL__CHANNEL_INFORMATION__INPUT__PLACE_HOLDER })))));\n};\n\nexport { EditDetails as default };\n//# sourceMappingURL=EditDetailsModal.js.map\n", "import { c as __spreadArray } from './bundle-B1SLZ0HT.js';\nimport React__default, { useContext, useState, useEffect, useRef, useCallback } from 'react';\nimport Button, { ButtonTypes, ButtonSizes } from '../ui/Button.js';\nimport { C as ContextMenu, b as MenuItems, O as OperatorMenuItem, h as MuteMenuItem, c as MenuItem } from './bundle-C7VSBUKJ.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport IconButton from '../ui/IconButton.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-CEZ0D4qz.js';\nimport { Participant } from '@sendbird/chat';\nimport { L as LocalizationContext } from './bundle-BvAzWVA5.js';\nimport { a as UserProfileContext } from './bundle-BKxPk2t0.js';\nimport '../ui/AccordionGroup.js';\nimport { A as Avatar } from './bundle-C76-LA1E.js';\nimport 'react-dom';\nimport './bundle-DBzinRyn.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport { M as Modal } from './bundle-Bh6KfMRl.js';\nimport 'css-vars-ponyfill';\nimport './bundle-D-cVbGxk.js';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/chat/groupChannel';\nimport './bundle-DO8nji3n.js';\nimport MutedAvatarOverlay from '../ui/MutedAvatarOverlay.js';\nimport UserProfile from '../ui/UserProfile.js';\nimport { useOpenChannelSettingsContext } from '../OpenChannelSettings/context.js';\nimport { UserListItem as UserListItem$1 } from '../ui/UserListItem.js';\nimport { n as noop } from './bundle-CtBgdgkK.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\n\nfunction ParticipantsModal(_a) {\n    var _b, _c, _d;\n    var onCancel = _a.onCancel;\n    var state = useSendbirdStateContext();\n    var channel = useOpenChannelSettingsContext().channel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _e = useState([]), participants = _e[0], setParticipants = _e[1];\n    var _f = useState(null), participantListQuery = _f[0], setParticipantListQuery = _f[1];\n    var userId = (_b = state === null || state === void 0 ? void 0 : state.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var sdk = (_d = (_c = state === null || state === void 0 ? void 0 : state.stores) === null || _c === void 0 ? void 0 : _c.sdkStore) === null || _d === void 0 ? void 0 : _d.sdk;\n    var isOperatorView = channel === null || channel === void 0 ? void 0 : channel.isOperator(userId);\n    useEffect(function () {\n        if (!channel || !(channel === null || channel === void 0 ? void 0 : channel.createParticipantListQuery)) {\n            return;\n        }\n        var participantListQuery = channel === null || channel === void 0 ? void 0 : channel.createParticipantListQuery({});\n        setParticipantListQuery(participantListQuery);\n        participantListQuery.next().then(function (participantList) {\n            setParticipants(participantList);\n        });\n    }, []);\n    return (React__default.createElement(\"div\", null,\n        React__default.createElement(Modal, { hideFooter: true, isFullScreenOnMobile: true, onCancel: function () { return onCancel(); }, onSubmit: noop, titleText: stringSet.OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE },\n            React__default.createElement(\"div\", { className: \"sendbird-more-members__popup-scroll\", onScroll: function (e) {\n                    if (participantListQuery) {\n                        var hasNext = participantListQuery.hasNext;\n                        var target = e.target;\n                        var fetchMore = (target.clientHeight + target.scrollTop === target.scrollHeight);\n                        if (hasNext && fetchMore) {\n                            participantListQuery.next().then(function (fetchedParticipants) {\n                                setParticipants(__spreadArray(__spreadArray([], (participants !== null && participants !== void 0 ? participants : []), true), fetchedParticipants, true));\n                            });\n                        }\n                    }\n                } }, participants === null || participants === void 0 ? void 0 : participants.map(function (p) {\n                var _a;\n                var isOperator = channel === null || channel === void 0 ? void 0 : channel.isOperator(p.userId);\n                return (React__default.createElement(UserListItem$1, { user: p, key: p.userId, currentUser: (_a = sdk === null || sdk === void 0 ? void 0 : sdk.currentUser) === null || _a === void 0 ? void 0 : _a.userId, action: (userId !== p.userId && isOperatorView)\n                        ? function (_a) {\n                            var actionRef = _a.actionRef, parentRef = _a.parentRef;\n                            return (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-user-message__more__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                                    React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentContainRef: parentRef, parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                                    React__default.createElement(OperatorMenuItem, { channel: channel, user: p, onChange: function () { return closeDropdown(); }, onError: function () {\n                                            // FIXME: handle error later\n                                            closeDropdown();\n                                        }, testID: \"open_channel_setting_participant_context_menu_\".concat((isOperator) ? 'unregister_operator' : 'register_as_operator') }, isOperator\n                                        ? stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR\n                                        : stringSet.OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR),\n                                    React__default.createElement(MuteMenuItem, { channel: channel, user: p, onChange: function () { return closeDropdown(); }, onError: function () {\n                                            // FIXME: handle error later\n                                            closeDropdown();\n                                        }, testID: \"open_channel_setting_participant_context_menu_\".concat(p.isMuted ? 'unmute' : 'mute') }, p.isMuted\n                                        ? stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE\n                                        : stringSet.OPEN_CHANNEL_SETTING__MODERATION__MUTE),\n                                    React__default.createElement(MenuItem, { onClick: function () {\n                                            channel === null || channel === void 0 ? void 0 : channel.banUser(p).then(function () {\n                                                closeDropdown();\n                                            });\n                                        }, testID: \"open_channel_setting_participant_context_menu_ban\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__BAN))); } }));\n                        }\n                        : function () { return React__default.createElement(React__default.Fragment, null); } }));\n            })))));\n}\n\nvar UserListItem = function (_a) {\n    var user = _a.user, currentUser = _a.currentUser, isOperator = _a.isOperator, action = _a.action;\n    var avatarRef = useRef(null);\n    var actionRef = useRef(null);\n    var _b = useContext(UserProfileContext), disableUserProfile = _b.disableUserProfile, renderUserProfile = _b.renderUserProfile;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-participants-accordion__member\" },\n        React__default.createElement(\"div\", { className: \"sendbird-participants-accordion__member-avatar\" },\n            React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(Avatar, { className: \"sendbird-participants-accordion__member-avatar__avatar\", onClick: function () {\n                            if (!disableUserProfile) {\n                                toggleDropdown();\n                            }\n                        }, ref: avatarRef, src: user.profileUrl, width: 24, height: 24 }),\n                    user instanceof Participant && user.isMuted ? (React__default.createElement(MutedAvatarOverlay, null)) : '')); }, menuItems: function (closeDropdown) { return (renderUserProfile\n                    ? renderUserProfile({\n                        user: user,\n                        currentUserId: currentUser !== null && currentUser !== void 0 ? currentUser : '',\n                        close: closeDropdown,\n                        avatarRef: avatarRef,\n                    })\n                    : (React__default.createElement(MenuItems, { openLeft: true, parentRef: avatarRef, \n                        // for catching location(x, y) of MenuItems\n                        parentContainRef: avatarRef, \n                        // for toggling more options(menus & reactions)\n                        closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n                        React__default.createElement(UserProfile, { disableMessaging: true, user: user, currentUserId: currentUser, onSuccess: closeDropdown })))); } })),\n        React__default.createElement(Label, { className: \"sendbird-participants-accordion__member__title\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 },\n            user.nickname || stringSet.NO_NAME,\n            (currentUser === user.userId) && (stringSet.OPEN_CHANNEL_SETTINGS__MEMBERS__YOU)), // if there is now nickname, display userId\n        !user.nickname && (React__default.createElement(Label, { className: \"sendbird-participants-accordion__member__title user-id\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, user.userId)),\n        isOperator && (React__default.createElement(Label, { className: \"sendbird-participants-accordion__member__title\\n                \".concat((user === null || user === void 0 ? void 0 : user.userId) !== currentUser ? 'operator' : '', \"\\n                \").concat((user === null || user === void 0 ? void 0 : user.userId) === currentUser ? 'self-operator' : '', \"\\n              \"), type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_2 }, stringSet.OPEN_CHANNEL_SETTINGS__MEMBERS__OPERATOR)),\n        action && (React__default.createElement(\"div\", { className: \"sendbird-participants-accordion__member__action\", ref: actionRef }, action({ actionRef: actionRef })))));\n};\n\nfunction ParticipantList(_a) {\n    var _b;\n    var _c = _a.isOperatorView, isOperatorView = _c === void 0 ? false : _c;\n    var globalState = useSendbirdStateContext();\n    var currentUserId = (_b = globalState === null || globalState === void 0 ? void 0 : globalState.config) === null || _b === void 0 ? void 0 : _b.userId;\n    var channel = useOpenChannelSettingsContext().channel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var _d = useState(null), participants = _d[0], setParticipants = _d[1];\n    var _e = useState(null), participantListQuery = _e[0], setParticipantListQuery = _e[1];\n    var _f = useState(false), showParticipantsModal = _f[0], setShowParticipantsModal = _f[1];\n    useEffect(function () {\n        if (!channel || !(channel === null || channel === void 0 ? void 0 : channel.createParticipantListQuery)) {\n            return;\n        }\n        var participantListQuery = channel === null || channel === void 0 ? void 0 : channel.createParticipantListQuery({ limit: 10 });\n        setParticipantListQuery(participantListQuery);\n        participantListQuery.next().then(function (participants) {\n            setParticipants(participants);\n        });\n    }, [channel]);\n    var refreshList = useCallback(function () {\n        if (!channel) {\n            setParticipants([]);\n            return;\n        }\n        var participantListQuery = channel === null || channel === void 0 ? void 0 : channel.createParticipantListQuery({ limit: 10 });\n        participantListQuery.next().then(function (participants) {\n            setParticipants(participants);\n        });\n    }, [channel]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-openchannel-settings__participant-list\", onScroll: function (e) {\n            if (participantListQuery) {\n                var hasNext = participantListQuery.hasNext;\n                var target = e.target;\n                var fetchMore = (target.clientHeight + target.scrollTop === target.scrollHeight);\n                if (hasNext && fetchMore) {\n                    participantListQuery.next().then(function (fetchedParticipants) {\n                        setParticipants(__spreadArray(__spreadArray([], (participants !== null && participants !== void 0 ? participants : []), true), fetchedParticipants, true));\n                    });\n                }\n            }\n        } },\n        React__default.createElement(\"div\", null, participants === null || participants === void 0 ? void 0 :\n            participants.map(function (p) {\n                var isOperator = channel === null || channel === void 0 ? void 0 : channel.isOperator(p.userId);\n                return (React__default.createElement(UserListItem, { user: p, currentUser: currentUserId, key: p.userId, isOperator: isOperator, action: function (_a) {\n                        var actionRef = _a.actionRef;\n                        return ((isOperatorView && currentUserId !== (p === null || p === void 0 ? void 0 : p.userId))\n                            ? (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-openchannel-participant-list__menu\", width: \"32px\", height: \"32px\", onClick: toggleDropdown },\n                                    React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.MORE, fillColor: IconColors.CONTENT_INVERSE }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems, { parentRef: actionRef, closeDropdown: closeDropdown, openLeft: true },\n                                    React__default.createElement(OperatorMenuItem, { channel: channel, user: p, onChange: function () {\n                                            closeDropdown();\n                                            refreshList();\n                                        }, onError: function () {\n                                            // FIXME: handle error later\n                                            closeDropdown();\n                                        }, testID: \"open_channel_setting_partitipant_conext_menu_\".concat((isOperator) ? 'unregister_operator' : 'register_as_operator') }, isOperator\n                                        ? stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNREGISTER_OPERATOR\n                                        : stringSet.OPEN_CHANNEL_SETTING__MODERATION__REGISTER_AS_OPERATOR),\n                                    React__default.createElement(MuteMenuItem, { channel: channel, user: p, onChange: function () {\n                                            closeDropdown();\n                                            refreshList();\n                                        }, onError: function () {\n                                            // FIXME: handle error later\n                                            closeDropdown();\n                                        }, testID: \"open_channel_setting_partitipant_conext_menu_\".concat(p.isMuted ? 'unmute' : 'mute') }, p.isMuted\n                                        ? stringSet.OPEN_CHANNEL_SETTING__MODERATION__UNMUTE\n                                        : stringSet.OPEN_CHANNEL_SETTING__MODERATION__MUTE),\n                                    React__default.createElement(MenuItem, { onClick: function () {\n                                            channel === null || channel === void 0 ? void 0 : channel.banUser(p).then(function () {\n                                                closeDropdown();\n                                                refreshList();\n                                            });\n                                        }, testID: \"open_channel_setting_partitipant_conext_menu_ban\" }, stringSet.OPEN_CHANNEL_SETTING__MODERATION__BAN))); } }))\n                            : null);\n                    } }));\n            }),\n            (participants && participants.length === 0)\n                ? (React__default.createElement(Label, { className: \"sendbird-channel-settings__empty-list\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_3 }, stringSet.OPEN_CHANNEL_SETTINGS__EMPTY_LIST)) : null,\n            React__default.createElement(\"div\", { className: \"sendbird-openchannel-participant-list__footer\" }, (participantListQuery === null || participantListQuery === void 0 ? void 0 : participantListQuery.hasNext) && (React__default.createElement(Button, { type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: function () { return setShowParticipantsModal(true); } }, stringSet.OPEN_CHANNEL_SETTINGS__ALL_PARTICIPANTS_TITLE))),\n            showParticipantsModal && (React__default.createElement(ParticipantsModal, { onCancel: function () {\n                    setShowParticipantsModal(false);\n                    refreshList();\n                } })))));\n}\n\nexport { ParticipantList as P, UserListItem as U };\n//# sourceMappingURL=bundle-CqCMcS8B.js.map\n", "import React__default, { createContext, useState, useContext } from 'react';\nimport { n as noop } from '../chunks/bundle-CtBgdgkK.js';\n\nvar AccordionGroupContext = createContext({\n    openedListKeys: [],\n    addOpenedListKey: noop,\n    removeOpenedListKey: noop,\n    clearOpenedListKeys: noop,\n    allowMultipleOpen: false,\n});\nvar AccordionGroupProvider = function (_a) {\n    var className = _a.className, children = _a.children, _b = _a.allowMultipleOpen, allowMultipleOpen = _b === void 0 ? false : _b;\n    var _c = useState([]), openedListKeys = _c[0], setOpenedListKeys = _c[1];\n    var addOpenedListKey = function (key) {\n        setOpenedListKeys(function (prevList) {\n            if (!allowMultipleOpen) {\n                return [key];\n            }\n            prevList.push(key);\n            return prevList;\n        });\n    };\n    var removeOpenedListKey = function (key) {\n        setOpenedListKeys(function (prevList) { return prevList.filter(function (k) { return k !== key; }); });\n    };\n    var clearOpenedListKeys = function () {\n        setOpenedListKeys([]);\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-accordion-group-provider \".concat(className) },\n        React__default.createElement(AccordionGroupContext.Provider, { value: {\n                openedListKeys: openedListKeys,\n                addOpenedListKey: addOpenedListKey,\n                removeOpenedListKey: removeOpenedListKey,\n                clearOpenedListKeys: clearOpenedListKeys,\n                allowMultipleOpen: allowMultipleOpen,\n            } }, children)));\n};\nvar useAccordionGroupContext = function () {\n    var context = useContext(AccordionGroupContext);\n    if (!context)\n        throw new Error('No accordion group context available. Make sure you are rending <AccordionGroupContext />.');\n    return context;\n};\n\nexport { AccordionGroupContext, AccordionGroupProvider, AccordionGroupProvider as default, useAccordionGroupContext };\n//# sourceMappingURL=AccordionGroup.js.map\n", "import React__default, { useMemo } from 'react';\nimport Icon, { IconTypes } from './Icon.js';\nimport { useAccordionGroupContext, AccordionGroupProvider } from './AccordionGroup.js';\nexport { AccordionGroupContext } from './AccordionGroup.js';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\n\nvar Accordion = function (_a) {\n    var className = _a.className, id = _a.id, renderTitle = _a.renderTitle, renderContent = _a.renderContent, renderFooter = _a.renderFooter;\n    var _b = useAccordionGroupContext(), openedListKeys = _b.openedListKeys, addOpenedListKey = _b.addOpenedListKey, removeOpenedListKey = _b.removeOpenedListKey;\n    var isOpened = useMemo(function () { return openedListKeys.includes(id); }, [openedListKeys]);\n    var handleClick = function () {\n        if (isOpened) {\n            removeOpenedListKey(id);\n        }\n        else {\n            addOpenedListKey(id);\n        }\n    };\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-accordion', className, isOpened ? 'sendbird-accordion--opened' : 'sendbird-accordion--closed') },\n        React__default.createElement(\"div\", { className: \"sendbird-accordion__panel-header\", id: id, role: \"switch\", \"aria-checked\": false, onClick: handleClick, onKeyDown: handleClick, tabIndex: 0 },\n            renderTitle(),\n            React__default.createElement(Icon, { type: IconTypes.CHEVRON_RIGHT, className: [\n                    'sendbird-accordion__panel-icon-right',\n                    'sendbird-accordion__panel-icon--chevron',\n                    (isOpened ? 'sendbird-accordion__panel-icon--open' : ''),\n                ].join(' '), height: \"24px\", width: \"24px\" })),\n        isOpened && (React__default.createElement(\"div\", { className: \"sendbird-accordion-opened-list\" },\n            React__default.createElement(\"div\", { className: \"sendbird-accordion__list\" }, renderContent()),\n            renderFooter && (React__default.createElement(\"div\", { className: \"sendbird-accordion__footer\" }, renderFooter()))))));\n};\n\nvar AccordionGroup = AccordionGroupProvider;\n\nexport { Accordion, AccordionGroup, AccordionGroupProvider, Accordion as default, useAccordionGroupContext };\n//# sourceMappingURL=Accordion.js.map\n", "export { SendbirdProvider as SendBirdProvider } from './SendbirdProvider.js';\nexport { default as App } from './App.js';\nexport { default as ChannelSettings } from './ChannelSettings.js';\nexport { default as ChannelList } from './ChannelList.js';\nexport { default as Channel } from './Channel.js';\nexport { g as getStringSet } from './chunks/bundle-D2Fmzffb.js';\nexport { default as OpenChannel } from './OpenChannel.js';\nexport { default as OpenChannelSettings } from './OpenChannelSettings.js';\nexport { default as MessageSearch } from './MessageSearch.js';\nexport { default as withSendBird } from './withSendbird.js';\nexport { default as sendBirdSelectors, default as sendbirdSelectors } from './sendbirdSelectors.js';\nexport { useSendbirdStateContext } from './useSendbirdStateContext.js';\nexport { T as TypingIndicatorType } from './chunks/bundle-D-cVbGxk.js';\nimport './chunks/bundle-B1SLZ0HT.js';\nimport 'react';\nimport '@sendbird/uikit-tools';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/IconButton.js';\nimport './ui/Button.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './ui/Icon.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/chat/groupChannel';\nimport './chunks/bundle-DO8nji3n.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport './ui/SortByRow.js';\nimport './chunks/bundle-egkx7NWB.js';\nimport './chunks/bundle-8Y67Y4IK.js';\nimport './chunks/bundle-5R9f3ZZp.js';\nimport './chunks/bundle-DW8Sq-WK.js';\nimport './chunks/bundle-ke1HVuUa.js';\nimport './GroupChannel.js';\nimport './GroupChannel/context.js';\nimport '@sendbird/chat/message';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './chunks/bundle-DgQjrhyW.js';\nimport './chunks/bundle-h1wbrjk9.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-uSSYB2TA.js';\nimport './GroupChannel/components/GroupChannelUI.js';\nimport './chunks/bundle-CmAUKSnK.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './ui/ConnectionStatus.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './GroupChannel/components/GroupChannelHeader.js';\nimport './chunks/bundle-Dg8Q1yIF.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './chunks/bundle-FBWhhyW3.js';\nimport './ui/Header.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './GroupChannel/components/MessageList.js';\nimport './GroupChannel/components/Message.js';\nimport './chunks/bundle-CAXTSiql.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './chunks/bundle-DHJZgVZH.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './ui/DateSeparator.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-DcNHBjGp.js';\nimport './chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-BVBoUWl2.js';\nimport './chunks/bundle-fSuFm2tD.js';\nimport './chunks/bundle-DtlqJEe7.js';\nimport './ui/MessageContent.js';\nimport './chunks/bundle-j0SR3DhQ.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './chunks/bundle-B6Uh5m2a.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/BottomSheet.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './ui/AdminMessage.js';\nimport './ui/QuoteMessage.js';\nimport './chunks/bundle-CfsHVenu.js';\nimport './ui/MobileMenu.js';\nimport './ui/ThreadReplies.js';\nimport './ui/OGMessageItemBody.js';\nimport './chunks/bundle-NWVriOUB.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './chunks/bundle-Bt68jirZ.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-DTOg7Xzt.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './ui/PlaybackTime.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-CbTjJHLv.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/FeedbackIconButton.js';\nimport './ui/MobileFeedbackMenu.js';\nimport './ui/MessageFeedbackModal.js';\nimport './ui/Input.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './chunks/bundle-CbMF1uDu.js';\nimport './GroupChannel/components/SuggestedReplies.js';\nimport './chunks/bundle-C_WYFRJt.js';\nimport './GroupChannel/components/FileViewer.js';\nimport './chunks/bundle-Ck65vtgI.js';\nimport './GroupChannel/components/RemoveMessageModal.js';\nimport './chunks/bundle-CU9ItXV_.js';\nimport './chunks/bundle-CBwCMBt0.js';\nimport './GroupChannel/components/UnreadCount.js';\nimport './GroupChannel/components/FrozenNotification.js';\nimport './ui/TypingIndicatorBubble.js';\nimport './Channel/utils/getMessagePartsInfo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport './GroupChannel/components/MessageInputWrapper.js';\nimport './chunks/bundle-ChKVOZMC.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-B7FJxg4D.js';\nimport './chunks/bundle-DM6QiOiG.js';\nimport './GroupChannelList.js';\nimport './GroupChannelList/context.js';\nimport './GroupChannelList/components/GroupChannelListUI.js';\nimport './chunks/bundle-B2Vy0FIf.js';\nimport './GroupChannelList/components/GroupChannelListHeader.js';\nimport './EditUserProfile.js';\nimport './EditUserProfile/context.js';\nimport './EditUserProfile/components/EditUserProfileUI.js';\nimport './chunks/bundle-D2bCW01X.js';\nimport './chunks/bundle-FtNvi0ib.js';\nimport './GroupChannelList/components/GroupChannelPreviewAction.js';\nimport './GroupChannelList/components/GroupChannelListItem.js';\nimport './chunks/bundle-R159x0xi.js';\nimport './ui/Badge.js';\nimport './ui/MentionUserLabel.js';\nimport './GroupChannelList/components/AddGroupChannel.js';\nimport './chunks/bundle-CcvIdULa.js';\nimport './CreateChannel.js';\nimport './CreateChannel/components/CreateChannelUI.js';\nimport './chunks/bundle-CM1oxZtw.js';\nimport './CreateChannel/components/InviteUsers.js';\nimport './CreateChannel/components/SelectChannelType.js';\nimport './Thread.js';\nimport './Thread/context.js';\nimport './chunks/bundle-D8esR1WH.js';\nimport './Thread/context/types.js';\nimport './chunks/bundle-CwpgCadZ.js';\nimport './chunks/bundle-BKe5KBuS.js';\nimport './Thread/components/ThreadUI.js';\nimport './Thread/components/ParentMessageInfo.js';\nimport './chunks/bundle-RC1OoWx9.js';\nimport './Thread/components/ParentMessageInfoItem.js';\nimport './chunks/bundle-9-9DQjCI.js';\nimport './chunks/bundle-B5vIoHSd.js';\nimport './Thread/components/ThreadHeader.js';\nimport './Thread/components/ThreadList.js';\nimport './Thread/components/ThreadListItem.js';\nimport 'date-fns';\nimport './Thread/components/ThreadMessageInput.js';\nimport './Channel/hooks/useHandleUploadFiles.js';\nimport './ChannelSettings/components/ChannelSettingsUI.js';\nimport './ChannelSettings/context.js';\nimport './ChannelSettings/components/ChannelSettingsHeader.js';\nimport './ChannelSettings/components/ChannelProfile.js';\nimport './ChannelSettings/components/EditDetailsModal.js';\nimport './ChannelSettings/components/LeaveChannel.js';\nimport './ChannelSettings/components/ChannelSettingsMenuItem.js';\nimport './ChannelSettings/components/ChannelSettingMenuList.js';\nimport './ChannelSettings/hooks/useMenuList.js';\nimport './chunks/bundle-DWQyLuYT.js';\nimport './chunks/bundle-C8mqUun8.js';\nimport './chunks/bundle-nv2ffewN.js';\nimport './ui/Toggle.js';\nimport './chunks/bundle-CQgNYKRd.js';\nimport './chunks/bundle-DPf4rz9k.js';\nimport './ChannelList/components/ChannelListUI.js';\nimport './ChannelList/components/ChannelPreview.js';\nimport './ChannelList/components/AddChannel.js';\nimport './Channel/context.js';\nimport './chunks/bundle-CSRcmLyk.js';\nimport './Channel/components/ChannelUI.js';\nimport './Channel/components/ChannelHeader.js';\nimport './Channel/components/MessageList.js';\nimport './Channel/components/Message.js';\nimport './Channel/components/FileViewer.js';\nimport './Channel/components/RemoveMessageModal.js';\nimport './chunks/bundle-Cn1EBKt6.js';\nimport './Channel/components/MessageInput.js';\nimport './OpenChannel/components/OpenChannelUI.js';\nimport './chunks/bundle-v7PcSk1i.js';\nimport './OpenChannel/components/OpenChannelInput.js';\nimport './OpenChannel/components/FrozenChannelNotification.js';\nimport './OpenChannel/components/OpenChannelHeader.js';\nimport './OpenChannel/components/OpenChannelMessageList.js';\nimport './OpenChannel/components/OpenChannelMessage.js';\nimport './ui/OpenchannelUserMessage.js';\nimport './chunks/bundle-MlowEcAQ.js';\nimport './chunks/bundle-BOC6Vh1w.js';\nimport './ui/OpenChannelAdminMessage.js';\nimport './ui/OpenchannelOGMessage.js';\nimport './ui/OpenchannelThumbnailMessage.js';\nimport './ui/OpenchannelFileMessage.js';\nimport './OpenChannelSettings/components/OpenChannelSettingsUI.js';\nimport './OpenChannelSettings/context.js';\nimport './OpenChannelSettings/components/OperatorUI.js';\nimport './OpenChannelSettings/components/OpenChannelProfile.js';\nimport './ui/OpenChannelAvatar.js';\nimport './OpenChannelSettings/components/EditDetailsModal.js';\nimport './chunks/bundle-CqCMcS8B.js';\nimport './ui/AccordionGroup.js';\nimport './ui/Accordion.js';\nimport './MessageSearch/components/MessageSearchUI.js';\nimport './MessageSearch/context.js';\nimport './ui/MessageSearchItem.js';\nimport './ui/MessageSearchFileItem.js';\n//# sourceMappingURL=index.js.map\n"],
  "mappings": "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",
  "names": ["_a", "_b", "_c", "_d", "_e", "_f", "errorMessage", "React__default", "body", "import_react", "import_react", "import_react", "isEmpty", "import_react", "import_react", "import_react", "getNicknamesMapFromMembers", "isAboutSame", "isEmpty", "compareIds", "scrollIntoLast", "initialState", "action", "_a", "DELIVERY_RECEIPT", "_b", "message", "params", "React__default", "import_react", "import_react", "React__default", "import_react", "import_react", "import_react", "import_react_dom", "FileViewer", "React__default", "import_react", "import_react_dom", "React__default", "import_react_dom", "React__default", "_a", "props", "FileViewer", "import_react_dom", "DELAY", "_a", "React__default", "_b", "_c", "import_react", "import_react_dom", "React__default", "import_react_dom", "React__default", "import_react_dom", "React__default", "import_react", "import_react", "SET_CURRENT_CHANNEL", "DELIVERY_RECEIPT", "_a", "_b", "initialState", "action", "React__default", "import_react", "import_react", "import_react_dom", "React__default", "import_react", "import_react_dom", "React__default", "import_react_dom", "props", "_a", "React__default", "SET_CURRENT_CHANNEL", "channel", "import_react_dom", "React__default", "import_react", "import_react", "import_react", "_a", "React__default", "_b", "_c", "_d", "_e", "channel", "import_react", "React__default", "import_react", "import_react", "import_react_dom", "React__default", "_a", "_b", "_c", "currentImg", "import_react_dom", "React__default", "import_react", "import_react_dom", "channel", "React__default", "import_react", "MenuItem", "React__default", "import_react", "React__default", "_a", "MenuItem", "import_react", "import_react", "import_react", "import_react_dom", "isOperator", "_a", "React__default", "OperatorToggleMenuItem", "MuteToggleMenuItem", "BanToggleMenuItem", "React__default", "operators", "_a", "members", "import_react", "React__default", "members", "_a", "isOperator", "_b", "_c", "import_react", "noop", "React__default", "import_react_dom", "_a", "React__default", "import_react_dom", "props", "React__default", "MenuItem", "import_react_dom", "React__default", "import_react", "import_react", "import_react", "SET_CURRENT_CHANNEL", "reducer", "initialState", "MessageSearchOrder", "useScrollCallback", "React__default", "import_react", "React__default", "import_react", "getCreatedAt", "React__default", "React__default", "React__default", "import_react", "import_react", "ChannelStateTypes", "ParentMessageStateTypes", "ThreadListStateTypes", "ThreadContextActionTypes", "reducer", "message", "compareIds", "_a", "hasReqId", "initialState", "useGetChannel", "_b", "scrollIntoLast", "useHandleChannelEvents", "_c", "useSendFileMessageCallback", "params", "useUpdateMessageCallback", "useDeleteMessageCallback", "useToggleReactionCallback", "useResendMessageCallback", "useSendVoiceMessageCallback", "React__default", "getNicknamesMapFromMembers", "import_react", "import_react", "import_react", "React__default", "import_react", "import_react_dom", "_a", "_b", "_c", "React__default", "import_react", "React__default", "import_react_dom", "React__default", "_a", "userId", "_b", "_c", "import_react", "React__default", "import_react", "import_react", "import_react_dom", "React__default", "_a", "_b", "_c", "userId", "message", "o", "isSameDay", "defaultOptions", "defaultOptions", "defaultOptions", "MILLISECONDS_IN_WEEK", "format", "ordinalNumber", "valueCallback", "t", "e", "t", "t", "_isNativeReflectConstruct", "Setter", "ValueSetter", "set", "DateToSystemTimezoneSetter", "Parser", "match", "EraParser", "parse", "match", "set", "YearParser", "parse", "match", "valueCallback", "set", "LocalWeekYearParser", "parse", "match", "valueCallback", "set", "ISOWeekYearParser", "parse", "set", "ExtendedYearParser", "parse", "set", "QuarterParser", "parse", "match", "set", "StandAloneQuarterParser", "parse", "match", "set", "MonthParser", "parse", "match", "valueCallback", "set", "StandAloneMonthParser", "parse", "match", "valueCallback", "set", "LocalWeekParser", "parse", "match", "set", "ISOWeekParser", "parse", "match", "set", "DateParser", "parse", "match", "isLeapYear", "set", "DayOfYearParser", "parse", "match", "isLeapYear", "set", "defaultOptions", "DayParser", "parse", "match", "set", "LocalDayParser", "parse", "match", "valueCallback", "set", "StandAloneLocalDayParser", "parse", "match", "valueCallback", "set", "ISODayParser", "parse", "match", "valueCallback", "set", "AMPMParser", "parse", "match", "set", "AMPMMidnightParser", "parse", "match", "set", "DayPeriodParser", "parse", "match", "set", "Hour1to12Parser", "parse", "match", "set", "Hour0to23Parser", "parse", "match", "set", "Hour0To11Parser", "parse", "match", "set", "Hour1To24Parser", "parse", "match", "set", "MinuteParser", "parse", "match", "set", "SecondParser", "parse", "match", "set", "FractionOfSecondParser", "parse", "valueCallback", "set", "ISOTimezoneWithZParser", "parse", "set", "ISOTimezoneParser", "parse", "set", "TimestampSecondsParser", "parse", "set", "TimestampMillisecondsParser", "parse", "set", "import_react_dom", "React__default", "_a", "_b", "isSameDay", "import_react", "import_react", "import_react_dom", "_a", "React__default", "file", "import_react_dom", "_a", "React__default", "_b", "import_react_dom", "React__default", "_a", "isAboutSame", "getChannelTitle", "import_react_dom", "React__default", "import_react_dom", "React__default", "PANELS", "_a", "_b", "import_react", "import_react", "import_react", "scrollIntoLast", "kFormatter", "isOperator", "isDisabledBecauseFrozen", "isDisabledBecauseMuted", "SET_CURRENT_CHANNEL", "SET_CHANNEL_INVALID", "RESET_MESSAGES", "ON_MESSAGE_RECEIVED", "ON_MESSAGE_UPDATED", "ON_MESSAGE_DELETED", "ON_MESSAGE_DELETED_BY_REQ_ID", "ON_CHANNEL_FROZEN", "ON_CHANNEL_UNFROZEN", "ON_CHANNEL_CHANGED", "ON_CHANNEL_DELETED", "reducer", "_a", "initialState", "useSetChannel", "useHandleChannelEvents", "_b", "useInitialMessagesFetch", "useScrollCallback", "hasMore", "lastMessageTimestamp", "useSendMessageCallback", "params", "React__default", "useUpdateMessageCallback", "useDeleteMessageCallback", "useResendMessageCallback", "import_react", "import_react_dom", "React__default", "import_react", "FrozenNotification", "React__default", "import_react", "import_react_dom", "kFormatter", "React__default", "import_react", "import_react", "import_react", "import_react", "copyToClipboard", "React__default", "import_react_dom", "isOperator", "_a", "React__default", "import_react", "React__default", "import_react", "import_react_dom", "isOperator", "_a", "_b", "React__default", "import_react", "import_react_dom", "isOperator", "type", "_a", "React__default", "_b", "import_react", "import_react_dom", "isOperator", "React__default", "import_react_dom", "RemoveMessageModal", "React__default", "_a", "message", "import_react_dom", "_a", "_b", "React__default", "import_react_dom", "React__default", "FrozenNotification", "import_react_dom", "React__default", "import_react", "import_react", "import_react", "React__default", "_a", "channelUrl", "_b", "_c", "import_react", "import_react", "import_react", "ChannelAvatar", "React__default", "import_react", "import_react_dom", "EditDetails", "React__default", "_a", "_b", "_c", "_d", "currentImg", "ChannelAvatar", "import_react_dom", "ChannelProfile", "React__default", "ChannelAvatar", "EditDetails", "import_react", "import_react", "React__default", "import_react_dom", "participantListQuery", "React__default", "_a", "isOperator", "UserListItem", "participants", "import_react", "React__default", "import_react_dom", "React__default", "_a", "AddOperatorsModal", "isOperator", "OperatorList", "UserListItem", "u", "BannedUsersModal", "BannedUserList", "copyToClipboard", "ChannelProfile", "import_react_dom", "React__default", "OpenChannelUI", "import_react_dom", "React__default", "OpenChannelUI", "import_react", "import_react_dom"]
}
