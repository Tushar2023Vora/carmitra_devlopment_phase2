{
  "version": 3,
  "sources": ["../../@sendbird/uikit-react/GroupChannel.js", "../../@sendbird/uikit-react/GroupChannel/context.js", "../../@sendbird/uikit-react/chunks/bundle-DgQjrhyW.js", "../../@sendbird/uikit-react/chunks/bundle-DW8Sq-WK.js", "../../@sendbird/uikit-react/chunks/bundle-h1wbrjk9.js", "../../@sendbird/uikit-react/chunks/bundle-5R9f3ZZp.js", "../../@sendbird/uikit-react/chunks/bundle-uSSYB2TA.js", "../../@sendbird/uikit-react/chunks/bundle-ke1HVuUa.js", "../../@sendbird/uikit-react/GroupChannel/components/GroupChannelUI.js", "../../@sendbird/uikit-react/chunks/bundle-CmAUKSnK.js", "../../@sendbird/uikit-react/ui/ConnectionStatus.js", "../../@sendbird/uikit-react/GroupChannel/components/GroupChannelHeader.js", "../../@sendbird/uikit-react/chunks/bundle-Dg8Q1yIF.js", "../../@sendbird/uikit-react/chunks/bundle-FBWhhyW3.js", "../../@sendbird/uikit-react/GroupChannel/components/MessageList.js", "../../@sendbird/uikit-react/GroupChannel/components/Message.js", "../../@sendbird/uikit-react/chunks/bundle-CAXTSiql.js", "../../@sendbird/uikit-react/chunks/bundle-DHJZgVZH.js", "../../@sendbird/uikit-react/Message/hooks/useDirtyGetMentions.js", "../../@sendbird/uikit-react/ui/DateSeparator.js", "../../@sendbird/uikit-react/ui/MessageInput.js", "../../@sendbird/uikit-react/chunks/bundle-DcNHBjGp.js", "../../@sendbird/uikit-react/chunks/bundle-BGQ77Eco.js", "../../dompurify/src/utils.js", "../../dompurify/src/tags.js", "../../dompurify/src/attrs.js", "../../dompurify/src/regexp.js", "../../dompurify/src/purify.js", "../../@sendbird/uikit-react/chunks/bundle-BVBoUWl2.js", "../../@sendbird/uikit-react/chunks/bundle-fSuFm2tD.js", "../../@sendbird/uikit-react/chunks/bundle-DtlqJEe7.js", "../../@sendbird/uikit-react/ui/MessageContent.js", "../../@sendbird/uikit-react/chunks/bundle-B6Uh5m2a.js", "../../@sendbird/uikit-react/ui/MessageItemReactionMenu.js", "../../@sendbird/uikit-react/ui/ReactionButton.js", "../../@sendbird/uikit-react/ui/EmojiReactions.js", "../../@sendbird/uikit-react/ui/ReactionBadge.js", "../../@sendbird/uikit-react/ui/BottomSheet.js", "../../@sendbird/uikit-react/ui/Tooltip.js", "../../@sendbird/uikit-react/ui/TooltipWrapper.js", "../../@sendbird/uikit-react/Message/context.js", "../../@sendbird/uikit-react/ui/AdminMessage.js", "../../@sendbird/uikit-react/ui/QuoteMessage.js", "../../@sendbird/uikit-react/chunks/bundle-CfsHVenu.js", "../../@sendbird/uikit-react/ui/MobileMenu.js", "../../@sendbird/uikit-react/ui/ThreadReplies.js", "../../@sendbird/uikit-react/ui/OGMessageItemBody.js", "../../@sendbird/uikit-react/chunks/bundle-NWVriOUB.js", "../../@sendbird/uikit-react/ui/MentionLabel.js", "../../@sendbird/uikit-react/ui/LinkLabel.js", "../../@sendbird/uikit-react/ui/TextMessageItemBody.js", "../../@sendbird/uikit-react/ui/FileMessageItemBody.js", "../../@sendbird/uikit-react/chunks/bundle-Bt68jirZ.js", "../../@sendbird/uikit-react/ui/FileViewer.js", "../../@sendbird/uikit-react/chunks/bundle-DTOg7Xzt.js", "../../@sendbird/uikit-react/ui/VoiceMessageItemBody.js", "../../@sendbird/uikit-react/ui/ProgressBar.js", "../../@sendbird/uikit-react/VoicePlayer/useVoicePlayer.js", "../../@sendbird/uikit-react/ui/PlaybackTime.js", "../../@sendbird/uikit-react/ui/ThumbnailMessageItemBody.js", "../../@sendbird/uikit-react/ui/UnknownMessageItemBody.js", "../../@sendbird/uikit-react/ui/TemplateMessageItemBody.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/types/components.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/parser.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/renderer.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/context/SizeProvider.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/types/styles.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/utils/index.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/utils/templateItemId.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/defaultValues.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/core/messageTemplate.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/types/properties.js", "../../@sendbird/node_modules/@sendbird/uikit-message-template/dist/test/data.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/Carousel/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/util/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.canvas.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.img.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.placeholder.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/components/ReactMessageTemplateImage/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/context/MessageContextProvider.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/usePreservedCallback.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useRefEffect.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useResizeObserver.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useElementSize.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/hook/useRecalculationSize.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/styles/index.js", "../../@sendbird/node_modules/@sendbird/react-uikit-message-template-view/dist/ui/index.js", "../../@sendbird/uikit-react/ui/FallbackTemplateMessageItemBody.tsx.js", "../../@sendbird/uikit-react/ui/LoadingTemplateMessageItemBody.tsx.js", "../../@sendbird/uikit-react/ui/FeedbackIconButton.js", "../../@sendbird/uikit-react/ui/MobileFeedbackMenu.js", "../../@sendbird/uikit-react/ui/MessageFeedbackModal.js", "../../@sendbird/uikit-react/ui/MessageFeedbackFailedModal.js", "../../@sendbird/uikit-react/chunks/bundle-CbMF1uDu.js", "../../@sendbird/uikit-react/GroupChannel/components/SuggestedReplies.js", "../../@sendbird/uikit-react/chunks/bundle-C_WYFRJt.js", "../../@sendbird/uikit-react/GroupChannel/components/FileViewer.js", "../../@sendbird/uikit-react/chunks/bundle-Ck65vtgI.js", "../../@sendbird/uikit-react/GroupChannel/components/RemoveMessageModal.js", "../../@sendbird/uikit-react/chunks/bundle-CU9ItXV_.js", "../../@sendbird/uikit-react/chunks/bundle-CBwCMBt0.js", "../../@sendbird/uikit-react/GroupChannel/components/UnreadCount.js", "../../@sendbird/uikit-react/GroupChannel/components/FrozenNotification.js", "../../@sendbird/uikit-react/ui/TypingIndicatorBubble.js", "../../@sendbird/uikit-react/Channel/utils/compareMessagesForGrouping.js", "../../@sendbird/uikit-react/Channel/utils/getMessagePartsInfo.js", "../../@sendbird/uikit-react/GroupChannel/components/MessageInputWrapper.js", "../../@sendbird/uikit-react/chunks/bundle-ChKVOZMC.js", "../../@sendbird/uikit-react/GroupChannel/components/SuggestedMentionList.js", "../../@sendbird/uikit-react/ui/QuoteMessageInput.js", "../../@sendbird/uikit-react/VoiceRecorder/useVoiceRecorder.js", "../../@sendbird/uikit-react/chunks/bundle-B7FJxg4D.js", "../../@sendbird/uikit-react/chunks/bundle-DM6QiOiG.js"],
  "sourcesContent": ["import { _ as __assign } from './chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { GroupChannelProvider } from './GroupChannel/context.js';\nimport { GroupChannelUI } from './GroupChannel/components/GroupChannelUI.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport './chunks/bundle-BKxPk2t0.js';\nimport './useSendbirdStateContext.js';\nimport './withSendbird.js';\nimport './chunks/bundle-DgQjrhyW.js';\nimport './chunks/bundle-DW8Sq-WK.js';\nimport './chunks/bundle-h1wbrjk9.js';\nimport './chunks/bundle-5R9f3ZZp.js';\nimport './chunks/bundle-DZhG3Z6D.js';\nimport './chunks/bundle-c4e24Qt4.js';\nimport './chunks/bundle-uSSYB2TA.js';\nimport './chunks/bundle-ke1HVuUa.js';\nimport './chunks/bundle-CmAUKSnK.js';\nimport './GroupChannel/components/TypingIndicator.js';\nimport './chunks/bundle-CEZ0D4qz.js';\nimport './chunks/bundle-D2Fmzffb.js';\nimport './chunks/bundle-BvAzWVA5.js';\nimport './chunks/bundle-kNaMXwgI.js';\nimport './chunks/bundle-Cvt9FZvn.js';\nimport './chunks/bundle-D-cVbGxk.js';\nimport './utils/message/getOutgoingMessageState.js';\nimport './chunks/bundle-DJDeBhDz.js';\nimport './chunks/bundle-CwQYOWqR.js';\nimport './ui/ConnectionStatus.js';\nimport './ui/Icon.js';\nimport './chunks/bundle-CtBgdgkK.js';\nimport './ui/PlaceHolder.js';\nimport './ui/Loader.js';\nimport './GroupChannel/components/GroupChannelHeader.js';\nimport './chunks/bundle-Dg8Q1yIF.js';\nimport './ui/ChannelAvatar.js';\nimport './chunks/bundle-C76-LA1E.js';\nimport './ui/ImageRenderer.js';\nimport './chunks/bundle-DYIdeEpd.js';\nimport './chunks/bundle-CRKkgI5q.js';\nimport './chunks/bundle-FBWhhyW3.js';\nimport './chunks/bundle-DBzinRyn.js';\nimport './ui/Header.js';\nimport './ui/TextButton.js';\nimport './chunks/bundle-CTaD4y3Q.js';\nimport './ui/IconButton.js';\nimport './GroupChannel/components/MessageList.js';\nimport './GroupChannel/components/Message.js';\nimport './chunks/bundle-CAXTSiql.js';\nimport './chunks/bundle-C6F1gIgq.js';\nimport './chunks/bundle-DHJZgVZH.js';\nimport './Message/hooks/useDirtyGetMentions.js';\nimport './ui/DateSeparator.js';\nimport './ui/MessageInput.js';\nimport './chunks/bundle-DcNHBjGp.js';\nimport './ui/Button.js';\nimport './chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport './chunks/bundle-i2i0G-ml.js';\nimport './chunks/bundle-BVBoUWl2.js';\nimport './chunks/bundle-fSuFm2tD.js';\nimport './chunks/bundle-DtlqJEe7.js';\nimport './ui/MessageContent.js';\nimport './chunks/bundle-j0SR3DhQ.js';\nimport './chunks/bundle-BxrZduJE.js';\nimport './chunks/bundle-q_YvxT21.js';\nimport './chunks/bundle-B6Uh5m2a.js';\nimport './chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './ui/SortByRow.js';\nimport './ui/MessageItemReactionMenu.js';\nimport './ui/ReactionButton.js';\nimport './chunks/bundle-DxDVBm6N.js';\nimport './ui/EmojiReactions.js';\nimport './ui/ReactionBadge.js';\nimport './ui/BottomSheet.js';\nimport './chunks/bundle-Bh6KfMRl.js';\nimport 'css-vars-ponyfill';\nimport './chunks/bundle-DO8nji3n.js';\nimport './ui/UserListItem.js';\nimport './ui/MutedAvatarOverlay.js';\nimport './ui/Checkbox.js';\nimport './ui/UserProfile.js';\nimport './sendbirdSelectors.js';\nimport './ui/Tooltip.js';\nimport './ui/TooltipWrapper.js';\nimport './Message/context.js';\nimport './ui/AdminMessage.js';\nimport './ui/QuoteMessage.js';\nimport './chunks/bundle-CfsHVenu.js';\nimport './ui/MobileMenu.js';\nimport './ui/ThreadReplies.js';\nimport './ui/OGMessageItemBody.js';\nimport './chunks/bundle-NWVriOUB.js';\nimport './ui/MentionLabel.js';\nimport './ui/LinkLabel.js';\nimport './ui/TextMessageItemBody.js';\nimport './ui/FileMessageItemBody.js';\nimport './chunks/bundle-Bt68jirZ.js';\nimport './ui/FileViewer.js';\nimport './chunks/bundle-DTOg7Xzt.js';\nimport './ui/VoiceMessageItemBody.js';\nimport './ui/ProgressBar.js';\nimport './VoicePlayer/useVoicePlayer.js';\nimport './ui/PlaybackTime.js';\nimport './ui/ThumbnailMessageItemBody.js';\nimport './ui/UnknownMessageItemBody.js';\nimport './ui/TemplateMessageItemBody.js';\nimport './chunks/bundle-CbTjJHLv.js';\nimport './ui/FallbackTemplateMessageItemBody.tsx.js';\nimport './ui/LoadingTemplateMessageItemBody.tsx.js';\nimport './ui/FeedbackIconButton.js';\nimport './ui/MobileFeedbackMenu.js';\nimport './ui/MessageFeedbackModal.js';\nimport './ui/Input.js';\nimport './ui/MessageFeedbackFailedModal.js';\nimport './chunks/bundle-CbMF1uDu.js';\nimport './GroupChannel/components/SuggestedReplies.js';\nimport './chunks/bundle-C_WYFRJt.js';\nimport './GroupChannel/components/FileViewer.js';\nimport './chunks/bundle-Ck65vtgI.js';\nimport './GroupChannel/components/RemoveMessageModal.js';\nimport './chunks/bundle-CU9ItXV_.js';\nimport './chunks/bundle-CBwCMBt0.js';\nimport './GroupChannel/components/UnreadCount.js';\nimport './GroupChannel/components/FrozenNotification.js';\nimport './ui/TypingIndicatorBubble.js';\nimport './Channel/utils/getMessagePartsInfo.js';\nimport './Channel/utils/compareMessagesForGrouping.js';\nimport './chunks/bundle-Dt4PQi4u.js';\nimport './GroupChannel/components/MessageInputWrapper.js';\nimport './chunks/bundle-ChKVOZMC.js';\nimport './GroupChannel/components/SuggestedMentionList.js';\nimport './ui/QuoteMessageInput.js';\nimport './VoiceRecorder/useVoiceRecorder.js';\nimport './chunks/bundle-B7FJxg4D.js';\nimport './chunks/bundle-DM6QiOiG.js';\n\nvar GroupChannel = function (props) {\n    return (React__default.createElement(GroupChannelProvider, __assign({}, props),\n        React__default.createElement(GroupChannelUI, __assign({}, props))));\n};\n\nexport { GroupChannel, GroupChannel as default };\n//# sourceMappingURL=GroupChannel.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useState, useLayoutEffect, useCallback, useMemo, useEffect, useContext } from 'react';\nimport { MessageMetaArray, ReplyType } from '@sendbird/chat/message';\nimport { MessageFilter } from '@sendbird/chat/groupChannel';\nimport { useIIFE, useGroupChannelMessages, useAsyncEffect, useAsyncLayoutEffect, usePreservedCallback } from '@sendbird/uikit-tools';\nimport { U as UserProfileProvider } from '../chunks/bundle-BKxPk2t0.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { u as useToggleReactionCallback } from '../chunks/bundle-DgQjrhyW.js';\nimport { g as getCaseResolvedReplyType, a as getCaseResolvedThreadReplySelectType } from '../chunks/bundle-DW8Sq-WK.js';\nimport { c as isContextMenuClosed, d as getMessageTopOffset } from '../chunks/bundle-h1wbrjk9.js';\nimport { p as pubSubFactory } from '../chunks/bundle-5R9f3ZZp.js';\nimport { p as pubSubTopics } from '../chunks/bundle-DZhG3Z6D.js';\nimport { f as VOICE_MESSAGE_FILE_NAME, b as VOICE_MESSAGE_MIME_TYPE, M as META_ARRAY_VOICE_DURATION_KEY, g as META_ARRAY_MESSAGE_TYPE_KEY, h as META_ARRAY_MESSAGE_TYPE_VALUE__VOICE } from '../chunks/bundle-c4e24Qt4.js';\nimport { g as getIsReactionEnabled } from '../chunks/bundle-uSSYB2TA.js';\nimport { u as useMessageLayoutDirection } from '../chunks/bundle-ke1HVuUa.js';\nimport '../withSendbird.js';\n\nfunction useMessageListScroll(behavior, deps) {\n    if (deps === void 0) { deps = []; }\n    var scrollRef = useRef(null);\n    var scrollPositionRef = useRef(0);\n    var scrollDistanceFromBottomRef = useRef(0);\n    var scrollPubSub = useState(function () { return pubSubFactory({ publishSynchronous: true }); })[0];\n    var _a = useState(true), isScrollBottomReached = _a[0], setIsScrollBottomReached = _a[1];\n    // SideEffect: Reset scroll state\n    useLayoutEffect(function () {\n        scrollPositionRef.current = 0;\n        scrollDistanceFromBottomRef.current = 0;\n        setIsScrollBottomReached(true);\n        if (scrollRef.current)\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n    }, deps);\n    useLayoutEffect(function () {\n        var unsubscribes = [];\n        unsubscribes.push(scrollPubSub.subscribe('scrollToBottom', function (_a) {\n            var resolve = _a.resolve, animated = _a.animated;\n            runCallback(function () {\n                if (!scrollRef.current) {\n                    if (resolve)\n                        resolve();\n                    return;\n                }\n                if (scrollRef.current.scroll) {\n                    scrollRef.current.scroll({ top: scrollRef.current.scrollHeight, behavior: getScrollBehavior(behavior, animated) });\n                }\n                else {\n                    scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n                }\n                // Update data by manual update\n                scrollDistanceFromBottomRef.current = 0;\n                setIsScrollBottomReached(true);\n                if (resolve)\n                    resolve();\n            });\n        }));\n        unsubscribes.push(scrollPubSub.subscribe('scroll', function (_a) {\n            var top = _a.top, animated = _a.animated, lazy = _a.lazy, resolve = _a.resolve;\n            runCallback(function () {\n                if (!scrollRef.current)\n                    return;\n                var _a = scrollRef.current, scrollTop = _a.scrollTop, scrollHeight = _a.scrollHeight, clientHeight = _a.clientHeight;\n                if (scrollRef.current.scroll) {\n                    scrollRef.current.scroll({ top: top, behavior: getScrollBehavior(behavior, animated) });\n                }\n                else if (typeof top === 'number') {\n                    scrollRef.current.scrollTop = top;\n                }\n                // Update data by manual update\n                scrollDistanceFromBottomRef.current = Math.max(0, scrollHeight - scrollTop - clientHeight);\n                setIsScrollBottomReached(scrollDistanceFromBottomRef.current === 0);\n                if (resolve)\n                    resolve();\n            }, lazy);\n        }));\n        return function () {\n            unsubscribes.forEach(function (_a) {\n                var remove = _a.remove;\n                return remove();\n            });\n        };\n    }, [behavior]);\n    return {\n        scrollRef: scrollRef,\n        scrollPubSub: scrollPubSub,\n        isScrollBottomReached: isScrollBottomReached,\n        setIsScrollBottomReached: setIsScrollBottomReached,\n        scrollDistanceFromBottomRef: scrollDistanceFromBottomRef,\n        scrollPositionRef: scrollPositionRef,\n    };\n}\nfunction runCallback(callback, lazy) {\n    if (lazy === void 0) { lazy = true; }\n    if (lazy) {\n        setTimeout(function () {\n            callback();\n        });\n    }\n    else {\n        callback();\n    }\n}\nfunction getScrollBehavior(behavior, animated) {\n    if (typeof animated === 'boolean')\n        return animated ? 'smooth' : 'auto';\n    return behavior;\n}\n\nvar pass = function (value) { return value; };\n/**\n * @description This hook controls common processes related to message sending, updating.\n * */\nfunction useMessageActions(params) {\n    var _this = this;\n    var _a = params.onBeforeSendUserMessage, onBeforeSendUserMessage = _a === void 0 ? pass : _a, _b = params.onBeforeSendFileMessage, onBeforeSendFileMessage = _b === void 0 ? pass : _b, _c = params.onBeforeUpdateUserMessage, onBeforeUpdateUserMessage = _c === void 0 ? pass : _c, _d = params.onBeforeSendVoiceMessage, onBeforeSendVoiceMessage = _d === void 0 ? pass : _d, _e = params.onBeforeSendMultipleFilesMessage, onBeforeSendMultipleFilesMessage = _e === void 0 ? pass : _e, sendFileMessage = params.sendFileMessage, sendMultipleFilesMessage = params.sendMultipleFilesMessage, sendUserMessage = params.sendUserMessage, updateUserMessage = params.updateUserMessage, scrollToBottom = params.scrollToBottom, quoteMessage = params.quoteMessage, replyType = params.replyType;\n    var buildInternalMessageParams = useCallback(function (basicParams) {\n        var messageParams = __assign({}, basicParams);\n        if (params.quoteMessage && replyType !== 'NONE') {\n            messageParams.isReplyToChannel = true;\n            messageParams.parentMessageId = quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId;\n        }\n        return messageParams;\n    }, [replyType, quoteMessage]);\n    return {\n        sendUserMessage: useCallback(function (params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, onBeforeSendUserMessage(internalParams)];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendUserMessage(processedParams, function () { return scrollToBottom(); })];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendUserMessage, scrollToBottom]),\n        sendFileMessage: useCallback(function (params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, onBeforeSendFileMessage(internalParams)];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendFileMessage(processedParams, function () { return scrollToBottom(); })];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendFileMessage, scrollToBottom]),\n        sendMultipleFilesMessage: useCallback(function (params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, onBeforeSendMultipleFilesMessage(internalParams)];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendMultipleFilesMessage(processedParams, function () { return scrollToBottom(); })];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendMultipleFilesMessage, scrollToBottom]),\n        sendVoiceMessage: useCallback(function (params, duration) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(__assign(__assign({}, params), { fileName: VOICE_MESSAGE_FILE_NAME, mimeType: VOICE_MESSAGE_MIME_TYPE, metaArrays: [\n                                new MessageMetaArray({\n                                    key: META_ARRAY_VOICE_DURATION_KEY,\n                                    value: [\"\".concat(duration)],\n                                }),\n                                new MessageMetaArray({\n                                    key: META_ARRAY_MESSAGE_TYPE_KEY,\n                                    value: [META_ARRAY_MESSAGE_TYPE_VALUE__VOICE],\n                                }),\n                            ] }));\n                        return [4 /*yield*/, onBeforeSendVoiceMessage(internalParams)];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, sendFileMessage(processedParams, function () { return scrollToBottom(); })];\n                }\n            });\n        }); }, [buildInternalMessageParams, sendFileMessage, scrollToBottom]),\n        updateUserMessage: useCallback(function (messageId, params) { return __awaiter(_this, void 0, void 0, function () {\n            var internalParams, processedParams;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        internalParams = buildInternalMessageParams(params);\n                        return [4 /*yield*/, onBeforeUpdateUserMessage(internalParams)];\n                    case 1:\n                        processedParams = _a.sent();\n                        return [2 /*return*/, updateUserMessage(messageId, processedParams)];\n                }\n            });\n        }); }, [buildInternalMessageParams, updateUserMessage]),\n    };\n}\n\nvar GroupChannelContext = React__default.createContext(null);\nvar GroupChannelProvider = function (props) {\n    var _a, _b, _c;\n    var channelUrl = props.channelUrl, children = props.children, moduleReactionEnabled = props.isReactionEnabled, moduleReplyType = props.replyType, moduleThreadReplySelectType = props.threadReplySelectType, _d = props.isMessageGroupingEnabled, isMessageGroupingEnabled = _d === void 0 ? true : _d, isMultipleFilesMessageEnabled = props.isMultipleFilesMessageEnabled, showSearchIcon = props.showSearchIcon, _e = props.disableMarkAsRead, disableMarkAsRead = _e === void 0 ? false : _e, _f = props.scrollBehavior, scrollBehavior = _f === void 0 ? 'auto' : _f, startingPoint = props.startingPoint, _animatedMessageId = props.animatedMessageId, messageListQueryParams = props.messageListQueryParams, onBeforeSendUserMessage = props.onBeforeSendUserMessage, onBeforeSendFileMessage = props.onBeforeSendFileMessage, onBeforeSendVoiceMessage = props.onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage = props.onBeforeSendMultipleFilesMessage, onBeforeUpdateUserMessage = props.onBeforeUpdateUserMessage, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, onMessageAnimated = props.onMessageAnimated, onBackClick = props.onBackClick, onChatHeaderActionClick = props.onChatHeaderActionClick, onReplyInThreadClick = props.onReplyInThreadClick, onSearchClick = props.onSearchClick, onQuoteMessageClick = props.onQuoteMessageClick, renderUserMentionItem = props.renderUserMentionItem;\n    // Global context\n    var _g = useSendbirdStateContext(), config = _g.config, stores = _g.stores;\n    var sdkStore = stores.sdkStore;\n    var markAsReadScheduler = config.markAsReadScheduler, logger = config.logger, htmlTextDirection = config.htmlTextDirection, forceLeftToRightMessageLayout = config.forceLeftToRightMessageLayout;\n    // State\n    var _h = useState(null), quoteMessage = _h[0], setQuoteMessage = _h[1];\n    var _j = useState(null), animatedMessageId = _j[0], setAnimatedMessageId = _j[1];\n    var _k = useState(null), currentChannel = _k[0], setCurrentChannel = _k[1];\n    var _l = useState(null), fetchChannelError = _l[0], setFetchChannelError = _l[1];\n    // Ref\n    var _m = useMessageListScroll(scrollBehavior, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]), scrollRef = _m.scrollRef, scrollPubSub = _m.scrollPubSub, scrollDistanceFromBottomRef = _m.scrollDistanceFromBottomRef, isScrollBottomReached = _m.isScrollBottomReached, setIsScrollBottomReached = _m.setIsScrollBottomReached, scrollPositionRef = _m.scrollPositionRef;\n    var messageInputRef = useRef(null);\n    var toggleReaction = useToggleReactionCallback(currentChannel, logger);\n    var replyType = getCaseResolvedReplyType(moduleReplyType !== null && moduleReplyType !== void 0 ? moduleReplyType : config.groupChannel.replyType).upperCase;\n    var threadReplySelectType = getCaseResolvedThreadReplySelectType(moduleThreadReplySelectType !== null && moduleThreadReplySelectType !== void 0 ? moduleThreadReplySelectType : config.groupChannel.threadReplySelectType).upperCase;\n    var chatReplyType = useIIFE(function () {\n        if (replyType === 'NONE')\n            return ReplyType.NONE;\n        return ReplyType.ONLY_REPLY_TO_CHANNEL;\n    });\n    var isReactionEnabled = getIsReactionEnabled({\n        channel: currentChannel,\n        config: config,\n        moduleLevel: moduleReactionEnabled,\n    });\n    var nicknamesMap = useMemo(function () { var _a; return new Map(((_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members) !== null && _a !== void 0 ? _a : []).map(function (_a) {\n        var userId = _a.userId, nickname = _a.nickname;\n        return [userId, nickname];\n    })); }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members]);\n    var messageDataSource = useGroupChannelMessages(sdkStore.sdk, currentChannel, {\n        startingPoint: startingPoint,\n        replyType: chatReplyType,\n        collectionCreator: getCollectionCreator(currentChannel, messageListQueryParams),\n        shouldCountNewMessages: function () { return !isScrollBottomReached; },\n        markAsRead: function (channels) {\n            if (isScrollBottomReached && !disableMarkAsRead) {\n                channels.forEach(function (it) { return markAsReadScheduler.push(it); });\n            }\n        },\n        onMessagesReceived: function () {\n            // FIXME: onMessagesReceived called with onApiResult\n            if (isScrollBottomReached && isContextMenuClosed()) {\n                scrollPubSub.publish('scrollToBottom', {});\n            }\n        },\n        onChannelDeleted: function () {\n            setCurrentChannel(null);\n            setFetchChannelError(null);\n        },\n        onCurrentUserBanned: function () {\n            setCurrentChannel(null);\n            setFetchChannelError(null);\n        },\n        onChannelUpdated: function (channel) { return setCurrentChannel(channel); },\n        logger: logger,\n    });\n    // SideEffect: Fetch and set to current channel by channelUrl prop.\n    useAsyncEffect(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var channel, error_1;\n        var _a;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (!(sdkStore.initialized && channelUrl)) return [3 /*break*/, 5];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, 4, 5]);\n                    return [4 /*yield*/, sdkStore.sdk.groupChannel.getChannel(channelUrl)];\n                case 2:\n                    channel = _b.sent();\n                    setCurrentChannel(channel);\n                    setFetchChannelError(null);\n                    return [3 /*break*/, 5];\n                case 3:\n                    error_1 = _b.sent();\n                    setCurrentChannel(null);\n                    setFetchChannelError(error_1);\n                    (_a = logger === null || logger === void 0 ? void 0 : logger.error) === null || _a === void 0 ? void 0 : _a.call(logger, 'GroupChannelProvider: error when fetching channel', error_1);\n                    return [3 /*break*/, 5];\n                case 4:\n                    // Reset states when channel changes\n                    setQuoteMessage(null);\n                    setAnimatedMessageId(null);\n                    return [7 /*endfinally*/];\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); }, [sdkStore.initialized, sdkStore.sdk, channelUrl]);\n    // SideEffect: Scroll to the bottom\n    //  - On the initialized message list\n    //  - On messages sent from the thread\n    useAsyncLayoutEffect(function () { return __awaiter(void 0, void 0, void 0, function () {\n        var onSentMessageFromOtherModule, subscribes;\n        return __generator(this, function (_a) {\n            if (messageDataSource.initialized) {\n                scrollPubSub.publish('scrollToBottom', {});\n            }\n            onSentMessageFromOtherModule = function (data) {\n                if (data.channel.url === (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url))\n                    scrollPubSub.publish('scrollToBottom', {});\n            };\n            subscribes = [\n                config.pubSub.subscribe(pubSubTopics.SEND_USER_MESSAGE, onSentMessageFromOtherModule),\n                config.pubSub.subscribe(pubSubTopics.SEND_FILE_MESSAGE, onSentMessageFromOtherModule),\n            ];\n            return [2 /*return*/, function () {\n                    subscribes.forEach(function (subscribe) { return subscribe.remove(); });\n                }];\n        });\n    }); }, [messageDataSource.initialized, currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    // SideEffect: Reset MessageCollection with startingPoint prop.\n    useEffect(function () {\n        if (typeof startingPoint === 'number') {\n            // We do not handle animation for message search here.\n            // Please update the animatedMessageId prop to trigger the animation.\n            scrollToMessage(startingPoint, 0, false, false);\n        }\n    }, [startingPoint]);\n    // SideEffect: Update animatedMessageId prop to state.\n    useEffect(function () {\n        if (_animatedMessageId)\n            setAnimatedMessageId(_animatedMessageId);\n    }, [_animatedMessageId]);\n    useMessageLayoutDirection(htmlTextDirection, forceLeftToRightMessageLayout, messageDataSource.loading);\n    var scrollToBottom = usePreservedCallback(function (animated) { return __awaiter(void 0, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!scrollRef.current)\n                        return [2 /*return*/];\n                    setAnimatedMessageId(null);\n                    setIsScrollBottomReached(true);\n                    if (!(config.isOnline && messageDataSource.hasNext())) return [3 /*break*/, 2];\n                    return [4 /*yield*/, messageDataSource.resetWithStartingPoint(Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _a.sent();\n                    scrollPubSub.publish('scrollToBottom', { animated: animated });\n                    return [3 /*break*/, 3];\n                case 2:\n                    scrollPubSub.publish('scrollToBottom', { animated: animated });\n                    _a.label = 3;\n                case 3:\n                    if (currentChannel && !messageDataSource.hasNext()) {\n                        messageDataSource.resetNewMessages();\n                        if (!disableMarkAsRead)\n                            markAsReadScheduler.push(currentChannel);\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); });\n    var scrollToMessage = usePreservedCallback(function (createdAt, messageId, messageFocusAnimated, scrollAnimated) { return __awaiter(void 0, void 0, void 0, function () {\n        var element, parentNode, clickHandler, message, topOffset;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    element = scrollRef.current;\n                    parentNode = element === null || element === void 0 ? void 0 : element.parentNode;\n                    clickHandler = {\n                        activate: function () {\n                            if (!element || !parentNode)\n                                return;\n                            element.style.pointerEvents = 'auto';\n                            parentNode.style.cursor = 'auto';\n                        },\n                        deactivate: function () {\n                            if (!element || !parentNode)\n                                return;\n                            element.style.pointerEvents = 'none';\n                            parentNode.style.cursor = 'wait';\n                        },\n                    };\n                    clickHandler.deactivate();\n                    setAnimatedMessageId(null);\n                    message = messageDataSource.messages.find(function (it) { return it.messageId === messageId || it.createdAt === createdAt; });\n                    if (!message) return [3 /*break*/, 1];\n                    topOffset = getMessageTopOffset(message.createdAt);\n                    if (topOffset)\n                        scrollPubSub.publish('scroll', { top: topOffset, animated: scrollAnimated });\n                    if (messageFocusAnimated !== null && messageFocusAnimated !== void 0 ? messageFocusAnimated : true)\n                        setAnimatedMessageId(messageId);\n                    return [3 /*break*/, 3];\n                case 1: return [4 /*yield*/, messageDataSource.resetWithStartingPoint(createdAt)];\n                case 2:\n                    _a.sent();\n                    setTimeout(function () {\n                        var topOffset = getMessageTopOffset(createdAt);\n                        if (topOffset)\n                            scrollPubSub.publish('scroll', { top: topOffset, lazy: false, animated: scrollAnimated });\n                        if (messageFocusAnimated !== null && messageFocusAnimated !== void 0 ? messageFocusAnimated : true)\n                            setAnimatedMessageId(messageId);\n                    });\n                    _a.label = 3;\n                case 3:\n                    clickHandler.activate();\n                    return [2 /*return*/];\n            }\n        });\n    }); });\n    var messageActions = useMessageActions(__assign(__assign(__assign({}, props), messageDataSource), { scrollToBottom: scrollToBottom, quoteMessage: quoteMessage, replyType: replyType }));\n    return (React__default.createElement(GroupChannelContext.Provider, { value: __assign(__assign({ \n            // # Props\n            channelUrl: channelUrl, isReactionEnabled: isReactionEnabled, isMessageGroupingEnabled: isMessageGroupingEnabled, isMultipleFilesMessageEnabled: isMultipleFilesMessageEnabled, showSearchIcon: showSearchIcon !== null && showSearchIcon !== void 0 ? showSearchIcon : config.groupChannelSettings.enableMessageSearch, replyType: replyType, threadReplySelectType: threadReplySelectType, disableMarkAsRead: disableMarkAsRead, scrollBehavior: scrollBehavior, \n            // # Custom Props\n            messageListQueryParams: messageListQueryParams, \n            // ## Message\n            onBeforeSendUserMessage: onBeforeSendUserMessage, onBeforeSendFileMessage: onBeforeSendFileMessage, onBeforeSendVoiceMessage: onBeforeSendVoiceMessage, onBeforeSendMultipleFilesMessage: onBeforeSendMultipleFilesMessage, onBeforeUpdateUserMessage: onBeforeUpdateUserMessage, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage, \n            // ## Focusing\n            onMessageAnimated: onMessageAnimated, \n            // ## Click\n            onBackClick: onBackClick, onChatHeaderActionClick: onChatHeaderActionClick, onReplyInThreadClick: onReplyInThreadClick, onSearchClick: onSearchClick, onQuoteMessageClick: onQuoteMessageClick, \n            // ## Custom render\n            renderUserMentionItem: renderUserMentionItem, \n            // Internal Interface\n            currentChannel: currentChannel, fetchChannelError: fetchChannelError, nicknamesMap: nicknamesMap, scrollRef: scrollRef, scrollDistanceFromBottomRef: scrollDistanceFromBottomRef, scrollPositionRef: scrollPositionRef, scrollPubSub: scrollPubSub, messageInputRef: messageInputRef, quoteMessage: quoteMessage, setQuoteMessage: setQuoteMessage, animatedMessageId: animatedMessageId, setAnimatedMessageId: setAnimatedMessageId, isScrollBottomReached: isScrollBottomReached, setIsScrollBottomReached: setIsScrollBottomReached, scrollToBottom: scrollToBottom, scrollToMessage: scrollToMessage, toggleReaction: toggleReaction }, messageDataSource), messageActions) },\n        React__default.createElement(UserProfileProvider, { disableUserProfile: (_a = props === null || props === void 0 ? void 0 : props.disableUserProfile) !== null && _a !== void 0 ? _a : config === null || config === void 0 ? void 0 : config.disableUserProfile, renderUserProfile: (_b = props === null || props === void 0 ? void 0 : props.renderUserProfile) !== null && _b !== void 0 ? _b : config === null || config === void 0 ? void 0 : config.renderUserProfile, onUserProfileMessage: (_c = props === null || props === void 0 ? void 0 : props.onUserProfileMessage) !== null && _c !== void 0 ? _c : config === null || config === void 0 ? void 0 : config.onUserProfileMessage }, children)));\n};\nvar useGroupChannelContext = function () {\n    var context = useContext(GroupChannelContext);\n    if (!context)\n        throw new Error('GroupChannelContext not found. Use within the GroupChannel module.');\n    return context;\n};\nfunction getCollectionCreator(groupChannel, messageListQueryParams) {\n    return function (defaultParams) {\n        var params = __assign(__assign(__assign({}, defaultParams), { prevResultLimit: 30, nextResultLimit: 30 }), messageListQueryParams);\n        return groupChannel.createMessageCollection(__assign(__assign({}, params), { filter: new MessageFilter(params) }));\n    };\n}\n\nexport { GroupChannelContext, GroupChannelProvider, useGroupChannelContext };\n//# sourceMappingURL=context.js.map\n", "import { useCallback } from 'react';\n\nvar LOG_PRESET = 'useToggleReactionCallback:';\nfunction useToggleReactionCallback(currentChannel, logger) {\n    return useCallback(function (message, key, isReacted) {\n        if (!currentChannel) {\n            logger === null || logger === void 0 ? void 0 : logger.warning(\"\".concat(LOG_PRESET, \" currentChannel doesn't exist\"), currentChannel);\n            return;\n        }\n        if (isReacted) {\n            currentChannel\n                .deleteReaction(message, key)\n                .then(function (res) {\n                logger === null || logger === void 0 ? void 0 : logger.info(\"\".concat(LOG_PRESET, \" Delete reaction success\"), res);\n            })\n                .catch(function (err) {\n                logger === null || logger === void 0 ? void 0 : logger.warning(\"\".concat(LOG_PRESET, \" Delete reaction failed\"), err);\n            });\n        }\n        else {\n            currentChannel\n                .addReaction(message, key)\n                .then(function (res) {\n                logger === null || logger === void 0 ? void 0 : logger.info(\"\".concat(LOG_PRESET, \" Add reaction success\"), res);\n            })\n                .catch(function (err) {\n                logger === null || logger === void 0 ? void 0 : logger.warning(\"\".concat(LOG_PRESET, \" Add reaction failed\"), err);\n            });\n        }\n    }, [currentChannel]);\n}\n\nexport { useToggleReactionCallback as u };\n//# sourceMappingURL=bundle-DgQjrhyW.js.map\n", "/**\n * Dashboard UIKitConfig's replyType is consisted of all lowercases,\n * we need to convert it into uppercase ones(or vice versa)\n * when we pass the value to internal components\n *  - 'thread' <-> 'THREAD'\n *  - 'quote_reply' <-> 'QUOTE_REPLY'\n */\nfunction getCaseResolvedReplyType(replyType) {\n    return {\n        lowerCase: replyType.toLowerCase(),\n        upperCase: replyType.toUpperCase(),\n    };\n}\n/**\n * Dashboard UIKitConfig's threadReplySelectType is consisted of all lowercase letters,\n * we need to convert it into uppercase ones(or vice versa)\n * when we pass the value to internal components\n *  - 'thread' <-> 'THREAD'\n *  - 'parent' <-> 'PARENT'\n */\nfunction getCaseResolvedThreadReplySelectType(threadReplySelectType) {\n    return {\n        lowerCase: threadReplySelectType.toLowerCase(),\n        upperCase: threadReplySelectType.toUpperCase(),\n    };\n}\n\nexport { getCaseResolvedThreadReplySelectType as a, getCaseResolvedReplyType as g };\n//# sourceMappingURL=bundle-DW8Sq-WK.js.map\n", "function getComponentKeyFromMessage(message) {\n    if ('sendingStatus' in message) {\n        if (message.sendingStatus === 'succeeded')\n            return String(message.messageId);\n        return message.reqId;\n    }\n    return String(message.messageId);\n}\nfunction isContextMenuClosed() {\n    var _a, _b;\n    return (((_a = document.getElementById('sendbird-dropdown-portal')) === null || _a === void 0 ? void 0 : _a.childElementCount) === 0\n        && ((_b = document.getElementById('sendbird-emoji-list-portal')) === null || _b === void 0 ? void 0 : _b.childElementCount) === 0);\n}\nfunction getMessageTopOffset(messageCreatedAt) {\n    var _a;\n    var element = (_a = document.querySelectorAll(\"[data-sb-created-at=\\\"\".concat(messageCreatedAt, \"\\\"]\"))) === null || _a === void 0 ? void 0 : _a[0];\n    if (element instanceof HTMLElement) {\n        return element.offsetTop;\n    }\n    return null;\n}\nvar isDisabledBecauseFrozen = function (groupChannel) {\n    if (!groupChannel)\n        return false;\n    return groupChannel.isFrozen && groupChannel.myRole !== 'operator';\n};\nvar isDisabledBecauseMuted = function (groupChannel) {\n    if (!groupChannel)\n        return false;\n    return groupChannel.myMutedState === 'muted';\n};\nvar isDisabledBecauseSuggestedReplies = function (channel, enableSuggestedReplies) {\n    var _a, _b;\n    return enableSuggestedReplies && !!((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.lastMessage) === null || _a === void 0 ? void 0 : _a.extendedMessagePayload) === null || _b === void 0 ? void 0 : _b.disable_chat_input);\n};\n\nexport { isDisabledBecauseMuted as a, isDisabledBecauseSuggestedReplies as b, isContextMenuClosed as c, getMessageTopOffset as d, getComponentKeyFromMessage as g, isDisabledBecauseFrozen as i };\n//# sourceMappingURL=bundle-h1wbrjk9.js.map\n", "// we use pubsub to sync events between multiple components(example - ChannelList, Channel)\n// for example, if customer sends a message from their custom component\n// without pubsub,we would not be able to listen to it\n// in our ChannelList or Conversation\nvar pubSubFactory = function (opts) {\n    var topics = {};\n    return {\n        __getTopics: function () { return topics; },\n        subscribe: function (topic, listener) {\n            var _a;\n            (_a = topics[topic]) !== null && _a !== void 0 ? _a : (topics[topic] = new Set());\n            topics[topic].add(listener);\n            return {\n                remove: function () {\n                    topics[topic].delete(listener);\n                },\n            };\n        },\n        publish: function (topic, info) {\n            if (topics[topic]) {\n                topics[topic].forEach(function (fn) {\n                    if (opts === null || opts === void 0 ? void 0 : opts.publishSynchronous) {\n                        fn(info !== undefined ? info : {});\n                    }\n                    else {\n                        setTimeout(function () { return fn(info !== undefined ? info : {}); }, 0);\n                    }\n                });\n            }\n        },\n    };\n};\n\nexport { pubSubFactory as p };\n//# sourceMappingURL=bundle-5R9f3ZZp.js.map\n", "/**\n * This function helps consider the every condition\n * related to enabling emoji reaction feature.\n */\nfunction getIsReactionEnabled(_a) {\n    var channel = _a.channel, config = _a.config, moduleLevel = _a.moduleLevel;\n    if (!channel || channel.isBroadcast || channel.isEphemeral) {\n        return false;\n    }\n    if (channel.isSuper)\n        return moduleLevel !== null && moduleLevel !== void 0 ? moduleLevel : config.groupChannel.enableReactionsSupergroup;\n    return moduleLevel !== null && moduleLevel !== void 0 ? moduleLevel : config.groupChannel.enableReactions;\n}\n\nexport { getIsReactionEnabled as g };\n//# sourceMappingURL=bundle-uSSYB2TA.js.map\n", "import { useEffect } from 'react';\nimport { V as VOICE_PLAYER_ROOT_ID } from './bundle-c4e24Qt4.js';\n\nvar useHTMLTextDirection = function (direction) {\n    useEffect(function () {\n        /**\n         * It sets the 'dir' attribute of the closest parent <div> element of the element with VOICE_PLAYER_ROOT_ID cause:\n         * - An empty <div> element is created in the VoiceMessageProvider, which is the highest-level <div> element within the SendbirdProvider.\n         * - It tries to find the nearest parent <div> element within the SendbirdProvider and sets 'dir' attribute,\n         * ensuring that the directionality is applied correctly.\n         * */\n        var targetElement = document.getElementById(VOICE_PLAYER_ROOT_ID);\n        targetElement.parentElement.dir = direction;\n    }, [direction]);\n};\nvar useMessageLayoutDirection = function (direction, forceLeftToRightMessageLayout, loading) {\n    useEffect(function () {\n        if (loading)\n            return;\n        var messageListElements = document.getElementsByClassName('sendbird-conversation__messages');\n        if (messageListElements.length > 0) {\n            Array.from(messageListElements).forEach(function (elem) {\n                elem.dir = forceLeftToRightMessageLayout\n                    ? 'ltr'\n                    : direction;\n            });\n        }\n    }, [direction, forceLeftToRightMessageLayout, loading]);\n};\n\nexport { useHTMLTextDirection as a, useMessageLayoutDirection as u };\n//# sourceMappingURL=bundle-ke1HVuUa.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { useGroupChannelContext } from '../context.js';\nimport { G as GroupChannelUIView } from '../../chunks/bundle-CmAUKSnK.js';\nimport { GroupChannelHeader } from './GroupChannelHeader.js';\nimport { MessageList } from './MessageList.js';\nimport { MessageInputWrapper } from './MessageInputWrapper.js';\nimport { d as deleteNullish } from '../../chunks/bundle-CtBgdgkK.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport './TypingIndicator.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../ui/ConnectionStatus.js';\nimport '../../ui/Icon.js';\nimport '../../ui/PlaceHolder.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-Dg8Q1yIF.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-FBWhhyW3.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\nimport './Message.js';\nimport '../../chunks/bundle-CAXTSiql.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../ui/UserListItem.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-CbTjJHLv.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport './SuggestedReplies.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-Ck65vtgI.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-CU9ItXV_.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport './UnreadCount.js';\nimport './FrozenNotification.js';\nimport '../../ui/TypingIndicatorBubble.js';\nimport '../../Channel/utils/getMessagePartsInfo.js';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\nimport '../../chunks/bundle-Dt4PQi4u.js';\nimport '../../chunks/bundle-ChKVOZMC.js';\nimport './SuggestedMentionList.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-B7FJxg4D.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\n\nvar GroupChannelUI = function (props) {\n    var context = useGroupChannelContext();\n    var channelUrl = context.channelUrl, fetchChannelError = context.fetchChannelError;\n    // Inject components to presentation layer\n    var _a = deleteNullish(props), _b = _a.renderChannelHeader, renderChannelHeader = _b === void 0 ? function (props) { return React__default.createElement(GroupChannelHeader, __assign({}, props)); } : _b, _c = _a.renderMessageList, renderMessageList = _c === void 0 ? function (props) { return React__default.createElement(MessageList, __assign({}, props, { className: \"sendbird-conversation__message-list\" })); } : _c, _d = _a.renderMessageInput, renderMessageInput = _d === void 0 ? function () { return React__default.createElement(MessageInputWrapper, __assign({}, props)); } : _d;\n    return (React__default.createElement(GroupChannelUIView, __assign({}, props, context, { isInvalid: fetchChannelError !== null, channelUrl: channelUrl, renderChannelHeader: renderChannelHeader, renderMessageList: renderMessageList, renderMessageInput: renderMessageInput })));\n};\n\nexport { GroupChannelUI, GroupChannelUI as default };\n//# sourceMappingURL=GroupChannelUI.js.map\n", "import React__default from 'react';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { TypingIndicator } from '../GroupChannel/components/TypingIndicator.js';\nimport { T as TypingIndicatorType } from './bundle-D-cVbGxk.js';\nimport ConnectionStatus from '../ui/ConnectionStatus.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../ui/PlaceHolder.js';\nimport { d as deleteNullish } from './bundle-CtBgdgkK.js';\n\nvar GroupChannelUIView = function (props) {\n    var _a, _b, _c, _d;\n    var isLoading = props.isLoading, isInvalid = props.isInvalid, channelUrl = props.channelUrl;\n    var _e = deleteNullish(props), renderChannelHeader = _e.renderChannelHeader, renderMessageList = _e.renderMessageList, renderMessageInput = _e.renderMessageInput, renderTypingIndicator = _e.renderTypingIndicator, renderPlaceholderLoader = _e.renderPlaceholderLoader, renderPlaceholderInvalid = _e.renderPlaceholderInvalid;\n    var _f = useSendbirdStateContext(), stores = _f.stores, config = _f.config;\n    var sdkError = (_a = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _a === void 0 ? void 0 : _a.error;\n    var logger = config.logger, isOnline = config.isOnline;\n    // Note: This is not a loading status of the message list.\n    //  It is just for custom props from the Channel module and is not used in the GroupChannel module. (We should remove this in v4)\n    if (isLoading) {\n        return React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderLoader === null || renderPlaceholderLoader === void 0 ? void 0 : renderPlaceholderLoader()) || React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }));\n    }\n    if (!channelUrl) {\n        return (React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.NO_CHANNELS })));\n    }\n    if (isInvalid) {\n        return React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG }));\n    }\n    if (sdkError) {\n        return (React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, (renderPlaceholderInvalid === null || renderPlaceholderInvalid === void 0 ? void 0 : renderPlaceholderInvalid()) || (React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.WRONG, retryToConnect: function () {\n                logger.info('Channel: reconnecting');\n                // reconnect();\n            } }))));\n    }\n    return (React__default.createElement(\"div\", { className: \"sendbird-conversation\" }, renderChannelHeader === null || renderChannelHeader === void 0 ? void 0 :\n        renderChannelHeader({ className: 'sendbird-conversation__channel-header' }), renderMessageList === null || renderMessageList === void 0 ? void 0 :\n        renderMessageList(props),\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__footer\" }, renderMessageInput === null || renderMessageInput === void 0 ? void 0 :\n            renderMessageInput(),\n            React__default.createElement(\"div\", { className: \"sendbird-conversation__footer__typing-indicator\" },\n                (renderTypingIndicator === null || renderTypingIndicator === void 0 ? void 0 : renderTypingIndicator())\n                    || (((_b = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _b === void 0 ? void 0 : _b.enableTypingIndicator) && ((_d = (_c = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _c === void 0 ? void 0 : _c.typingIndicatorTypes) === null || _d === void 0 ? void 0 : _d.has(TypingIndicatorType.Text)) && (React__default.createElement(TypingIndicator, { channelUrl: channelUrl }))),\n                !isOnline && React__default.createElement(ConnectionStatus, null)))));\n};\n\nexport { GroupChannelUIView as G };\n//# sourceMappingURL=bundle-CmAUKSnK.js.map\n", "import React__default, { useContext } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\n\nfunction ConnectionStatus() {\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-connection-status\" },\n        React__default.createElement(Label, { type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_2 }, stringSet.TRYING_TO_CONNECT),\n        React__default.createElement(Icon, { type: IconTypes.DISCONNECTED, fillColor: IconColors.SENT, width: \"14px\", height: \"14px\" })));\n}\n\nexport { ConnectionStatus as default };\n//# sourceMappingURL=ConnectionStatus.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { G as GroupChannelHeaderView } from '../../chunks/bundle-Dg8Q1yIF.js';\nimport { useGroupChannelContext } from '../context.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../ui/ChannelAvatar.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-CRKkgI5q.js';\nimport '../../chunks/bundle-FBWhhyW3.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../ui/Header.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/IconButton.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar GroupChannelHeader = function (props) {\n    var context = useGroupChannelContext();\n    return (React__default.createElement(GroupChannelHeaderView, __assign({}, props, context, { currentChannel: context.currentChannel })));\n};\n\nexport { GroupChannelHeader, GroupChannelHeader as default };\n//# sourceMappingURL=GroupChannelHeader.js.map\n", "import { _ as __assign } from './bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { IconTypes, IconColors } from '../ui/Icon.js';\nimport ChannelAvatar from '../ui/ChannelAvatar.js';\nimport { g as getChannelTitle } from './bundle-FBWhhyW3.js';\nimport { u as useMediaQueryContext } from './bundle-DBzinRyn.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport Header from '../ui/Header.js';\nimport { c as classnames } from './bundle-CtBgdgkK.js';\n\nvar GroupChannelHeaderView = function (_a) {\n    var className = _a.className, currentChannel = _a.currentChannel, showSearchIcon = _a.showSearchIcon, onBackClick = _a.onBackClick, onSearchClick = _a.onSearchClick, onChatHeaderActionClick = _a.onChatHeaderActionClick, \n    // Header custom props\n    renderLeft = _a.renderLeft, renderMiddle = _a.renderMiddle, renderRight = _a.renderRight;\n    var config = useSendbirdStateContext().config;\n    var userId = config.userId, theme = config.theme;\n    var isMobile = useMediaQueryContext().isMobile;\n    var stringSet = useLocalization().stringSet;\n    var isMuted = (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myMutedState) === 'muted';\n    var channelTitle = getChannelTitle(currentChannel, userId, stringSet);\n    return (React__default.createElement(Header, { className: classnames('sendbird-chat-header', className), renderLeft: renderLeft !== null && renderLeft !== void 0 ? renderLeft : (function () { return (React__default.createElement(React__default.Fragment, null,\n            isMobile && (React__default.createElement(Header.Icon, { className: \"sendbird-chat-header__icon_back\", onClick: onBackClick, type: IconTypes.ARROW_LEFT, color: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })),\n            React__default.createElement(ChannelAvatar, { theme: theme, channel: currentChannel, userId: userId, height: 32, width: 32 }))); }), renderMiddle: renderMiddle !== null && renderMiddle !== void 0 ? renderMiddle : (function () { return (React__default.createElement(Header.Title, { title: channelTitle })); }), renderRight: renderRight !== null && renderRight !== void 0 ? renderRight : (function () { return (React__default.createElement(React__default.Fragment, null,\n            isMuted && (React__default.createElement(Header.Icon, { className: \"sendbird-chat-header__right__mute\", type: IconTypes.NOTIFICATIONS_OFF_FILLED, color: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\" })),\n            (showSearchIcon && !(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isEphemeral)) && (React__default.createElement(Header.IconButton, { className: \"sendbird-chat-header__right__search\", onClick: onSearchClick, type: IconTypes.SEARCH, color: IconColors.PRIMARY, renderIcon: function (props) { return React__default.createElement(Header.Icon, __assign({}, props, { width: \"24px\", height: \"24px\" })); } })),\n            React__default.createElement(Header.IconButton, { className: \"sendbird-chat-header__right__info\", onClick: onChatHeaderActionClick, type: IconTypes.INFO, color: IconColors.PRIMARY, renderIcon: function (props) { return React__default.createElement(Header.Icon, __assign({}, props, { width: \"24px\", height: \"24px\" })); } }))); }) }));\n};\n\nexport { GroupChannelHeaderView as G };\n//# sourceMappingURL=bundle-Dg8Q1yIF.js.map\n", "import { c as LabelStringSet } from './bundle-CEZ0D4qz.js';\n\nvar getChannelTitle = function (channel, currentUserId, stringSet) {\n    var _a;\n    var LABEL_STRING_SET = stringSet || LabelStringSet;\n    if (!(channel === null || channel === void 0 ? void 0 : channel.name) && !(channel === null || channel === void 0 ? void 0 : channel.members)) {\n        return LABEL_STRING_SET.NO_TITLE;\n    }\n    if ((channel === null || channel === void 0 ? void 0 : channel.name) && channel.name !== 'Group Channel') {\n        return channel.name;\n    }\n    if (((_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.length) === 1) {\n        return LABEL_STRING_SET.NO_MEMBERS;\n    }\n    return channel === null || channel === void 0 ? void 0 : channel.members.filter(function (_a) {\n        var userId = _a.userId;\n        return userId !== currentUserId;\n    }).map(function (_a) {\n        var nickname = _a.nickname;\n        return (nickname || LABEL_STRING_SET.NO_NAME);\n    }).join(', ');\n};\n\nexport { getChannelTitle as g };\n//# sourceMappingURL=bundle-FBWhhyW3.js.map\n", "import { a as __awaiter, b as __generator, _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { forwardRef, useRef, useLayoutEffect, useState, useEffect } from 'react';\nimport { useGroupChannelHandler } from '@sendbird/uikit-tools';\nimport { k as isSendableMessage, T as TypingIndicatorType } from '../../chunks/bundle-D-cVbGxk.js';\nimport PlaceHolder, { PlaceHolderTypes } from '../../ui/PlaceHolder.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { Message } from './Message.js';\nimport { UnreadCount } from './UnreadCount.js';\nimport { FrozenNotification } from './FrozenNotification.js';\nimport { S as SCROLL_BUFFER } from '../../chunks/bundle-c4e24Qt4.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport TypingIndicatorBubble from '../../ui/TypingIndicatorBubble.js';\nimport { useGroupChannelContext } from '../context.js';\nimport { n as noop, d as deleteNullish } from '../../chunks/bundle-CtBgdgkK.js';\nimport { getMessagePartsInfo } from '../../Channel/utils/getMessagePartsInfo.js';\nimport { MessageProvider } from '../../Message/context.js';\nimport { g as getComponentKeyFromMessage } from '../../chunks/bundle-h1wbrjk9.js';\nimport { a as isAboutSame } from '../../chunks/bundle-Dt4PQi4u.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-CAXTSiql.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../withSendbird.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '@sendbird/chat/message';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-CbTjJHLv.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport './SuggestedReplies.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport './FileViewer.js';\nimport '../../chunks/bundle-Ck65vtgI.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport './RemoveMessageModal.js';\nimport '../../chunks/bundle-CU9ItXV_.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\nimport '../../Channel/utils/compareMessagesForGrouping.js';\n\nvar InfiniteList = forwardRef(function (props, listRef) {\n    var messages = props.messages, renderMessage = props.renderMessage, scrollPositionRef = props.scrollPositionRef, scrollDistanceFromBottomRef = props.scrollDistanceFromBottomRef, onLoadPrevious = props.onLoadPrevious, onLoadNext = props.onLoadNext, _a = props.loadThreshold, loadThreshold = _a === void 0 ? 0.05 : _a, typingIndicator = props.typingIndicator, _b = props.onScrollPosition, onScrollPosition = _b === void 0 ? noop : _b, initDeps = props.initDeps;\n    var isFetching = React__default.useRef(false);\n    var direction = React__default.useRef();\n    var oldScrollTop = useRef(0);\n    // SideEffect: scroll to bottom on initialized\n    useLayoutEffect(function () {\n        if (listRef.current) {\n            listRef.current.scrollTop = listRef.current.scrollHeight;\n        }\n    }, initDeps);\n    // SideEffect: keep scroll position\n    useLayoutEffect(function () {\n        if (listRef.current) {\n            if (direction.current === 'top') {\n                listRef.current.scrollTop = listRef.current.scrollHeight - scrollPositionRef.current;\n            }\n            if (direction.current === 'bottom') {\n                listRef.current.scrollTop = oldScrollTop.current;\n            }\n            direction.current = undefined;\n        }\n    }, [listRef.current, messages.length]);\n    var handleScroll = function () { return __awaiter(void 0, void 0, void 0, function () {\n        var list, threshold;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (!listRef.current)\n                        return [2 /*return*/];\n                    list = listRef.current;\n                    onScrollPosition(getReachedStatus(list));\n                    scrollPositionRef.current = list.scrollHeight - list.scrollTop;\n                    scrollDistanceFromBottomRef.current = scrollPositionRef.current - list.clientHeight;\n                    oldScrollTop.current = list.scrollTop;\n                    if (isFetching.current)\n                        return [2 /*return*/];\n                    threshold = list.clientHeight * Math.min(Math.max(0, loadThreshold), 1);\n                    if (!(list.scrollTop <= threshold)) return [3 /*break*/, 2];\n                    isFetching.current = true;\n                    direction.current = 'top';\n                    return [4 /*yield*/, onLoadPrevious()];\n                case 1:\n                    _a.sent();\n                    isFetching.current = false;\n                    return [3 /*break*/, 5];\n                case 2:\n                    if (!(list.scrollHeight - list.scrollTop - list.clientHeight <= threshold)) return [3 /*break*/, 4];\n                    isFetching.current = true;\n                    direction.current = 'bottom';\n                    return [4 /*yield*/, onLoadNext()];\n                case 3:\n                    _a.sent();\n                    isFetching.current = false;\n                    return [3 /*break*/, 5];\n                case 4:\n                    direction.current = undefined;\n                    _a.label = 5;\n                case 5: return [2 /*return*/];\n            }\n        });\n    }); };\n    return (React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-container\" },\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__padding\" }),\n        React__default.createElement(\"div\", { ref: listRef, className: \"sendbird-conversation__messages-padding\", \"data-testid\": \"sendbird-message-list-container\", onScroll: handleScroll },\n            messages.map(function (message, index) { return renderMessage({ message: message, index: index }); }),\n            typingIndicator)));\n});\nfunction getReachedStatus(element) {\n    if (isAboutSame(element.scrollTop, 0, SCROLL_BUFFER)) {\n        return 'top';\n    }\n    if (isAboutSame(element.scrollHeight, element.clientHeight + element.scrollTop, SCROLL_BUFFER)) {\n        return 'bottom';\n    }\n    return 'middle';\n}\n\nvar MessageList = function (props) {\n    var _a, _b, _c, _d, _e;\n    var _f = props.className, className = _f === void 0 ? '' : _f;\n    var _g = deleteNullish(props), _h = _g.renderMessage, renderMessage = _h === void 0 ? function (props) { return React__default.createElement(Message, __assign({}, props)); } : _h, renderMessageContent = _g.renderMessageContent, renderSuggestedReplies = _g.renderSuggestedReplies, renderCustomSeparator = _g.renderCustomSeparator, _j = _g.renderPlaceholderLoader, renderPlaceholderLoader = _j === void 0 ? function () { return React__default.createElement(PlaceHolder, { type: PlaceHolderTypes.LOADING }); } : _j, _k = _g.renderPlaceholderEmpty, renderPlaceholderEmpty = _k === void 0 ? function () { return React__default.createElement(PlaceHolder, { className: \"sendbird-conversation__no-messages\", type: PlaceHolderTypes.NO_MESSAGES }); } : _k, _l = _g.renderFrozenNotification, renderFrozenNotification = _l === void 0 ? function () { return React__default.createElement(FrozenNotification, { className: \"sendbird-conversation__messages__notification\" }); } : _l;\n    var _m = useGroupChannelContext(), channelUrl = _m.channelUrl, hasNext = _m.hasNext, loading = _m.loading, messages = _m.messages, newMessages = _m.newMessages, scrollToBottom = _m.scrollToBottom, isScrollBottomReached = _m.isScrollBottomReached, isMessageGroupingEnabled = _m.isMessageGroupingEnabled, scrollRef = _m.scrollRef, scrollDistanceFromBottomRef = _m.scrollDistanceFromBottomRef, scrollPositionRef = _m.scrollPositionRef, currentChannel = _m.currentChannel, replyType = _m.replyType, scrollPubSub = _m.scrollPubSub, loadNext = _m.loadNext, loadPrevious = _m.loadPrevious, setIsScrollBottomReached = _m.setIsScrollBottomReached, resetNewMessages = _m.resetNewMessages;\n    var store = useSendbirdStateContext();\n    var _o = useState(), unreadSinceDate = _o[0], setUnreadSinceDate = _o[1];\n    useEffect(function () {\n        if (isScrollBottomReached) {\n            setUnreadSinceDate(undefined);\n        }\n        else {\n            setUnreadSinceDate(new Date());\n        }\n    }, [isScrollBottomReached]);\n    /**\n     * 1. Move the message list scroll\n     *    when each message's height is changed by `reactions` OR `showEdit`\n     * 2. Keep the scrollBottom value after fetching new message list\n     */\n    var onMessageContentSizeChanged = function (isBottomMessageAffected) {\n        if (isBottomMessageAffected === void 0) { isBottomMessageAffected = false; }\n        var elem = scrollRef.current;\n        if (elem) {\n            var latestDistance = scrollDistanceFromBottomRef.current;\n            var currentDistance = elem.scrollHeight - elem.scrollTop - elem.offsetHeight;\n            if (latestDistance < currentDistance && (!isBottomMessageAffected || latestDistance < SCROLL_BUFFER)) {\n                var diff = currentDistance - latestDistance;\n                // Move the scroll as much as the height of the message has changed\n                scrollPubSub.publish('scroll', { top: elem.scrollTop + diff, lazy: false, animated: false });\n            }\n        }\n    };\n    var renderer = {\n        frozenNotification: function () {\n            if (!currentChannel || !currentChannel.isFrozen)\n                return null;\n            return renderFrozenNotification();\n        },\n        unreadMessagesNotification: function () {\n            if (isScrollBottomReached || !unreadSinceDate)\n                return null;\n            return (React__default.createElement(UnreadCount, { className: \"sendbird-conversation__messages__notification\", count: newMessages.length, lastReadAt: unreadSinceDate, onClick: function () { return scrollToBottom(); } }));\n        },\n        scrollToBottomButton: function () {\n            if (!hasNext() && isScrollBottomReached)\n                return null;\n            return (React__default.createElement(\"div\", { className: \"sendbird-conversation__scroll-bottom-button\", onClick: function () { return scrollToBottom(); }, onKeyDown: function () { return scrollToBottom(); }, tabIndex: 0, role: \"button\" },\n                React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.PRIMARY })));\n        },\n    };\n    if (loading) {\n        return renderPlaceholderLoader();\n    }\n    if (messages.length === 0) {\n        return renderPlaceholderEmpty();\n    }\n    return (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(\"div\", { className: \"sendbird-conversation__messages \".concat(className) },\n            React__default.createElement(InfiniteList, { ref: scrollRef, initDeps: [channelUrl], scrollPositionRef: scrollPositionRef, scrollDistanceFromBottomRef: scrollDistanceFromBottomRef, onLoadNext: loadNext, onLoadPrevious: loadPrevious, onScrollPosition: function (it) {\n                    var isScrollBottomReached = it === 'bottom';\n                    if (newMessages.length > 0 && isScrollBottomReached) {\n                        resetNewMessages();\n                    }\n                    setIsScrollBottomReached(isScrollBottomReached);\n                }, messages: messages, renderMessage: function (_a) {\n                    var message = _a.message, index = _a.index;\n                    var _b = getMessagePartsInfo({\n                        allMessages: messages,\n                        replyType: replyType !== null && replyType !== void 0 ? replyType : 'NONE',\n                        isMessageGroupingEnabled: isMessageGroupingEnabled !== null && isMessageGroupingEnabled !== void 0 ? isMessageGroupingEnabled : false,\n                        currentIndex: index,\n                        currentMessage: message,\n                        currentChannel: currentChannel,\n                    }), chainTop = _b.chainTop, chainBottom = _b.chainBottom, hasSeparator = _b.hasSeparator;\n                    var isOutgoingMessage = isSendableMessage(message) && message.sender.userId === store.config.userId;\n                    return (React__default.createElement(MessageProvider, { message: message, key: getComponentKeyFromMessage(message), isByMe: isOutgoingMessage }, renderMessage({\n                        handleScroll: onMessageContentSizeChanged,\n                        message: message,\n                        hasSeparator: hasSeparator,\n                        chainTop: chainTop,\n                        chainBottom: chainBottom,\n                        renderMessageContent: renderMessageContent,\n                        renderSuggestedReplies: renderSuggestedReplies,\n                        renderCustomSeparator: renderCustomSeparator,\n                    })));\n                }, typingIndicator: !hasNext()\n                    && ((_b = (_a = store === null || store === void 0 ? void 0 : store.config) === null || _a === void 0 ? void 0 : _a.groupChannel) === null || _b === void 0 ? void 0 : _b.enableTypingIndicator)\n                    && ((_e = (_d = (_c = store === null || store === void 0 ? void 0 : store.config) === null || _c === void 0 ? void 0 : _c.groupChannel) === null || _d === void 0 ? void 0 : _d.typingIndicatorTypes) === null || _e === void 0 ? void 0 : _e.has(TypingIndicatorType.Bubble)) && (React__default.createElement(TypingIndicatorBubbleWrapper, { channelUrl: channelUrl, handleScroll: onMessageContentSizeChanged })) }),\n            React__default.createElement(React__default.Fragment, null, renderer.frozenNotification()),\n            React__default.createElement(React__default.Fragment, null, renderer.unreadMessagesNotification()),\n            React__default.createElement(React__default.Fragment, null, renderer.scrollToBottomButton()))));\n};\nvar TypingIndicatorBubbleWrapper = function (props) {\n    var stores = useSendbirdStateContext().stores;\n    var _a = useState([]), typingMembers = _a[0], setTypingMembers = _a[1];\n    useGroupChannelHandler(stores.sdkStore.sdk, {\n        onTypingStatusUpdated: function (channel) {\n            if (channel.url === props.channelUrl) {\n                setTypingMembers(channel.getTypingUsers());\n            }\n        },\n    });\n    return React__default.createElement(TypingIndicatorBubble, { typingMembers: typingMembers, handleScroll: props.handleScroll });\n};\n\nexport { MessageList, MessageList as default };\n//# sourceMappingURL=MessageList.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { useIIFE } from '@sendbird/uikit-tools';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport { k as isSendableMessage, g as getSuggestedReplies } from '../../chunks/bundle-D-cVbGxk.js';\nimport { i as isDisabledBecauseFrozen, a as isDisabledBecauseMuted } from '../../chunks/bundle-h1wbrjk9.js';\nimport { useGroupChannelContext } from '../context.js';\nimport { M as MessageView } from '../../chunks/bundle-CAXTSiql.js';\nimport { FileViewer } from './FileViewer.js';\nimport { RemoveMessageModal } from './RemoveMessageModal.js';\nimport { T as ThreadReplySelectType } from '../../chunks/bundle-DHJZgVZH.js';\nimport '../../withSendbird.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/DateSeparator.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../ui/MessageContent.js';\nimport '../../chunks/bundle-j0SR3DhQ.js';\nimport '../../ui/Loader.js';\nimport '../../chunks/bundle-BxrZduJE.js';\nimport '../../chunks/bundle-q_YvxT21.js';\nimport '../../chunks/bundle-B6Uh5m2a.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../ui/MessageItemReactionMenu.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../ui/ReactionButton.js';\nimport '../../chunks/bundle-DxDVBm6N.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/EmojiReactions.js';\nimport '../../ui/ReactionBadge.js';\nimport '../../ui/BottomSheet.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'css-vars-ponyfill';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../ui/UserListItem.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/MutedAvatarOverlay.js';\nimport '../../ui/Checkbox.js';\nimport '../../ui/UserProfile.js';\nimport '../../sendbirdSelectors.js';\nimport '../../ui/Tooltip.js';\nimport '../../ui/TooltipWrapper.js';\nimport '../../Message/context.js';\nimport '../../ui/AdminMessage.js';\nimport '../../ui/QuoteMessage.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../ui/MobileMenu.js';\nimport '../../ui/ThreadReplies.js';\nimport '../../ui/OGMessageItemBody.js';\nimport '../../chunks/bundle-NWVriOUB.js';\nimport '../../ui/MentionLabel.js';\nimport '../../ui/LinkLabel.js';\nimport '../../ui/TextMessageItemBody.js';\nimport '../../ui/FileMessageItemBody.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-Bt68jirZ.js';\nimport '../../ui/FileViewer.js';\nimport '../../chunks/bundle-DTOg7Xzt.js';\nimport '../../ui/VoiceMessageItemBody.js';\nimport '../../ui/ProgressBar.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ThumbnailMessageItemBody.js';\nimport '../../ui/UnknownMessageItemBody.js';\nimport '../../ui/TemplateMessageItemBody.js';\nimport '../../chunks/bundle-CbTjJHLv.js';\nimport '../../ui/FallbackTemplateMessageItemBody.tsx.js';\nimport '../../ui/LoadingTemplateMessageItemBody.tsx.js';\nimport '../../ui/FeedbackIconButton.js';\nimport '../../ui/MobileFeedbackMenu.js';\nimport '../../ui/MessageFeedbackModal.js';\nimport '../../ui/Input.js';\nimport '../../ui/MessageFeedbackFailedModal.js';\nimport '../../chunks/bundle-CbMF1uDu.js';\nimport './SuggestedReplies.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-Ck65vtgI.js';\nimport '../../chunks/bundle-CU9ItXV_.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\n\nvar Message = function (props) {\n    var _a = useSendbirdStateContext(), config = _a.config, emojiManager = _a.emojiManager;\n    var _b = useGroupChannelContext(), loading = _b.loading, currentChannel = _b.currentChannel, animatedMessageId = _b.animatedMessageId, setAnimatedMessageId = _b.setAnimatedMessageId, scrollToMessage = _b.scrollToMessage, replyType = _b.replyType, threadReplySelectType = _b.threadReplySelectType, isReactionEnabled = _b.isReactionEnabled, toggleReaction = _b.toggleReaction, nicknamesMap = _b.nicknamesMap, setQuoteMessage = _b.setQuoteMessage, renderUserMentionItem = _b.renderUserMentionItem, onQuoteMessageClick = _b.onQuoteMessageClick, onReplyInThreadClick = _b.onReplyInThreadClick, onMessageAnimated = _b.onMessageAnimated, onBeforeDownloadFileMessage = _b.onBeforeDownloadFileMessage, messages = _b.messages, updateUserMessage = _b.updateUserMessage, sendUserMessage = _b.sendUserMessage, resendMessage = _b.resendMessage, deleteMessage = _b.deleteMessage;\n    var message = props.message;\n    var initialized = !loading && Boolean(currentChannel);\n    var shouldRenderSuggestedReplies = useIIFE(function () {\n        var _a;\n        var _b = config.groupChannel, enableSuggestedReplies = _b.enableSuggestedReplies, showSuggestedRepliesFor = _b.showSuggestedRepliesFor;\n        var lastMessageInView = messages[messages.length - 1];\n        var hasUnsentMessage = isSendableMessage(lastMessageInView) && lastMessageInView.sendingStatus !== 'succeeded';\n        var showSuggestedReplies = showSuggestedRepliesFor === 'all_messages' ? true : message.messageId === ((_a = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.lastMessage) === null || _a === void 0 ? void 0 : _a.messageId);\n        return enableSuggestedReplies && getSuggestedReplies(message).length > 0 && !hasUnsentMessage && showSuggestedReplies;\n    });\n    return (React__default.createElement(MessageView, __assign({}, props, { channel: currentChannel, emojiContainer: emojiManager.emojiContainer, editInputDisabled: !initialized\n            || isDisabledBecauseFrozen(currentChannel !== null && currentChannel !== void 0 ? currentChannel : undefined)\n            || isDisabledBecauseMuted(currentChannel !== null && currentChannel !== void 0 ? currentChannel : undefined)\n            || !config.isOnline, shouldRenderSuggestedReplies: shouldRenderSuggestedReplies, isReactionEnabled: isReactionEnabled !== null && isReactionEnabled !== void 0 ? isReactionEnabled : false, replyType: replyType !== null && replyType !== void 0 ? replyType : 'NONE', threadReplySelectType: threadReplySelectType !== null && threadReplySelectType !== void 0 ? threadReplySelectType : ThreadReplySelectType.PARENT, nicknamesMap: nicknamesMap, renderUserMentionItem: renderUserMentionItem, scrollToMessage: scrollToMessage, toggleReaction: toggleReaction, setQuoteMessage: setQuoteMessage, onQuoteMessageClick: onQuoteMessageClick, onReplyInThreadClick: onReplyInThreadClick, sendUserMessage: sendUserMessage, updateUserMessage: updateUserMessage, resendMessage: resendMessage, deleteMessage: deleteMessage, animatedMessageId: animatedMessageId, setAnimatedMessageId: setAnimatedMessageId, onMessageAnimated: onMessageAnimated, renderFileViewer: function (props) { return React__default.createElement(FileViewer, __assign({}, props)); }, renderRemoveMessageModal: function (props) { return React__default.createElement(RemoveMessageModal, __assign({}, props)); }, usedInLegacy: false, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })));\n};\n\nexport { Message, Message as default };\n//# sourceMappingURL=Message.js.map\n", "import { c as __spreadArray, _ as __assign } from './bundle-B1SLZ0HT.js';\nimport React__default, { useState, useEffect, useRef, useLayoutEffect, useMemo } from 'react';\nimport { f as format } from './bundle-C6F1gIgq.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { M as MAX_USER_MENTION_COUNT, a as MAX_USER_SUGGESTION_COUNT } from './bundle-DHJZgVZH.js';\nimport { i as isDisabledBecauseFrozen, a as isDisabledBecauseMuted } from './bundle-h1wbrjk9.js';\nimport { useDirtyGetMentions } from '../Message/hooks/useDirtyGetMentions.js';\nimport { g as getSuggestedReplies } from './bundle-D-cVbGxk.js';\nimport DateSeparator from '../ui/DateSeparator.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-CEZ0D4qz.js';\nimport MessageInput from '../ui/MessageInput.js';\nimport { M as MessageInputKeys } from './bundle-DcNHBjGp.js';\nimport MessageContent from '../ui/MessageContent.js';\nimport SuggestedReplies from '../GroupChannel/components/SuggestedReplies.js';\nimport { S as SuggestedMentionListView } from './bundle-C_WYFRJt.js';\nimport { d as deleteNullish, c as classnames } from './bundle-CtBgdgkK.js';\n\nvar useDidMountEffect = function (func, deps) {\n    var _a = useState(false), didMount = _a[0], setDidmount = _a[1];\n    useEffect(function () {\n        if (didMount) {\n            func();\n        }\n        else {\n            setDidmount(true);\n        }\n    }, deps);\n};\n\n// TODO: Refactor this component, is too complex now\nvar MessageView = function (props) {\n    var _a, _b;\n    var \n    // MessageProps\n    message = props.message, children = props.children, hasSeparator = props.hasSeparator, chainTop = props.chainTop, chainBottom = props.chainBottom, handleScroll = props.handleScroll, \n    // MessageViewProps\n    channel = props.channel, emojiContainer = props.emojiContainer, editInputDisabled = props.editInputDisabled, shouldRenderSuggestedReplies = props.shouldRenderSuggestedReplies, isReactionEnabled = props.isReactionEnabled, replyType = props.replyType, threadReplySelectType = props.threadReplySelectType, nicknamesMap = props.nicknamesMap, scrollToMessage = props.scrollToMessage, toggleReaction = props.toggleReaction, setQuoteMessage = props.setQuoteMessage, onQuoteMessageClick = props.onQuoteMessageClick, onReplyInThreadClick = props.onReplyInThreadClick, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, sendUserMessage = props.sendUserMessage, updateUserMessage = props.updateUserMessage, resendMessage = props.resendMessage, deleteMessage = props.deleteMessage, setAnimatedMessageId = props.setAnimatedMessageId, animatedMessageId = props.animatedMessageId, onMessageAnimated = props.onMessageAnimated, _c = props.usedInLegacy, usedInLegacy = _c === void 0 ? true : _c;\n    var _d = deleteNullish(props), renderUserMentionItem = _d.renderUserMentionItem, renderMessage = _d.renderMessage, _e = _d.renderMessageContent, renderMessageContent = _e === void 0 ? function (props) { return React__default.createElement(MessageContent, __assign({}, props)); } : _e, _f = _d.renderSuggestedReplies, renderSuggestedReplies = _f === void 0 ? function (props) { return React__default.createElement(SuggestedReplies, __assign({}, props)); } : _f, renderCustomSeparator = _d.renderCustomSeparator, renderEditInput = _d.renderEditInput, renderFileViewer = _d.renderFileViewer, renderRemoveMessageModal = _d.renderRemoveMessageModal;\n    var _g = useLocalization(), dateLocale = _g.dateLocale, stringSet = _g.stringSet;\n    var globalStore = useSendbirdStateContext();\n    var _h = globalStore.config, userId = _h.userId, isOnline = _h.isOnline, userMention = _h.userMention, logger = _h.logger, groupChannel = _h.groupChannel;\n    var maxUserMentionCount = (userMention === null || userMention === void 0 ? void 0 : userMention.maxMentionCount) || MAX_USER_MENTION_COUNT;\n    var maxUserSuggestionCount = (userMention === null || userMention === void 0 ? void 0 : userMention.maxSuggestionCount) || MAX_USER_SUGGESTION_COUNT;\n    var _j = useState(false), showEdit = _j[0], setShowEdit = _j[1];\n    var _k = useState(false), showRemove = _k[0], setShowRemove = _k[1];\n    var _l = useState(false), showFileViewer = _l[0], setShowFileViewer = _l[1];\n    var _m = useState(false), isAnimated = _m[0], setIsAnimated = _m[1];\n    var _o = useState(''), mentionNickname = _o[0], setMentionNickname = _o[1];\n    var _p = useState([]), mentionedUsers = _p[0], setMentionedUsers = _p[1];\n    var _q = useState([]), mentionedUserIds = _q[0], setMentionedUserIds = _q[1];\n    var _r = useState(null), messageInputEvent = _r[0], setMessageInputEvent = _r[1];\n    var _s = useState(null), selectedUser = _s[0], setSelectedUser = _s[1];\n    var _t = useState([]), mentionSuggestedUsers = _t[0], setMentionSuggestedUsers = _t[1];\n    var editMessageInputRef = useRef(null);\n    var messageScrollRef = useRef(null);\n    var displaySuggestedMentionList = isOnline\n        && groupChannel.enableMention && mentionNickname.length > 0\n        && !isDisabledBecauseFrozen(channel)\n        && !isDisabledBecauseMuted(channel);\n    var mentionNodes = useDirtyGetMentions({ ref: editMessageInputRef }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < maxUserMentionCount;\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    // Side effect: scroll position update when showEdit is toggled or reactions updated\n    useDidMountEffect(function () {\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll();\n    }, [showEdit, (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.length]);\n    // Side effect: scroll position update when message updated\n    useDidMountEffect(function () {\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll(true);\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    // Side effect: scroll position update when suggested replies are rendered or hidden\n    var prevShouldRenderSuggestedReplies = useRef(shouldRenderSuggestedReplies);\n    useEffect(function () {\n        if (prevShouldRenderSuggestedReplies.current !== shouldRenderSuggestedReplies) {\n            handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll();\n        }\n        else {\n            prevShouldRenderSuggestedReplies.current = shouldRenderSuggestedReplies;\n        }\n    }, [shouldRenderSuggestedReplies]);\n    useLayoutEffect(function () {\n        // Keep the scrollBottom value after fetching new message list (but GroupChannel module is not needed.)\n        if (usedInLegacy)\n            handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll(true);\n    }, []);\n    useLayoutEffect(function () {\n        var timeouts = [];\n        if (animatedMessageId === message.messageId && (messageScrollRef === null || messageScrollRef === void 0 ? void 0 : messageScrollRef.current)) {\n            timeouts.push(setTimeout(function () {\n                setIsAnimated(true);\n            }, 500));\n            timeouts.push(setTimeout(function () {\n                setAnimatedMessageId(null);\n                onMessageAnimated === null || onMessageAnimated === void 0 ? void 0 : onMessageAnimated();\n            }, 1600));\n        }\n        else {\n            setIsAnimated(false);\n        }\n        return function () {\n            timeouts.forEach(function (it) { return clearTimeout(it); });\n        };\n    }, [animatedMessageId, messageScrollRef.current, message.messageId]);\n    var renderedCustomSeparator = useMemo(function () { var _a; return (_a = renderCustomSeparator === null || renderCustomSeparator === void 0 ? void 0 : renderCustomSeparator({ message: message })) !== null && _a !== void 0 ? _a : null; }, [message, renderCustomSeparator]);\n    var renderChildren = function () {\n        if (children) {\n            return children;\n        }\n        if (renderMessage) {\n            var messageProps = __assign(__assign({}, props), { renderMessage: undefined });\n            return renderMessage(messageProps);\n        }\n        return (React__default.createElement(React__default.Fragment, null,\n            renderMessageContent({\n                className: 'sendbird-message-hoc__message-content',\n                userId: userId,\n                scrollToMessage: scrollToMessage,\n                channel: channel,\n                message: message,\n                disabled: !isOnline,\n                chainTop: chainTop,\n                chainBottom: chainBottom,\n                isReactionEnabled: isReactionEnabled,\n                replyType: replyType,\n                threadReplySelectType: threadReplySelectType,\n                nicknamesMap: nicknamesMap,\n                emojiContainer: emojiContainer,\n                showEdit: setShowEdit,\n                showRemove: setShowRemove,\n                showFileViewer: setShowFileViewer,\n                resendMessage: resendMessage,\n                deleteMessage: deleteMessage,\n                toggleReaction: toggleReaction,\n                setQuoteMessage: setQuoteMessage,\n                onReplyInThread: onReplyInThreadClick,\n                onQuoteMessageClick: onQuoteMessageClick,\n                onMessageHeightChange: handleScroll,\n                onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n            }),\n            shouldRenderSuggestedReplies && renderSuggestedReplies({\n                replyOptions: getSuggestedReplies(message),\n                onSendMessage: sendUserMessage,\n                type: groupChannel === null || groupChannel === void 0 ? void 0 : groupChannel.suggestedRepliesDirection,\n            }),\n            showRemove && (renderRemoveMessageModal === null || renderRemoveMessageModal === void 0 ? void 0 : renderRemoveMessageModal({ message: message, onCancel: function () { return setShowRemove(false); } })),\n            showFileViewer && renderFileViewer({ message: message, onCancel: function () { return setShowFileViewer(false); } })));\n    };\n    if (showEdit && ((_b = message === null || message === void 0 ? void 0 : message.isUserMessage) === null || _b === void 0 ? void 0 : _b.call(message))) {\n        return ((renderEditInput === null || renderEditInput === void 0 ? void 0 : renderEditInput()) || (React__default.createElement(React__default.Fragment, null,\n            displaySuggestedMentionList && (React__default.createElement(SuggestedMentionListView, { currentChannel: channel, targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, renderUserMentionItem: renderUserMentionItem, onUserItemClick: function (user) {\n                    if (user) {\n                        setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                    }\n                    setMentionNickname('');\n                    setSelectedUser(user);\n                    setMessageInputEvent(null);\n                }, onFocusItemChange: function () {\n                    setMessageInputEvent(null);\n                }, onFetchUsers: function (users) {\n                    setMentionSuggestedUsers(users);\n                }, ableAddMention: ableMention, maxMentionCount: maxUserMentionCount, maxSuggestionCount: maxUserSuggestionCount })),\n            React__default.createElement(MessageInput, { isEdit: true, channel: channel, disabled: editInputDisabled, ref: editMessageInputRef, mentionSelectedUser: selectedUser, isMentionEnabled: groupChannel.enableMention, message: message, onStartTyping: function () {\n                    var _a;\n                    (_a = channel === null || channel === void 0 ? void 0 : channel.startTyping) === null || _a === void 0 ? void 0 : _a.call(channel);\n                }, onUpdateMessage: function (_a) {\n                    var _b;\n                    var messageId = _a.messageId, message = _a.message, mentionTemplate = _a.mentionTemplate;\n                    updateUserMessage(messageId, {\n                        message: message,\n                        mentionedUsers: mentionedUsers,\n                        mentionedMessageTemplate: mentionTemplate,\n                    });\n                    setShowEdit(false);\n                    (_b = channel === null || channel === void 0 ? void 0 : channel.endTyping) === null || _b === void 0 ? void 0 : _b.call(channel);\n                }, onCancelEdit: function () {\n                    var _a;\n                    setMentionNickname('');\n                    setMentionedUsers([]);\n                    setMentionedUserIds([]);\n                    setMentionSuggestedUsers([]);\n                    setShowEdit(false);\n                    (_a = channel === null || channel === void 0 ? void 0 : channel.endTyping) === null || _a === void 0 ? void 0 : _a.call(channel);\n                }, onUserMentioned: function (user) {\n                    if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                        setSelectedUser(null);\n                        setMentionNickname('');\n                    }\n                }, onMentionStringChange: function (mentionText) {\n                    setMentionNickname(mentionText);\n                }, onMentionedUserIdsUpdated: function (userIds) {\n                    setMentionedUserIds(userIds);\n                }, onKeyDown: function (e) {\n                    if (displaySuggestedMentionList\n                        && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                        && ((e.key === MessageInputKeys.Enter && ableMention)\n                            || e.key === MessageInputKeys.ArrowUp\n                            || e.key === MessageInputKeys.ArrowDown)) {\n                        setMessageInputEvent(e);\n                        return true;\n                    }\n                    return false;\n                } }))));\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-msg-hoc sendbird-msg--scroll-ref', isAnimated && 'sendbird-msg-hoc__animated'), \"data-testid\": \"sendbird-message-view\", style: children || renderMessage ? undefined : { marginBottom: '2px' }, \"data-sb-message-id\": message.messageId, \"data-sb-created-at\": message.createdAt, ref: messageScrollRef },\n        hasSeparator\n            && (renderedCustomSeparator || (React__default.createElement(DateSeparator, null,\n                React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, format(message.createdAt, stringSet.DATE_FORMAT__MESSAGE_LIST__DATE_SEPARATOR, {\n                    locale: dateLocale,\n                }))))),\n        renderChildren()));\n};\n\nexport { MessageView as M };\n//# sourceMappingURL=bundle-CAXTSiql.js.map\n", "var MAX_USER_MENTION_COUNT = 10;\nvar MAX_USER_SUGGESTION_COUNT = 15;\nvar USER_MENTION_TEMP_CHAR = '@';\nvar ThreadReplySelectType;\n(function (ThreadReplySelectType) {\n    ThreadReplySelectType[\"PARENT\"] = \"PARENT\";\n    ThreadReplySelectType[\"THREAD\"] = \"THREAD\";\n})(ThreadReplySelectType || (ThreadReplySelectType = {}));\n\nexport { MAX_USER_MENTION_COUNT as M, ThreadReplySelectType as T, USER_MENTION_TEMP_CHAR as U, MAX_USER_SUGGESTION_COUNT as a };\n//# sourceMappingURL=bundle-DHJZgVZH.js.map\n", "import { useState, useLayoutEffect, useEffect } from 'react';\n\nfunction getMentionNodes(root) {\n    if (root) {\n        var mentions = root.querySelectorAll('[data-sb-mention=\\'true\\']');\n        var mentionsArray = Array.from(mentions);\n        return mentionsArray;\n    }\n    return [];\n}\n\n/**\n * exported, should be backwords compatible\n * This is a dirty way to get the mentions given DOM node\n */\nfunction useDirtyGetMentions(_a, _b) {\n    var ref = _a.ref;\n    var logger = _b.logger;\n    // Select the node that will be observed for mutations\n    var targetNode = ref.current;\n    var _c = useState([]), mentionNodes = _c[0], setMentionNodes = _c[1];\n    // to get the initial mentions\n    useLayoutEffect(function () {\n        if (targetNode) {\n            var mentions = getMentionNodes(targetNode);\n            setMentionNodes(mentions);\n        }\n    }, [targetNode]);\n    useEffect(function () {\n        // Options for the observer (which mutations to observe)\n        var config = { childList: true, subtree: true };\n        // Callback function to execute when mutations are observed\n        var callback = function (mutationList) {\n            var hasMutation = mutationList.length > 0;\n            if (hasMutation) {\n                setMentionNodes(getMentionNodes(targetNode));\n            }\n        };\n        // Create an observer instance linked to the callback function\n        var observer = new MutationObserver(callback);\n        if (targetNode) {\n            // Start observing the target node for configured mutations\n            observer.observe(targetNode, config);\n            // logger.info('useDirtyGetMentions: observer started', { observer, config });\n        }\n        return function () {\n            try {\n                observer.disconnect();\n                // logger.info('useDirtyGetMentions: observer disconnected', { observer });\n            }\n            catch (error) {\n                logger.error('useDirtyGetMentions: observer disconnect failed', { observer: observer });\n            }\n        };\n    }, [targetNode]);\n    return mentionNodes;\n}\n\nexport { useDirtyGetMentions };\n//# sourceMappingURL=useDirtyGetMentions.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { C as Colors, c as changeColorToClassName } from '../chunks/bundle-CTaD4y3Q.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nvar DateSeparator = function (_a) {\n    var _b = _a.children, children = _b === void 0 ? undefined : _b, _c = _a.className, className = _c === void 0 ? '' : _c, _d = _a.separatorColor, separatorColor = _d === void 0 ? Colors.ONBACKGROUND_4 : _d;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-separator',\n        ], false).join(' ') },\n        React__default.createElement(\"div\", { className: ['sendbird-separator__left', \"\".concat(changeColorToClassName(separatorColor), \"--background-color\")].join(' ') }),\n        React__default.createElement(\"div\", { className: \"sendbird-separator__text\" }, children\n            || (React__default.createElement(Label, { type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, \"Date Separator\"))),\n        React__default.createElement(\"div\", { className: ['sendbird-separator__right', \"\".concat(changeColorToClassName(separatorColor), \"--background-color\")].join(' ') })));\n};\n\nexport { DateSeparator as default };\n//# sourceMappingURL=DateSeparator.js.map\n", "import { _ as __assign, c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useState, useCallback, useEffect } from 'react';\nimport { M as MessageInputKeys, N as NodeTypes } from '../chunks/bundle-DcNHBjGp.js';\nimport { U as USER_MENTION_TEMP_CHAR } from '../chunks/bundle-DHJZgVZH.js';\nimport IconButton from './IconButton.js';\nimport Button, { ButtonTypes, ButtonSizes } from './Button.js';\nimport { r as renderToString, s as sanitizeString, n as nodeListToArray, u as usePaste, i as isChannelTypeSupportsMultipleFilesMessage, e as extractTextAndMentions } from '../chunks/bundle-BGQ77Eco.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { K, G as arrayEqual, H as getMimeTypesUIKitAccepts } from '../chunks/bundle-D-cVbGxk.js';\nimport { t as tokenizeMessage, T as TOKEN_TYPES, U as USER_MENTION_PREFIX } from '../chunks/bundle-DtlqJEe7.js';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport { i as isMobileIOS } from '../chunks/bundle-DJDeBhDz.js';\nimport 'dompurify';\nimport '../chunks/bundle-i2i0G-ml.js';\nimport '../chunks/bundle-BVBoUWl2.js';\nimport '../chunks/bundle-fSuFm2tD.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../withSendbird.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CwQYOWqR.js';\n\n/**\n * FIXME:\n * Import this ChannelType enum from @sendbird/chat\n * once MessageInput.spec unit tests can be run \\wo jest <-> ESM issue\n */\nvar ChannelType;\n(function (ChannelType) {\n    ChannelType[\"BASE\"] = \"base\";\n    ChannelType[\"GROUP\"] = \"group\";\n    ChannelType[\"OPEN\"] = \"open\";\n})(ChannelType || (ChannelType = {}));\n/**\n * FIXME: Simplify this in UIKit@v4\n * If customer is using MessageInput inside our modules(ie: Channel, Thread, etc),\n * we should use the config from the module.\n * If customer is using MessageInput outside our modules(ie: custom UI),\n * we expect Channel to be undefined and customer gets control to show/hide file-upload.\n * @param {*} channel GroupChannel | OpenChannel\n * @param {*} config SendBirdStateConfig\n * @returns boolean\n */\nvar checkIfFileUploadEnabled = function (_a) {\n    var channel = _a.channel, config = _a.config;\n    var isEnabled = K(channel === null || channel === void 0 ? void 0 : channel.channelType)\n        .with(ChannelType.GROUP, function () { var _a; return (_a = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _a === void 0 ? void 0 : _a.enableDocument; })\n        .with(ChannelType.OPEN, function () { var _a; return (_a = config === null || config === void 0 ? void 0 : config.openChannel) === null || _a === void 0 ? void 0 : _a.enableDocument; })\n        .otherwise(function () { return true; });\n    return isEnabled;\n};\n\nvar TEXT_FIELD_ID = 'sendbird-message-input-text-field';\nvar LINE_HEIGHT = 76;\nvar DEFAULT_CHAT_VIEW_HEIGHT = 600;\nvar noop = function () {\n    return null;\n};\nvar displayCaret = function (element, position) {\n    var range = document.createRange();\n    var sel = window.getSelection();\n    range.setStart(element.childNodes[0], position);\n    range.collapse(true);\n    sel === null || sel === void 0 ? void 0 : sel.removeAllRanges();\n    sel === null || sel === void 0 ? void 0 : sel.addRange(range);\n    element.focus();\n};\nvar resetInput = function (ref) {\n    if (ref && ref.current) {\n        ref.current.innerHTML = '';\n    }\n};\nvar initialTargetStringInfo = {\n    targetString: '',\n    startNodeIndex: null,\n    startOffsetIndex: null,\n    endNodeIndex: null,\n    endOffsetIndex: null,\n};\nvar MessageInput = React__default.forwardRef(function (props, externalRef) {\n    var _a, _b, _c, _d, _e;\n    var channel = props.channel, _f = props.className, className = _f === void 0 ? '' : _f, _g = props.messageFieldId, messageFieldId = _g === void 0 ? '' : _g, _h = props.isEdit, isEdit = _h === void 0 ? false : _h, _j = props.isMobile, isMobile = _j === void 0 ? false : _j, _k = props.isMentionEnabled, isMentionEnabled = _k === void 0 ? false : _k, _l = props.isVoiceMessageEnabled, isVoiceMessageEnabled = _l === void 0 ? true : _l, _m = props.isSelectingMultipleFilesEnabled, isSelectingMultipleFilesEnabled = _m === void 0 ? false : _m, _o = props.disabled, disabled = _o === void 0 ? false : _o, _p = props.message, message = _p === void 0 ? null : _p, _q = props.placeholder, placeholder = _q === void 0 ? '' : _q, _r = props.maxLength, maxLength = _r === void 0 ? 5000 : _r, _s = props.onFileUpload, onFileUpload = _s === void 0 ? noop : _s, _t = props.onSendMessage, onSendMessage = _t === void 0 ? noop : _t, _u = props.onUpdateMessage, onUpdateMessage = _u === void 0 ? noop : _u, _v = props.onCancelEdit, onCancelEdit = _v === void 0 ? noop : _v, _w = props.onStartTyping, onStartTyping = _w === void 0 ? noop : _w, _x = props.channelUrl, channelUrl = _x === void 0 ? '' : _x, _y = props.mentionSelectedUser, mentionSelectedUser = _y === void 0 ? null : _y, _z = props.onUserMentioned, onUserMentioned = _z === void 0 ? noop : _z, _0 = props.onMentionStringChange, onMentionStringChange = _0 === void 0 ? noop : _0, _1 = props.onMentionedUserIdsUpdated, onMentionedUserIdsUpdated = _1 === void 0 ? noop : _1, _2 = props.onVoiceMessageIconClick, onVoiceMessageIconClick = _2 === void 0 ? noop : _2, _3 = props.onKeyUp, onKeyUp = _3 === void 0 ? noop : _3, _4 = props.onKeyDown, onKeyDown = _4 === void 0 ? noop : _4, _5 = props.renderFileUploadIcon, renderFileUploadIcon = _5 === void 0 ? noop : _5, _6 = props.renderVoiceMessageIcon, renderVoiceMessageIcon = _6 === void 0 ? noop : _6, _7 = props.renderSendMessageIcon, renderSendMessageIcon = _7 === void 0 ? noop : _7, _8 = props.setMentionedUsers, setMentionedUsers = _8 === void 0 ? noop : _8, acceptableMimeTypes = props.acceptableMimeTypes;\n    var internalRef = (externalRef && 'current' in externalRef) ? externalRef : null;\n    var ghostInputRef = useRef(null);\n    var textFieldId = messageFieldId || TEXT_FIELD_ID;\n    var stringSet = useLocalization().stringSet;\n    var config = useSendbirdStateContext().config;\n    var isFileUploadEnabled = checkIfFileUploadEnabled({\n        channel: channel,\n        config: config,\n    });\n    var fileInputRef = useRef();\n    var _9 = useState(false), isInput = _9[0], setIsInput = _9[1];\n    var _10 = useState([]), mentionedUserIds = _10[0], setMentionedUserIds = _10[1];\n    var _11 = useState(__assign({}, initialTargetStringInfo)), targetStringInfo = _11[0], setTargetStringInfo = _11[1];\n    var setHeight = useCallback(function () {\n        var elem = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        if (!elem)\n            return;\n        try {\n            var estimatedChatViewHeight = window.document.body.offsetHeight || DEFAULT_CHAT_VIEW_HEIGHT;\n            var MAX_HEIGHT = estimatedChatViewHeight * 0.6;\n            if (elem.scrollHeight >= LINE_HEIGHT) {\n                if (MAX_HEIGHT < elem.scrollHeight) {\n                    elem.style.height = 'auto';\n                    elem.style.height = \"\".concat(MAX_HEIGHT, \"px\");\n                }\n                else {\n                    elem.style.height = '';\n                }\n            }\n        }\n        catch (error) {\n            // error\n        }\n    }, []);\n    // #Edit mode\n    // for easilly initialize input value from outside, but\n    // useEffect(_, [channelUrl]) erase it\n    var initialValue = props === null || props === void 0 ? void 0 : props.value;\n    useEffect(function () {\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        try {\n            if (textField && initialValue) {\n                textField.innerHTML = initialValue;\n                displayCaret(textField, initialValue === null || initialValue === void 0 ? void 0 : initialValue.length);\n            }\n        }\n        catch (_a) {\n            //\n        }\n        setMentionedUserIds([]);\n        setIsInput((textField === null || textField === void 0 ? void 0 : textField.textContent) ? textField.textContent.trim().length > 0 : false);\n        setHeight();\n    }, [initialValue]);\n    // #Mention | Clear input value when channel changes\n    useEffect(function () {\n        if (!isEdit) {\n            setIsInput(false);\n            resetInput(internalRef);\n        }\n    }, [channelUrl]);\n    // #Mention & #Edit | Fill message input values\n    useEffect(function () {\n        var _a, _b;\n        if (isEdit && (message === null || message === void 0 ? void 0 : message.messageId)) {\n            // const textField = document.getElementById(textFieldId);\n            var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n            if (isMentionEnabled\n                && (message === null || message === void 0 ? void 0 : message.mentionedUsers)\n                && message.mentionedUsers.length > 0\n                && (message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate)\n                && message.mentionedMessageTemplate.length > 0) {\n                /* mention enabled */\n                var _c = message.mentionedUsers, mentionedUsers_1 = _c === void 0 ? [] : _c;\n                var tokens = tokenizeMessage({\n                    messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                    mentionedUsers: mentionedUsers_1,\n                    includeMarkdown: channel.isGroupChannel() && config.groupChannel.enableMarkdownForUserMessage,\n                });\n                if (textField) {\n                    textField.innerHTML = tokens\n                        .map(function (token) {\n                        if (token.type === TOKEN_TYPES.mention) {\n                            var mentionedUser = mentionedUsers_1.find(function (user) { return user.userId === token.userId; });\n                            var nickname = \"\".concat(USER_MENTION_PREFIX).concat((mentionedUser === null || mentionedUser === void 0 ? void 0 : mentionedUser.nickname) || token.value || stringSet.MENTION_NAME__NO_NAME);\n                            return renderToString({\n                                userId: token.userId,\n                                nickname: nickname,\n                            });\n                        }\n                        return sanitizeString(token.value);\n                    })\n                        .join('');\n                }\n            }\n            else {\n                /* mention disabled */\n                try {\n                    if (textField) {\n                        textField.innerHTML = (_a = sanitizeString(message === null || message === void 0 ? void 0 : message.message)) !== null && _a !== void 0 ? _a : '';\n                    }\n                }\n                catch (_d) {\n                    //\n                }\n                setMentionedUserIds([]);\n            }\n            setIsInput((textField === null || textField === void 0 ? void 0 : textField.textContent) ? ((_b = textField === null || textField === void 0 ? void 0 : textField.textContent) === null || _b === void 0 ? void 0 : _b.trim().length) > 0 : false);\n            setHeight();\n        }\n    }, [isEdit, message]);\n    // #Mention | Detect MentionedLabel modified\n    var useMentionedLabelDetection = useCallback(function () {\n        var _a;\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        if (isMentionEnabled && textField) {\n            var newMentionedUserIds = Array.from(textField.getElementsByClassName('sendbird-mention-user-label')).map(\n            // @ts-ignore\n            function (node) { var _a; return (_a = node === null || node === void 0 ? void 0 : node.dataset) === null || _a === void 0 ? void 0 : _a.userid; });\n            if (!arrayEqual(mentionedUserIds, newMentionedUserIds) || newMentionedUserIds.length === 0) {\n                onMentionedUserIdsUpdated(newMentionedUserIds);\n                setMentionedUserIds(newMentionedUserIds);\n            }\n        }\n        setIsInput((textField === null || textField === void 0 ? void 0 : textField.textContent) ? ((_a = textField.textContent) === null || _a === void 0 ? void 0 : _a.trim().length) > 0 : false);\n    }, [targetStringInfo, isMentionEnabled]);\n    // #Mention | Replace selected user nickname to the MentionedUserLabel\n    useEffect(function () {\n        var _a, _b, _c, _d;\n        if (isMentionEnabled && mentionSelectedUser) {\n            var targetString = targetStringInfo.targetString, startNodeIndex = targetStringInfo.startNodeIndex, startOffsetIndex = targetStringInfo.startOffsetIndex, endNodeIndex = targetStringInfo.endNodeIndex, endOffsetIndex = targetStringInfo.endOffsetIndex;\n            var textField_1 = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n            if (targetString && startNodeIndex !== null && startOffsetIndex !== null && endOffsetIndex !== null && endNodeIndex !== null && textField_1) {\n                // const textField = document.getElementById(textFieldId);\n                var childNodes = nodeListToArray(textField_1 === null || textField_1 === void 0 ? void 0 : textField_1.childNodes);\n                var startNodeTextContent = (_b = (_a = childNodes[startNodeIndex]) === null || _a === void 0 ? void 0 : _a.textContent) !== null && _b !== void 0 ? _b : '';\n                var frontTextNode = document.createTextNode(startNodeTextContent.slice(0, startOffsetIndex));\n                var endNodeTextContent = (_d = (_c = childNodes[endNodeIndex]) === null || _c === void 0 ? void 0 : _c.textContent) !== null && _d !== void 0 ? _d : '';\n                var backTextNode = endOffsetIndex && document.createTextNode(\"\\u00A0\".concat(endNodeTextContent.slice(endOffsetIndex)));\n                var mentionLabel = renderToString({\n                    userId: mentionSelectedUser === null || mentionSelectedUser === void 0 ? void 0 : mentionSelectedUser.userId,\n                    nickname: \"\".concat(USER_MENTION_TEMP_CHAR).concat((mentionSelectedUser === null || mentionSelectedUser === void 0 ? void 0 : mentionSelectedUser.nickname) || stringSet.MENTION_NAME__NO_NAME),\n                });\n                var div = document.createElement('div');\n                div.innerHTML = mentionLabel;\n                var newNodes = __spreadArray(__spreadArray(__spreadArray([], childNodes.slice(0, startNodeIndex), true), [\n                    frontTextNode,\n                    div.childNodes[0],\n                    backTextNode\n                ], false), childNodes.slice(endNodeIndex + 1), true);\n                if (textField_1) {\n                    textField_1.innerHTML = '';\n                    newNodes.forEach(function (newNode) {\n                        if (newNode) {\n                            textField_1.appendChild(newNode);\n                        }\n                    });\n                }\n                onUserMentioned(mentionSelectedUser);\n                if (window.getSelection || document.getSelection) {\n                    // set caret postion\n                    var selection = window.getSelection() || document.getSelection();\n                    selection === null || selection === void 0 ? void 0 : selection.removeAllRanges();\n                    var range = new Range();\n                    range.selectNodeContents(textField_1);\n                    range.setStart(textField_1.childNodes[startNodeIndex + 2], 1);\n                    range.setEnd(textField_1.childNodes[startNodeIndex + 2], 1);\n                    range.collapse(false);\n                    selection === null || selection === void 0 ? void 0 : selection.addRange(range);\n                    textField_1.focus();\n                }\n                setTargetStringInfo(__assign({}, initialTargetStringInfo));\n                setHeight();\n                useMentionedLabelDetection();\n            }\n        }\n    }, [mentionSelectedUser, isMentionEnabled]);\n    // #Mention | Detect mentioning user nickname\n    var useMentionInputDetection = useCallback(function () {\n        var _a, _b;\n        var selection = ((_a = window === null || window === void 0 ? void 0 : window.getSelection) === null || _a === void 0 ? void 0 : _a.call(window)) || ((_b = document === null || document === void 0 ? void 0 : document.getSelection) === null || _b === void 0 ? void 0 : _b.call(document));\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        if ((selection === null || selection === void 0 ? void 0 : selection.anchorNode) === textField) {\n            onMentionStringChange('');\n        }\n        if (isMentionEnabled\n            && textField\n            && selection\n            && selection.anchorNode === selection.focusNode\n            && selection.anchorOffset === selection.focusOffset) {\n            var textStack = '';\n            var startNodeIndex = null;\n            var startOffsetIndex = null;\n            var _loop_1 = function (index) {\n                var currentNode = textField.childNodes[index];\n                if (currentNode.nodeType === NodeTypes.TextNode) {\n                    /* text node */\n                    var textContent = (function () {\n                        var _a;\n                        if (currentNode === selection.anchorNode) {\n                            return (currentNode === null || currentNode === void 0 ? void 0 : currentNode.textContent) ? currentNode === null || currentNode === void 0 ? void 0 : currentNode.textContent.slice(0, selection.anchorOffset) : '';\n                        }\n                        return (_a = currentNode === null || currentNode === void 0 ? void 0 : currentNode.textContent) !== null && _a !== void 0 ? _a : '';\n                    })();\n                    if (textStack.length > 0) {\n                        textStack += textContent;\n                    }\n                    else {\n                        var charLastIndex = textContent.lastIndexOf(USER_MENTION_TEMP_CHAR);\n                        for (var i = charLastIndex - 1; i > -1; i -= 1) {\n                            if (textContent[i] === USER_MENTION_TEMP_CHAR) {\n                                charLastIndex = i;\n                            }\n                            else {\n                                break;\n                            }\n                        }\n                        if (charLastIndex > -1) {\n                            textStack = textContent;\n                            startNodeIndex = index;\n                            startOffsetIndex = charLastIndex;\n                        }\n                    }\n                }\n                else {\n                    /* other nodes */\n                    textStack = '';\n                    startNodeIndex = null;\n                    startOffsetIndex = null;\n                }\n                if (currentNode === selection.anchorNode) {\n                    /**\n                     * targetString could be ''\n                     * startNodeIndex and startOffsetIndex could be null\n                     */\n                    var targetString = textStack && startOffsetIndex !== null ? textStack.slice(startOffsetIndex) : ''; // include template character\n                    setTargetStringInfo({\n                        targetString: targetString,\n                        startNodeIndex: startNodeIndex,\n                        startOffsetIndex: startOffsetIndex,\n                        endNodeIndex: index,\n                        endOffsetIndex: selection.anchorOffset,\n                    });\n                    onMentionStringChange(targetString);\n                    return { value: void 0 };\n                }\n            };\n            for (var index = 0; index < textField.childNodes.length; index += 1) {\n                var state_1 = _loop_1(index);\n                if (typeof state_1 === \"object\")\n                    return state_1.value;\n            }\n        }\n    }, [isMentionEnabled]);\n    var sendMessage = function () {\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        if (!isEdit && (textField === null || textField === void 0 ? void 0 : textField.textContent)) {\n            var _a = extractTextAndMentions(textField.childNodes), messageText = _a.messageText, mentionTemplate = _a.mentionTemplate;\n            var params = { message: messageText, mentionTemplate: mentionTemplate };\n            onSendMessage(params);\n            resetInput(internalRef);\n            /**\n             * Note: contentEditable does not work as expected in mobile WebKit (Safari).\n             * @see https://github.com/sendbird/sendbird-uikit-react/pull/1108\n             */\n            if (isMobileIOS(navigator.userAgent)) {\n                if (ghostInputRef.current)\n                    ghostInputRef.current.focus();\n                requestAnimationFrame(function () { return textField.focus(); });\n            }\n            else {\n                // important: keeps the keyboard open -> must add test on refactor\n                textField.focus();\n            }\n            setIsInput(false);\n            setHeight();\n        }\n    };\n    var isEditDisabled = !((_b = (_a = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _a === void 0 ? void 0 : _a.textContent) === null || _b === void 0 ? void 0 : _b.trim());\n    var editMessage = function () {\n        var textField = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current;\n        var messageId = message === null || message === void 0 ? void 0 : message.messageId;\n        if (isEdit && messageId && textField) {\n            var _a = extractTextAndMentions(textField.childNodes), messageText = _a.messageText, mentionTemplate = _a.mentionTemplate;\n            var params = { messageId: messageId, message: messageText, mentionTemplate: mentionTemplate };\n            onUpdateMessage(params);\n            resetInput(internalRef);\n        }\n    };\n    var onPaste = usePaste({\n        ref: internalRef,\n        setMentionedUsers: setMentionedUsers,\n        channel: channel,\n        setIsInput: setIsInput,\n        setHeight: setHeight,\n    });\n    return (React__default.createElement(\"form\", { className: classnames.apply(void 0, __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), false), [isEdit && 'sendbird-message-input__edit',\n            disabled && 'sendbird-message-input-form__disabled'], false)) },\n        React__default.createElement(\"div\", { className: classnames('sendbird-message-input', disabled && 'sendbird-message-input__disabled'), \"data-testid\": \"sendbird-message-input\" },\n            isMobileIOS(navigator.userAgent) && (React__default.createElement(\"input\", { id: 'ghost-input-reset-ime-cjk', ref: ghostInputRef, style: { opacity: 0, padding: 0, margin: 0, height: 0, border: 'none', position: 'absolute', top: -9999 }, defaultValue: '_' })),\n            React__default.createElement(\"div\", { id: \"\".concat(textFieldId).concat(isEdit ? message === null || message === void 0 ? void 0 : message.messageId : ''), className: \"sendbird-message-input--textarea \".concat(textFieldId), contentEditable: !disabled, role: \"textbox\", \"aria-label\": \"Text Input\", ref: externalRef, \n                // @ts-ignore\n                disabled: disabled, maxLength: maxLength, onKeyDown: function (e) {\n                    var _a, _b, _c, _d;\n                    var preventEvent = onKeyDown(e);\n                    if (preventEvent) {\n                        e.preventDefault();\n                    }\n                    else {\n                        if (!e.shiftKey\n                            && e.key === MessageInputKeys.Enter\n                            && !isMobile\n                            && ((_a = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _a === void 0 ? void 0 : _a.textContent)\n                            && internalRef.current.textContent.trim().length > 0\n                            && ((_b = e === null || e === void 0 ? void 0 : e.nativeEvent) === null || _b === void 0 ? void 0 : _b.isComposing) !== true\n                        /**\n                         * NOTE: What isComposing does?\n                         * Check if the user has finished composing characters\n                         * (e.g., for languages like Korean, Japanese, where characters are composed from multiple keystrokes)\n                         * Prevents executing the code while the user is still composing characters.\n                         */\n                        ) {\n                            e.preventDefault();\n                            sendMessage();\n                        }\n                        if (e.key === MessageInputKeys.Backspace\n                            && ((_d = (_c = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _c === void 0 ? void 0 : _c.childNodes) === null || _d === void 0 ? void 0 : _d.length) === 2\n                            && !internalRef.current.childNodes[0].textContent\n                            && internalRef.current.childNodes[1].nodeType === NodeTypes.ElementNode) {\n                            internalRef.current.removeChild(internalRef.current.childNodes[1]);\n                        }\n                    }\n                }, onKeyUp: function (e) {\n                    var preventEvent = onKeyUp(e);\n                    if (preventEvent) {\n                        e.preventDefault();\n                    }\n                    else {\n                        useMentionInputDetection();\n                    }\n                }, onClick: function () {\n                    useMentionInputDetection();\n                }, onInput: function () {\n                    var _a;\n                    setHeight();\n                    onStartTyping();\n                    setIsInput(((_a = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _a === void 0 ? void 0 : _a.textContent) ? internalRef.current.textContent.trim().length > 0 : false);\n                    useMentionedLabelDetection();\n                }, onPaste: onPaste }),\n            ((_e = (_d = (_c = internalRef === null || internalRef === void 0 ? void 0 : internalRef.current) === null || _c === void 0 ? void 0 : _c.textContent) === null || _d === void 0 ? void 0 : _d.length) !== null && _e !== void 0 ? _e : 0) === 0 && (React__default.createElement(Label, { className: \"sendbird-message-input--placeholder\", type: LabelTypography.BODY_1, color: disabled ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_3 }, placeholder || stringSet.MESSAGE_INPUT__PLACE_HOLDER)),\n            !isEdit && isInput && (React__default.createElement(IconButton, { className: \"sendbird-message-input--send\", height: \"32px\", width: \"32px\", onClick: function () { return sendMessage(); }, testID: \"sendbird-message-input-send-button\" }, (renderSendMessageIcon === null || renderSendMessageIcon === void 0 ? void 0 : renderSendMessageIcon()) || (React__default.createElement(Icon, { type: IconTypes.SEND, fillColor: disabled ? IconColors.ON_BACKGROUND_4 : IconColors.PRIMARY, width: \"20px\", height: \"20px\" })))),\n            !isEdit\n                && !isInput\n                && ((renderFileUploadIcon === null || renderFileUploadIcon === void 0 ? void 0 : renderFileUploadIcon())\n                    // UIKit Dashboard configuration should have lower priority than\n                    // renderFileUploadIcon which is set in code level\n                    || (isFileUploadEnabled && (React__default.createElement(IconButton, { className: classnames('sendbird-message-input--attach', isVoiceMessageEnabled && 'is-voice-message-enabled'), height: \"32px\", width: \"32px\", onClick: function () {\n                            var _a, _b;\n                            // todo: clear previous input\n                            (_b = (_a = fileInputRef === null || fileInputRef === void 0 ? void 0 : fileInputRef.current) === null || _a === void 0 ? void 0 : _a.click) === null || _b === void 0 ? void 0 : _b.call(_a);\n                        } },\n                        React__default.createElement(Icon, { type: IconTypes.ATTACH, fillColor: disabled ? IconColors.ON_BACKGROUND_4 : IconColors.CONTENT_INVERSE, width: \"20px\", height: \"20px\" }),\n                        React__default.createElement(\"input\", { className: \"sendbird-message-input--attach-input\", type: \"file\", ref: fileInputRef, \n                            // It will affect to <Channel /> and <Thread />\n                            onChange: function (event) {\n                                var files = event.currentTarget.files;\n                                if (files) {\n                                    onFileUpload(files && files.length === 1 ? [files[0]] : Array.from(files));\n                                }\n                                event.target.value = '';\n                            }, accept: getMimeTypesUIKitAccepts(acceptableMimeTypes), multiple: isSelectingMultipleFilesEnabled && isChannelTypeSupportsMultipleFilesMessage(channel) }))))),\n            isVoiceMessageEnabled && !isEdit && !isInput && (React__default.createElement(IconButton, { className: \"sendbird-message-input--voice-message\", width: \"32px\", height: \"32px\", onClick: onVoiceMessageIconClick }, (renderVoiceMessageIcon === null || renderVoiceMessageIcon === void 0 ? void 0 : renderVoiceMessageIcon()) || (React__default.createElement(Icon, { type: IconTypes.AUDIO_ON_LINED, fillColor: disabled ? IconColors.ON_BACKGROUND_4 : IconColors.CONTENT_INVERSE, width: \"20px\", height: \"20px\" }))))),\n        isEdit && (React__default.createElement(\"div\", { className: \"sendbird-message-input--edit-action\", \"data-testid\": \"sendbird-message-input--edit-action\" },\n            React__default.createElement(Button, { className: \"sendbird-message-input--edit-action__cancel\", type: ButtonTypes.SECONDARY, size: ButtonSizes.SMALL, onClick: onCancelEdit }, stringSet.BUTTON__CANCEL),\n            React__default.createElement(Button, { className: \"sendbird-message-input--edit-action__save\", type: ButtonTypes.PRIMARY, size: ButtonSizes.SMALL, disabled: isEditDisabled, onClick: function () { return editMessage(); } }, stringSet.BUTTON__SAVE)))));\n});\n\nexport { MessageInput as default };\n//# sourceMappingURL=MessageInput.js.map\n", "var MessageInputKeys = {\n    Enter: 'Enter',\n    ArrowUp: 'ArrowUp',\n    ArrowDown: 'ArrowDown',\n    Backspace: 'Backspace',\n};\nvar NodeTypes = {\n    ElementNode: 1,\n    TextNode: 3,\n};\nvar NodeNames = {\n    Span: 'SPAN',\n    Br: 'BR',\n    Div: 'DIV',\n};\n\nexport { MessageInputKeys as M, NodeTypes as N, NodeNames as a };\n//# sourceMappingURL=bundle-DcNHBjGp.js.map\n", "import { useCallback } from 'react';\nimport DOMPurify from 'dompurify';\nimport { a as NodeNames, N as NodeTypes } from './bundle-DcNHBjGp.js';\nimport { U as USER_MENTION_TEMP_CHAR } from './bundle-DHJZgVZH.js';\nimport { c as __spreadArray } from './bundle-B1SLZ0HT.js';\nimport { M as MENTION_USER_LABEL_CLASSNAME } from './bundle-i2i0G-ml.js';\nimport { T as TEXT_MESSAGE_BODY_CLASSNAME } from './bundle-BVBoUWl2.js';\nimport { O as OG_MESSAGE_BODY_CLASSNAME } from './bundle-fSuFm2tD.js';\n\nfunction renderToString(_a) {\n    var userId = _a.userId, nickname = _a.nickname;\n    // donot change this template, it wont work\n    var el = \"<span data-userid=\\\"\".concat(userId, \"\\\" data-sb-mention=\\\"true\\\" class=\\\"\").concat(MENTION_USER_LABEL_CLASSNAME, \"\\\">\").concat(nickname, \"</span>\");\n    var purifier = DOMPurify(window);\n    var sanitized_ = purifier.sanitize(el);\n    var token = sanitized_.split(' ');\n    var spanTag = token[0], rest = token.slice(1);\n    // we do this because DOMPurify removes the contenteditable attribute\n    var sanitized = __spreadArray([spanTag, 'contenteditable=\"false\"'], rest, true).join(' ');\n    return sanitized;\n}\n\nvar sanitizeString = function (str) {\n    return str === null || str === void 0 ? void 0 : str.replace(/[\\u00A0-\\u9999<>]/gim, function (i) { return ''.concat('&#', String(i.charCodeAt(0)), ';'); });\n};\n/**\n * NodeList cannot be used with Array methods\n * @param {NodeListOf<ChildNode>} childNodes\n * @returns Array of child nodes\n */\nvar nodeListToArray = function (childNodes) {\n    return childNodes ? Array.from(childNodes) : [];\n};\nfunction isChannelTypeSupportsMultipleFilesMessage(channel) {\n    var _a;\n    return channel && ((_a = channel.isGroupChannel) === null || _a === void 0 ? void 0 : _a.call(channel)) && !channel.isBroadcast && !channel.isSuper;\n}\n// Type guard: This function ensures that the node contains `innerText` and `dataset` properties\nfunction isHTMLElement(node) {\n    return node.nodeType === NodeTypes.ElementNode;\n}\n// eslint-disable-next-line no-undef\nfunction extractTextAndMentions(childNodes) {\n    var messageText = '';\n    var mentionTemplate = '';\n    childNodes.forEach(function (node) {\n        if (isHTMLElement(node) && node.nodeName === NodeNames.Span) {\n            var innerText = node.innerText, _a = node.dataset, dataset = _a === void 0 ? {} : _a;\n            var _b = dataset.userid, userid = _b === void 0 ? '' : _b;\n            messageText += innerText;\n            mentionTemplate += \"\".concat(USER_MENTION_TEMP_CHAR, \"{\").concat(userid, \"}\");\n        }\n        else if (isHTMLElement(node) && node.nodeName === NodeNames.Br) {\n            messageText += '\\n';\n            mentionTemplate += '\\n';\n        }\n        else if (isHTMLElement(node) && node.nodeName === NodeNames.Div) {\n            var _c = node.textContent, textContent = _c === void 0 ? '' : _c;\n            messageText += \"\\n\".concat(textContent);\n            mentionTemplate += \"\\n\".concat(textContent);\n        }\n        else {\n            var _d = node.textContent, textContent = _d === void 0 ? '' : _d;\n            messageText += textContent;\n            mentionTemplate += textContent;\n        }\n    });\n    return { messageText: messageText, mentionTemplate: mentionTemplate };\n}\n\nfunction inserTemplateToDOM(templateList) {\n    var nodes = templateList.map(function (template) {\n        var text = template.text, userId = template.userId;\n        if (userId) {\n            return renderToString({ userId: userId, nickname: text });\n        }\n        return sanitizeString(text);\n    })\n        .join(' ')\n        // add a space at the end of the mention, else cursor/caret wont work\n        .concat(' ');\n    document.execCommand('insertHTML', false, nodes);\n}\n\nvar PASTE_NODE = 'sendbird-uikit__paste-node';\nvar TEXT_MESSAGE_CLASS = 'sendbird-word';\nvar MENTION_CLASS = 'sendbird-word__mention';\nvar MENTION_CLASS_IN_INPUT = 'sendbird-mention-user-label';\nvar MENTION_CLASS_COMBINED_QUERY = \".\".concat(MENTION_CLASS, \", .\").concat(MENTION_CLASS_IN_INPUT);\n\nfunction querySelectorIncludingSelf(master, selector) {\n    var result = __spreadArray([\n        master\n    ], Array.from(master.querySelectorAll(selector)), true).find(function (el) { return el.matches(selector); });\n    return result;\n}\n// Pasted dom node can be OG_MESSAGE or partial message or full message\n// full messsage would have TEXT_MESSAGE_BODY_CLASSNAME and have childNodes\n// partial message would not have TEXT_MESSAGE_BODY_CLASSNAME\nfunction getLeafNodes(master) {\n    // og message\n    var ogMessage = querySelectorIncludingSelf(master, \".\".concat(OG_MESSAGE_BODY_CLASSNAME));\n    if (ogMessage) {\n        return nodeListToArray(ogMessage.childNodes);\n    }\n    var textMessageBody = querySelectorIncludingSelf(master, \".\".concat(TEXT_MESSAGE_BODY_CLASSNAME));\n    if (textMessageBody) {\n        return nodeListToArray(textMessageBody.childNodes);\n    }\n    return nodeListToArray(master.childNodes);\n}\nfunction createPasteNode() {\n    var pasteNode = document.body.querySelector(\"#\".concat(PASTE_NODE));\n    // remove existing paste node\n    if (pasteNode) {\n        pasteNode === null || pasteNode === void 0 ? void 0 : pasteNode.remove();\n    }\n    // create new paste node and return\n    var node = document.createElement('div');\n    node.id = PASTE_NODE;\n    node.style.display = 'none';\n    return node;\n}\nfunction hasMention(parent) {\n    return (parent === null || parent === void 0 ? void 0 : parent.querySelector(MENTION_CLASS_COMBINED_QUERY)) ? true : false;\n}\nvar extractTextFromNodes = function (nodes) {\n    var text = '';\n    nodes.forEach(function (node) {\n        // to preserve space between words\n        var textNodes = node.querySelectorAll(\".\".concat(TEXT_MESSAGE_CLASS));\n        if (textNodes.length > 0) {\n            text += ((extractTextFromNodes(Array.from(textNodes))) + ' ');\n        }\n        text += (node.innerText + ' ');\n    });\n    return text;\n};\nfunction domToMessageTemplate(nodeArray) {\n    var templates = nodeArray === null || nodeArray === void 0 ? void 0 : nodeArray.reduce(function (accumulator, currentValue) {\n        var _a, _b;\n        // currentValue can be node(from messageBody or messageInput) or text\n        var mentionNode;\n        // this looks awkward, but it is a fallback to set default text\n        var text = currentValue === null || currentValue === void 0 ? void 0 : currentValue.innerText;\n        // if text node, set text\n        if (currentValue instanceof Text) {\n            mentionNode = false;\n            text = (_a = currentValue.textContent) !== null && _a !== void 0 ? _a : '';\n        }\n        if (currentValue instanceof HTMLElement) {\n            mentionNode = (currentValue.classList.contains(MENTION_CLASS) || currentValue.classList.contains(MENTION_CLASS_IN_INPUT))\n                ? currentValue\n                : currentValue.querySelector(MENTION_CLASS_COMBINED_QUERY);\n        }\n        // if mentionNode is not null, it is a mention\n        if (mentionNode) {\n            var text_1 = currentValue === null || currentValue === void 0 ? void 0 : currentValue.innerText;\n            var userId = (_b = mentionNode.dataset) === null || _b === void 0 ? void 0 : _b.userid;\n            return __spreadArray(__spreadArray([], accumulator, true), [\n                {\n                    text: text_1,\n                    userId: userId,\n                },\n            ], false);\n        }\n        return __spreadArray(__spreadArray([], accumulator, true), [\n            {\n                text: text,\n            },\n        ], false);\n    }, []);\n    return templates;\n}\nfunction getUsersFromWords(templates, channel) {\n    var userMap = {};\n    var users = channel.members;\n    templates.forEach(function (template) {\n        if (template.userId) {\n            var mentionedMember = users.find(function (user) { return user.userId === template.userId; });\n            // Object.values would return array-> [undefined] if the user is not in the channel\n            if (mentionedMember) {\n                userMap[template.userId] = mentionedMember;\n            }\n        }\n    });\n    return Object.values(userMap);\n}\n\n// exported, should be backward compatible\n// conditions to test:\n// 1. paste simple text\n// 2. paste text with mention\n// 3. paste text with mention and text\n// 4. paste text with mention and text and paste again before and after\n// 5. copy message with mention(only one mention, no other text) and paste\n// 6. copy message with mention from input and paste(before and after)\nfunction usePaste(_a) {\n    var ref = _a.ref, setIsInput = _a.setIsInput, setHeight = _a.setHeight, channel = _a.channel, setMentionedUsers = _a.setMentionedUsers;\n    return useCallback(function (e) {\n        e.preventDefault();\n        var html = e.clipboardData.getData('text/html');\n        // simple text, continue as normal\n        if (!html) {\n            var text = e.clipboardData.getData('text') || getURIListText(e);\n            document.execCommand('insertHTML', false, sanitizeString(text));\n            setIsInput(true);\n            setHeight();\n            return;\n        }\n        // has html, check if there are mentions, sanitize and insert\n        var purifier = DOMPurify(window);\n        var clean = purifier.sanitize(html);\n        var pasteNode = createPasteNode();\n        if (pasteNode) {\n            pasteNode.innerHTML = clean;\n            // does not have mention, continue as normal\n            if (!hasMention(pasteNode)) {\n                // to preserve space between words\n                var text = extractTextFromNodes(Array.from(pasteNode.children));\n                document.execCommand('insertHTML', false, sanitizeString(text));\n                pasteNode.remove();\n                setIsInput(true);\n                setHeight();\n                return;\n            }\n            // has mention, collect leaf nodes and parse words\n            var leafNodes = getLeafNodes(pasteNode);\n            var words = domToMessageTemplate(leafNodes);\n            var mentionedUsers = channel.isGroupChannel() ? getUsersFromWords(words, channel) : [];\n            // side effects\n            setMentionedUsers(mentionedUsers);\n            inserTemplateToDOM(words);\n            pasteNode.remove();\n        }\n        setIsInput(true);\n        setHeight();\n    }, [ref, setIsInput, setHeight, channel, setMentionedUsers]);\n}\n// https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#dragging_links\nfunction getURIListText(e) {\n    var pasteData = e.clipboardData.getData('text/uri-list');\n    if (pasteData.length === 0)\n        return '';\n    return pasteData\n        .split('\\n')\n        .reduce(function (accumulator, line) {\n        var txt = line.trim();\n        if (txt !== '' && !txt.startsWith('#')) {\n            accumulator += txt + '\\n';\n        }\n        return accumulator;\n    }, '');\n}\n\nexport { extractTextAndMentions as e, isChannelTypeSupportsMultipleFilesMessage as i, nodeListToArray as n, renderToString as r, sanitizeString as s, usePaste as u };\n//# sourceMappingURL=bundle-BGQ77Eco.js.map\n", "const {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n} = Object;\n\nlet { freeze, seal, create } = Object; // eslint-disable-line import/no-mutable-exports\nlet { apply, construct } = typeof Reflect !== 'undefined' && Reflect;\n\nif (!freeze) {\n  freeze = function (x) {\n    return x;\n  };\n}\n\nif (!seal) {\n  seal = function (x) {\n    return x;\n  };\n}\n\nif (!apply) {\n  apply = function (fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\n\nif (!construct) {\n  construct = function (Func, args) {\n    return new Func(...args);\n  };\n}\n\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayIndexOf = unapply(Array.prototype.indexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySlice = unapply(Array.prototype.slice);\n\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\n\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\n\nconst regExpTest = unapply(RegExp.prototype.test);\n\nconst typeErrorCreate = unconstruct(TypeError);\n\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param {Function} func - The function to be wrapped and called.\n * @returns {Function} A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return (thisArg, ...args) => apply(func, thisArg, args);\n}\n\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param {Function} func - The constructor function to be wrapped and called.\n * @returns {Function} A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return (...args) => construct(func, args);\n}\n\n/**\n * Add properties to a lookup table\n *\n * @param {Object} set - The set to which elements will be added.\n * @param {Array} array - The array containing elements to be added to the set.\n * @param {Function} transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns {Object} The modified set with added elements.\n */\nfunction addToSet(set, array, transformCaseFunc = stringToLowerCase) {\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n\n        element = lcElement;\n      }\n    }\n\n    set[element] = true;\n  }\n\n  return set;\n}\n\n/**\n * Clean up an array to harden against CSPP\n *\n * @param {Array} array - The array to be cleaned.\n * @returns {Array} The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n\n  return array;\n}\n\n/**\n * Shallow clone an object\n *\n * @param {Object} object - The object to be cloned.\n * @returns {Object} A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (\n        value &&\n        typeof value === 'object' &&\n        value.constructor === Object\n      ) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n\n  return newObject;\n}\n\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param {Object} object - The object to look up the getter function in its prototype chain.\n * @param {String} prop - The property name for which to find the getter function.\n * @returns {Function} The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n\n    object = getPrototypeOf(object);\n  }\n\n  function fallbackValue() {\n    return null;\n  }\n\n  return fallbackValue;\n}\n\nexport {\n  // Array\n  arrayForEach,\n  arrayIndexOf,\n  arrayPop,\n  arrayPush,\n  arraySlice,\n  // Object\n  entries,\n  freeze,\n  getPrototypeOf,\n  getOwnPropertyDescriptor,\n  isFrozen,\n  setPrototypeOf,\n  seal,\n  clone,\n  create,\n  objectHasOwnProperty,\n  // RegExp\n  regExpTest,\n  // String\n  stringIndexOf,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringTrim,\n  // Errors\n  typeErrorCreate,\n  // Other\n  lookupGetter,\n  addToSet,\n  // Reflect\n  unapply,\n  unconstruct,\n};\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'a',\n  'abbr',\n  'acronym',\n  'address',\n  'area',\n  'article',\n  'aside',\n  'audio',\n  'b',\n  'bdi',\n  'bdo',\n  'big',\n  'blink',\n  'blockquote',\n  'body',\n  'br',\n  'button',\n  'canvas',\n  'caption',\n  'center',\n  'cite',\n  'code',\n  'col',\n  'colgroup',\n  'content',\n  'data',\n  'datalist',\n  'dd',\n  'decorator',\n  'del',\n  'details',\n  'dfn',\n  'dialog',\n  'dir',\n  'div',\n  'dl',\n  'dt',\n  'element',\n  'em',\n  'fieldset',\n  'figcaption',\n  'figure',\n  'font',\n  'footer',\n  'form',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'head',\n  'header',\n  'hgroup',\n  'hr',\n  'html',\n  'i',\n  'img',\n  'input',\n  'ins',\n  'kbd',\n  'label',\n  'legend',\n  'li',\n  'main',\n  'map',\n  'mark',\n  'marquee',\n  'menu',\n  'menuitem',\n  'meter',\n  'nav',\n  'nobr',\n  'ol',\n  'optgroup',\n  'option',\n  'output',\n  'p',\n  'picture',\n  'pre',\n  'progress',\n  'q',\n  'rp',\n  'rt',\n  'ruby',\n  's',\n  'samp',\n  'section',\n  'select',\n  'shadow',\n  'small',\n  'source',\n  'spacer',\n  'span',\n  'strike',\n  'strong',\n  'style',\n  'sub',\n  'summary',\n  'sup',\n  'table',\n  'tbody',\n  'td',\n  'template',\n  'textarea',\n  'tfoot',\n  'th',\n  'thead',\n  'time',\n  'tr',\n  'track',\n  'tt',\n  'u',\n  'ul',\n  'var',\n  'video',\n  'wbr',\n]);\n\n// SVG\nexport const svg = freeze([\n  'svg',\n  'a',\n  'altglyph',\n  'altglyphdef',\n  'altglyphitem',\n  'animatecolor',\n  'animatemotion',\n  'animatetransform',\n  'circle',\n  'clippath',\n  'defs',\n  'desc',\n  'ellipse',\n  'filter',\n  'font',\n  'g',\n  'glyph',\n  'glyphref',\n  'hkern',\n  'image',\n  'line',\n  'lineargradient',\n  'marker',\n  'mask',\n  'metadata',\n  'mpath',\n  'path',\n  'pattern',\n  'polygon',\n  'polyline',\n  'radialgradient',\n  'rect',\n  'stop',\n  'style',\n  'switch',\n  'symbol',\n  'text',\n  'textpath',\n  'title',\n  'tref',\n  'tspan',\n  'view',\n  'vkern',\n]);\n\nexport const svgFilters = freeze([\n  'feBlend',\n  'feColorMatrix',\n  'feComponentTransfer',\n  'feComposite',\n  'feConvolveMatrix',\n  'feDiffuseLighting',\n  'feDisplacementMap',\n  'feDistantLight',\n  'feDropShadow',\n  'feFlood',\n  'feFuncA',\n  'feFuncB',\n  'feFuncG',\n  'feFuncR',\n  'feGaussianBlur',\n  'feImage',\n  'feMerge',\n  'feMergeNode',\n  'feMorphology',\n  'feOffset',\n  'fePointLight',\n  'feSpecularLighting',\n  'feSpotLight',\n  'feTile',\n  'feTurbulence',\n]);\n\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nexport const svgDisallowed = freeze([\n  'animate',\n  'color-profile',\n  'cursor',\n  'discard',\n  'font-face',\n  'font-face-format',\n  'font-face-name',\n  'font-face-src',\n  'font-face-uri',\n  'foreignobject',\n  'hatch',\n  'hatchpath',\n  'mesh',\n  'meshgradient',\n  'meshpatch',\n  'meshrow',\n  'missing-glyph',\n  'script',\n  'set',\n  'solidcolor',\n  'unknown',\n  'use',\n]);\n\nexport const mathMl = freeze([\n  'math',\n  'menclose',\n  'merror',\n  'mfenced',\n  'mfrac',\n  'mglyph',\n  'mi',\n  'mlabeledtr',\n  'mmultiscripts',\n  'mn',\n  'mo',\n  'mover',\n  'mpadded',\n  'mphantom',\n  'mroot',\n  'mrow',\n  'ms',\n  'mspace',\n  'msqrt',\n  'mstyle',\n  'msub',\n  'msup',\n  'msubsup',\n  'mtable',\n  'mtd',\n  'mtext',\n  'mtr',\n  'munder',\n  'munderover',\n  'mprescripts',\n]);\n\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nexport const mathMlDisallowed = freeze([\n  'maction',\n  'maligngroup',\n  'malignmark',\n  'mlongdiv',\n  'mscarries',\n  'mscarry',\n  'msgroup',\n  'mstack',\n  'msline',\n  'msrow',\n  'semantics',\n  'annotation',\n  'annotation-xml',\n  'mprescripts',\n  'none',\n]);\n\nexport const text = freeze(['#text']);\n", "import { freeze } from './utils.js';\n\nexport const html = freeze([\n  'accept',\n  'action',\n  'align',\n  'alt',\n  'autocapitalize',\n  'autocomplete',\n  'autopictureinpicture',\n  'autoplay',\n  'background',\n  'bgcolor',\n  'border',\n  'capture',\n  'cellpadding',\n  'cellspacing',\n  'checked',\n  'cite',\n  'class',\n  'clear',\n  'color',\n  'cols',\n  'colspan',\n  'controls',\n  'controlslist',\n  'coords',\n  'crossorigin',\n  'datetime',\n  'decoding',\n  'default',\n  'dir',\n  'disabled',\n  'disablepictureinpicture',\n  'disableremoteplayback',\n  'download',\n  'draggable',\n  'enctype',\n  'enterkeyhint',\n  'face',\n  'for',\n  'headers',\n  'height',\n  'hidden',\n  'high',\n  'href',\n  'hreflang',\n  'id',\n  'inputmode',\n  'integrity',\n  'ismap',\n  'kind',\n  'label',\n  'lang',\n  'list',\n  'loading',\n  'loop',\n  'low',\n  'max',\n  'maxlength',\n  'media',\n  'method',\n  'min',\n  'minlength',\n  'multiple',\n  'muted',\n  'name',\n  'nonce',\n  'noshade',\n  'novalidate',\n  'nowrap',\n  'open',\n  'optimum',\n  'pattern',\n  'placeholder',\n  'playsinline',\n  'popover',\n  'popovertarget',\n  'popovertargetaction',\n  'poster',\n  'preload',\n  'pubdate',\n  'radiogroup',\n  'readonly',\n  'rel',\n  'required',\n  'rev',\n  'reversed',\n  'role',\n  'rows',\n  'rowspan',\n  'spellcheck',\n  'scope',\n  'selected',\n  'shape',\n  'size',\n  'sizes',\n  'span',\n  'srclang',\n  'start',\n  'src',\n  'srcset',\n  'step',\n  'style',\n  'summary',\n  'tabindex',\n  'title',\n  'translate',\n  'type',\n  'usemap',\n  'valign',\n  'value',\n  'width',\n  'wrap',\n  'xmlns',\n  'slot',\n]);\n\nexport const svg = freeze([\n  'accent-height',\n  'accumulate',\n  'additive',\n  'alignment-baseline',\n  'ascent',\n  'attributename',\n  'attributetype',\n  'azimuth',\n  'basefrequency',\n  'baseline-shift',\n  'begin',\n  'bias',\n  'by',\n  'class',\n  'clip',\n  'clippathunits',\n  'clip-path',\n  'clip-rule',\n  'color',\n  'color-interpolation',\n  'color-interpolation-filters',\n  'color-profile',\n  'color-rendering',\n  'cx',\n  'cy',\n  'd',\n  'dx',\n  'dy',\n  'diffuseconstant',\n  'direction',\n  'display',\n  'divisor',\n  'dur',\n  'edgemode',\n  'elevation',\n  'end',\n  'fill',\n  'fill-opacity',\n  'fill-rule',\n  'filter',\n  'filterunits',\n  'flood-color',\n  'flood-opacity',\n  'font-family',\n  'font-size',\n  'font-size-adjust',\n  'font-stretch',\n  'font-style',\n  'font-variant',\n  'font-weight',\n  'fx',\n  'fy',\n  'g1',\n  'g2',\n  'glyph-name',\n  'glyphref',\n  'gradientunits',\n  'gradienttransform',\n  'height',\n  'href',\n  'id',\n  'image-rendering',\n  'in',\n  'in2',\n  'k',\n  'k1',\n  'k2',\n  'k3',\n  'k4',\n  'kerning',\n  'keypoints',\n  'keysplines',\n  'keytimes',\n  'lang',\n  'lengthadjust',\n  'letter-spacing',\n  'kernelmatrix',\n  'kernelunitlength',\n  'lighting-color',\n  'local',\n  'marker-end',\n  'marker-mid',\n  'marker-start',\n  'markerheight',\n  'markerunits',\n  'markerwidth',\n  'maskcontentunits',\n  'maskunits',\n  'max',\n  'mask',\n  'media',\n  'method',\n  'mode',\n  'min',\n  'name',\n  'numoctaves',\n  'offset',\n  'operator',\n  'opacity',\n  'order',\n  'orient',\n  'orientation',\n  'origin',\n  'overflow',\n  'paint-order',\n  'path',\n  'pathlength',\n  'patterncontentunits',\n  'patterntransform',\n  'patternunits',\n  'points',\n  'preservealpha',\n  'preserveaspectratio',\n  'primitiveunits',\n  'r',\n  'rx',\n  'ry',\n  'radius',\n  'refx',\n  'refy',\n  'repeatcount',\n  'repeatdur',\n  'restart',\n  'result',\n  'rotate',\n  'scale',\n  'seed',\n  'shape-rendering',\n  'specularconstant',\n  'specularexponent',\n  'spreadmethod',\n  'startoffset',\n  'stddeviation',\n  'stitchtiles',\n  'stop-color',\n  'stop-opacity',\n  'stroke-dasharray',\n  'stroke-dashoffset',\n  'stroke-linecap',\n  'stroke-linejoin',\n  'stroke-miterlimit',\n  'stroke-opacity',\n  'stroke',\n  'stroke-width',\n  'style',\n  'surfacescale',\n  'systemlanguage',\n  'tabindex',\n  'targetx',\n  'targety',\n  'transform',\n  'transform-origin',\n  'text-anchor',\n  'text-decoration',\n  'text-rendering',\n  'textlength',\n  'type',\n  'u1',\n  'u2',\n  'unicode',\n  'values',\n  'viewbox',\n  'visibility',\n  'version',\n  'vert-adv-y',\n  'vert-origin-x',\n  'vert-origin-y',\n  'width',\n  'word-spacing',\n  'wrap',\n  'writing-mode',\n  'xchannelselector',\n  'ychannelselector',\n  'x',\n  'x1',\n  'x2',\n  'xmlns',\n  'y',\n  'y1',\n  'y2',\n  'z',\n  'zoomandpan',\n]);\n\nexport const mathMl = freeze([\n  'accent',\n  'accentunder',\n  'align',\n  'bevelled',\n  'close',\n  'columnsalign',\n  'columnlines',\n  'columnspan',\n  'denomalign',\n  'depth',\n  'dir',\n  'display',\n  'displaystyle',\n  'encoding',\n  'fence',\n  'frame',\n  'height',\n  'href',\n  'id',\n  'largeop',\n  'length',\n  'linethickness',\n  'lspace',\n  'lquote',\n  'mathbackground',\n  'mathcolor',\n  'mathsize',\n  'mathvariant',\n  'maxsize',\n  'minsize',\n  'movablelimits',\n  'notation',\n  'numalign',\n  'open',\n  'rowalign',\n  'rowlines',\n  'rowspacing',\n  'rowspan',\n  'rspace',\n  'rquote',\n  'scriptlevel',\n  'scriptminsize',\n  'scriptsizemultiplier',\n  'selection',\n  'separator',\n  'separators',\n  'stretchy',\n  'subscriptshift',\n  'supscriptshift',\n  'symmetric',\n  'voffset',\n  'width',\n  'xmlns',\n]);\n\nexport const xml = freeze([\n  'xlink:href',\n  'xml:id',\n  'xlink:title',\n  'xml:space',\n  'xmlns:xlink',\n]);\n", "import { seal } from './utils.js';\n\n// eslint-disable-next-line unicorn/better-regex\nexport const MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nexport const ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nexport const TMPLIT_EXPR = seal(/\\${[\\w\\W]*}/gm);\nexport const DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]/); // eslint-disable-line no-useless-escape\nexport const ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nexport const IS_ALLOWED_URI = seal(\n  /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nexport const IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nexport const ATTR_WHITESPACE = seal(\n  /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nexport const DOCTYPE_NAME = seal(/^html$/i);\nexport const CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n", "import * as TAGS from './tags.js';\nimport * as ATTRS from './attrs.js';\nimport * as EXPRESSIONS from './regexp.js';\nimport {\n  addToSet,\n  clone,\n  entries,\n  freeze,\n  arrayForEach,\n  arrayPop,\n  arrayPush,\n  stringMatch,\n  stringReplace,\n  stringToLowerCase,\n  stringToString,\n  stringIndexOf,\n  stringTrim,\n  regExpTest,\n  typeErrorCreate,\n  lookupGetter,\n  create,\n  objectHasOwnProperty,\n} from './utils.js';\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5, // Deprecated\n  entityNode: 6, // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12, // Deprecated\n};\n\nconst getGlobal = function () {\n  return typeof window === 'undefined' ? null : window;\n};\n\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param {TrustedTypePolicyFactory} trustedTypes The policy factory.\n * @param {HTMLScriptElement} purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return {TrustedTypePolicy} The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function (trustedTypes, purifyHostElement) {\n  if (\n    typeof trustedTypes !== 'object' ||\n    typeof trustedTypes.createPolicy !== 'function'\n  ) {\n    return null;\n  }\n\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      },\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn(\n      'TrustedTypes policy ' + policyName + ' could not be created.'\n    );\n    return null;\n  }\n};\n\nfunction createDOMPurify(window = getGlobal()) {\n  const DOMPurify = (root) => createDOMPurify(root);\n\n  /**\n   * Version label, exposed for easier checks\n   * if DOMPurify is up to date or not\n   */\n  DOMPurify.version = VERSION;\n\n  /**\n   * Array of elements that DOMPurify removed during sanitation.\n   * Empty if nothing was removed.\n   */\n  DOMPurify.removed = [];\n\n  if (\n    !window ||\n    !window.document ||\n    window.document.nodeType !== NODE_TYPE.document\n  ) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n\n    return DOMPurify;\n  }\n\n  let { document } = window;\n\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes,\n  } = window;\n\n  const ElementPrototype = Element.prototype;\n\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName,\n  } = document;\n  const { importNode } = originalDocument;\n\n  let hooks = {};\n\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported =\n    typeof entries === 'function' &&\n    typeof getParentNode === 'function' &&\n    implementation &&\n    implementation.createHTMLDocument !== undefined;\n\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT,\n  } = EXPRESSIONS;\n\n  let { IS_ALLOWED_URI } = EXPRESSIONS;\n\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [\n    ...TAGS.html,\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.mathMl,\n    ...TAGS.text,\n  ]);\n\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [\n    ...ATTRS.html,\n    ...ATTRS.svg,\n    ...ATTRS.mathMl,\n    ...ATTRS.xml,\n  ]);\n\n  /*\n   * Configure how DOMPUrify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(\n    create(null, {\n      tagNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      attributeNameCheck: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: null,\n      },\n      allowCustomizedBuiltInElements: {\n        writable: true,\n        configurable: false,\n        enumerable: true,\n        value: false,\n      },\n    })\n  );\n\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (§7.3.3)\n   *   - DOM Tree Accessors (§3.1.5)\n   *   - Form Element Parent-Child Relations (§4.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (§4.8.5)\n   *   - HTMLCollection (§4.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, [\n    'annotation-xml',\n    'audio',\n    'colgroup',\n    'desc',\n    'foreignobject',\n    'head',\n    'iframe',\n    'math',\n    'mi',\n    'mn',\n    'mo',\n    'ms',\n    'mtext',\n    'noembed',\n    'noframes',\n    'noscript',\n    'plaintext',\n    'script',\n    'style',\n    'svg',\n    'template',\n    'thead',\n    'title',\n    'video',\n    'xmp',\n  ]);\n\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, [\n    'audio',\n    'video',\n    'img',\n    'source',\n    'image',\n    'track',\n  ]);\n\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, [\n    'alt',\n    'class',\n    'for',\n    'id',\n    'label',\n    'name',\n    'pattern',\n    'placeholder',\n    'role',\n    'summary',\n    'title',\n    'value',\n    'style',\n    'xmlns',\n  ]);\n\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet(\n    {},\n    [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE],\n    stringToString\n  );\n\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n\n  const formElement = document.createElement('form');\n\n  const isRegexOrFunction = function (testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n\n  /**\n   * _parseConfig\n   *\n   * @param  {Object} cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function (cfg = {}) {\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n\n    PARSER_MEDIA_TYPE =\n      // eslint-disable-next-line unicorn/prefer-includes\n      SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1\n        ? DEFAULT_PARSER_MEDIA_TYPE\n        : cfg.PARSER_MEDIA_TYPE;\n\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc =\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml'\n        ? stringToString\n        : stringToLowerCase;\n\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS')\n      ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc)\n      : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR')\n      ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc)\n      : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES')\n      ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString)\n      : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR')\n      ? addToSet(\n          clone(DEFAULT_URI_SAFE_ATTRIBUTES), // eslint-disable-line indent\n          cfg.ADD_URI_SAFE_ATTR, // eslint-disable-line indent\n          transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n      : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS')\n      ? addToSet(\n          clone(DEFAULT_DATA_URI_TAGS), // eslint-disable-line indent\n          cfg.ADD_DATA_URI_TAGS, // eslint-disable-line indent\n          transformCaseFunc // eslint-disable-line indent\n        ) // eslint-disable-line indent\n      : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS')\n      ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc)\n      : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS')\n      ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc)\n      : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR')\n      ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc)\n      : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES')\n      ? cfg.USE_PROFILES\n      : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI = cfg.ALLOWED_URI_REGEXP || EXPRESSIONS.IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)\n    ) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck =\n        cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n\n    if (\n      cfg.CUSTOM_ELEMENT_HANDLING &&\n      typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements ===\n        'boolean'\n    ) {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements =\n        cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, TAGS.text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, TAGS.html);\n        addToSet(ALLOWED_ATTR, ATTRS.html);\n      }\n\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, TAGS.svgFilters);\n        addToSet(ALLOWED_ATTR, ATTRS.svg);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, TAGS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.mathMl);\n        addToSet(ALLOWED_ATTR, ATTRS.xml);\n      }\n    }\n\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.'\n        );\n      }\n\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate(\n          'TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.'\n        );\n      }\n\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(\n          trustedTypes,\n          currentScript\n        );\n      }\n\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n\n    CONFIG = cfg;\n  };\n\n  const MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, [\n    'mi',\n    'mo',\n    'mn',\n    'ms',\n    'mtext',\n  ]);\n\n  const HTML_INTEGRATION_POINTS = addToSet({}, [\n    'foreignobject',\n    'annotation-xml',\n  ]);\n\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, [\n    'title',\n    'style',\n    'font',\n    'a',\n    'script',\n  ]);\n\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [\n    ...TAGS.svg,\n    ...TAGS.svgFilters,\n    ...TAGS.svgDisallowed,\n  ]);\n  const ALL_MATHML_TAGS = addToSet({}, [\n    ...TAGS.mathMl,\n    ...TAGS.mathMlDisallowed,\n  ]);\n\n  /**\n   * @param  {Element} element a DOM element whose namespace is being checked\n   * @returns {boolean} Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function (element) {\n    let parent = getParentNode(element);\n\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template',\n      };\n    }\n\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return (\n          tagName === 'svg' &&\n          (parentTagName === 'annotation-xml' ||\n            MATHML_TEXT_INTEGRATION_POINTS[parentTagName])\n        );\n      }\n\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (\n        parent.namespaceURI === SVG_NAMESPACE &&\n        !HTML_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      if (\n        parent.namespaceURI === MATHML_NAMESPACE &&\n        !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]\n      ) {\n        return false;\n      }\n\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return (\n        !ALL_MATHML_TAGS[tagName] &&\n        (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName])\n      );\n    }\n\n    // For XHTML and XML documents that support custom namespaces\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      ALLOWED_NAMESPACES[element.namespaceURI]\n    ) {\n      return true;\n    }\n\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n\n  /**\n   * _forceRemove\n   *\n   * @param  {Node} node a DOM node\n   */\n  const _forceRemove = function (node) {\n    arrayPush(DOMPurify.removed, { element: node });\n\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n\n  /**\n   * _removeAttribute\n   *\n   * @param  {String} name an Attribute name\n   * @param  {Node} node a DOM node\n   */\n  const _removeAttribute = function (name, node) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: node.getAttributeNode(name),\n        from: node,\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: node,\n      });\n    }\n\n    node.removeAttribute(name);\n\n    // We void attribute values for unremovable \"is\"\" attributes\n    if (name === 'is' && !ALLOWED_ATTR[name]) {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(node);\n        } catch (_) {}\n      } else {\n        try {\n          node.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n\n  /**\n   * _initDocument\n   *\n   * @param  {String} dirty a string of dirty markup\n   * @return {Document} a DOM, filled with the dirty markup\n   */\n  const _initDocument = function (dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n\n    if (\n      PARSER_MEDIA_TYPE === 'application/xhtml+xml' &&\n      NAMESPACE === HTML_NAMESPACE\n    ) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty =\n        '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' +\n        dirty +\n        '</body></html>';\n    }\n\n    const dirtyPayload = trustedTypesPolicy\n      ? trustedTypesPolicy.createHTML(dirty)\n      : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT\n          ? emptyHTML\n          : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n\n    const body = doc.body || doc.documentElement;\n\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(\n        document.createTextNode(leadingWhitespace),\n        body.childNodes[0] || null\n      );\n    }\n\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(\n        doc,\n        WHOLE_DOCUMENT ? 'html' : 'body'\n      )[0];\n    }\n\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param  {Node} root The root element or node to start traversing on.\n   * @return {NodeIterator} The created NodeIterator\n   */\n  const _createNodeIterator = function (root) {\n    return createNodeIterator.call(\n      root.ownerDocument || root,\n      root,\n      // eslint-disable-next-line no-bitwise\n      NodeFilter.SHOW_ELEMENT |\n        NodeFilter.SHOW_COMMENT |\n        NodeFilter.SHOW_TEXT |\n        NodeFilter.SHOW_PROCESSING_INSTRUCTION |\n        NodeFilter.SHOW_CDATA_SECTION,\n      null\n    );\n  };\n\n  /**\n   * _isClobbered\n   *\n   * @param  {Node} elm element to check for clobbering attacks\n   * @return {Boolean} true if clobbered, false if safe\n   */\n  const _isClobbered = function (elm) {\n    return (\n      elm instanceof HTMLFormElement &&\n      (typeof elm.nodeName !== 'string' ||\n        typeof elm.textContent !== 'string' ||\n        typeof elm.removeChild !== 'function' ||\n        !(elm.attributes instanceof NamedNodeMap) ||\n        typeof elm.removeAttribute !== 'function' ||\n        typeof elm.setAttribute !== 'function' ||\n        typeof elm.namespaceURI !== 'string' ||\n        typeof elm.insertBefore !== 'function' ||\n        typeof elm.hasChildNodes !== 'function')\n    );\n  };\n\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param  {Node} object object to check whether it's a DOM node\n   * @return {Boolean} true is object is a DOM node\n   */\n  const _isNode = function (object) {\n    return typeof Node === 'function' && object instanceof Node;\n  };\n\n  /**\n   * _executeHook\n   * Execute user configurable hooks\n   *\n   * @param  {String} entryPoint  Name of the hook's entry point\n   * @param  {Node} currentNode node to work on with the hook\n   * @param  {Object} data additional hook parameters\n   */\n  const _executeHook = function (entryPoint, currentNode, data) {\n    if (!hooks[entryPoint]) {\n      return;\n    }\n\n    arrayForEach(hooks[entryPoint], (hook) => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  };\n\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   *\n   * @param   {Node} currentNode to check for permission to exist\n   * @return  {Boolean} true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function (currentNode) {\n    let content = null;\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeElements', currentNode, null);\n\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n\n    /* Execute a hook if present */\n    _executeHook('uponSanitizeElement', currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS,\n    });\n\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (\n      currentNode.hasChildNodes() &&\n      !_isNode(currentNode.firstElementChild) &&\n      regExpTest(/<[/\\w]/g, currentNode.innerHTML) &&\n      regExpTest(/<[/\\w]/g, currentNode.textContent)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove any kind of possibly harmful comments */\n    if (\n      SAFE_FOR_XML &&\n      currentNode.nodeType === NODE_TYPE.comment &&\n      regExpTest(/<[/\\w]/g, currentNode.data)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n          regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)\n        ) {\n          return false;\n        }\n\n        if (\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n          CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)\n        ) {\n          return false;\n        }\n      }\n\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if (\n      (tagName === 'noscript' ||\n        tagName === 'noembed' ||\n        tagName === 'noframes') &&\n      regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)\n    ) {\n      _forceRemove(currentNode);\n      return true;\n    }\n\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        content = stringReplace(content, expr, ' ');\n      });\n\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, { element: currentNode.cloneNode() });\n        currentNode.textContent = content;\n      }\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeElements', currentNode, null);\n\n    return false;\n  };\n\n  /**\n   * _isValidAttribute\n   *\n   * @param  {string} lcTag Lowercase tag name of containing element.\n   * @param  {string} lcName Lowercase attribute name.\n   * @param  {string} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function (lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (\n      SANITIZE_DOM &&\n      (lcName === 'id' || lcName === 'name') &&\n      (value in document || value in formElement)\n    ) {\n      return false;\n    }\n\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (\n      ALLOW_DATA_ATTR &&\n      !FORBID_ATTR[lcName] &&\n      regExpTest(DATA_ATTR, lcName)\n    ) {\n      // This attribute is safe\n    } else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) {\n      // This attribute is safe\n      /* Otherwise, check the name is permitted */\n    } else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n        // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n        // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n        (_isBasicCustomElement(lcTag) &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))) &&\n          ((CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName)) ||\n            (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)))) ||\n        // Alternative, second condition checks if it's an `is`-attribute, AND\n        // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n        (lcName === 'is' &&\n          CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements &&\n          ((CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp &&\n            regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value)) ||\n            (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function &&\n              CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))\n      ) {\n        // If user has supplied a regexp or function in CUSTOM_ELEMENT_HANDLING.tagNameCheck, we need to also allow derived custom elements using the same tagName test.\n        // Additionally, we need to allow attributes passing the CUSTOM_ELEMENT_HANDLING.attributeNameCheck user has configured, as custom elements can define these at their own discretion.\n      } else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) {\n      // This attribute is safe\n      /* Check no script, data or unknown possibly unsafe URI\n        unless we know URI values are safe for that attribute */\n    } else if (\n      regExpTest(IS_ALLOWED_URI, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Keep image data URIs alive if src/xlink:href is allowed */\n      /* Further prevent gadget XSS for dynamically built script tags */\n    } else if (\n      (lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') &&\n      lcTag !== 'script' &&\n      stringIndexOf(value, 'data:') === 0 &&\n      DATA_URI_TAGS[lcTag]\n    ) {\n      // This attribute is safe\n      /* Allow unknown protocols: This provides support for links that\n        are handled by protocol handlers which may be unknown ahead of\n        time, e.g. fb:, spotify: */\n    } else if (\n      ALLOW_UNKNOWN_PROTOCOLS &&\n      !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))\n    ) {\n      // This attribute is safe\n      /* Check for binary attributes */\n    } else if (value) {\n      return false;\n    } else {\n      // Binary attributes are safe at this point\n      /* Anything else, presume unsafe, do not add it back */\n    }\n\n    return true;\n  };\n\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param {string} tagName name of the tag of the node to sanitize\n   * @returns {boolean} Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function (tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param  {Node} currentNode to sanitize\n   */\n  const _sanitizeAttributes = function (currentNode) {\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeAttributes', currentNode, null);\n\n    const { attributes } = currentNode;\n\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes) {\n      return;\n    }\n\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n    };\n    let l = attributes.length;\n\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const { name, namespaceURI, value: attrValue } = attr;\n      const lcName = transformCaseFunc(name);\n\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHook('uponSanitizeAttribute', currentNode, hookEvent);\n      value = hookEvent.attrValue;\n\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n\n      /* Handle attributes that require Trusted Types */\n      if (\n        trustedTypesPolicy &&\n        typeof trustedTypes === 'object' &&\n        typeof trustedTypes.getAttributeType === 'function'\n      ) {\n        if (namespaceURI) {\n          /* Namespaces are not yet supported, see https://bugs.chromium.org/p/chromium/issues/detail?id=1305293 */\n        } else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML': {\n              value = trustedTypesPolicy.createHTML(value);\n              break;\n            }\n\n            case 'TrustedScriptURL': {\n              value = trustedTypesPolicy.createScriptURL(value);\n              break;\n            }\n\n            default: {\n              break;\n            }\n          }\n        }\n      }\n\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeAttributes', currentNode, null);\n  };\n\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param  {DocumentFragment} fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function (fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n\n    /* Execute a hook if present */\n    _executeHook('beforeSanitizeShadowDOM', fragment, null);\n\n    while ((shadowNode = shadowIterator.nextNode())) {\n      /* Execute a hook if present */\n      _executeHook('uponSanitizeShadowNode', shadowNode, null);\n\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(shadowNode)) {\n        continue;\n      }\n\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(shadowNode);\n    }\n\n    /* Execute a hook if present */\n    _executeHook('afterSanitizeShadowDOM', fragment, null);\n  };\n\n  /**\n   * Sanitize\n   * Public method providing core sanitation functionality\n   *\n   * @param {String|Node} dirty string or DOM node\n   * @param {Object} cfg object\n   */\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty, cfg = {}) {\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate(\n            'root node is forbidden and cannot be sanitized in-place'\n          );\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (\n        importedNode.nodeType === NODE_TYPE.element &&\n        importedNode.nodeName === 'BODY'\n      ) {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (\n        !RETURN_DOM &&\n        !SAFE_FOR_TEMPLATES &&\n        !WHOLE_DOCUMENT &&\n        // eslint-disable-next-line unicorn/prefer-includes\n        dirty.indexOf('<') === -1\n      ) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n          ? trustedTypesPolicy.createHTML(dirty)\n          : dirty;\n      }\n\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n\n    /* Now start iterating over the created document */\n    while ((currentNode = nodeIterator.nextNode())) {\n      /* Sanitize tags and elements */\n      if (_sanitizeElements(currentNode)) {\n        continue;\n      }\n\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n\n      /* Check attributes, sanitize if necessary */\n      _sanitizeAttributes(currentNode);\n    }\n\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n\n      return returnNode;\n    }\n\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n\n    /* Serialize doctype if allowed */\n    if (\n      WHOLE_DOCUMENT &&\n      ALLOWED_TAGS['!doctype'] &&\n      body.ownerDocument &&\n      body.ownerDocument.doctype &&\n      body.ownerDocument.doctype.name &&\n      regExpTest(EXPRESSIONS.DOCTYPE_NAME, body.ownerDocument.doctype.name)\n    ) {\n      serializedHTML =\n        '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], (expr) => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE\n      ? trustedTypesPolicy.createHTML(serializedHTML)\n      : serializedHTML;\n  };\n\n  /**\n   * Public method to set the configuration once\n   * setConfig\n   *\n   * @param {Object} cfg configuration object\n   */\n  DOMPurify.setConfig = function (cfg = {}) {\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n\n  /**\n   * Public method to remove the configuration\n   * clearConfig\n   *\n   */\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n\n  /**\n   * Public method to check if an attribute value is valid.\n   * Uses last set config, if any. Otherwise, uses config defaults.\n   * isValidAttribute\n   *\n   * @param  {String} tag Tag name of containing element.\n   * @param  {String} attr Attribute name.\n   * @param  {String} value Attribute value.\n   * @return {Boolean} Returns true if `value` is valid. Otherwise, returns false.\n   */\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n\n  /**\n   * AddHook\n   * Public method to add DOMPurify hooks\n   *\n   * @param {String} entryPoint entry point for the hook to add\n   * @param {Function} hookFunction function to execute\n   */\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n\n    hooks[entryPoint] = hooks[entryPoint] || [];\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n\n  /**\n   * RemoveHook\n   * Public method to remove a DOMPurify hook at a given entryPoint\n   * (pops it from the stack of hooks if more are present)\n   *\n   * @param {String} entryPoint entry point for the hook to remove\n   * @return {Function} removed(popped) hook\n   */\n  DOMPurify.removeHook = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      return arrayPop(hooks[entryPoint]);\n    }\n  };\n\n  /**\n   * RemoveHooks\n   * Public method to remove all DOMPurify hooks at a given entryPoint\n   *\n   * @param  {String} entryPoint entry point for the hooks to remove\n   */\n  DOMPurify.removeHooks = function (entryPoint) {\n    if (hooks[entryPoint]) {\n      hooks[entryPoint] = [];\n    }\n  };\n\n  /**\n   * RemoveAllHooks\n   * Public method to remove all DOMPurify hooks\n   */\n  DOMPurify.removeAllHooks = function () {\n    hooks = {};\n  };\n\n  return DOMPurify;\n}\n\nexport default createDOMPurify();\n", "var TEXT_MESSAGE_BODY_CLASSNAME = 'sendbird-text-message-item-body';\n\nexport { TEXT_MESSAGE_BODY_CLASSNAME as T };\n//# sourceMappingURL=bundle-BVBoUWl2.js.map\n", "var OG_MESSAGE_BODY_CLASSNAME = 'sendbird-og-message-item-body__text-bubble';\n\nexport { OG_MESSAGE_BODY_CLASSNAME as O };\n//# sourceMappingURL=bundle-fSuFm2tD.js.map\n", "import { c as __spreadArray } from './bundle-B1SLZ0HT.js';\n\nvar USER_MENTION_PREFIX = '@';\n\nvar TOKEN_TYPES = {\n    string: 'string',\n    mention: 'mention',\n    url: 'url',\n    undetermined: 'undetermined',\n    markdown: 'markdown',\n};\n\n/**\n * /\\[(.*?)\\]\\((.*?)\\) is for url.\n * /\\*\\*(.*?)\\*\\* for bold.\n */\nvar MarkdownRegex = /\\[(.*?)\\]\\((.*?)\\)|\\*\\*(.*?)\\*\\*/g;\nfunction getUserMentionRegex(mentionedUsers, templatePrefix_) {\n    var templatePrefix = templatePrefix_ || USER_MENTION_PREFIX;\n    return RegExp(\"(\".concat(mentionedUsers.map(function (u) {\n        var userId = u.userId.replace(\n        // If user.id includes these patterns, need to convert it into an escaped one\n        /([.*+?^${}()|[\\]\\\\])/g, '\\\\$1');\n        /**\n         * //{ And //} are also for escaping\n         * because curly braces `{}` are metacharacters in regular expressions used to specify repetition\n         */\n        return \"\".concat(templatePrefix, \"\\\\{\").concat(userId, \"\\\\}\");\n    }).join('|'), \")\"), 'g');\n}\nfunction identifyMentions(_a) {\n    var tokens = _a.tokens, _b = _a.mentionedUsers, mentionedUsers = _b === void 0 ? [] : _b, _c = _a.templatePrefix, templatePrefix = _c === void 0 ? USER_MENTION_PREFIX : _c;\n    if (!(mentionedUsers === null || mentionedUsers === void 0 ? void 0 : mentionedUsers.length)) {\n        return tokens;\n    }\n    var userMentionRegex = getUserMentionRegex(mentionedUsers, templatePrefix);\n    var results = tokens.map(function (token) {\n        // if the token is not undetermined, return it as is\n        // is kinda unnecessary with TS, but just in case\n        if (token.type !== TOKEN_TYPES.undetermined) {\n            return token;\n        }\n        var value = token.value;\n        var parts = value.split(userMentionRegex);\n        var tokens = parts.map(function (part) {\n            if (part.match(userMentionRegex)) {\n                var matchedUser = mentionedUsers.find(function (user) { return \"@{\".concat(user === null || user === void 0 ? void 0 : user.userId, \"}\") === part; });\n                var nickname = (matchedUser === null || matchedUser === void 0 ? void 0 : matchedUser.nickname) || '(No name)';\n                return { value: nickname, type: TOKEN_TYPES.mention, userId: matchedUser === null || matchedUser === void 0 ? void 0 : matchedUser.userId };\n            }\n            else {\n                return { value: part, type: TOKEN_TYPES.undetermined };\n            }\n        });\n        return tokens;\n    }).flat();\n    return results;\n}\nfunction identifyUrlsAndStrings(token) {\n    var URL_REG = /(?:https?:\\/\\/|www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.(xn--)?[a-z]{2,20}\\b([-a-zA-Z0-9@:%_+[\\],.~#?&/=]*[-a-zA-Z0-9@:%_+~#?&/=])*/g;\n    var results = token.map(function (token) {\n        if (token.type !== TOKEN_TYPES.undetermined) {\n            return token;\n        }\n        var _a = token.value, value = _a === void 0 ? '' : _a;\n        var matches = Array.from(value.matchAll(URL_REG));\n        var founds = matches.map(function (value) {\n            var _a;\n            var text = value[0];\n            var start = (_a = value.index) !== null && _a !== void 0 ? _a : 0;\n            var end = start + text.length;\n            return { text: text, start: start, end: end };\n        });\n        var items = [{ value: value, type: TOKEN_TYPES.string }];\n        var cursor = 0;\n        founds.forEach(function (_a) {\n            var text = _a.text, start = _a.start, end = _a.end;\n            var restText = items.pop().value;\n            var head = restText.slice(0, start - cursor);\n            var mid = text;\n            var tail = restText.slice(end - cursor);\n            if (head.length > 0)\n                items.push({ value: head, type: TOKEN_TYPES.string });\n            items.push({ value: mid, type: TOKEN_TYPES.url });\n            if (tail.length > 0)\n                items.push({ value: tail, type: TOKEN_TYPES.string });\n            cursor = end;\n        });\n        return items;\n    }).flat();\n    return results;\n}\n/**\n * For every string token in the given list of tokens, if the token contains markdowns, the token is split into\n * string tokens and markdown tokens in the original order.\n * Returns a new array tokens.\n * @param tokens\n */\nfunction splitTokensWithMarkdowns(tokens) {\n    var prevTokens = tokens;\n    var newTokens = [];\n    prevTokens.forEach(function (token) {\n        if (token.type === TOKEN_TYPES.mention || token.type === TOKEN_TYPES.markdown) {\n            newTokens.push(token);\n            return;\n        }\n        var rawStr = token.value;\n        // @ts-ignore\n        var matches = Array.from(rawStr.matchAll(MarkdownRegex));\n        var allMatches = matches.map(function (value) {\n            var _a;\n            var text = value[0];\n            var start = (_a = value.index) !== null && _a !== void 0 ? _a : 0;\n            var end = start + text.length;\n            return { text: text, start: start, end: end, groups: value.filter(function (val) { return typeof val === 'string'; }) };\n        });\n        var restText = rawStr;\n        var cursor = 0;\n        allMatches.forEach(function (_a) {\n            var text = _a.text, start = _a.start, end = _a.end, groups = _a.groups;\n            var left = {\n                type: TOKEN_TYPES.undetermined,\n                value: restText.slice(0, start - cursor),\n            };\n            newTokens.push(left);\n            var markdownType;\n            if (text.startsWith('[')) {\n                markdownType = 'url';\n            }\n            else if (text.startsWith('**')) {\n                markdownType = 'bold';\n            }\n            var mid = {\n                type: TOKEN_TYPES.markdown,\n                markdownType: markdownType,\n                value: text,\n                groups: groups,\n            };\n            newTokens.push(mid);\n            restText = rawStr.slice(end);\n            cursor = end;\n        });\n        if (restText) {\n            var right = {\n                type: TOKEN_TYPES.undetermined,\n                value: restText,\n            };\n            newTokens.push(right);\n        }\n    });\n    return newTokens;\n}\nfunction combineNearbyStrings(tokens) {\n    var results = tokens.reduce(function (acc, token) {\n        var lastToken = acc[acc.length - 1];\n        if ((lastToken === null || lastToken === void 0 ? void 0 : lastToken.type) === TOKEN_TYPES.string && token.type === TOKEN_TYPES.string) {\n            lastToken.value = \"\".concat(lastToken.value).concat(token.value);\n            return acc;\n        }\n        return __spreadArray(__spreadArray([], acc, true), [token], false);\n    }, []);\n    return results;\n}\n/**\n * Converts text into set of rich tokens\n */\nfunction tokenizeMessage(_a) {\n    var messageText = _a.messageText, _b = _a.mentionedUsers, mentionedUsers = _b === void 0 ? [] : _b, _c = _a.templatePrefix, templatePrefix = _c === void 0 ? USER_MENTION_PREFIX : _c, _d = _a.includeMarkdown, includeMarkdown = _d === void 0 ? false : _d;\n    // mention can be squeezed-in(no-space-between) with other mentions and urls\n    // if no users are mentioned, return the messageText as a single token\n    var partialResult = [{\n            type: TOKEN_TYPES.undetermined,\n            value: messageText,\n        }];\n    // order is important because we want to identify mentions first\n    // identifyMentions will return a token with type mention or undetermined\n    var partialWithMentions = identifyMentions({\n        tokens: partialResult,\n        mentionedUsers: mentionedUsers,\n        templatePrefix: templatePrefix,\n    });\n    var partialsWithUrlsAndMentions = identifyUrlsAndStrings(includeMarkdown\n        ? splitTokensWithMarkdowns(partialWithMentions)\n        : partialWithMentions);\n    var result = combineNearbyStrings(partialsWithUrlsAndMentions);\n    return result;\n}\nfunction tokenizeMarkdown(_a) {\n    var messageText = _a.messageText;\n    var partialResult = [{\n            type: TOKEN_TYPES.undetermined,\n            value: messageText,\n        }];\n    var result = combineNearbyStrings(splitTokensWithMarkdowns(partialResult));\n    return result;\n}\n/**\n * Don't need to use this util in DOM element since the white spaces will be kept as is,\n * but will need if the text is wrapped \\w React.Fragement or </>\n * @link https://sendbird.slack.com/archives/GPGHESTL3/p1681180484341369\n * Or!!! -> convert any space or tab in leading/trailing to nbsp\n * to preserve the leading & trailing white spaces\n */\nfunction getWhiteSpacePreservedText(text) {\n    var NON_BREAKING_SPACE = '\\u00A0';\n    // Split the input string into lines\n    var lines = text.split('\\n');\n    // Process each line and convert leading and trailing white spaces to \"\\u00A0\"\n    var processedLines = lines.map(function (line) {\n        var _a, _b;\n        var leadingWhitespace = ((_a = line.match(/^\\s*/)) === null || _a === void 0 ? void 0 : _a[0]) || '';\n        var trailingWhitespace = ((_b = line.match(/\\s*$/)) === null || _b === void 0 ? void 0 : _b[0]) || '';\n        var convertedLeadingWhitespace = leadingWhitespace.replace(/ /g, NON_BREAKING_SPACE);\n        var convertedTrailingWhitespace = trailingWhitespace.replace(/ /g, NON_BREAKING_SPACE);\n        return convertedLeadingWhitespace + line.trim() + convertedTrailingWhitespace;\n    });\n    // Combine the processed lines into a new string with \"\\n\"\n    var result = processedLines.join('\\n');\n    return result;\n}\n\nexport { TOKEN_TYPES as T, USER_MENTION_PREFIX as U, tokenizeMarkdown as a, getWhiteSpacePreservedText as g, tokenizeMessage as t };\n//# sourceMappingURL=bundle-DtlqJEe7.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useContext, useState, useMemo } from 'react';\nimport { f as format } from '../chunks/bundle-C6F1gIgq.js';\nimport { M as MessageStatus } from '../chunks/bundle-j0SR3DhQ.js';\nimport { M as MessageMenu } from '../chunks/bundle-B6Uh5m2a.js';\nimport { C as ContextMenu, b as MenuItems, d as MENU_ROOT_ID, E as EMOJI_MENU_ROOT_ID, g as getObservingId, e as MENU_OBSERVING_CLASS_NAME } from '../chunks/bundle-C7VSBUKJ.js';\nimport { c as classnames, d as deleteNullish, n as noop } from '../chunks/bundle-CtBgdgkK.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { MessageEmojiMenu } from './MessageItemReactionMenu.js';\nimport EmojiReactions from './EmojiReactions.js';\nimport AdminMessage from './AdminMessage.js';\nimport QuoteMessage from './QuoteMessage.js';\nimport { k as isSendableMessage, n as getUIKitMessageTypes, K, C as isTemplateMessage, M as isOGMessage, N as isTextMessage, m as getUIKitMessageType, c as isMultipleFilesMessage, i as isVoiceMessage, p as isThumbnailMessage, e as getSenderName, O as getMessageContentMiddleClassNameByContainerType, P as isAdminMessage, w as getClassName, Q as UI_CONTAINER_TYPES } from '../chunks/bundle-D-cVbGxk.js';\nimport { u as useLocalization, L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { EmojiContainer } from '@sendbird/chat';\nimport { FeedbackRating, Feedback } from '@sendbird/chat/message';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { MobileMenu } from './MobileMenu.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport ThreadReplies from './ThreadReplies.js';\nimport { T as ThreadReplySelectType } from '../chunks/bundle-DHJZgVZH.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport UserProfile from './UserProfile.js';\nimport { a as UserProfileContext } from '../chunks/bundle-BKxPk2t0.js';\nimport OGMessageItemBody from './OGMessageItemBody.js';\nimport TextMessageItemBody from './TextMessageItemBody.js';\nimport FileMessageItemBody from './FileMessageItemBody.js';\nimport { u as useThreadMessageKindKeySelector, a as useFileInfoListWithUploaded, M as MultipleFilesMessageItemBody } from '../chunks/bundle-Bt68jirZ.js';\nimport { VoiceMessageItemBody } from './VoiceMessageItemBody.js';\nimport ThumbnailMessageItemBody from './ThumbnailMessageItemBody.js';\nimport UnknownMessageItemBody from './UnknownMessageItemBody.js';\nimport { TemplateMessageItemBody } from './TemplateMessageItemBody.js';\nimport Icon, { IconTypes } from './Icon.js';\nimport FeedbackIconButton from './FeedbackIconButton.js';\nimport MobileFeedbackMenu from './MobileFeedbackMenu.js';\nimport MessageFeedbackModal from './MessageFeedbackModal.js';\nimport MessageFeedbackFailedModal from './MessageFeedbackFailedModal.js';\nimport { u as useElementObserver } from '../chunks/bundle-CbMF1uDu.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport './Loader.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-BxrZduJE.js';\nimport '../chunks/bundle-q_YvxT21.js';\nimport './IconButton.js';\nimport 'react-dom';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport './ImageRenderer.js';\nimport './ReactionButton.js';\nimport '@sendbird/chat/groupChannel';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport './ReactionBadge.js';\nimport './BottomSheet.js';\nimport '../chunks/bundle-Bh6KfMRl.js';\nimport './Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport './UserListItem.js';\nimport './MutedAvatarOverlay.js';\nimport './Checkbox.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport './Tooltip.js';\nimport './TooltipWrapper.js';\nimport '../Message/context.js';\nimport '../chunks/bundle-uSSYB2TA.js';\nimport '../chunks/bundle-CfsHVenu.js';\nimport '../chunks/bundle-NWVriOUB.js';\nimport '../chunks/bundle-DtlqJEe7.js';\nimport './MentionLabel.js';\nimport './LinkLabel.js';\nimport '../chunks/bundle-fSuFm2tD.js';\nimport '../chunks/bundle-BVBoUWl2.js';\nimport './TextButton.js';\nimport '../chunks/bundle-CTaD4y3Q.js';\nimport './FileViewer.js';\nimport '../chunks/bundle-DTOg7Xzt.js';\nimport './ProgressBar.js';\nimport '../VoicePlayer/useVoicePlayer.js';\nimport './PlaybackTime.js';\nimport '../chunks/bundle-CbTjJHLv.js';\nimport './FallbackTemplateMessageItemBody.tsx.js';\nimport './LoadingTemplateMessageItemBody.tsx.js';\nimport './Input.js';\n\nfunction MessageProfile(props) {\n    var message = props.message, channel = props.channel, userId = props.userId, _a = props.chainBottom, chainBottom = _a === void 0 ? false : _a, isByMe = props.isByMe, displayThreadReplies = props.displayThreadReplies, bottom = props.bottom;\n    var avatarRef = useRef(null);\n    var _b = useContext(UserProfileContext), disableUserProfile = _b.disableUserProfile, renderUserProfile = _b.renderUserProfile;\n    if (isByMe || chainBottom || !isSendableMessage(message)) {\n        return null;\n    }\n    return (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) {\n            var _a, _b;\n            return (React__default.createElement(Avatar, { className: classnames('sendbird-message-content__left__avatar', displayThreadReplies && 'use-thread-replies'), src: ((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === message.sender.userId; })) === null || _b === void 0 ? void 0 : _b.profileUrl)\n                    || message.sender.profileUrl\n                    || '', \n                // TODO: Divide getting profileUrl logic to utils\n                ref: avatarRef, width: \"28px\", height: \"28px\", bottom: bottom, onClick: function () {\n                    if (!disableUserProfile)\n                        toggleDropdown();\n                } }));\n        }, menuItems: function (closeDropdown) { return (renderUserProfile ? (renderUserProfile({\n            user: message.sender,\n            close: closeDropdown,\n            currentUserId: userId,\n            avatarRef: avatarRef,\n        })) : (React__default.createElement(MenuItems\n        /**\n         * parentRef: For catching location(x, y) of MenuItems\n         * parentContainRef: For toggling more options(menus & reactions)\n        */\n        , { \n            /**\n             * parentRef: For catching location(x, y) of MenuItems\n             * parentContainRef: For toggling more options(menus & reactions)\n            */\n            parentRef: avatarRef, parentContainRef: avatarRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n            React__default.createElement(UserProfile, { user: message.sender, onSuccess: closeDropdown })))); } }));\n}\n\nvar MESSAGE_ITEM_BODY_CLASSNAME = 'sendbird-message-content__middle__message-item-body';\nfunction MessageBody(props) {\n    var message = props.message, channel = props.channel, showFileViewer = props.showFileViewer, onMessageHeightChange = props.onMessageHeightChange, onTemplateMessageRenderedCallback = props.onTemplateMessageRenderedCallback, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage, mouseHover = props.mouseHover, isMobile = props.isMobile, config = props.config, isReactionEnabledInChannel = props.isReactionEnabledInChannel, isByMe = props.isByMe;\n    var threadMessageKindKey = useThreadMessageKindKeySelector({\n        isMobile: isMobile,\n    });\n    var statefulFileInfoList = useFileInfoListWithUploaded(message); // For MultipleFilesMessage.\n    var messageTypes = getUIKitMessageTypes();\n    var isOgMessageEnabledInGroupChannel = (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && config.groupChannel.enableOgtag;\n    return K(message)\n        .when(isTemplateMessage, function () { return (React__default.createElement(TemplateMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, theme: config === null || config === void 0 ? void 0 : config.theme, onTemplateMessageRenderedCallback: onTemplateMessageRenderedCallback })); })\n        .when(function (message) { return isOgMessageEnabledInGroupChannel\n        && isSendableMessage(message)\n        && isOGMessage(message); }, function () {\n        var _a;\n        return (React__default.createElement(OGMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, mouseHover: mouseHover, isMentionEnabled: (_a = config.groupChannel.enableMention) !== null && _a !== void 0 ? _a : false, isReactionEnabled: isReactionEnabledInChannel, onMessageHeightChange: onMessageHeightChange, isMarkdownEnabled: config.groupChannel.enableMarkdownForUserMessage }));\n    })\n        .when(isTextMessage, function () {\n        var _a;\n        return (React__default.createElement(TextMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, mouseHover: mouseHover, isMentionEnabled: (_a = config.groupChannel.enableMention) !== null && _a !== void 0 ? _a : false, isReactionEnabled: isReactionEnabledInChannel, isMarkdownEnabled: config.groupChannel.enableMarkdownForUserMessage }));\n    })\n        .when(function (message) { return getUIKitMessageType(message) === messageTypes.FILE; }, function () { return (React__default.createElement(FileMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })); })\n        .when(isMultipleFilesMessage, function () { return (React__default.createElement(MultipleFilesMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel, threadMessageKindKey: threadMessageKindKey, statefulFileInfoList: statefulFileInfoList, onBeforeDownloadFileMessage: onBeforeDownloadFileMessage })); })\n        .when(isVoiceMessage, function () {\n        var _a;\n        return (React__default.createElement(VoiceMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, channelUrl: (_a = channel === null || channel === void 0 ? void 0 : channel.url) !== null && _a !== void 0 ? _a : '', isByMe: isByMe, isReactionEnabled: isReactionEnabledInChannel }));\n    })\n        .when(isThumbnailMessage, function () { return (React__default.createElement(ThumbnailMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel, showFileViewer: showFileViewer, style: isMobile ? { width: '100%' } : {} })); })\n        .otherwise(function (message) { return (React__default.createElement(UnknownMessageItemBody, { className: MESSAGE_ITEM_BODY_CLASSNAME, message: message, isByMe: isByMe, mouseHover: mouseHover, isReactionEnabled: isReactionEnabledInChannel })); });\n}\n\nfunction MessageHeader(props) {\n    var _a, _b;\n    var channel = props.channel, message = props.message;\n    return (React__default.createElement(Label, { className: \"sendbird-message-content__middle__sender-name\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, \n    /**\n     * To use the latest member profile information, message.sender might be outdated\n     */\n    ((_b = (_a = channel === null || channel === void 0 ? void 0 : channel.members) === null || _a === void 0 ? void 0 : _a.find(function (member) {\n        var _a;\n        // @ts-ignore\n        return (member === null || member === void 0 ? void 0 : member.userId) === ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId);\n    })) === null || _b === void 0 ? void 0 : _b.nickname) || getSenderName(message)\n    // TODO: Divide getting profileUrl logic to utils\n    ));\n}\n\nvar SbFeedbackStatus;\n(function (SbFeedbackStatus) {\n    /** Feedback is unavailable for this message. This is the default value for base message. */\n    SbFeedbackStatus[\"NOT_APPLICABLE\"] = \"NOT_APPLICABLE\";\n    /** Feedback can be set for this message, but nothing has been submitted yet. */\n    SbFeedbackStatus[\"NO_FEEDBACK\"] = \"NO_FEEDBACK\";\n    /** Feedback can be set for this message, and something has been submitted. */\n    SbFeedbackStatus[\"SUBMITTED\"] = \"SUBMITTED\";\n})(SbFeedbackStatus || (SbFeedbackStatus = {}));\n\nfunction MessageContent(props) {\n    var _this = this;\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q;\n    var \n    // Internal props\n    className = props.className, userId = props.userId, channel = props.channel, message = props.message, _r = props.disabled, disabled = _r === void 0 ? false : _r, _s = props.chainTop, chainTop = _s === void 0 ? false : _s, _t = props.chainBottom, chainBottom = _t === void 0 ? false : _t, _u = props.isReactionEnabled, isReactionEnabled = _u === void 0 ? false : _u, _v = props.disableQuoteMessage, disableQuoteMessage = _v === void 0 ? false : _v, replyType = props.replyType, threadReplySelectType = props.threadReplySelectType, nicknamesMap = props.nicknamesMap, emojiContainer = props.emojiContainer, scrollToMessage = props.scrollToMessage, showEdit = props.showEdit, showRemove = props.showRemove, showFileViewer = props.showFileViewer, resendMessage = props.resendMessage, deleteMessage = props.deleteMessage, toggleReaction = props.toggleReaction, setQuoteMessage = props.setQuoteMessage, onReplyInThread = props.onReplyInThread, onQuoteMessageClick = props.onQuoteMessageClick, onMessageHeightChange = props.onMessageHeightChange, onBeforeDownloadFileMessage = props.onBeforeDownloadFileMessage;\n    // Public props for customization\n    var _w = deleteNullish(props), _x = _w.renderSenderProfile, renderSenderProfile = _x === void 0 ? function (props) { return React__default.createElement(MessageProfile, __assign({}, props)); } : _x, _y = _w.renderMessageBody, renderMessageBody = _y === void 0 ? function (props) { return React__default.createElement(MessageBody, __assign({}, props)); } : _y, _z = _w.renderMessageHeader, renderMessageHeader = _z === void 0 ? function (props) { return React__default.createElement(MessageHeader, __assign({}, props)); } : _z, _0 = _w.renderMessageMenu, renderMessageMenu = _0 === void 0 ? function (props) { return React__default.createElement(MessageMenu, __assign({}, props)); } : _0, _1 = _w.renderEmojiMenu, renderEmojiMenu = _1 === void 0 ? function (props) { return React__default.createElement(MessageEmojiMenu, __assign({}, props)); } : _1, _2 = _w.renderEmojiReactions, renderEmojiReactions = _2 === void 0 ? function (props) { return React__default.createElement(EmojiReactions, __assign({}, props)); } : _2, _3 = _w.renderMobileMenuOnLongPress, renderMobileMenuOnLongPress = _3 === void 0 ? function (props) { return React__default.createElement(MobileMenu, __assign({}, props)); } : _3;\n    var dateLocale = useLocalization().dateLocale;\n    var _4 = useSendbirdStateContext(), config = _4.config, eventHandlers = _4.eventHandlers;\n    var logger = config.logger;\n    var onPressUserProfileHandler = (_a = eventHandlers === null || eventHandlers === void 0 ? void 0 : eventHandlers.reaction) === null || _a === void 0 ? void 0 : _a.onPressUserProfile;\n    var contentRef = useRef();\n    var timestampRef = useRef();\n    var threadRepliesRef = useRef();\n    var feedbackButtonsRef = useRef();\n    var isMobile = useMediaQueryContext().isMobile;\n    var _5 = useState(false), showMenu = _5[0], setShowMenu = _5[1];\n    var _6 = useState(false), mouseHover = _6[0], setMouseHover = _6[1];\n    var isMenuMounted = useElementObserver(\"#\".concat(getObservingId(message.messageId), \".\").concat(MENU_OBSERVING_CLASS_NAME), [\n        document.getElementById(MENU_ROOT_ID),\n        document.getElementById(EMOJI_MENU_ROOT_ID),\n    ]);\n    // Feedback states\n    var _7 = useState(false), showFeedbackOptionsMenu = _7[0], setShowFeedbackOptionsMenu = _7[1];\n    var _8 = useState(false), showFeedbackModal = _8[0], setShowFeedbackModal = _8[1];\n    var _9 = useState(''), feedbackFailedText = _9[0], setFeedbackFailedText = _9[1];\n    var _10 = useState(getMessageContentMiddleClassNameByContainerType({\n        message: message,\n        isMobile: isMobile,\n    })), uiContainerType = _10[0], setUiContainerType = _10[1];\n    var onTemplateMessageRenderedCallback = function (renderedTemplateType) {\n        if (renderedTemplateType === 'failed') {\n            setUiContainerType(UI_CONTAINER_TYPES.DEFAULT);\n        }\n        else if (renderedTemplateType === 'composite') {\n            /**\n             * Composite templates must have default carousel view irregardless of given containerType.\n             */\n            setUiContainerType(UI_CONTAINER_TYPES.DEFAULT_CAROUSEL);\n        }\n    };\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isByMe = (userId === ((_b = message === null || message === void 0 ? void 0 : message.sender) === null || _b === void 0 ? void 0 : _b.userId))\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'pending')\n        || ((message === null || message === void 0 ? void 0 : message.sendingStatus) === 'failed');\n    var isByMeClassName = isByMe ? 'outgoing' : 'incoming';\n    var chainTopClassName = chainTop ? 'chain-top' : '';\n    var isReactionEnabledInChannel = isReactionEnabled && !(channel === null || channel === void 0 ? void 0 : channel.isEphemeral);\n    var isReactionEnabledClassName = isReactionEnabledInChannel ? 'use-reactions' : '';\n    var hoveredMenuClassName = isMenuMounted ? 'sendbird-mouse-hover' : '';\n    var useReplying = !!((replyType === 'QUOTE_REPLY' || replyType === 'THREAD')\n        && (message === null || message === void 0 ? void 0 : message.parentMessageId) && (message === null || message === void 0 ? void 0 : message.parentMessage)\n        && !disableQuoteMessage);\n    var useReplyingClassName = useReplying ? 'use-quote' : '';\n    // Thread replies\n    var displayThreadReplies = ((_c = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _c === void 0 ? void 0 : _c.replyCount)\n        && message.threadInfo.replyCount > 0\n        && replyType === 'THREAD';\n    // Feedback buttons\n    var isFeedbackMessage = !isByMe\n        && !!(message === null || message === void 0 ? void 0 : message.myFeedbackStatus)\n        && message.myFeedbackStatus !== SbFeedbackStatus.NOT_APPLICABLE;\n    var isFeedbackEnabled = !!((_d = config === null || config === void 0 ? void 0 : config.groupChannel) === null || _d === void 0 ? void 0 : _d.enableFeedback) && isFeedbackMessage;\n    var hasFeedback = (_e = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _e === void 0 ? void 0 : _e.rating;\n    /**\n     * For TemplateMessage, do not display:\n     *   - in web view:\n     *     - message menu\n     *     - reaction menu\n     *     - reply in thread\n     *   - in mobile view:\n     *     - bottom sheet on long click\n     */\n    var isNotTemplateMessage = !isTemplateMessage(message);\n    var showLongPressMenu = isNotTemplateMessage && isMobile;\n    var showOutgoingMenu = isNotTemplateMessage && isByMe && !isMobile;\n    var showThreadReplies = isNotTemplateMessage && displayThreadReplies;\n    var showRightContent = isNotTemplateMessage && !isByMe && !isMobile;\n    var isTimestampBottom = !!uiContainerType;\n    var getTotalBottom = function () {\n        var sum = 2;\n        if (timestampRef.current && isTimestampBottom) {\n            sum += 4 + timestampRef.current.clientHeight;\n        }\n        if (threadRepliesRef.current) {\n            sum += 4 + threadRepliesRef.current.clientHeight;\n        }\n        if (feedbackButtonsRef.current) {\n            sum += 4 + feedbackButtonsRef.current.clientHeight;\n        }\n        return sum;\n    };\n    var totalBottom = useMemo(function () { return getTotalBottom(); }, [isTimestampBottom]);\n    var onCloseFeedbackForm = function () {\n        setShowFeedbackModal(false);\n    };\n    var openFeedbackFormOrMenu = function (hasFeedback) {\n        if (hasFeedback === void 0) { hasFeedback = false; }\n        if (isMobile && hasFeedback) {\n            setShowFeedbackOptionsMenu(true);\n        }\n        else {\n            setShowFeedbackModal(true);\n        }\n    };\n    // onMouseDown: (e: React.MouseEvent<T>) => void;\n    // onTouchStart: (e: React.TouchEvent<T>) => void;\n    // onMouseUp: (e: React.MouseEvent<T>) => void;\n    // onMouseLeave: (e: React.MouseEvent<T>) => void;\n    // onTouchEnd: (e: React.TouchEvent<T>) => void;\n    var longPress = useLongPress({\n        onLongPress: function () {\n            if (showLongPressMenu) {\n                setShowMenu(true);\n            }\n        },\n        onClick: noop,\n    }, {\n        delay: 300,\n        shouldPreventDefault: false,\n    });\n    if (isAdminMessage(message)) {\n        return (React__default.createElement(AdminMessage, { message: message }));\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            'sendbird-message-content',\n            isByMeClassName,\n            uiContainerType,\n        ]), onMouseOver: function () { return setMouseHover(true); }, onMouseLeave: function () { return setMouseHover(false); } },\n        React__default.createElement(\"div\", { className: classnames('sendbird-message-content__left', isReactionEnabledClassName, isByMeClassName, useReplyingClassName), \"data-testid\": \"sendbird-message-content__left\" },\n            renderSenderProfile(__assign(__assign({}, props), { isByMe: isByMe, displayThreadReplies: displayThreadReplies, bottom: totalBottom > 0 ? totalBottom + 'px' : '' })),\n            showOutgoingMenu && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content-menu', isReactionEnabledClassName, hoveredMenuClassName, isByMeClassName) },\n                renderMessageMenu({\n                    channel: channel,\n                    message: message,\n                    isByMe: isByMe,\n                    replyType: replyType,\n                    showEdit: showEdit,\n                    showRemove: showRemove,\n                    resendMessage: resendMessage,\n                    setQuoteMessage: setQuoteMessage,\n                    onReplyInThread: function (_a) {\n                        var _b, _c;\n                        var message = _a.message;\n                        if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                            onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message });\n                        }\n                        else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                            scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage((_c = (_b = message.parentMessage) === null || _b === void 0 ? void 0 : _b.createdAt) !== null && _c !== void 0 ? _c : 0, message.parentMessageId);\n                        }\n                    },\n                    deleteMessage: deleteMessage,\n                }),\n                isReactionEnabledInChannel && (renderEmojiMenu({\n                    message: message,\n                    userId: userId,\n                    emojiContainer: emojiContainer,\n                    toggleReaction: toggleReaction,\n                }))))),\n        React__default.createElement(\"div\", __assign({ className: classnames('sendbird-message-content__middle', isTemplateMessage(message) && 'sendbird-message-content__middle__for_template_message', uiContainerType), \"data-testid\": \"sendbird-message-content__middle\" }, (isMobile ? __assign({}, longPress) : {}), { ref: contentRef }),\n            !isByMe && !chainTop && !useReplying && renderMessageHeader(props),\n            (useReplying) ? (React__default.createElement(\"div\", { className: classnames('sendbird-message-content__middle__quote-message', isByMe ? 'outgoing' : 'incoming', useReplyingClassName), \"data-testid\": \"sendbird-message-content__middle__quote-message\" },\n                React__default.createElement(QuoteMessage, { className: \"sendbird-message-content__middle__quote-message__quote\", message: message, userId: userId, isByMe: isByMe, isUnavailable: ((_f = channel === null || channel === void 0 ? void 0 : channel.messageOffsetTimestamp) !== null && _f !== void 0 ? _f : 0) > ((_h = (_g = message.parentMessage) === null || _g === void 0 ? void 0 : _g.createdAt) !== null && _h !== void 0 ? _h : 0), onClick: function () {\n                        var _a;\n                        if (replyType === 'THREAD' && threadReplySelectType === ThreadReplySelectType.THREAD) {\n                            onQuoteMessageClick === null || onQuoteMessageClick === void 0 ? void 0 : onQuoteMessageClick({ message: message });\n                        }\n                        if ((replyType === 'QUOTE_REPLY' || (replyType === 'THREAD' && threadReplySelectType === ThreadReplySelectType.PARENT))\n                            && ((_a = message === null || message === void 0 ? void 0 : message.parentMessage) === null || _a === void 0 ? void 0 : _a.createdAt) && (message === null || message === void 0 ? void 0 : message.parentMessageId)) {\n                            scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage(message.parentMessage.createdAt, message.parentMessageId);\n                        }\n                    } }))) : null,\n            React__default.createElement(\"div\", { className: classnames('sendbird-message-content__middle__body-container', isTemplateMessage(message) && 'sendbird-message-content__middle__for_template_message') },\n                (isByMe && !chainBottom) && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content__middle__body-container__created-at', 'left', hoveredMenuClassName, uiContainerType), ref: timestampRef },\n                    React__default.createElement(\"div\", { className: \"sendbird-message-content__middle__body-container__created-at__component-container\" },\n                        React__default.createElement(MessageStatus, { message: message, channel: channel })))),\n                renderMessageBody({\n                    message: message,\n                    channel: channel,\n                    showFileViewer: showFileViewer,\n                    onMessageHeightChange: onMessageHeightChange,\n                    mouseHover: mouseHover,\n                    isMobile: isMobile,\n                    config: config,\n                    isReactionEnabledInChannel: isReactionEnabledInChannel,\n                    isByMe: isByMe,\n                    onTemplateMessageRenderedCallback: onTemplateMessageRenderedCallback,\n                    onBeforeDownloadFileMessage: onBeforeDownloadFileMessage,\n                }),\n                (isReactionEnabledInChannel && ((_j = message === null || message === void 0 ? void 0 : message.reactions) === null || _j === void 0 ? void 0 : _j.length) > 0) && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content-reactions', isMultipleFilesMessage(message) ? 'image-grid'\n                        : (isByMe && !isThumbnailMessage(message) && !isOGMessage(message)) && 'primary', mouseHover && 'mouse-hover') }, renderEmojiReactions({\n                    userId: userId,\n                    message: message,\n                    channel: channel,\n                    isByMe: isByMe,\n                    // @ts-ignore\n                    emojiContainer: emojiContainer !== null && emojiContainer !== void 0 ? emojiContainer : new EmojiContainer({}),\n                    memberNicknamesMap: nicknamesMap !== null && nicknamesMap !== void 0 ? nicknamesMap : new Map(),\n                    toggleReaction: toggleReaction,\n                    onPressUserProfile: onPressUserProfileHandler,\n                }))),\n                (!isByMe && !chainBottom) && (React__default.createElement(Label, { className: classnames('sendbird-message-content__middle__body-container__created-at', 'right', hoveredMenuClassName, uiContainerType), type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2, ref: timestampRef }, format((message === null || message === void 0 ? void 0 : message.createdAt) || 0, 'p', {\n                    locale: dateLocale,\n                })))),\n            isTimestampBottom && React__default.createElement(\"div\", { style: {\n                    width: '100%',\n                    height: ((_l = (_k = timestampRef.current) === null || _k === void 0 ? void 0 : _k.clientHeight) !== null && _l !== void 0 ? _l : 0) + 'px',\n                    marginTop: '4px',\n                } }),\n            showThreadReplies && (message === null || message === void 0 ? void 0 : message.threadInfo) && (React__default.createElement(ThreadReplies, { className: \"sendbird-message-content__middle__thread-replies\", threadInfo: message === null || message === void 0 ? void 0 : message.threadInfo, onClick: function () { return onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message }); }, ref: threadRepliesRef })),\n            isFeedbackEnabled && React__default.createElement(\"div\", { className: \"sendbird-message-content__middle__body-container__feedback-buttons-container\", ref: feedbackButtonsRef },\n                React__default.createElement(FeedbackIconButton, { isSelected: ((_m = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _m === void 0 ? void 0 : _m.rating) === FeedbackRating.GOOD, onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var error_1;\n                        var _a, _b;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    if (!!hasFeedback) return [3 /*break*/, 5];\n                                    _c.label = 1;\n                                case 1:\n                                    _c.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, message.submitFeedback({\n                                            rating: FeedbackRating.GOOD,\n                                        })];\n                                case 2:\n                                    _c.sent();\n                                    openFeedbackFormOrMenu();\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    error_1 = _c.sent();\n                                    (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Submit feedback failed.', error_1);\n                                    setFeedbackFailedText(stringSet.FEEDBACK_FAILED_SUBMIT);\n                                    return [3 /*break*/, 4];\n                                case 4: return [3 /*break*/, 6];\n                                case 5:\n                                    openFeedbackFormOrMenu(true);\n                                    _c.label = 6;\n                                case 6: return [2 /*return*/];\n                            }\n                        });\n                    }); }, disabled: !!(message === null || message === void 0 ? void 0 : message.myFeedback) && message.myFeedback.rating !== FeedbackRating.GOOD },\n                    React__default.createElement(Icon, { type: IconTypes.FEEDBACK_LIKE, width: '24px', height: '24px' })),\n                React__default.createElement(FeedbackIconButton, { isSelected: ((_o = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _o === void 0 ? void 0 : _o.rating) === FeedbackRating.BAD, onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                        var error_2;\n                        var _a, _b;\n                        return __generator(this, function (_c) {\n                            switch (_c.label) {\n                                case 0:\n                                    if (!!hasFeedback) return [3 /*break*/, 5];\n                                    _c.label = 1;\n                                case 1:\n                                    _c.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, message.submitFeedback({\n                                            rating: FeedbackRating.BAD,\n                                        })];\n                                case 2:\n                                    _c.sent();\n                                    openFeedbackFormOrMenu();\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    error_2 = _c.sent();\n                                    (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Submit feedback failed.', error_2);\n                                    setFeedbackFailedText(stringSet.FEEDBACK_FAILED_SUBMIT);\n                                    return [3 /*break*/, 4];\n                                case 4: return [3 /*break*/, 6];\n                                case 5:\n                                    openFeedbackFormOrMenu(true);\n                                    _c.label = 6;\n                                case 6: return [2 /*return*/];\n                            }\n                        });\n                    }); }, disabled: !!(message === null || message === void 0 ? void 0 : message.myFeedback) && message.myFeedback.rating !== FeedbackRating.BAD },\n                    React__default.createElement(Icon, { type: IconTypes.FEEDBACK_DISLIKE, width: '24px', height: '24px' })))),\n        showRightContent && (React__default.createElement(\"div\", { className: classnames('sendbird-message-content__right', chainTopClassName, isReactionEnabledClassName, useReplyingClassName), \"data-testid\": \"sendbird-message-content__right\" },\n            React__default.createElement(\"div\", { className: classnames('sendbird-message-content-menu', chainTopClassName, hoveredMenuClassName, isByMeClassName) },\n                isReactionEnabledInChannel && (renderEmojiMenu({\n                    className: 'sendbird-message-content-menu__reaction-menu',\n                    message: message,\n                    userId: userId,\n                    emojiContainer: emojiContainer,\n                    toggleReaction: toggleReaction,\n                })),\n                renderMessageMenu({\n                    className: 'sendbird-message-content-menu__normal-menu',\n                    channel: channel,\n                    message: message,\n                    isByMe: isByMe,\n                    replyType: replyType,\n                    showRemove: showRemove,\n                    resendMessage: resendMessage,\n                    setQuoteMessage: setQuoteMessage,\n                    onReplyInThread: function (_a) {\n                        var _b, _c;\n                        var message = _a.message;\n                        if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                            onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message });\n                        }\n                        else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                            scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage((_c = (_b = message.parentMessage) === null || _b === void 0 ? void 0 : _b.createdAt) !== null && _c !== void 0 ? _c : 0, message.parentMessageId);\n                        }\n                    },\n                    deleteMessage: deleteMessage,\n                })))),\n        showMenu && isSendableMessage(message) && channel && renderMobileMenuOnLongPress({\n            parentRef: contentRef,\n            channel: channel,\n            hideMenu: function () { setShowMenu(false); },\n            message: message,\n            isReactionEnabled: isReactionEnabledInChannel,\n            isByMe: isByMe,\n            userId: userId,\n            replyType: replyType,\n            disabled: disabled,\n            showRemove: showRemove,\n            emojiContainer: emojiContainer,\n            resendMessage: resendMessage,\n            deleteMessage: deleteMessage,\n            setQuoteMessage: setQuoteMessage,\n            toggleReaction: toggleReaction,\n            showEdit: showEdit,\n            onReplyInThread: function (_a) {\n                var _b;\n                var message = _a.message;\n                if (threadReplySelectType === ThreadReplySelectType.THREAD) {\n                    onReplyInThread === null || onReplyInThread === void 0 ? void 0 : onReplyInThread({ message: message });\n                }\n                else if (threadReplySelectType === ThreadReplySelectType.PARENT) {\n                    scrollToMessage === null || scrollToMessage === void 0 ? void 0 : scrollToMessage(((_b = message === null || message === void 0 ? void 0 : message.parentMessage) === null || _b === void 0 ? void 0 : _b.createdAt) || 0, (message === null || message === void 0 ? void 0 : message.parentMessageId) || 0);\n                }\n            },\n            onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage) {\n                                return [2 /*return*/];\n                            }\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'MessageContent: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'MessageContent: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); },\n        }),\n        ((_p = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _p === void 0 ? void 0 : _p.rating) && showFeedbackOptionsMenu && (React__default.createElement(MobileFeedbackMenu, { hideMenu: function () {\n                setShowFeedbackOptionsMenu(false);\n            }, onEditFeedback: function () {\n                setShowFeedbackOptionsMenu(false);\n                setShowFeedbackModal(true);\n            }, onRemoveFeedback: function () { return __awaiter(_this, void 0, void 0, function () {\n                var error_3;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _c.trys.push([0, 3, , 4]);\n                            if (!(message.myFeedback !== null)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, message.deleteFeedback(message.myFeedback.id)];\n                        case 1:\n                            _c.sent();\n                            _c.label = 2;\n                        case 2: return [3 /*break*/, 4];\n                        case 3:\n                            error_3 = _c.sent();\n                            (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Delete feedback failed.', error_3);\n                            setFeedbackFailedText(stringSet.FEEDBACK_FAILED_DELETE);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            setShowFeedbackOptionsMenu(false);\n                            return [2 /*return*/];\n                    }\n                });\n            }); } })),\n        ((_q = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _q === void 0 ? void 0 : _q.rating) && showFeedbackModal && (React__default.createElement(MessageFeedbackModal, { selectedFeedback: message.myFeedback.rating, message: message, onUpdate: function (selectedFeedback, comment) { return __awaiter(_this, void 0, void 0, function () {\n                var newFeedback, error_4;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!(message.myFeedback !== null)) return [3 /*break*/, 4];\n                            newFeedback = new Feedback({\n                                id: message.myFeedback.id,\n                                rating: selectedFeedback,\n                                comment: comment,\n                            });\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, message.updateFeedback(newFeedback)];\n                        case 2:\n                            _c.sent();\n                            return [3 /*break*/, 4];\n                        case 3:\n                            error_4 = _c.sent();\n                            (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Update feedback failed.', error_4);\n                            setFeedbackFailedText(stringSet.FEEDBACK_FAILED_SAVE);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            onCloseFeedbackForm();\n                            return [2 /*return*/];\n                    }\n                });\n            }); }, onClose: onCloseFeedbackForm, onRemove: function () { return __awaiter(_this, void 0, void 0, function () {\n                var error_5;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _c.trys.push([0, 3, , 4]);\n                            if (!(message.myFeedback !== null)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, message.deleteFeedback(message.myFeedback.id)];\n                        case 1:\n                            _c.sent();\n                            _c.label = 2;\n                        case 2: return [3 /*break*/, 4];\n                        case 3:\n                            error_5 = _c.sent();\n                            (_b = (_a = config === null || config === void 0 ? void 0 : config.logger) === null || _a === void 0 ? void 0 : _a.error) === null || _b === void 0 ? void 0 : _b.call(_a, 'Channel: Delete feedback failed.', error_5);\n                            setFeedbackFailedText(stringSet.FEEDBACK_FAILED_DELETE);\n                            return [3 /*break*/, 4];\n                        case 4:\n                            onCloseFeedbackForm();\n                            return [2 /*return*/];\n                    }\n                });\n            }); } })),\n        feedbackFailedText && (React__default.createElement(MessageFeedbackFailedModal, { text: feedbackFailedText, onCancel: function () {\n                setFeedbackFailedText('');\n            } }))));\n}\n\nexport { MessageContent as default };\n//# sourceMappingURL=MessageContent.js.map\n", "import React__default, { useRef, useState } from 'react';\nimport { n as noop, c as classnames } from './bundle-CtBgdgkK.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { u as useMessageMenuContext, a as MenuItem, M as MessageMenuProvider, b as MenuItems, g as getObservingId } from './bundle-C7VSBUKJ.js';\nimport { _ as __assign } from './bundle-B1SLZ0HT.js';\nimport IconButton from '../ui/IconButton.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { l as isUserMessage, A as copyToClipboard, v as isFailedMessage, q as isSentMessage, u as isPendingMessage } from './bundle-D-cVbGxk.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { Role } from '@sendbird/chat';\n\nvar TriggerIcon = function (_a) {\n    var ref = _a.ref, _b = _a.onClick, onClick = _b === void 0 ? noop : _b, _c = _a.onBlur, onBlur = _c === void 0 ? noop : _c, _d = _a.renderIcon, renderIcon = _d === void 0 ? function (props) { return React__default.createElement(Icon, __assign({}, props)); } : _d;\n    return (React__default.createElement(IconButton, { ref: ref, width: \"32px\", height: \"32px\", onClick: onClick, onBlur: onBlur }, renderIcon({\n        type: IconTypes.MORE,\n        fillColor: IconColors.CONTENT_INVERSE,\n        width: '24px',\n        height: '24px',\n    })));\n};\nvar CopyMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isUserMessage(message))\n                copyToClipboard(message.message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__COPY));\n};\nvar ReplyMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, setQuoteMessage = _b.setQuoteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: message.parentMessageId > 0, onClick: function (e) {\n            var _a;\n            setQuoteMessage(message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__REPLY));\n};\nvar ThreadMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, onReplyInThread = _b.onReplyInThread;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onReplyInThread({ message: message });\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__THREAD));\n};\nvar OpenInChannelMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, onMoveToParentMessage = _b.onMoveToParentMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onMoveToParentMessage();\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__OPEN_IN_CHANNEL));\n};\nvar EditMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, showEdit = _b.showEdit, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                showEdit(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__EDIT));\n};\nvar ResendMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, resendMessage = _b.resendMessage, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                resendMessage(message);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : stringSet.MESSAGE_MENU__RESEND));\n};\nvar DeleteMenuItem = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, deleteMessage = _d.deleteMessage, showRemove = _d.showRemove, isOnline = _d.isOnline, disableDeleteMessage = _d.disableDeleteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: typeof disableDeleteMessage === 'boolean'\n            ? disableDeleteMessage\n            : ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onClick: function (e) {\n            var _a;\n            if (isFailedMessage(message)) {\n                deleteMessage(message);\n            }\n            else if (isOnline) {\n                showRemove(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_c = props.children) !== null && _c !== void 0 ? _c : stringSet.MESSAGE_MENU__DELETE));\n};\n\nvar isReplyTypeMessageEnabled = function (_a) {\n    var _b;\n    var channel = _a.channel, message = _a.message;\n    if (isFailedMessage(message) || isPendingMessage(message)) {\n        return false;\n    }\n    if (!((_b = channel === null || channel === void 0 ? void 0 : channel.isGroupChannel) === null || _b === void 0 ? void 0 : _b.call(channel)) || (channel === null || channel === void 0 ? void 0 : channel.isEphemeral)) {\n        return false;\n    }\n    var isBroadcast = channel === null || channel === void 0 ? void 0 : channel.isBroadcast;\n    var isOperator = (channel === null || channel === void 0 ? void 0 : channel.myRole) === Role.OPERATOR;\n    if (isBroadcast)\n        return isOperator;\n    return true;\n};\nvar showMenuItemCopy = function (_a) {\n    var message = _a.message;\n    return isUserMessage(message);\n};\nvar showMenuItemEdit = function (_a) {\n    var message = _a.message, channel = _a.channel, isByMe = _a.isByMe;\n    return (!(channel === null || channel === void 0 ? void 0 : channel.isEphemeral) && isUserMessage(message) && isSentMessage(message) && isByMe);\n};\nvar showMenuItemResend = function (_a) {\n    var message = _a.message, isByMe = _a.isByMe;\n    return (isFailedMessage(message) && (message === null || message === void 0 ? void 0 : message.isResendable) && isByMe);\n};\nvar showMenuItemDelete = function (_a) {\n    var message = _a.message, channel = _a.channel, isByMe = _a.isByMe;\n    return !(channel === null || channel === void 0 ? void 0 : channel.isEphemeral) && !isPendingMessage(message) && isByMe;\n};\nvar showMenuItemOpenInChannel = function (_a) {\n    var _b = _a.onMoveToParentMessage, onMoveToParentMessage = _b === void 0 ? undefined : _b;\n    return !!onMoveToParentMessage;\n};\nvar showMenuItemReply = function (_a) {\n    var channel = _a.channel, message = _a.message, replyType = _a.replyType;\n    return isReplyTypeMessageEnabled({ channel: channel, message: message }) && replyType === 'QUOTE_REPLY';\n};\nvar showMenuItemThread = function (_a) {\n    var channel = _a.channel, message = _a.message, replyType = _a.replyType, onReplyInThread = _a.onReplyInThread;\n    return isReplyTypeMessageEnabled({ channel: channel, message: message }) && replyType === 'THREAD' && !(message === null || message === void 0 ? void 0 : message.parentMessageId) && typeof onReplyInThread === 'function';\n};\n\nvar MessageMenu = function (_a) {\n    var _b;\n    var className = _a.className, message = _a.message, channel = _a.channel, isByMe = _a.isByMe, replyType = _a.replyType, _c = _a.renderTrigger, renderTrigger = _c === void 0 ? TriggerIcon : _c, renderMenuItems = _a.renderMenuItems, _d = _a.disableDeleteMessage, disableDeleteMessage = _d === void 0 ? null : _d, _e = _a.showEdit, showEdit = _e === void 0 ? noop : _e, _f = _a.showRemove, showRemove = _f === void 0 ? noop : _f, deleteMessage = _a.deleteMessage, resendMessage = _a.resendMessage, setQuoteMessage = _a.setQuoteMessage, onReplyInThread = _a.onReplyInThread, onMoveToParentMessage = _a.onMoveToParentMessage;\n    var config = useSendbirdStateContext().config;\n    var isOnline = config.isOnline;\n    var triggerRef = useRef(null);\n    var containerRef = useRef(null);\n    var _g = useState(false), isMenuVisible = _g[0], setMenuVisibility = _g[1];\n    var hideMenu = function () { return setMenuVisibility(false); };\n    var showMenu = function () { return setMenuVisibility(true); };\n    var toggleMenu = function () { return setMenuVisibility(function (visible) { return !visible; }); };\n    var params = {\n        message: message,\n        channel: channel,\n        isByMe: isByMe,\n        replyType: replyType,\n        onReplyInThread: onReplyInThread,\n        onMoveToParentMessage: onMoveToParentMessage,\n    };\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-message-menu', className), ref: containerRef },\n        React__default.createElement(MessageMenuProvider, { value: {\n                message: message,\n                hideMenu: hideMenu,\n                showMenu: showMenu,\n                toggleMenu: toggleMenu,\n                setQuoteMessage: setQuoteMessage,\n                onReplyInThread: onReplyInThread,\n                onMoveToParentMessage: onMoveToParentMessage,\n                showEdit: showEdit,\n                showRemove: showRemove,\n                deleteMessage: deleteMessage,\n                resendMessage: resendMessage,\n                isOnline: isOnline,\n                disableDeleteMessage: disableDeleteMessage,\n                triggerRef: triggerRef,\n                containerRef: containerRef,\n            } },\n            (renderTrigger({ ref: triggerRef, onClick: toggleMenu })),\n            isMenuVisible && (React__default.createElement(MenuItems, { id: getObservingId(message.messageId), parentRef: triggerRef, parentContainRef: containerRef, closeDropdown: hideMenu, openLeft: isByMe }, (_b = renderMenuItems === null || renderMenuItems === void 0 ? void 0 : renderMenuItems({\n                items: {\n                    CopyMenuItem: CopyMenuItem,\n                    ReplyMenuItem: ReplyMenuItem,\n                    ThreadMenuItem: ThreadMenuItem,\n                    OpenInChannelMenuItem: OpenInChannelMenuItem,\n                    EditMenuItem: EditMenuItem,\n                    ResendMenuItem: ResendMenuItem,\n                    DeleteMenuItem: DeleteMenuItem,\n                },\n            })) !== null && _b !== void 0 ? _b : (React__default.createElement(React__default.Fragment, null,\n                showMenuItemCopy(params) && React__default.createElement(CopyMenuItem, null),\n                showMenuItemReply(params) && React__default.createElement(ReplyMenuItem, null),\n                showMenuItemThread(params) && React__default.createElement(ThreadMenuItem, null),\n                showMenuItemOpenInChannel(params) && React__default.createElement(OpenInChannelMenuItem, null),\n                showMenuItemEdit(params) && React__default.createElement(EditMenuItem, null),\n                showMenuItemResend(params) && React__default.createElement(ResendMenuItem, null),\n                showMenuItemDelete(params) && React__default.createElement(DeleteMenuItem, null))))))));\n};\n\nexport { MessageMenu as M };\n//# sourceMappingURL=bundle-B6Uh5m2a.js.map\n", "import React__default, { useRef } from 'react';\nimport { C as ContextMenu, f as EmojiListItems, g as getObservingId } from '../chunks/bundle-C7VSBUKJ.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport IconButton from './IconButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport ReactionButton from './ReactionButton.js';\nimport { u as isPendingMessage, v as isFailedMessage, w as getClassName, x as getEmojiListAll } from '../chunks/bundle-D-cVbGxk.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport 'react-dom';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-DxDVBm6N.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\n\nfunction MessageEmojiMenu(_a) {\n    var className = _a.className, message = _a.message, userId = _a.userId, _b = _a.spaceFromTrigger, spaceFromTrigger = _b === void 0 ? { x: 0, y: 0 } : _b, emojiContainer = _a.emojiContainer, toggleReaction = _a.toggleReaction;\n    var triggerRef = useRef(null);\n    var containerRef = useRef(null);\n    if (isPendingMessage(message) || isFailedMessage(message)) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([className !== null && className !== void 0 ? className : '', 'sendbird-message-item-reaction-menu']), ref: containerRef },\n        React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(IconButton, { className: \"sendbird-message-item-reaction-menu__trigger\", ref: triggerRef, width: \"32px\", height: \"32px\", onClick: function () {\n                    toggleDropdown();\n                } },\n                React__default.createElement(Icon, { className: \"sendbird-message-item-reaction-menu__trigger__icon\", testID: \"sendbird-message-item-reaction-menu__trigger__icon\", type: IconTypes.EMOJI_MORE, fillColor: IconColors.CONTENT_INVERSE, width: \"24px\", height: \"24px\" }))); }, menuItems: function (closeDropdown) {\n                return (React__default.createElement(EmojiListItems, { id: getObservingId(message.messageId), parentRef: triggerRef, parentContainRef: containerRef, closeDropdown: closeDropdown, spaceFromTrigger: spaceFromTrigger }, emojiContainer && getEmojiListAll(emojiContainer).map(function (emoji) {\n                    var _a, _b, _c;\n                    var isReacted = ((_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.find(function (reaction) { return reaction.key === emoji.key; })) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; })) || false;\n                    return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"36px\", height: \"36px\", selected: isReacted, onClick: function () {\n                            closeDropdown();\n                            toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                        }, testID: \"ui_emoji_reactions_menu_\".concat(emoji.key) },\n                        React__default.createElement(ImageRenderer, { url: emoji.url, width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                var style = _a.style;\n                                return (React__default.createElement(\"div\", { style: style },\n                                    React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                            } })));\n                })));\n            } })));\n}\n\nexport { MessageEmojiMenu, MessageEmojiMenu as default };\n//# sourceMappingURL=MessageItemReactionMenu.js.map\n", "import { _ as __assign, c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { n as noop } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DBzinRyn.js';\n\nvar ReactionButton = React__default.forwardRef(function (props, ref) {\n    var className = props.className, width = props.width, height = props.height, selected = props.selected, _a = props.dataSbId, dataSbId = _a === void 0 ? '' : _a, testID = props.testID, onClick = props.onClick, children = props.children;\n    var onClickHandler = useLongPress({\n        onLongPress: noop,\n        onClick: onClick,\n    }, {\n        shouldPreventDefault: true,\n        shouldStopPropagation: true,\n    });\n    return (React__default.createElement(\"div\", __assign({ className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            \"sendbird-reaction-button\".concat(selected ? '--selected' : ''),\n        ], false).join(' '), ref: ref, role: \"button\", style: { width: width, height: height } }, onClickHandler, { tabIndex: 0, \"data-sb-id\": testID !== null && testID !== void 0 ? testID : dataSbId, \"data-testid\": testID !== null && testID !== void 0 ? testID : dataSbId }),\n        React__default.createElement(\"div\", { className: \"sendbird-reaction-button__inner\" }, children)));\n});\n\nexport { ReactionButton as default };\n//# sourceMappingURL=ReactionButton.js.map\n", "import React__default, { useState, useContext, useMemo, useRef } from 'react';\nimport ReactionBadge from './ReactionBadge.js';\nimport ReactionButton from './ReactionButton.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { C as ContextMenu, f as EmojiListItems } from '../chunks/bundle-C7VSBUKJ.js';\nimport { V as getEmojiUrl, W as isReactedBy, X as getEmojiTooltipString, x as getEmojiListAll, Y as getEmojiMapAll, w as getClassName } from '../chunks/bundle-D-cVbGxk.js';\nimport BottomSheet from './BottomSheet.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { UserListItem } from './UserListItem.js';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport { _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport Tooltip from './Tooltip.js';\nimport TooltipWrapper from './TooltipWrapper.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { useMessageContext } from '../Message/context.js';\nimport { g as getIsReactionEnabled } from '../chunks/bundle-uSSYB2TA.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport './IconButton.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-Bh6KfMRl.js';\nimport './Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-BKxPk2t0.js';\nimport '../chunks/bundle-C76-LA1E.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './MutedAvatarOverlay.js';\nimport './Checkbox.js';\nimport './UserProfile.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\n\nvar ReactedMembersBottomSheet = function (_a) {\n    var _b, _c, _d;\n    var message = _a.message, channel = _a.channel, _e = _a.emojiKey, emojiKey = _e === void 0 ? '' : _e, hideMenu = _a.hideMenu, emojiContainer = _a.emojiContainer, onPressUserProfileHandler = _a.onPressUserProfileHandler;\n    var _f = channel.members, members = _f === void 0 ? [] : _f;\n    var _g = useState(emojiKey), selectedEmoji = _g[0], setSelectedEmoji = _g[1];\n    function onPressUserProfileCallBack() {\n        if (onPressUserProfileHandler && message) {\n            var sender = message === null || message === void 0 ? void 0 : message.sender;\n            onPressUserProfileHandler(sender);\n        }\n    }\n    return (React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n        React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet\" },\n            React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet__reacted-members\" }, (_b = message.reactions) === null || _b === void 0 ? void 0 : _b.map(function (reaction) {\n                var emojiUrl = getEmojiUrl(emojiContainer, reaction.key);\n                return (React__default.createElement(\"div\", { key: reaction.key, className: classnames('sendbird-message__bottomsheet__reacted-members__item', selectedEmoji === reaction.key && 'sendbird-message__bottomsheet__reacted-members__item__selected'), onClick: function () {\n                        setSelectedEmoji(reaction.key);\n                    } },\n                    React__default.createElement(ImageRenderer, { url: emojiUrl, width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                            var style = _a.style;\n                            return (React__default.createElement(\"div\", { style: style },\n                                React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                        } }),\n                    React__default.createElement(Label, { type: LabelTypography.BUTTON_2, color: selectedEmoji === reaction.key ? LabelColors.PRIMARY : LabelColors.ONBACKGROUND_3 }, reaction.userIds.length)));\n            })),\n            React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet__reactor-list\" }, // making a member list who reacted to the message with the `selectedEmoji`\n            ((_d = (_c = message.reactions) === null || _c === void 0 ? void 0 : _c.find(function (reaction) { return reaction.key === selectedEmoji; })) === null || _d === void 0 ? void 0 : _d.userIds.map(function (userId) { return members.find(function (member) { return member.userId === userId; }); }).filter(function (member) { return member !== undefined; }))\n                .map(function (member) { return (React__default.createElement(UserListItem, { key: member.userId, className: \"sendbird-message__bottomsheet__reactor-list__item\", user: member, avatarSize: \"36px\", onUserAvatarClick: onPressUserProfileCallBack })); })))));\n};\n\nfunction ReactionItem(_a) {\n    var _b;\n    var reaction = _a.reaction, memberNicknamesMap = _a.memberNicknamesMap, setEmojiKey = _a.setEmojiKey, toggleReaction = _a.toggleReaction, emojisMap = _a.emojisMap, channel = _a.channel, message = _a.message;\n    var store = useSendbirdStateContext();\n    var isMobile = useMediaQueryContext().isMobile;\n    var messageStore = useMessageContext();\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var userId = store.config.userId;\n    var reactedByMe = isReactedBy(userId, reaction);\n    var showHoverTooltip = (reaction.userIds.length > 0)\n        && ((channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && !channel.isSuper);\n    var handleOnClick = function () {\n        setEmojiKey('');\n        toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction((message !== null && message !== void 0 ? message : messageStore === null || messageStore === void 0 ? void 0 : messageStore.message), reaction.key, reactedByMe);\n    };\n    var longPress = useLongPress({\n        onLongPress: function () {\n            setEmojiKey(reaction.key);\n        },\n        onClick: handleOnClick,\n    }, {\n        shouldPreventDefault: true,\n        shouldStopPropagation: true,\n    });\n    return (React__default.createElement(TooltipWrapper, { className: \"sendbird-emoji-reactions__reaction-badge\", hoverTooltip: showHoverTooltip ? (React__default.createElement(Tooltip, null, getEmojiTooltipString(reaction, userId, memberNicknamesMap, stringSet))) : React__default.createElement(React__default.Fragment, null) },\n        React__default.createElement(\"div\", __assign({}, (isMobile\n            ? longPress\n            : { onClick: handleOnClick })),\n            React__default.createElement(ReactionBadge, { count: reaction.userIds.length, selected: reactedByMe },\n                React__default.createElement(ImageRenderer, { circle: true, url: ((_b = emojisMap.get(reaction === null || reaction === void 0 ? void 0 : reaction.key)) === null || _b === void 0 ? void 0 : _b.url) || '', width: \"20px\", height: \"20px\", defaultComponent: (React__default.createElement(Icon, { width: \"20px\", height: \"20px\", type: IconTypes.QUESTION })) })))));\n}\n\nvar AddReactionBadgeItem = function (_a) {\n    var onClick = _a.onClick;\n    var onlyClick = useLongPress({\n        onLongPress: function () { },\n        onClick: onClick,\n    }, {\n        shouldPreventDefault: true,\n        shouldStopPropagation: true,\n    });\n    return (React__default.createElement(\"div\", __assign({ className: \"sendbird-emoji-reactions__add-reaction-badge\", \"data-testid\": \"sendbird-emoji-reactions__add-reaction-badge\" }, onlyClick),\n        React__default.createElement(ReactionBadge, { isAdd: true },\n            React__default.createElement(Icon, { type: IconTypes.EMOJI_MORE, fillColor: IconColors.ON_BACKGROUND_3, width: \"20px\", height: \"20px\" }))));\n};\n\nvar MobileEmojisBottomSheet = function (_a) {\n    var userId = _a.userId, message = _a.message, emojiContainer = _a.emojiContainer, hideMenu = _a.hideMenu, toggleReaction = _a.toggleReaction;\n    var emojiAllList = useMemo(function () {\n        return getEmojiListAll(emojiContainer);\n    }, [emojiContainer]);\n    return (React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n        React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet sendbird-message__emojis-bottomsheet\" }, emojiAllList.map(function (emoji) {\n            var _a, _b, _c, _d;\n            var isReacted = (_d = ((_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.find(function (reaction) { return reaction.key === emoji.key; })) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; }))) !== null && _d !== void 0 ? _d : false;\n            return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"44px\", height: \"44px\", selected: isReacted, onClick: function (e) {\n                    e === null || e === void 0 ? void 0 : e.stopPropagation();\n                    toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                    hideMenu();\n                }, testID: \"ui_mobile_emoji_reactions_menu_\".concat(emoji.key) },\n                React__default.createElement(ImageRenderer, { url: emoji.url, width: \"38px\", height: \"38px\", placeHolder: function (_a) {\n                        var style = _a.style;\n                        return (React__default.createElement(\"div\", { style: style },\n                            React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                    } })));\n        }))));\n};\n\nvar EmojiReactions = function (_a) {\n    var _b, _c, _d, _e, _f;\n    var _g = _a.className, className = _g === void 0 ? '' : _g, userId = _a.userId, message = _a.message, channel = _a.channel, emojiContainer = _a.emojiContainer, memberNicknamesMap = _a.memberNicknamesMap, _h = _a.spaceFromTrigger, spaceFromTrigger = _h === void 0 ? { x: 0, y: 0 } : _h, _j = _a.isByMe, isByMe = _j === void 0 ? false : _j, toggleReaction = _a.toggleReaction, onPressUserProfile = _a.onPressUserProfile;\n    var showTheReactedMembers = false;\n    try {\n        var config = useSendbirdStateContext().config;\n        showTheReactedMembers = channel ? getIsReactionEnabled({\n            channel: channel,\n            config: config,\n        }) : false;\n    }\n    catch (err) {\n        // TODO: Handle error\n    }\n    var isMobile = useMediaQueryContext().isMobile;\n    var addReactionRef = useRef(null);\n    var _k = useState(false), showEmojiList = _k[0], setShowEmojiList = _k[1];\n    var _l = useState(''), selectedEmojiKey = _l[0], setSelectedEmojiKey = _l[1];\n    var emojisMap = getEmojiMapAll(emojiContainer);\n    var showAddReactionBadge = ((_c = (_b = message.reactions) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) < emojisMap.size;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className, 'sendbird-emoji-reactions',\n            isByMe ? 'outgoing' : 'incoming',\n        ]) },\n        (((_e = (_d = message.reactions) === null || _d === void 0 ? void 0 : _d.length) !== null && _e !== void 0 ? _e : 0) > 0) && ((_f = message.reactions) === null || _f === void 0 ? void 0 : _f.map(function (reaction) {\n            return (React__default.createElement(ReactionItem, { key: reaction === null || reaction === void 0 ? void 0 : reaction.key, reaction: reaction, memberNicknamesMap: memberNicknamesMap, setEmojiKey: setSelectedEmojiKey, toggleReaction: toggleReaction, emojisMap: emojisMap, channel: channel, message: message }));\n        })),\n        (!isMobile && showAddReactionBadge) && (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(ReactionBadge, { className: \"sendbird-emoji-reactions__add-reaction-badge\", testID: \"sendbird-emoji-reactions__add-reaction-badge\", ref: addReactionRef, isAdd: true, onClick: function (e) {\n                    var _a;\n                    toggleDropdown();\n                    (_a = e === null || e === void 0 ? void 0 : e.stopPropagation) === null || _a === void 0 ? void 0 : _a.call(e);\n                } },\n                React__default.createElement(Icon, { type: IconTypes.EMOJI_MORE, fillColor: IconColors.ON_BACKGROUND_3, width: \"20px\", height: \"20px\" }))); }, menuItems: function (closeDropdown) { return (React__default.createElement(EmojiListItems, { parentRef: addReactionRef, parentContainRef: addReactionRef, closeDropdown: closeDropdown, spaceFromTrigger: spaceFromTrigger }, getEmojiListAll(emojiContainer).map(function (emoji) {\n                var _a, _b, _c;\n                var isReacted = ((_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.find(function (reaction) { return reaction.key === emoji.key; })) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; })) || false;\n                return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"36px\", height: \"36px\", selected: isReacted, onClick: function (e) {\n                        closeDropdown();\n                        toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                        e === null || e === void 0 ? void 0 : e.stopPropagation();\n                    }, testID: \"ui_emoji_reactions_menu_\".concat(emoji.key) },\n                    React__default.createElement(ImageRenderer, { url: (emoji === null || emoji === void 0 ? void 0 : emoji.url) || '', width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                            var style = _a.style;\n                            return (React__default.createElement(\"div\", { style: style },\n                                React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                        } })));\n            }))); } })),\n        (isMobile && showAddReactionBadge) && (React__default.createElement(AddReactionBadgeItem, { onClick: function () {\n                setShowEmojiList(true);\n            } })),\n        (isMobile && showEmojiList) && (React__default.createElement(MobileEmojisBottomSheet, { userId: userId, message: message, emojiContainer: emojiContainer, hideMenu: function () {\n                setShowEmojiList(false);\n            }, toggleReaction: toggleReaction })),\n        (isMobile && selectedEmojiKey && channel !== null && showTheReactedMembers) && (React__default.createElement(ReactedMembersBottomSheet, { message: message, channel: channel, emojiKey: selectedEmojiKey, hideMenu: function () {\n                setSelectedEmojiKey('');\n            }, emojiContainer: emojiContainer, onPressUserProfileHandler: onPressUserProfile }))));\n};\n\nexport { EmojiReactions as default };\n//# sourceMappingURL=EmojiReactions.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nvar ReactionBadge = React__default.forwardRef(function (props, ref) {\n    var _a = props.className, className = _a === void 0 ? '' : _a, testID = props.testID, children = props.children, _b = props.count, count = _b === void 0 ? '' : _b, _c = props.isAdd, isAdd = _c === void 0 ? false : _c, _d = props.selected, selected = _d === void 0 ? false : _d, _e = props.onClick, onClick = _e === void 0 ? function () { } : _e;\n    var getClassNameTail = function () {\n        if (selected && !isAdd) {\n            return '--selected';\n        }\n        if (isAdd) {\n            return '--is-add';\n        }\n        return '';\n    };\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            \"sendbird-reaction-badge\".concat(getClassNameTail()),\n        ], false).join(' '), \"data-testid\": testID, role: \"button\", ref: ref, onClick: onClick, onKeyDown: onClick, onTouchEnd: onClick, tabIndex: 0 },\n        React__default.createElement(\"div\", { className: \"sendbird-reaction-badge__inner\" },\n            React__default.createElement(\"div\", { className: \"sendbird-reaction-badge__inner__icon\" }, children),\n            React__default.createElement(Label, { className: (children && count) ? 'sendbird-reaction-badge__inner__count' : '', type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_1 }, count))));\n});\n\nexport { ReactionBadge as default };\n//# sourceMappingURL=ReactionBadge.js.map\n", "import React__default, { useRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport { a as MODAL_ROOT } from '../chunks/bundle-Bh6KfMRl.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport './IconButton.js';\nimport './Button.js';\nimport '../chunks/bundle-CEZ0D4qz.js';\nimport './Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport './SortByRow.js';\n\nvar BottomSheet = function (props) {\n    var _a, _b, _c;\n    var _d = props.className, className = _d === void 0 ? '' : _d, children = props.children, onBackdropClick = props.onBackdropClick;\n    var logger = (_b = (_a = useSendbirdStateContext()) === null || _a === void 0 ? void 0 : _a.config) === null || _b === void 0 ? void 0 : _b.logger;\n    // https://github.com/testing-library/react-testing-library/issues/62#issuecomment-438653348\n    var portalRoot = useRef();\n    portalRoot.current = document.getElementById(MODAL_ROOT);\n    if (!portalRoot.current) {\n        portalRoot.current = document.createElement('div');\n        portalRoot.current.setAttribute('id', MODAL_ROOT);\n        document.body.appendChild(portalRoot.current);\n        (_c = logger === null || logger === void 0 ? void 0 : logger.warning) === null || _c === void 0 ? void 0 : _c.call(logger, '@sendbird/uikit-react/ui/BottomSheet | Should put a ModalRoot to use the BottomSheet.');\n    }\n    return createPortal(React__default.createElement(\"div\", { className: \"\".concat(className, \" sendbird-bottomsheet\") },\n        React__default.createElement(\"div\", { className: \"sendbird-bottomsheet__content\", role: 'dialog', \"aria-modal\": 'true', \"aria-expanded\": 'true' }, children),\n        React__default.createElement(\"div\", { className: \"sendbird-bottomsheet__backdrop\", onClick: function (e) {\n                e === null || e === void 0 ? void 0 : e.stopPropagation();\n                onBackdropClick === null || onBackdropClick === void 0 ? void 0 : onBackdropClick();\n            } })), portalRoot.current);\n};\n\nexport { BottomSheet as default };\n//# sourceMappingURL=BottomSheet.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nfunction Tooltip(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.children, children = _c === void 0 ? '' : _c;\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-tooltip',\n        ], false).join(' ') },\n        React__default.createElement(Label, { className: \"sendbird-tooltip__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONCONTENT_1 }, children)));\n}\n\nexport { Tooltip as default };\n//# sourceMappingURL=Tooltip.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState, useRef } from 'react';\n\nvar SPACE_FROM_TRIGGER = 8;\nfunction TooltipWrapper(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, children = _a.children, hoverTooltip = _a.hoverTooltip;\n    var _c = useState(false), showHoverTooltip = _c[0], setShowHoverTooltip = _c[1];\n    var childrenRef = useRef();\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-tooltip-wrapper',\n        ], false).join(' '), onMouseOver: function () { setShowHoverTooltip(true); }, onFocus: function () { setShowHoverTooltip(true); }, onMouseOut: function () { setShowHoverTooltip(false); }, onBlur: function () { setShowHoverTooltip(false); } },\n        React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__children\", ref: childrenRef }, children),\n        showHoverTooltip && (React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__hover-tooltip\", style: { bottom: \"calc(100% + \".concat(SPACE_FROM_TRIGGER, \"px)\") } },\n            React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__hover-tooltip__inner\" },\n                React__default.createElement(\"div\", { className: \"sendbird-tooltip-wrapper__hover-tooltip__inner__tooltip-container\", style: { left: childrenRef.current ? \"calc(\".concat(childrenRef.current.offsetWidth / 2, \"px - 50%)\") : undefined } }, hoverTooltip))))));\n}\n\nexport { TooltipWrapper as default };\n//# sourceMappingURL=TooltipWrapper.js.map\n", "import React__default from 'react';\n\n// todo@v4.0.0: combine with the provider in core-ts, see:\n// https://github.com/sendbird/sendbird-uikit-core-ts\n// packages/react-uikit-message-template-view/src/context/MessageContextProvider.tsx\nvar defaultValue = {\n    message: {},\n    isByMe: false,\n};\nvar MessageContext = React__default.createContext(defaultValue);\nvar MessageProvider = function (props) {\n    var children = props.children, message = props.message, _a = props.isByMe, isByMe = _a === void 0 ? false : _a;\n    return (React__default.createElement(MessageContext.Provider, { value: {\n            message: message,\n            isByMe: isByMe,\n        } }, children));\n};\nvar useMessageContext = function () {\n    var value = React__default.useContext(MessageContext);\n    if (value === undefined) {\n        throw new Error('useMessageContext must be used within a MessageProvider');\n    }\n    return value;\n};\n\nexport { MessageProvider, useMessageContext };\n//# sourceMappingURL=context.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nfunction AdminMessage(_a) {\n    var _b;\n    var _c = _a.className, className = _c === void 0 ? '' : _c, message = _a.message;\n    if (!((message === null || message === void 0 ? void 0 : message.isAdminMessage) || (message === null || message === void 0 ? void 0 : message.messageType)) || !((_b = message === null || message === void 0 ? void 0 : message.isAdminMessage) === null || _b === void 0 ? void 0 : _b.call(message)) || (message === null || message === void 0 ? void 0 : message.messageType) !== 'admin') {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-admin-message',\n        ], false).join(' ') },\n        React__default.createElement(Label, { className: \"sendbird-admin-message__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_2 }, message === null || message === void 0 ? void 0 : message.message)));\n}\n\nexport { AdminMessage as default };\n//# sourceMappingURL=AdminMessage.js.map\n", "import React__default, { useContext, useState } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { y as getUIKitFileTypes, w as getClassName, l as isUserMessage, i as isVoiceMessage, p as isThumbnailMessage, c as isMultipleFilesMessage, h as isVideo, z as isGif, m as getUIKitMessageType, U as UIKitMessageTypes, o as getUIKitFileType, t as truncateString } from '../chunks/bundle-D-cVbGxk.js';\nimport { g as getMessageFirstFileUrl, a as getMessageFirstFileType, b as getMessageFirstFileName } from '../chunks/bundle-CfsHVenu.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\n\nfunction QuoteMessage(_a) {\n    var _b;\n    var _c, _d, _e, _f, _g, _h;\n    var message = _a.message, _j = _a.userId, userId = _j === void 0 ? '' : _j, _k = _a.isByMe, isByMe = _k === void 0 ? false : _k, _l = _a.className, className = _l === void 0 ? '' : _l, _m = _a.isUnavailable, isUnavailable = _m === void 0 ? false : _m, onClick = _a.onClick;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var parentMessage = message.parentMessage;\n    var parentMessageSender = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.sender;\n    var parentMessageSenderNickname = (userId === (parentMessageSender === null || parentMessageSender === void 0 ? void 0 : parentMessageSender.userId)) ? stringSet.QUOTED_MESSAGE__CURRENT_USER : parentMessageSender === null || parentMessageSender === void 0 ? void 0 : parentMessageSender.nickname;\n    var parentMessageUrl = getMessageFirstFileUrl(parentMessage);\n    var parentMessageType = getMessageFirstFileType(parentMessage);\n    var currentMessageSenderNickname = (userId === ((_c = message === null || message === void 0 ? void 0 : message.sender) === null || _c === void 0 ? void 0 : _c.userId)) ? stringSet.QUOTED_MESSAGE__CURRENT_USER : (_d = message === null || message === void 0 ? void 0 : message.sender) === null || _d === void 0 ? void 0 : _d.nickname;\n    var _o = useState(false), isThumbnailLoaded = _o[0], setThumbnailLoaded = _o[1];\n    var uikitFileTypes = getUIKitFileTypes();\n    var splitFileName = (_f = (_e = getMessageFirstFileName(parentMessage)) === null || _e === void 0 ? void 0 : _e.split('/')) !== null && _f !== void 0 ? _f : parentMessageUrl.split('/');\n    return (React__default.createElement(\"div\", { className: getClassName([className, 'sendbird-quote-message', isByMe ? 'outgoing' : 'incoming', isUnavailable ? 'unavailable' : '']), key: parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.messageId, onClick: function () {\n            if (!isUnavailable && onClick) {\n                onClick();\n            }\n        }, onTouchEnd: function () {\n            if (!isUnavailable && onClick) {\n                onClick();\n            }\n        } },\n        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-to\" },\n            React__default.createElement(Icon, { className: \"sendbird-quote-message__replied-to__icon\", type: IconTypes.REPLY, fillColor: IconColors.ON_BACKGROUND_3, width: \"12px\", height: \"12px\" }),\n            React__default.createElement(Label, { className: \"sendbird-quote-message__replied-to__text\", testID: \"sendbird-quote-message__replied-to__text\", type: LabelTypography.CAPTION_2, color: LabelColors.ONBACKGROUND_3 },\n                React__default.createElement(\"span\", { className: \"sendbird-quote-message__replied-to__text__nickname\" }, currentMessageSenderNickname),\n                React__default.createElement(\"span\", { className: \"sendbird-quote-message__replied-to__text__text\" }, stringSet.QUOTED_MESSAGE__REPLIED_TO),\n                React__default.createElement(\"span\", { className: \"sendbird-quote-message__replied-to__text__nickname\" }, parentMessageSenderNickname))),\n        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message\" },\n            isUnavailable && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__text-message\" },\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__text-message__word\", testID: \"sendbird-quote-message__replied-message__text-message__word\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.QUOTED_MESSAGE__UNAVAILABLE))),\n            ((isUserMessage(parentMessage) && ((_g = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.message) === null || _g === void 0 ? void 0 : _g.length) > 0) && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__text-message\" },\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__text-message__word\", testID: \"sendbird-quote-message__replied-message__text-message__word\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.message))),\n            (isVoiceMessage(parentMessage) && parentMessageUrl && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__text-message\" },\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__text-message__word\", testID: \"sendbird-quote-message__replied-message__text-message__word\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, stringSet.VOICE_MESSAGE))),\n            ((isThumbnailMessage(parentMessage)\n                || isMultipleFilesMessage(parentMessage))\n                && parentMessageUrl\n                && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message\" },\n                React__default.createElement(ImageRenderer, { className: \"sendbird-quote-message__replied-message__thumbnail-message__image\", url: parentMessageUrl, alt: parentMessageType, width: \"144px\", height: \"108px\", onLoad: function () { return setThumbnailLoaded(true); }, defaultComponent: (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__placeholder\" },\n                        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__placeholder__icon\" },\n                            React__default.createElement(Icon, { type: isVideo(parentMessageType) ? IconTypes.PLAY : IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: \"22px\", height: \"22px\" })))) }),\n                (isVideo(parentMessageType) && !(((_h = parentMessage === null || parentMessage === void 0 ? void 0 : parentMessage.thumbnails) === null || _h === void 0 ? void 0 : _h.length) > 0)) && (React__default.createElement(React__default.Fragment, null,\n                    React__default.createElement(\"video\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__video\" },\n                        React__default.createElement(\"source\", { src: parentMessageUrl, type: parentMessageType })),\n                    React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover\" },\n                        React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover__icon\" },\n                            React__default.createElement(Icon, { type: IconTypes.PLAY, fillColor: IconColors.ON_BACKGROUND_2, width: \"14px\", height: \"14px\" }))))),\n                (isThumbnailLoaded && isGif(parentMessageType)) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__thumbnail-message__cover__icon\" },\n                        React__default.createElement(Icon, { type: IconTypes.GIF, fillColor: IconColors.THUMBNAIL_ICON, width: \"14px\", height: \"14px\" })))))),\n            (getUIKitMessageType(parentMessage) === UIKitMessageTypes.FILE && parentMessageUrl && !isUnavailable) && (React__default.createElement(\"div\", { className: \"sendbird-quote-message__replied-message__file-message\" },\n                React__default.createElement(Icon, { className: \"sendbird-quote-message__replied-message__file-message__type-icon\", type: (_b = {},\n                        _b[uikitFileTypes.IMAGE] = IconTypes.PHOTO,\n                        _b[uikitFileTypes.VIDEO] = IconTypes.PLAY,\n                        _b[uikitFileTypes.AUDIO] = IconTypes.FILE_AUDIO,\n                        _b[uikitFileTypes.GIF] = IconTypes.GIF,\n                        _b[uikitFileTypes.OTHERS] = IconTypes.FILE_DOCUMENT,\n                        _b)[getUIKitFileType(parentMessageType)], fillColor: IconColors.ON_BACKGROUND_3, width: \"16px\", height: \"16px\" }),\n                React__default.createElement(Label, { className: \"sendbird-quote-message__replied-message__file-message__file-name\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 }, truncateString(splitFileName[splitFileName.length - 1])))))));\n}\n\nexport { QuoteMessage as default };\n//# sourceMappingURL=QuoteMessage.js.map\n", "import { K, b as isFileMessage, c as isMultipleFilesMessage } from './bundle-D-cVbGxk.js';\n\nfunction getMessageFirstFileType(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        var _a;\n        return (_a = message === null || message === void 0 ? void 0 : message.type) !== null && _a !== void 0 ? _a : '';\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.mimeType) !== null && _b !== void 0 ? _b : '';\n    })\n        .otherwise(function () {\n        return '';\n    });\n}\nfunction getFirstFileInfo(message) {\n    var fileInfoList = message.fileInfoList;\n    return fileInfoList.length > 0 ? fileInfoList[0] : null;\n}\nfunction getMessageFirstFileName(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        var _a;\n        return (_a = message === null || message === void 0 ? void 0 : message.name) !== null && _a !== void 0 ? _a : '';\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.fileName) !== null && _b !== void 0 ? _b : '';\n    })\n        .otherwise(function () {\n        return '';\n    });\n}\nfunction getMessageFirstFileUrl(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        var _a;\n        return (_a = message === null || message === void 0 ? void 0 : message.url) !== null && _a !== void 0 ? _a : '';\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.url) !== null && _b !== void 0 ? _b : '';\n    })\n        .otherwise(function () {\n        return '';\n    });\n}\nfunction getMessageFirstFileThumbnails(message) {\n    return K(message)\n        .when(isFileMessage, function () {\n        return message.thumbnails;\n    })\n        .when(isMultipleFilesMessage, function () {\n        var _a, _b;\n        return (_b = (_a = getFirstFileInfo(message)) === null || _a === void 0 ? void 0 : _a.thumbnails) !== null && _b !== void 0 ? _b : [];\n    })\n        .otherwise(function () {\n        return [];\n    });\n}\nfunction getMessageFirstFileThumbnailUrl(message) {\n    var thumbnails = getMessageFirstFileThumbnails(message);\n    return (thumbnails && thumbnails.length > 0) ? thumbnails[0].url : '';\n}\n\nexport { getMessageFirstFileType as a, getMessageFirstFileName as b, getMessageFirstFileThumbnailUrl as c, getMessageFirstFileUrl as g };\n//# sourceMappingURL=bundle-CfsHVenu.js.map\n", "import { _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState } from 'react';\nimport { l as isUserMessage, A as copyToClipboard, v as isFailedMessage, q as isSentMessage, u as isPendingMessage, b as isFileMessage, i as isVoiceMessage, R as isThreadMessage, x as getEmojiListAll } from '../chunks/bundle-D-cVbGxk.js';\nimport { n as noop, c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { u as useMessageMenuContext, a as MenuItem, M as MessageMenuProvider, b as MenuItems, B as BottomSheetMenuItem } from '../chunks/bundle-C7VSBUKJ.js';\nimport './IconButton.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '@sendbird/chat';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport BottomSheet from './BottomSheet.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport ReactionButton from './ReactionButton.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../withSendbird.js';\nimport 'react-dom';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-Bh6KfMRl.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport './Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../chunks/bundle-DxDVBm6N.js';\n\nvar CopyMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isUserMessage(message))\n                copyToClipboard(message.message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__COPY),\n        React__default.createElement(Icon, { type: IconTypes.COPY, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar ReplyMenuItem$1 = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, setQuoteMessage = _d.setQuoteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: message.parentMessageId > 0, onClick: function (e) {\n            var _a;\n            setQuoteMessage(message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: ((_b = message.parentMessageId) !== null && _b !== void 0 ? _b : 0) > 0 ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__REPLY),\n        React__default.createElement(Icon, { type: IconTypes.REPLY, fillColor: ((_c = message.parentMessageId) !== null && _c !== void 0 ? _c : 0) > 0 ? IconColors.ON_BACKGROUND_4 : IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar ThreadMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, onReplyInThread = _b.onReplyInThread;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onReplyInThread({ message: message });\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__THREAD),\n        React__default.createElement(Icon, { type: IconTypes.THREAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar EditMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, showEdit = _b.showEdit, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                showEdit(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__EDIT),\n        React__default.createElement(Icon, { type: IconTypes.EDIT, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar ResendMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, resendMessage = _b.resendMessage, isOnline = _b.isOnline;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                resendMessage(message);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__RESEND),\n        React__default.createElement(Icon, { type: IconTypes.REFRESH, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar DeleteMenuItem$1 = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, deleteMessage = _d.deleteMessage, showRemove = _d.showRemove, isOnline = _d.isOnline, disableDeleteMessage = _d.disableDeleteMessage;\n    return (React__default.createElement(MenuItem, __assign({}, props, { disabled: typeof disableDeleteMessage === 'boolean'\n            ? disableDeleteMessage\n            : ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onClick: function (e) {\n            var _a;\n            if (isFailedMessage(message)) {\n                deleteMessage(message);\n            }\n            else if (isOnline) {\n                showRemove(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_c = props.children) !== null && _c !== void 0 ? _c : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: disableDeleteMessage ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__DELETE),\n        React__default.createElement(Icon, { type: IconTypes.DELETE, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\nvar DownloadMenuItem$1 = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, message = _b.message, onDownloadClick = _b.onDownloadClick;\n    var url = message.url;\n    return (React__default.createElement(MenuItem, __assign({}, props, { onClick: function () {\n            hideMenu();\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(\"a\", { className: \"sendbird-message__contextmenu--hyperlink\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__SAVE),\n        React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })))));\n};\n\nvar MobileContextMenu = function (props) {\n    var _a, _b, _c, _d;\n    var channel = props.channel, message = props.message, replyType = props.replyType, userId = props.userId, resendMessage = props.resendMessage, showEdit = props.showEdit, showRemove = props.showRemove, deleteMenuState = props.deleteMenuState, deleteMessage = props.deleteMessage, setQuoteMessage = props.setQuoteMessage, parentRef = props.parentRef, onReplyInThread = props.onReplyInThread, _e = props.isOpenedFromThread, isOpenedFromThread = _e === void 0 ? false : _e, _f = props.onDownloadClick, onDownloadClick = _f === void 0 ? null : _f, renderMenuItems = props.renderMenuItems, hideMobileMenu = props.hideMenu;\n    var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n    var config = useSendbirdStateContext().config;\n    var isOnline = config.isOnline;\n    // Menu Items condition\n    var showMenuItemCopy = isUserMessage(message);\n    var showMenuItemEdit = isUserMessage(message) && isSentMessage(message) && isByMe;\n    var showMenuItemResend = isFailedMessage(message) && (message === null || message === void 0 ? void 0 : message.isResendable) && isByMe;\n    var showMenuItemDelete = !isPendingMessage(message) && isByMe;\n    var showMenuItemDeleteByState = isByMe && (deleteMenuState === undefined || deleteMenuState !== 'HIDE');\n    var showMenuItemDeleteFinal = showMenuItemDeleteByState && showMenuItemDelete;\n    var showMenuItemDownload = !isPendingMessage(message) && isFileMessage(message) && !(isVoiceMessage(message) && (channel === null || channel === void 0 ? void 0 : channel.isSuper) || (channel === null || channel === void 0 ? void 0 : channel.isBroadcast));\n    var showMenuItemReply = replyType === 'QUOTE_REPLY' && !isFailedMessage(message) && !isPendingMessage(message) && (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel());\n    var showMenuItemThread = replyType === 'THREAD' && !isOpenedFromThread && !isFailedMessage(message) && !isPendingMessage(message) && !isThreadMessage(message) && (channel === null || channel === void 0 ? void 0 : channel.isGroupChannel());\n    var disableDeleteMessage = (deleteMenuState !== undefined && deleteMenuState === 'DISABLE') || ((_c = (_b = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _b === void 0 ? void 0 : _b.replyCount) !== null && _c !== void 0 ? _c : 0) > 0;\n    var contextValue = {\n        message: message,\n        hideMenu: hideMobileMenu,\n        setQuoteMessage: setQuoteMessage,\n        onReplyInThread: onReplyInThread,\n        onMoveToParentMessage: noop,\n        showEdit: showEdit,\n        showRemove: showRemove,\n        deleteMessage: deleteMessage,\n        resendMessage: resendMessage,\n        isOnline: isOnline,\n        disableDeleteMessage: disableDeleteMessage,\n        triggerRef: parentRef,\n        containerRef: parentRef,\n        onDownloadClick: onDownloadClick,\n    };\n    return (React__default.createElement(MessageMenuProvider, { value: contextValue },\n        React__default.createElement(MenuItems, { className: \"sendbird-message__mobile-context-menu\", parentRef: parentRef, parentContainRef: parentRef, closeDropdown: hideMobileMenu }, (_d = renderMenuItems === null || renderMenuItems === void 0 ? void 0 : renderMenuItems({\n            items: {\n                CopyMenuItem: CopyMenuItem$1,\n                ReplyMenuItem: ReplyMenuItem$1,\n                ThreadMenuItem: ThreadMenuItem$1,\n                EditMenuItem: EditMenuItem$1,\n                ResendMenuItem: ResendMenuItem$1,\n                DeleteMenuItem: DeleteMenuItem$1,\n            },\n        })) !== null && _d !== void 0 ? _d : (React__default.createElement(React__default.Fragment, null,\n            showMenuItemCopy && React__default.createElement(CopyMenuItem$1, null),\n            showMenuItemReply && React__default.createElement(ReplyMenuItem$1, null),\n            showMenuItemThread && React__default.createElement(ThreadMenuItem$1, null),\n            showMenuItemEdit && React__default.createElement(EditMenuItem$1, null),\n            showMenuItemResend && React__default.createElement(ResendMenuItem$1, null),\n            showMenuItemDeleteFinal && React__default.createElement(DeleteMenuItem$1, null),\n            showMenuItemDownload && React__default.createElement(DownloadMenuItem$1, null))))));\n};\n\nvar CopyMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isUserMessage(message))\n                copyToClipboard(message.message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.COPY, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__COPY)))));\n};\nvar EditMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, showEdit = _b.showEdit, isOnline = _b.isOnline;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                showEdit(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.EDIT, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__EDIT)))));\n};\nvar ResendMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, resendMessage = _b.resendMessage, isOnline = _b.isOnline;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            if (isOnline) {\n                resendMessage(message);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.REFRESH, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__RESEND)))));\n};\nvar ReplyMenuItem = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, setQuoteMessage = _d.setQuoteMessage;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { disabled: message.parentMessageId > 0, onClick: function (e) {\n            var _a;\n            setQuoteMessage(message);\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.REPLY, fillColor: ((_b = message.parentMessageId) !== null && _b !== void 0 ? _b : 0) > 0 ? IconColors.ON_BACKGROUND_3 : IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: ((_c = message.parentMessageId) !== null && _c !== void 0 ? _c : 0) > 0 ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__REPLY)))));\n};\nvar ThreadMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), message = _b.message, hideMenu = _b.hideMenu, onReplyInThread = _b.onReplyInThread;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { onClick: function (e) {\n            var _a;\n            onReplyInThread({ message: message });\n            hideMenu();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        } }), (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.THREAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__THREAD)))));\n};\nvar DeleteMenuItem = function (props) {\n    var _a, _b, _c;\n    var stringSet = useLocalization().stringSet;\n    var _d = useMessageMenuContext(), message = _d.message, hideMenu = _d.hideMenu, deleteMessage = _d.deleteMessage, showRemove = _d.showRemove, isOnline = _d.isOnline, disableDeleteMessage = _d.disableDeleteMessage;\n    return (React__default.createElement(BottomSheetMenuItem, __assign({}, props, { disabled: typeof disableDeleteMessage === 'boolean'\n            ? disableDeleteMessage\n            : ((_b = (_a = message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) !== null && _b !== void 0 ? _b : 0) > 0, onClick: function (e) {\n            var _a;\n            if (isFailedMessage(message)) {\n                deleteMessage(message);\n            }\n            else if (isOnline) {\n                showRemove(true);\n                hideMenu();\n                (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            }\n        } }), (_c = props.children) !== null && _c !== void 0 ? _c : (React__default.createElement(React__default.Fragment, null,\n        React__default.createElement(Icon, { type: IconTypes.DELETE, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: disableDeleteMessage ? LabelColors.ONBACKGROUND_4 : LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__DELETE)))));\n};\nvar DownloadMenuItem = function (props) {\n    var _a;\n    var stringSet = useLocalization().stringSet;\n    var _b = useMessageMenuContext(), hideMenu = _b.hideMenu, message = _b.message, onDownloadClick = _b.onDownloadClick;\n    var url = message.url;\n    return (React__default.createElement(BottomSheetMenuItem, { onClick: function () { return hideMenu(); } }, (_a = props.children) !== null && _a !== void 0 ? _a : (React__default.createElement(\"a\", { className: \"sendbird-message__bottomsheet--hyperlink\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n        React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { type: LabelTypography.SUBTITLE_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.MESSAGE_MENU__SAVE)))));\n};\n\nvar EMOJI_SIZE = 38;\nvar MobileBottomSheet = function (props) {\n    var _a, _b, _c, _d;\n    var hideMenu = props.hideMenu, channel = props.channel, emojiContainer = props.emojiContainer, message = props.message, replyType = props.replyType, userId = props.userId, resendMessage = props.resendMessage, deleteMessage = props.deleteMessage, toggleReaction = props.toggleReaction, _e = props.isReactionEnabled, isReactionEnabled = _e === void 0 ? false : _e, showEdit = props.showEdit, showRemove = props.showRemove, deleteMenuState = props.deleteMenuState, setQuoteMessage = props.setQuoteMessage, onReplyInThread = props.onReplyInThread, _f = props.isOpenedFromThread, isOpenedFromThread = _f === void 0 ? false : _f, onDownloadClick = props.onDownloadClick, renderMenuItems = props.renderMenuItems;\n    var isByMe = ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === userId;\n    var config = useSendbirdStateContext().config;\n    var isOnline = config.isOnline;\n    var showMenuItemCopy = isUserMessage(message);\n    var showMenuItemEdit = (isUserMessage(message) && isSentMessage(message) && isByMe);\n    var showMenuItemResend = (isOnline && isFailedMessage(message) && (message === null || message === void 0 ? void 0 : message.isResendable) && isByMe);\n    var showMenuItemDelete = !isPendingMessage(message) && isByMe;\n    var showMenuItemDeleteByState = isByMe && (deleteMenuState === undefined || deleteMenuState !== 'HIDE');\n    var showMenuItemDeleteFinal = showMenuItemDeleteByState && showMenuItemDelete;\n    var disableDelete = ((deleteMenuState !== undefined && deleteMenuState === 'DISABLE')\n        || ((_c = (_b = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _b === void 0 ? void 0 : _b.replyCount) !== null && _c !== void 0 ? _c : 0) > 0);\n    var showMenuItemDownload = isSentMessage(message) && isFileMessage(message) && !isVoiceMessage(message);\n    var showReaction = !isFailedMessage(message) && !isPendingMessage(message) && isReactionEnabled;\n    var showMenuItemReply = (replyType === 'QUOTE_REPLY')\n        && !isFailedMessage(message)\n        && !isPendingMessage(message)\n        && ((channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && !(channel === null || channel === void 0 ? void 0 : channel.isBroadcast));\n    var showMenuItemThread = (replyType === 'THREAD') && !isOpenedFromThread\n        && !isFailedMessage(message)\n        && !isPendingMessage(message)\n        && !isThreadMessage(message)\n        && ((channel === null || channel === void 0 ? void 0 : channel.isGroupChannel()) && !(channel === null || channel === void 0 ? void 0 : channel.isBroadcast));\n    var maxEmojisPerRow = Math.floor(window.innerWidth / EMOJI_SIZE) - 1;\n    var _g = useState(false), showEmojisOnly = _g[0], setShowEmojisOnly = _g[1];\n    var emojis = emojiContainer && getEmojiListAll(emojiContainer);\n    var visibleEmojis = showEmojisOnly ? emojis : emojis === null || emojis === void 0 ? void 0 : emojis.slice(0, maxEmojisPerRow);\n    var canShowMoreEmojis = emojis && emojis.length > maxEmojisPerRow;\n    var contextValue = {\n        message: message,\n        hideMenu: hideMenu,\n        setQuoteMessage: setQuoteMessage,\n        onReplyInThread: onReplyInThread,\n        onMoveToParentMessage: function () { },\n        showEdit: showEdit,\n        showRemove: showRemove,\n        deleteMessage: deleteMessage,\n        resendMessage: resendMessage,\n        isOnline: isOnline,\n        disableDeleteMessage: disableDelete,\n        triggerRef: null,\n        containerRef: null,\n        onDownloadClick: onDownloadClick,\n    };\n    return (React__default.createElement(MessageMenuProvider, { value: contextValue },\n        React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n            React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet\" },\n                showReaction && (React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet-reactions\" },\n                    React__default.createElement(\"ul\", { className: \"sendbird-message__bottomsheet-reaction-bar\" },\n                        React__default.createElement(\"div\", { className: classnames('sendbird-message__bottomsheet-reaction-bar__row', showEmojisOnly && 'sendbird-message__bottomsheet-reaction-bar__all') },\n                            visibleEmojis.map(function (emoji) {\n                                var _a, _b, _c;\n                                var isReacted = (_c = (_b = (_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.filter(function (reaction) { return reaction.key === emoji.key; })[0]) === null || _b === void 0 ? void 0 : _b.userIds) === null || _c === void 0 ? void 0 : _c.some(function (reactorId) { return reactorId === userId; });\n                                return (React__default.createElement(ReactionButton, { key: emoji.key, width: \"\".concat(EMOJI_SIZE, \"px\"), height: \"\".concat(EMOJI_SIZE, \"px\"), selected: isReacted, onClick: function () {\n                                        hideMenu();\n                                        toggleReaction === null || toggleReaction === void 0 ? void 0 : toggleReaction(message, emoji.key, isReacted);\n                                    }, testID: \"ui_mobile_emoji_reactions_menu_\".concat(emoji.key) },\n                                    React__default.createElement(ImageRenderer, { url: (emoji === null || emoji === void 0 ? void 0 : emoji.url) || '', width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                            var style = _a.style;\n                                            return (React__default.createElement(\"div\", { style: style },\n                                                React__default.createElement(Icon, { type: IconTypes.QUESTION, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                                        } })));\n                            }),\n                            canShowMoreEmojis && !showEmojisOnly && (React__default.createElement(ReactionButton, { key: \"emoji_more\", width: \"38px\", height: \"38px\", onClick: function () { return setShowEmojisOnly(true); }, testID: \"ui_mobile_emoji_reactions_menu_emojiadd\" },\n                                React__default.createElement(ImageRenderer, { url: '', width: \"28px\", height: \"28px\", placeHolder: function (_a) {\n                                        var style = _a.style;\n                                        return (React__default.createElement(\"div\", { style: style },\n                                            React__default.createElement(Icon, { type: IconTypes.EMOJI_MORE, fillColor: IconColors.ON_BACKGROUND_3, width: \"28px\", height: \"28px\" })));\n                                    } }))))))),\n                !showEmojisOnly && (React__default.createElement(\"div\", { className: \"sendbird-message__bottomsheet--actions\" }, (_d = renderMenuItems === null || renderMenuItems === void 0 ? void 0 : renderMenuItems({\n                    items: {\n                        CopyMenuItem: CopyMenuItem,\n                        EditMenuItem: EditMenuItem,\n                        ResendMenuItem: ResendMenuItem,\n                        ReplyMenuItem: ReplyMenuItem,\n                        ThreadMenuItem: ThreadMenuItem,\n                        DeleteMenuItem: DeleteMenuItem,\n                    },\n                })) !== null && _d !== void 0 ? _d : (React__default.createElement(React__default.Fragment, null,\n                    showMenuItemCopy && React__default.createElement(CopyMenuItem, null),\n                    showMenuItemEdit && React__default.createElement(EditMenuItem, null),\n                    showMenuItemResend && React__default.createElement(ResendMenuItem, null),\n                    showMenuItemReply && React__default.createElement(ReplyMenuItem, null),\n                    showMenuItemThread && React__default.createElement(ThreadMenuItem, null),\n                    showMenuItemDeleteFinal && React__default.createElement(DeleteMenuItem, null),\n                    showMenuItemDownload && React__default.createElement(DownloadMenuItem, null)))))))));\n};\n\nvar MobileMenu = function (props) {\n    return (React__default.createElement(React__default.Fragment, null, (props === null || props === void 0 ? void 0 : props.isReactionEnabled) ? React__default.createElement(MobileBottomSheet, __assign({}, props)) : React__default.createElement(MobileContextMenu, __assign({}, props))));\n};\n\nexport { MobileBottomSheet, MobileContextMenu, MobileMenu, MobileMenu as default };\n//# sourceMappingURL=MobileMenu.js.map\n", "import React__default from 'react';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\n\nfunction ThreadReplies(_a, ref) {\n    var _b;\n    var className = _a.className, threadInfo = _a.threadInfo, onClick = _a.onClick;\n    var _c = threadInfo.mostRepliedUsers, mostRepliedUsers = _c === void 0 ? [] : _c, replyCount = threadInfo.replyCount;\n    var stringSet = useLocalization().stringSet;\n    return (React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies \".concat(className), role: \"button\", onClick: function (e) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n            e === null || e === void 0 ? void 0 : e.stopPropagation();\n        }, onKeyDown: function (e) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n            e === null || e === void 0 ? void 0 : e.stopPropagation();\n        }, ref: ref },\n        React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles\" },\n            mostRepliedUsers.slice(0, 4).map(function (user) {\n                return (React__default.createElement(Avatar, { key: user.userId, className: \"sendbird-ui-thread-replies__user-profiles__avatar\", src: user === null || user === void 0 ? void 0 : user.profileUrl, alt: \"user profile\", width: \"20px\", height: \"20px\" }));\n            }),\n            (mostRepliedUsers === null || mostRepliedUsers === void 0 ? void 0 : mostRepliedUsers.length) >= 5 && (React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles__avatar\" },\n                React__default.createElement(Avatar, { className: \"sendbird-ui-thread-replies__user-profiles__avatar__image\", src: (_b = mostRepliedUsers === null || mostRepliedUsers === void 0 ? void 0 : mostRepliedUsers[4]) === null || _b === void 0 ? void 0 : _b.profileUrl, alt: \"user profile\", width: \"20px\", height: \"20px\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles__avatar__cover\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-ui-thread-replies__user-profiles__avatar__plus\" },\n                    React__default.createElement(Icon, { type: IconTypes.PLUS, fillColor: IconColors.WHITE, width: \"16px\", height: \"16px\" }))))),\n        React__default.createElement(Label, { className: \"sendbird-ui-thread-replies__reply-counts\", type: LabelTypography.CAPTION_2, color: LabelColors.PRIMARY }, replyCount === 1\n            ? \"\".concat(replyCount, \" \").concat(stringSet.CHANNEL__THREAD_REPLY)\n            : \"\".concat(replyCount > 99 ? stringSet.CHANNEL__THREAD_OVER_MAX : replyCount, \" \").concat(stringSet.CHANNEL__THREAD_REPLIES)),\n        React__default.createElement(Icon, { className: \"sendbird-ui-thread-replies__icon\", type: IconTypes.CHEVRON_RIGHT, fillColor: IconColors.PRIMARY, width: \"16px\", height: \"16px\" })));\n}\nvar ThreadReplies$1 = React__default.forwardRef(ThreadReplies);\n\nexport { ThreadReplies, ThreadReplies$1 as default };\n//# sourceMappingURL=ThreadReplies.js.map\n", "import React__default, { useContext, useMemo, useRef, useEffect } from 'react';\nimport ImageRenderer from './ImageRenderer.js';\nimport Icon, { IconTypes } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { w as getClassName, d as isEditedMessage } from '../chunks/bundle-D-cVbGxk.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { T as TextFragment } from '../chunks/bundle-NWVriOUB.js';\nimport { t as tokenizeMessage } from '../chunks/bundle-DtlqJEe7.js';\nimport { O as OG_MESSAGE_BODY_CLASSNAME } from '../chunks/bundle-fSuFm2tD.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { o as openURL, c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../Message/context.js';\nimport './MentionLabel.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport './IconButton.js';\nimport './UserProfile.js';\nimport '../chunks/bundle-BKxPk2t0.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport '../chunks/bundle-C76-LA1E.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './Button.js';\nimport '../useSendbirdStateContext.js';\nimport './LinkLabel.js';\n\nfunction OGMessageItemBody(_a) {\n    var _b, _c, _d, _e;\n    var className = _a.className, message = _a.message, _f = _a.isByMe, isByMe = _f === void 0 ? false : _f, _g = _a.mouseHover, mouseHover = _g === void 0 ? false : _g, _h = _a.isMentionEnabled, isMentionEnabled = _h === void 0 ? false : _h, _j = _a.isReactionEnabled, isReactionEnabled = _j === void 0 ? false : _j, _k = _a.isMarkdownEnabled, isMarkdownEnabled = _k === void 0 ? false : _k, _l = _a.onMessageHeightChange, onMessageHeightChange = _l === void 0 ? function () {\n        /* noop */\n    } : _l;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isMessageMentioned = isMentionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate) === null || _b === void 0 ? void 0 : _b.length) > 0 && (message === null || message === void 0 ? void 0 : message.mentionedUsers) && ((_c = message === null || message === void 0 ? void 0 : message.mentionedUsers) === null || _c === void 0 ? void 0 : _c.length) > 0;\n    var tokens = useMemo(function () {\n        var _a;\n        if (isMessageMentioned) {\n            return tokenizeMessage({\n                mentionedUsers: (_a = message === null || message === void 0 ? void 0 : message.mentionedUsers) !== null && _a !== void 0 ? _a : undefined,\n                messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                includeMarkdown: isMarkdownEnabled,\n            });\n        }\n        return tokenizeMessage({\n            messageText: message === null || message === void 0 ? void 0 : message.message,\n            includeMarkdown: isMarkdownEnabled,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    var openOpenGraphURL = function () { var _a; return openURL((_a = message === null || message === void 0 ? void 0 : message.ogMetaData) === null || _a === void 0 ? void 0 : _a.url); };\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            'sendbird-og-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            isReactionEnabled && ((_d = message === null || message === void 0 ? void 0 : message.reactions) === null || _d === void 0 ? void 0 : _d.length) > 0 ? 'reactions' : '',\n        ]) },\n        React__default.createElement(Label, { type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 },\n            React__default.createElement(\"div\", { className: OG_MESSAGE_BODY_CLASSNAME },\n                React__default.createElement(TextFragment, { tokens: tokens }),\n                isEditedMessage(message) && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__text-bubble__message\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2 }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))),\n        ((_e = message.ogMetaData) === null || _e === void 0 ? void 0 : _e.defaultImage) && (React__default.createElement(OGImageSection, { onClick: openOpenGraphURL, ogImage: message.ogMetaData.defaultImage, onMessageHeightChange: onMessageHeightChange })),\n        message.ogMetaData && (React__default.createElement(OGDescriptionSection, { onClick: openOpenGraphURL, ogMetaData: message.ogMetaData, onMessageHeightChange: onMessageHeightChange })),\n        React__default.createElement(\"div\", { className: \"sendbird-og-message-item-body__cover\" })));\n}\nvar OGImageSection = function (props) {\n    var onClick = props.onClick, ogImage = props.ogImage, onMessageHeightChange = props.onMessageHeightChange;\n    var imageRef = useRef(null);\n    var isMobile = useMediaQueryContext().isMobile;\n    return (React__default.createElement(\"div\", { ref: imageRef, className: classnames('sendbird-og-message-item-body__og-thumbnail', !ogImage.url && 'sendbird-og-message-item-body__og-thumbnail__empty'), onClick: function () { return onClick(); } },\n        React__default.createElement(ImageRenderer, { className: \"sendbird-og-message-item-body__og-thumbnail__image\", url: ogImage.url || '', alt: ogImage.alt || '', width: \"100%\", height: isMobile ? '136px' : '240px', onLoad: onMessageHeightChange, onError: function () {\n                var _a, _b;\n                try {\n                    (_b = (_a = imageRef === null || imageRef === void 0 ? void 0 : imageRef.current) === null || _a === void 0 ? void 0 : _a.classList) === null || _b === void 0 ? void 0 : _b.add('sendbird-og-message-item-body__og-thumbnail__empty');\n                }\n                catch (error) {\n                    // do nothing\n                }\n            }, defaultComponent: React__default.createElement(\"div\", { className: \"sendbird-og-message-item-body__og-thumbnail__place-holder\" },\n                React__default.createElement(Icon, { className: \"sendbird-og-message-item-body__og-thumbnail__place-holder__icon\", type: IconTypes.THUMBNAIL_NONE, width: \"56px\", height: \"56px\" })) })));\n};\nvar OGDescriptionSection = function (props) {\n    var onClick = props.onClick, ogMetaData = props.ogMetaData, onMessageHeightChange = props.onMessageHeightChange;\n    useEffect(function () {\n        onMessageHeightChange();\n    }, [ogMetaData.title, ogMetaData.description, ogMetaData.url]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-og-message-item-body__description\", onClick: function () { return onClick(); } },\n        ogMetaData.title && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__description__title\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_1 }, ogMetaData.title)),\n        ogMetaData.description && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__description__description\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_1 }, ogMetaData.description)),\n        ogMetaData.url && (React__default.createElement(Label, { className: \"sendbird-og-message-item-body__description__url\", type: LabelTypography.CAPTION_3, color: LabelColors.ONBACKGROUND_2 }, ogMetaData.url))));\n};\n\nexport { OGMessageItemBody as default };\n//# sourceMappingURL=OGMessageItemBody.js.map\n", "import React__default from 'react';\nimport { K } from './bundle-D-cVbGxk.js';\nimport { T as TOKEN_TYPES, a as tokenizeMarkdown, U as USER_MENTION_PREFIX, g as getWhiteSpacePreservedText } from './bundle-DtlqJEe7.js';\nimport { useMessageContext } from '../Message/context.js';\nimport MentionLabel from '../ui/MentionLabel.js';\nimport LinkLabel from '../ui/LinkLabel.js';\nimport { a as LabelTypography, b as LabelColors } from './bundle-CEZ0D4qz.js';\n\n// this function is used to generate a unique key for token in message\n// it changes with updated time and index\n// messageUpdatedAt is the key part of this key generator\nfunction keyGenerator(createdAt, messageUpdatedAt, index) {\n    return \"sb-msg_\".concat(createdAt, \"_\").concat(messageUpdatedAt, \"_\").concat(index);\n}\n\nfunction asSafeURL(url) {\n    var safeURL = decodeURIComponent(url);\n    try {\n        var protocol_1 = new URL(safeURL).protocol;\n        if (['https:', 'http:'].some(function (it) { return it === protocol_1.toLowerCase(); })) {\n            return safeURL;\n        }\n        else {\n            return '#';\n        }\n    }\n    catch (error) {\n        if (!safeURL.startsWith('http://') && !safeURL.startsWith('https://')) {\n            safeURL = 'https://' + safeURL;\n        }\n    }\n    return safeURL;\n}\n\nfunction TextFragment(_a) {\n    var tokens = _a.tokens;\n    var messageStore = useMessageContext();\n    var message = messageStore === null || messageStore === void 0 ? void 0 : messageStore.message;\n    var isByMe = messageStore === null || messageStore === void 0 ? void 0 : messageStore.isByMe;\n    var updatedAt = message.updatedAt, createdAt = message.createdAt;\n    return (React__default.createElement(React__default.Fragment, null, tokens === null || tokens === void 0 ? void 0 : tokens.map(function (token, idx) {\n        var key = keyGenerator(createdAt, updatedAt, idx);\n        return K(token.type)\n            .with(TOKEN_TYPES.markdown, function () {\n            var markdownToken = token;\n            var groups = markdownToken.groups;\n            return React__default.createElement(\"span\", { className: \"sendbird-word\", key: key, \"data-testid\": \"sendbird-ui-word\" }, K(markdownToken.markdownType)\n                .with('bold', function () { return (React__default.createElement(\"span\", { style: { fontWeight: 'bold' } },\n                React__default.createElement(TextFragment, { tokens: tokenizeMarkdown({ messageText: groups[1] }) }))); })\n                .with('url', function () {\n                return (React__default.createElement(\"a\", { className: isByMe\n                        ? 'sendbird-label--color-oncontent-1'\n                        : 'sendbird-label--color-onbackground-1', href: asSafeURL(groups[2]) },\n                    React__default.createElement(TextFragment, { tokens: tokenizeMarkdown({ messageText: groups[1] }) })));\n            })\n                .otherwise(function () { return React__default.createElement(React__default.Fragment, null); }));\n        })\n            .with(TOKEN_TYPES.mention, function () { return (React__default.createElement(\"span\", { className: \"sendbird-word\", key: key, \"data-testid\": \"sendbird-ui-word\" },\n            React__default.createElement(MentionLabel, { mentionTemplate: USER_MENTION_PREFIX, \n                // @ts-ignore\n                mentionedUserId: token.userId, mentionedUserNickname: token.value, isByMe: isByMe }))); })\n            .with(TOKEN_TYPES.url, function () { return (React__default.createElement(\"span\", { className: \"sendbird-word\", key: key, \"data-testid\": \"sendbird-ui-word\" },\n            React__default.createElement(LinkLabel, { src: token.value, type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, token.value))); })\n            .otherwise(function () { return React__default.createElement(React__default.Fragment, { key: key }, getWhiteSpacePreservedText(token.value)); });\n    })));\n}\n\nexport { TextFragment as T };\n//# sourceMappingURL=bundle-NWVriOUB.js.map\n", "import React__default, { useRef, useState, useCallback } from 'react';\nimport { C as ContextMenu, b as MenuItems } from '../chunks/bundle-C7VSBUKJ.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport UserProfile from './UserProfile.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport 'react-dom';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport './IconButton.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-BKxPk2t0.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport '../chunks/bundle-C76-LA1E.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './Icon.js';\nimport './Button.js';\n\nfunction MentionLabel(props) {\n    var _a, _b, _c;\n    var mentionTemplate = props.mentionTemplate, mentionedUserId = props.mentionedUserId, mentionedUserNickname = props.mentionedUserNickname, isByMe = props.isByMe;\n    var mentionRef = useRef();\n    var sendbirdState = useSendbirdStateContext();\n    var userId = (_a = sendbirdState === null || sendbirdState === void 0 ? void 0 : sendbirdState.config) === null || _a === void 0 ? void 0 : _a.userId;\n    var sdk = (_c = (_b = sendbirdState === null || sendbirdState === void 0 ? void 0 : sendbirdState.stores) === null || _b === void 0 ? void 0 : _b.sdkStore) === null || _c === void 0 ? void 0 : _c.sdk;\n    var amIBeingMentioned = userId === mentionedUserId;\n    var _d = useState(), user = _d[0], setUser = _d[1];\n    var fetchUser = useCallback(function (toggleDropdown) {\n        if (user || !(sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery)) {\n            toggleDropdown();\n            return;\n        }\n        var query = sdk === null || sdk === void 0 ? void 0 : sdk.createApplicationUserListQuery({\n            userIdsFilter: [mentionedUserId],\n        });\n        query.next().then(function (members) {\n            if ((members === null || members === void 0 ? void 0 : members.length) > 0) {\n                setUser(members[0]);\n            }\n            toggleDropdown();\n        });\n    }, [sdk, mentionedUserId]);\n    return (React__default.createElement(ContextMenu, { menuTrigger: function (toggleDropdown) { return (React__default.createElement(\"a\", { className: classnames('sendbird-word__mention', amIBeingMentioned && 'sendbird-word__mention--me'), onClick: function () { return fetchUser(toggleDropdown); }, ref: mentionRef, \"data-userid\": mentionedUserId, \"data-nickname\": mentionedUserNickname, \"data-sb-mention\": true },\n            React__default.createElement(Label, { type: LabelTypography.CAPTION_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, \"\".concat(mentionTemplate).concat(mentionedUserNickname)))); }, menuItems: function (closeDropdown) { return (React__default.createElement(MenuItems\n        /**\n        * parentRef: For catching location(x, y) of MenuItems\n        * parentContainRef: For toggling more options(menus & reactions)\n        */\n        , { \n            /**\n            * parentRef: For catching location(x, y) of MenuItems\n            * parentContainRef: For toggling more options(menus & reactions)\n            */\n            parentRef: mentionRef, parentContainRef: mentionRef, closeDropdown: closeDropdown, style: { paddingTop: '0px', paddingBottom: '0px' } },\n            React__default.createElement(UserProfile, { user: user, onSuccess: closeDropdown, currentUserId: userId }))); } }));\n}\n\nexport { MentionLabel as default };\n//# sourceMappingURL=MentionLabel.js.map\n", "import { c as __spreadArray } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { L as Label, d as changeColorToClassName, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { o as openURL } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nvar http = /https?:\\/\\//;\nfunction LinkLabel(_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, src = _a.src, type = _a.type, color = _a.color, children = _a.children;\n    var url = http.test(src) ? src : \"http://\".concat(src);\n    return (React__default.createElement(\"a\", { className: __spreadArray(__spreadArray([], (Array.isArray(className) ? className : [className]), true), [\n            'sendbird-link-label',\n            changeColorToClassName(color),\n        ], false).join(' '), href: url, target: \"_blank\", rel: \"noopener noreferrer\", \n        // for mobile\n        onTouchEnd: function (e) {\n            e.preventDefault();\n            e.nativeEvent.stopImmediatePropagation();\n            openURL(url);\n        } },\n        React__default.createElement(Label, { className: \"sendbird-link-label__label\", testID: \"sendbird-link-label__label\", type: type, color: color }, children)));\n}\nvar LinkLabelTypography = LabelTypography;\nvar LinkLabelColors = LabelColors;\n\nexport { LinkLabelColors, LinkLabelTypography, LinkLabel as default };\n//# sourceMappingURL=LinkLabel.js.map\n", "import React__default, { useContext, useMemo } from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { w as getClassName, d as isEditedMessage } from '../chunks/bundle-D-cVbGxk.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { t as tokenizeMessage } from '../chunks/bundle-DtlqJEe7.js';\nimport { T as TextFragment } from '../chunks/bundle-NWVriOUB.js';\nimport { T as TEXT_MESSAGE_BODY_CLASSNAME } from '../chunks/bundle-BVBoUWl2.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../Message/context.js';\nimport './MentionLabel.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport 'react-dom';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport './SortByRow.js';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '../withSendbird.js';\nimport './IconButton.js';\nimport './UserProfile.js';\nimport '../chunks/bundle-BKxPk2t0.js';\nimport '../sendbirdSelectors.js';\nimport '../chunks/bundle-DZhG3Z6D.js';\nimport '../chunks/bundle-C76-LA1E.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './Icon.js';\nimport './Button.js';\nimport '../useSendbirdStateContext.js';\nimport './LinkLabel.js';\n\nfunction TextMessageItemBody(_a) {\n    var _b;\n    var _c = _a.className, className = _c === void 0 ? '' : _c, message = _a.message, _d = _a.isByMe, isByMe = _d === void 0 ? false : _d, _e = _a.mouseHover, mouseHover = _e === void 0 ? false : _e, _f = _a.isMentionEnabled, isMentionEnabled = _f === void 0 ? false : _f, _g = _a.isReactionEnabled, isReactionEnabled = _g === void 0 ? false : _g, _h = _a.isMarkdownEnabled, isMarkdownEnabled = _h === void 0 ? false : _h;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isMessageMentioned = isMentionEnabled\n        && (message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate)\n        && message.mentionedMessageTemplate.length > 0\n        && (message === null || message === void 0 ? void 0 : message.mentionedUsers)\n        && message.mentionedUsers.length > 0;\n    var tokens = useMemo(function () {\n        var _a;\n        if (isMessageMentioned) {\n            return tokenizeMessage({\n                mentionedUsers: (_a = message === null || message === void 0 ? void 0 : message.mentionedUsers) !== null && _a !== void 0 ? _a : undefined,\n                messageText: message === null || message === void 0 ? void 0 : message.mentionedMessageTemplate,\n                includeMarkdown: isMarkdownEnabled,\n            });\n        }\n        return tokenizeMessage({\n            messageText: message === null || message === void 0 ? void 0 : message.message,\n            includeMarkdown: isMarkdownEnabled,\n        });\n    }, [message === null || message === void 0 ? void 0 : message.updatedAt, message === null || message === void 0 ? void 0 : message.message]);\n    return (React__default.createElement(Label, { type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 },\n        React__default.createElement(\"div\", { className: getClassName([\n                className,\n                TEXT_MESSAGE_BODY_CLASSNAME,\n                isByMe ? 'outgoing' : 'incoming',\n                mouseHover ? 'mouse-hover' : '',\n                (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n            ]) },\n            React__default.createElement(TextFragment, { tokens: tokens }),\n            isEditedMessage(message) && (React__default.createElement(Label, { className: \"sendbird-text-message-item-body__message edited\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2 }, \" \".concat(stringSet.MESSAGE_EDITED, \" \"))))));\n}\n\nexport { TextMessageItemBody as default };\n//# sourceMappingURL=TextMessageItemBody.js.map\n", "import { a as __awaiter, b as __generator } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport TextButton from './TextButton.js';\nimport { w as getClassName, o as getUIKitFileType, t as truncateString } from '../chunks/bundle-D-cVbGxk.js';\nimport { C as Colors } from '../chunks/bundle-CTaD4y3Q.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { o as openURL } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../withSendbird.js';\n\nfunction FileMessageItemBody(_a) {\n    var _this = this;\n    var _b, _c, _d;\n    var _e = _a.className, className = _e === void 0 ? '' : _e, message = _a.message, _f = _a.isByMe, isByMe = _f === void 0 ? false : _f, _g = _a.mouseHover, mouseHover = _g === void 0 ? false : _g, _h = _a.isReactionEnabled, isReactionEnabled = _h === void 0 ? false : _h, truncateLimit = _a.truncateLimit, onBeforeDownloadFileMessage = _a.onBeforeDownloadFileMessage;\n    var logger = null;\n    try {\n        logger = (_c = (_b = useSendbirdStateContext()) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.logger;\n    }\n    catch (err) {\n        // TODO: Handle error\n    }\n    var isMobile = useMediaQueryContext().isMobile;\n    var truncateMaxNum = truncateLimit !== null && truncateLimit !== void 0 ? truncateLimit : (isMobile ? 20 : undefined);\n    var downloadFileWithUrl = function () { return openURL(message === null || message === void 0 ? void 0 : message.url); };\n    var handleOnClickTextButton = onBeforeDownloadFileMessage\n        ? function () { return __awaiter(_this, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _c.trys.push([0, 2, , 3]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message })];\n                    case 1:\n                        allowDownload = _c.sent();\n                        if (allowDownload) {\n                            downloadFileWithUrl();\n                        }\n                        else {\n                            (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'FileMessageItemBody: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 3];\n                    case 2:\n                        err_1 = _c.sent();\n                        (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'FileMessageItemBody: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        }); }\n        : downloadFileWithUrl;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className,\n            'sendbird-file-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            (isReactionEnabled && ((_d = message === null || message === void 0 ? void 0 : message.reactions) === null || _d === void 0 ? void 0 : _d.length) > 0) ? 'reactions' : '',\n        ]) },\n        React__default.createElement(\"div\", { className: \"sendbird-file-message-item-body__file-icon\" },\n            React__default.createElement(Icon, { className: \"sendbird-file-message-item-body__file-icon__icon\", type: {\n                    IMAGE: IconTypes.PHOTO,\n                    VIDEO: IconTypes.PLAY,\n                    AUDIO: IconTypes.FILE_AUDIO,\n                    GIF: IconTypes.GIF,\n                    OTHERS: IconTypes.FILE_DOCUMENT,\n                }[getUIKitFileType(message === null || message === void 0 ? void 0 : message.type)], fillColor: IconColors.PRIMARY, width: \"24px\", height: \"24px\" })),\n        React__default.createElement(TextButton, { className: \"sendbird-file-message-item-body__file-name\", onClick: handleOnClickTextButton, color: isByMe ? Colors.ONCONTENT_1 : Colors.ONBACKGROUND_1 },\n            React__default.createElement(Label, { className: \"sendbird-file-message-item-body__file-name__text\", testID: \"sendbird-file-message-item-body__file-name__text\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, truncateString((message === null || message === void 0 ? void 0 : message.name) || (message === null || message === void 0 ? void 0 : message.url), truncateMaxNum)))));\n}\n\nexport { FileMessageItemBody as default };\n//# sourceMappingURL=FileMessageItemBody.js.map\n", "import React__default, { useState, useMemo, useRef, useEffect } from 'react';\nimport { a as __awaiter, b as __generator, _ as __assign } from './bundle-B1SLZ0HT.js';\nimport { SendingStatus } from '@sendbird/chat/message';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport ImageRenderer, { getBorderRadiusForMultipleImageRenderer } from '../ui/ImageRenderer.js';\nimport { w as getClassName, z as isGif, K } from './bundle-D-cVbGxk.js';\nimport FileViewer from '../ui/FileViewer.js';\n\nfunction ImageGrid(_a) {\n    var _b;\n    var children = _a.children, className = _a.className, message = _a.message, isReactionEnabled = _a.isReactionEnabled;\n    return (React__default.createElement(\"div\", { className: 'sendbird-image-grid-wrap' },\n        React__default.createElement(\"div\", { className: getClassName([\n                className !== null && className !== void 0 ? className : '',\n                'sendbird-image-grid',\n                (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n            ]) }, children)));\n}\n\nvar GRID_WIDTH_CHAT_WEB = 400;\nvar GRID_SIDE_PADDING = 8;\nvar GRID_GAP = 4;\nvar TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN = 54;\nvar PROFILE_IMAGE_WIDTH = 40;\nvar CHAT_MOBILE_SIDE_PADDING = 48;\nvar THREAD_PARENT_WIDTH = 320;\nvar THREAD_PARENT_SIDE_PADDING = 28;\nvar THREAD_PARENT_GRID_MARGIN_LEFT = 12;\nvar THREAD_CHILD_WIDTH = 200;\nvar THREAD_CHILD_SIDE_PADDING = 8;\nvar THREAD_CHILD_MOBILE_SIDE_PADDING = 32;\nvar THREAD_CHILD_MOBILE_TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN = 60;\nvar MULTIPLE_FILES_IMAGE_SIDE_LENGTH = {\n    CHAT_WEB: \"calc(\".concat(GRID_WIDTH_CHAT_WEB / 2, \"px - \").concat((GRID_SIDE_PADDING + GRID_GAP) / 2, \"px)\"),\n    CHAT_MOBILE: \"calc(50vw - \".concat((CHAT_MOBILE_SIDE_PADDING + PROFILE_IMAGE_WIDTH + TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN + GRID_SIDE_PADDING + GRID_GAP) / 2, \"px)\"),\n    THREAD_PARENT_WEB: \"calc(\".concat((THREAD_PARENT_WIDTH - (THREAD_PARENT_SIDE_PADDING + PROFILE_IMAGE_WIDTH + THREAD_PARENT_GRID_MARGIN_LEFT + GRID_GAP)) / 2, \"px)\"),\n    THREAD_PARENT_MOBILE: \"calc(50vw - \".concat((THREAD_PARENT_SIDE_PADDING + PROFILE_IMAGE_WIDTH + THREAD_PARENT_GRID_MARGIN_LEFT + GRID_GAP) / 2, \"px)\"),\n    THREAD_CHILD_WEB: \"calc(\".concat((THREAD_CHILD_WIDTH - THREAD_CHILD_SIDE_PADDING - GRID_GAP) / 2, \"px)\"),\n    THREAD_CHILD_MOBILE: \"calc(50vw - \".concat((THREAD_CHILD_MOBILE_SIDE_PADDING + PROFILE_IMAGE_WIDTH + THREAD_CHILD_MOBILE_TIMESTAMP_WIDTH_AND_ITS_SIDE_MARGIN + GRID_SIDE_PADDING + GRID_GAP) / 2, \"px)\"),\n};\nvar MULTIPLE_FILES_IMAGE_BORDER_RADIUS = {\n    CHAT_WEB: '6px',\n    CHAT_MOBILE: '6px',\n    THREAD_PARENT_WEB: '6px',\n    THREAD_PARENT_MOBILE: '6px',\n    THREAD_CHILD_WEB: '6px',\n    THREAD_CHILD_MOBILE: '6px',\n};\nvar MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH = '34px';\n\nvar ThreadMessageKind = {\n    PARENT: 'parent',\n    CHILD: 'child',\n};\nfunction MultipleFilesMessageItemBody(_a) {\n    var _this = this;\n    var _b, _c;\n    var className = _a.className, message = _a.message, _d = _a.isReactionEnabled, isReactionEnabled = _d === void 0 ? false : _d, threadMessageKindKey = _a.threadMessageKindKey, _e = _a.statefulFileInfoList, statefulFileInfoList = _e === void 0 ? [] : _e, _f = _a.onBeforeDownloadFileMessage, onBeforeDownloadFileMessage = _f === void 0 ? null : _f;\n    var logger = (_c = (_b = useSendbirdStateContext === null || useSendbirdStateContext === void 0 ? void 0 : useSendbirdStateContext()) === null || _b === void 0 ? void 0 : _b.config) === null || _c === void 0 ? void 0 : _c.logger;\n    var _g = useState(-1), currentFileViewerIndex = _g[0], setCurrentFileViewerIndex = _g[1];\n    function onClose() {\n        setCurrentFileViewerIndex(-1);\n    }\n    function onClickLeft() {\n        setCurrentFileViewerIndex(currentFileViewerIndex === 0 ? statefulFileInfoList.length - 1 : currentFileViewerIndex - 1);\n    }\n    function onClickRight() {\n        setCurrentFileViewerIndex(currentFileViewerIndex === statefulFileInfoList.length - 1 ? 0 : currentFileViewerIndex + 1);\n    }\n    return (threadMessageKindKey ? (React__default.createElement(React__default.Fragment, null,\n        currentFileViewerIndex > -1 && (React__default.createElement(FileViewer, { message: message, statefulFileInfoList: statefulFileInfoList, currentIndex: currentFileViewerIndex, onClickLeft: onClickLeft, onClickRight: onClickRight, onClose: onClose, onDownloadClick: function (e) { return __awaiter(_this, void 0, void 0, function () {\n                var allowDownload, err_1;\n                var _a, _b;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (!onBeforeDownloadFileMessage)\n                                return [2 /*return*/];\n                            _c.label = 1;\n                        case 1:\n                            _c.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, onBeforeDownloadFileMessage({ message: message, index: currentFileViewerIndex })];\n                        case 2:\n                            allowDownload = _c.sent();\n                            if (!allowDownload) {\n                                e.preventDefault();\n                                (_a = logger === null || logger === void 0 ? void 0 : logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'MultipleFilesMessageItemBody: Not allowed to download.');\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _c.sent();\n                            (_b = logger === null || logger === void 0 ? void 0 : logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'MultipleFilesMessageItemBody: Error occurred while determining download continuation:', err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); } })),\n        React__default.createElement(ImageGrid, { className: className, message: message, isReactionEnabled: isReactionEnabled }, statefulFileInfoList.map(function (fileInfo, index) {\n            var _a, _b, _c, _d;\n            return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer-wrapper\", onClick: message.sendingStatus === SendingStatus.SUCCEEDED ? function () { return setCurrentFileViewerIndex(index); } : undefined, key: \"sendbird-multiple-files-image-renderer-\".concat(index, \"-\").concat(fileInfo.url) },\n                React__default.createElement(ImageRenderer, { url: (_d = (_c = (_b = (_a = fileInfo.thumbnails) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.url) !== null && _c !== void 0 ? _c : fileInfo.url) !== null && _d !== void 0 ? _d : '', fixedSize: false, width: MULTIPLE_FILES_IMAGE_SIDE_LENGTH[threadMessageKindKey], maxSideLength: MULTIPLE_FILES_IMAGE_SIDE_LENGTH.CHAT_WEB, height: MULTIPLE_FILES_IMAGE_SIDE_LENGTH[threadMessageKindKey], borderRadius: getBorderRadiusForMultipleImageRenderer(MULTIPLE_FILES_IMAGE_BORDER_RADIUS[threadMessageKindKey], index, statefulFileInfoList.length), shadeOnHover: true, isUploaded: !!fileInfo.isUploaded, placeHolder: function (_a) {\n                        var style = _a.style;\n                        if (fileInfo.mimeType && isGif(fileInfo.mimeType))\n                            return React__default.createElement(ImagePlaceholder.GIF, { style: style });\n                        return React__default.createElement(ImagePlaceholder.Default, { style: style });\n                    }, defaultComponent: React__default.createElement(ImagePlaceholder.LoadError, null) })));\n        })))) : React__default.createElement(React__default.Fragment, null));\n}\nvar ImagePlaceholder = {\n    Default: function (_a) {\n        var style = _a.style;\n        return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder\", style: style },\n            React__default.createElement(Icon, { type: IconTypes.PHOTO, fillColor: IconColors.ON_BACKGROUND_2, width: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH, height: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH })));\n    },\n    GIF: function (_a) {\n        var style = _a.style;\n        return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder\", style: style },\n            React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder__icon\" },\n                React__default.createElement(Icon, { type: IconTypes.GIF, fillColor: IconColors.THUMBNAIL_ICON, width: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH, height: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH }))));\n    },\n    LoadError: function () { return (React__default.createElement(\"div\", { className: \"sendbird-multiple-files-image-renderer__thumbnail__placeholder\" },\n        React__default.createElement(Icon, { type: IconTypes.THUMBNAIL_NONE, fillColor: IconColors.ON_BACKGROUND_2, width: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH, height: MULTIPLE_FILES_IMAGE_THUMBNAIL_SIDE_LENGTH }))); },\n};\n\nfunction useThreadMessageKindKeySelector(_a) {\n    var threadMessageKind = _a.threadMessageKind, isMobile = _a.isMobile;\n    var threadMessageKindKey = useMemo(function () {\n        return K(threadMessageKind)\n            .with(ThreadMessageKind.PARENT, function () { return (isMobile\n            ? 'THREAD_PARENT_MOBILE'\n            : 'THREAD_PARENT_WEB'); })\n            .with(ThreadMessageKind.CHILD, function () { return (isMobile\n            ? 'THREAD_CHILD_MOBILE'\n            : 'THREAD_CHILD_WEB'); })\n            .otherwise(function () { return (isMobile\n            ? 'CHAT_MOBILE'\n            : 'CHAT_WEB'); });\n    }, [isMobile, threadMessageKind]);\n    return threadMessageKindKey;\n}\n\n// SendingStatus.SCHEDULED is currently not covered in UIKit\n//  So we can ignore for now, but for future, it is better to explicitly use PENDING, FAILED, or CANCELED.\nvar useFileInfoListWithUploaded = function (message) {\n    var _a, _b;\n    var blobHandler = useRef(new Map());\n    var getObjectURL = function (index, blob) {\n        if (!blobHandler.current.has(index) && blob)\n            blobHandler.current.set(index, URL.createObjectURL(blob));\n        return blobHandler.current.get(index);\n    };\n    var revokeURLs = function () {\n        if (blobHandler.current.size > 0) {\n            blobHandler.current.forEach(function (url) { return URL.revokeObjectURL(url); });\n            blobHandler.current.clear();\n        }\n    };\n    useEffect(function () {\n        return function () { return revokeURLs(); };\n    }, []);\n    if (!message || !message.isMultipleFilesMessage || !message.isMultipleFilesMessage()) {\n        return [];\n    }\n    else if (message.sendingStatus === SendingStatus.SUCCEEDED) {\n        revokeURLs();\n        return message.fileInfoList.map(function (it) {\n            var _a, _b;\n            return (__assign(__assign({}, it), { url: it.url, isUploaded: true, mimeType: (_a = it.mimeType) !== null && _a !== void 0 ? _a : undefined, fileName: (_b = it.fileName) !== null && _b !== void 0 ? _b : undefined }));\n        });\n    }\n    else {\n        return (_b = (_a = message === null || message === void 0 ? void 0 : message.messageParams) === null || _a === void 0 ? void 0 : _a.fileInfoList.map(function (it, index) {\n            var _a, _b;\n            return (__assign(__assign({}, it), { url: (_b = (_a = getObjectURL(index)) !== null && _a !== void 0 ? _a : it.fileUrl) !== null && _b !== void 0 ? _b : (it.file instanceof Blob ? getObjectURL(index, it.file) : undefined), isUploaded: !it.file && typeof it.fileUrl === 'string' && it.fileUrl.length > 0 }));\n        })) !== null && _b !== void 0 ? _b : [];\n    }\n};\n\nexport { MultipleFilesMessageItemBody as M, ThreadMessageKind as T, useFileInfoListWithUploaded as a, useThreadMessageKindKeySelector as u };\n//# sourceMappingURL=bundle-Bt68jirZ.js.map\n", "import { _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { a as MODAL_ROOT, M as Modal } from '../chunks/bundle-Bh6KfMRl.js';\nimport { c as isMultipleFilesMessage, b as isFileMessage, f as isSupportedFileView, h as isVideo, j as isImage } from '../chunks/bundle-D-cVbGxk.js';\nimport { n as noop } from '../chunks/bundle-CtBgdgkK.js';\nimport { A as Avatar } from '../chunks/bundle-C76-LA1E.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { m as SLIDER_BUTTON_ICON_SIDE_LENGTH } from '../chunks/bundle-c4e24Qt4.js';\nimport { u as useKeyDown } from '../chunks/bundle-DTOg7Xzt.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport './IconButton.js';\nimport './Button.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '@sendbird/chat/groupChannel';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../useSendbirdStateContext.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport './SortByRow.js';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-DYIdeEpd.js';\n\n// https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Complete_list_of_MIME_types\nvar ViewerTypes = {\n    SINGLE: 'SINGLE',\n    MULTI: 'MULTI',\n};\n\nfunction mapFileViewerComponentProps(_a) {\n    var props = _a.props;\n    if (props.viewerType === ViewerTypes.MULTI) {\n        var _b = props, fileInfoList = _b.fileInfoList, currentIndex = _b.currentIndex;\n        return fileInfoList[currentIndex];\n    }\n    var fileInfo = props;\n    return {\n        name: fileInfo.name,\n        type: fileInfo.type,\n        url: fileInfo.url,\n    };\n}\n\nfunction DeleteButton(props) {\n    if (props.viewerType !== ViewerTypes.MULTI) {\n        var onDelete_1 = props.onDelete, isByMe = props.isByMe, disableDelete_1 = props.disableDelete, className = props.className;\n        return (isByMe)\n            ? (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__delete \".concat(className) },\n                React__default.createElement(Icon, { className: disableDelete_1 ? 'disabled' : '', type: IconTypes.DELETE, fillColor: disableDelete_1 ? IconColors.GRAY : IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function (e) { if (!disableDelete_1) {\n                        onDelete_1 === null || onDelete_1 === void 0 ? void 0 : onDelete_1(e);\n                    } } })))\n            : React__default.createElement(React__default.Fragment, null);\n    }\n    return React__default.createElement(React__default.Fragment, null);\n}\n\n// this is a slider component that is used to navigate between images\nfunction Slider(props) {\n    if (props.viewerType === ViewerTypes.MULTI) {\n        var onClickLeft_1 = props.onClickLeft, onClickRight_1 = props.onClickRight;\n        return (React__default.createElement(\"div\", { className: \"sendbird-file-viewer-slider\" },\n            React__default.createElement(\"div\", { className: \"sendbird-file-viewer-arrow--left\" },\n                React__default.createElement(Icon, { type: IconTypes.SLIDE_LEFT, fillColor: IconColors.ON_BACKGROUND_1, height: SLIDER_BUTTON_ICON_SIDE_LENGTH, width: SLIDER_BUTTON_ICON_SIDE_LENGTH, onClick: function (e) {\n                        onClickLeft_1 === null || onClickLeft_1 === void 0 ? void 0 : onClickLeft_1();\n                        e.stopPropagation();\n                    } })),\n            React__default.createElement(\"div\", { className: \"sendbird-file-viewer-arrow--right\" },\n                React__default.createElement(Icon, { type: IconTypes.SLIDE_LEFT, fillColor: IconColors.ON_BACKGROUND_1, height: SLIDER_BUTTON_ICON_SIDE_LENGTH, width: SLIDER_BUTTON_ICON_SIDE_LENGTH, onClick: function (e) {\n                        e.stopPropagation();\n                        onClickRight_1 === null || onClickRight_1 === void 0 ? void 0 : onClickRight_1();\n                    } }))));\n    }\n    // return empty fragment if viewerType is not ViewerTypes.MULTI\n    return React__default.createElement(React__default.Fragment, null);\n}\n\nvar FileViewerComponent = function (props) {\n    var profileUrl = props.profileUrl, nickname = props.nickname, onClose = props.onClose, onDownloadClick = props.onDownloadClick;\n    var _a = props, onClickLeft = _a.onClickLeft, onClickRight = _a.onClickRight;\n    var ref = useRef(null);\n    var onKeyDown = useKeyDown(ref, {\n        Escape: function (e) { return onClose === null || onClose === void 0 ? void 0 : onClose(e); },\n        ArrowLeft: function () { return onClickLeft === null || onClickLeft === void 0 ? void 0 : onClickLeft(); },\n        ArrowRight: function () { return onClickRight === null || onClickRight === void 0 ? void 0 : onClickRight(); },\n    });\n    var _b = mapFileViewerComponentProps({ props: props }), name = _b.name, type = _b.type, url = _b.url;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { onClose: onClose },\n        React__default.createElement(\"div\", { className: \"sendbird-fileviewer\", \"data-testid\": \"sendbird-fileviewer\", onKeyDown: onKeyDown, \n            // to focus\n            tabIndex: 1, ref: ref },\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header\" },\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__avatar\" },\n                        React__default.createElement(Avatar, { height: \"32px\", width: \"32px\", src: profileUrl })),\n                    React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__filename\", type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, name),\n                    React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__sender-name\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, nickname)),\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right\" },\n                    isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions\" },\n                        React__default.createElement(\"a\", { className: \"sendbird-fileviewer__header__right__actions__download\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n                            React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\" })),\n                        React__default.createElement(DeleteButton, __assign({ className: 'sendbird-fileviewer__header__right__actions__delete' }, props)))),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__close\" },\n                        React__default.createElement(Icon, { type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function (e) { return onClose === null || onClose === void 0 ? void 0 : onClose(e); } })))),\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content\" },\n                isVideo(type) && (React__default.createElement(\"video\", { controls: true, className: \"sendbird-fileviewer__content__video\" },\n                    React__default.createElement(\"source\", { src: url, type: type }))),\n                isImage(type) && (React__default.createElement(\"img\", { src: url, alt: name, className: props.viewerType === ViewerTypes.MULTI\n                        ? 'sendbird-fileviewer__content__img__multi'\n                        : 'sendbird-fileviewer__content__img' })),\n                !isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content__unsupported\" },\n                    React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1 }, (stringSet === null || stringSet === void 0 ? void 0 : stringSet.UI__FILE_VIEWER__UNSUPPORT) || 'Unsupported message'))),\n                React__default.createElement(Slider, __assign({}, props))))));\n};\nfunction FileViewer(_a) {\n    var _b, _c, _d;\n    var message = _a.message, _e = _a.statefulFileInfoList, statefulFileInfoList = _e === void 0 ? [] : _e, onClose = _a.onClose, _f = _a.isByMe, isByMe = _f === void 0 ? false : _f, onDelete = _a.onDelete, currentIndex = _a.currentIndex, onClickLeft = _a.onClickLeft, onClickRight = _a.onClickRight, onDownloadClick = _a.onDownloadClick;\n    if (isMultipleFilesMessage(message)) {\n        var castedMessage = message;\n        return (React__default.createElement(FileViewerComponent, { profileUrl: castedMessage.sender.profileUrl, nickname: castedMessage.sender.nickname, viewerType: ViewerTypes.MULTI, fileInfoList: statefulFileInfoList.filter(function (fileInfo) {\n                return fileInfo.url; // Caution: This assumes that defined url means file upload has completed.\n            }).map(function (fileInfo) {\n                return {\n                    name: fileInfo.fileName || '',\n                    type: fileInfo.mimeType || '',\n                    url: fileInfo.url || '',\n                };\n            }), currentIndex: currentIndex || 0, onClickLeft: onClickLeft || noop, onClickRight: onClickRight || noop, onClose: onClose, onDownloadClick: onDownloadClick }));\n    }\n    else if (isFileMessage(message)) {\n        var castedMessage = message;\n        return createPortal((React__default.createElement(FileViewerComponent, { profileUrl: (_b = castedMessage.sender) === null || _b === void 0 ? void 0 : _b.profileUrl, nickname: (_c = castedMessage.sender) === null || _c === void 0 ? void 0 : _c.nickname, name: castedMessage.name, type: castedMessage.type, url: castedMessage === null || castedMessage === void 0 ? void 0 : castedMessage.url, isByMe: isByMe, disableDelete: (((_d = castedMessage.threadInfo) === null || _d === void 0 ? void 0 : _d.replyCount) || 0) > 0, onClose: onClose, onDelete: onDelete || noop, onDownloadClick: onDownloadClick })), document.getElementById(MODAL_ROOT));\n    }\n    return React__default.createElement(React__default.Fragment, null);\n}\n\nexport { FileViewerComponent, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n", "import { useLayoutEffect } from 'react';\nimport { usePreservedCallback } from '@sendbird/uikit-tools';\n\nfunction useKeyDown(ref, keyDownCallbackMap) {\n    useLayoutEffect(function () {\n        var _a;\n        (_a = ref.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }, [ref.current]);\n    var onKeyDown = usePreservedCallback(function (event) {\n        var callback = keyDownCallbackMap[event.key];\n        callback === null || callback === void 0 ? void 0 : callback(event);\n        event.stopPropagation();\n    });\n    return onKeyDown;\n}\n\nexport { useKeyDown as u };\n//# sourceMappingURL=bundle-DTOg7Xzt.js.map\n", "import React__default, { useState, useEffect, useMemo } from 'react';\nimport { ProgressBar, ProgressBarColorTypes } from './ProgressBar.js';\nimport { useVoicePlayer } from '../VoicePlayer/useVoicePlayer.js';\nimport { PlaybackTime } from './PlaybackTime.js';\nimport Loader from './Loader.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { V as VOICE_PLAYER_STATUS } from '../chunks/bundle-DO8nji3n.js';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../chunks/bundle-Bh6KfMRl.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport './IconButton.js';\nimport './Button.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../useSendbirdStateContext.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport './SortByRow.js';\n\nvar VoiceMessageItemBody = function (_a) {\n    var _b;\n    var className = _a.className, message = _a.message, channelUrl = _a.channelUrl, _c = _a.isByMe, isByMe = _c === void 0 ? false : _c, _d = _a.isReactionEnabled, isReactionEnabled = _d === void 0 ? false : _d;\n    var _e = useState(false), usingReaction = _e[0], setUsingReaction = _e[1];\n    var _f = useVoicePlayer({\n        channelUrl: channelUrl,\n        key: \"\".concat(message === null || message === void 0 ? void 0 : message.messageId),\n        audioFileUrl: message === null || message === void 0 ? void 0 : message.url,\n        audioFileMimeType: message === null || message === void 0 ? void 0 : message.type,\n    }), play = _f.play, \n    // do not pause on unmount, because on desktop layout\n    // the component can be paused when it is played from\n    // channel and same message is unmounted from the thread\n    pause = _f.pause, _g = _f.playbackTime, playbackTime = _g === void 0 ? 0 : _g, duration = _f.duration, _h = _f.playingStatus, playingStatus = _h === void 0 ? VOICE_PLAYER_STATUS.IDLE : _h;\n    useEffect(function () {\n        var _a;\n        if (isReactionEnabled && ((_a = message === null || message === void 0 ? void 0 : message.reactions) === null || _a === void 0 ? void 0 : _a.length) > 0) {\n            setUsingReaction(true);\n        }\n        else {\n            setUsingReaction(false);\n        }\n    }, [isReactionEnabled, (_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length]);\n    var progressBarMaxSize = useMemo(function () {\n        var _a;\n        var DEFAULT_MAX_SIZE = 1;\n        if (message === null || message === void 0 ? void 0 : message.metaArrays) {\n            var duration_1 = (_a = message === null || message === void 0 ? void 0 : message.metaArrays.find(function (metaArray) { return metaArray.key === 'KEY_VOICE_MESSAGE_DURATION'; })) === null || _a === void 0 ? void 0 : _a.value[0];\n            return duration_1 ? parseInt(duration_1) : DEFAULT_MAX_SIZE;\n        }\n        return DEFAULT_MAX_SIZE;\n    }, [message === null || message === void 0 ? void 0 : message.metaArrays]);\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-voice-message-item-body', className, usingReaction && 'is-reactions-contained') },\n        React__default.createElement(ProgressBar, { className: \"sendbird-voice-message-item-body__progress-bar\", maxSize: duration || progressBarMaxSize, currentSize: playbackTime, colorType: isByMe ? ProgressBarColorTypes.PRIMARY : ProgressBarColorTypes.GRAY }),\n        React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button\" },\n            (playingStatus === VOICE_PLAYER_STATUS.IDLE || playingStatus === VOICE_PLAYER_STATUS.PAUSED) && (React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button\", onClick: play },\n                React__default.createElement(Icon, { width: \"18px\", height: \"18px\", type: IconTypes.PLAY, fillColor: IconColors.PRIMARY }))),\n            playingStatus === VOICE_PLAYER_STATUS.PREPARING && (React__default.createElement(Loader, { width: \"22.2px\", height: \"22.2px\" },\n                React__default.createElement(Icon, { width: \"22.2px\", height: \"22.2px\", type: IconTypes.SPINNER, fillColor: IconColors.PRIMARY_2 }))),\n            playingStatus === VOICE_PLAYER_STATUS.PLAYING && (React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button\", onClick: function () { pause(); } },\n                React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button__pause\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button__pause__inner\" }),\n                    React__default.createElement(\"div\", { className: \"sendbird-voice-message-item-body__status-button__button__pause__inner\" }))))),\n        React__default.createElement(PlaybackTime, { className: \"sendbird-voice-message-item-body__playback-time\", time: progressBarMaxSize - playbackTime, labelType: LabelTypography.BODY_1, labelColor: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 })));\n};\n\nexport { VoiceMessageItemBody, VoiceMessageItemBody as default };\n//# sourceMappingURL=VoiceMessageItemBody.js.map\n", "import React__default, { useMemo } from 'react';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\n\n/* eslint-disable no-redeclare */\nvar ProgressBarColorTypes = {\n    PRIMARY: 'progress-bar-color--primary',\n    GRAY: 'progress-bar-color--gray',\n};\nvar ProgressBar = function (_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.disabled, disabled = _c === void 0 ? false : _c, maxSize = _a.maxSize, _d = _a.currentSize, currentSize = _d === void 0 ? 0 : _d, _e = _a.colorType, colorType = _e === void 0 ? ProgressBarColorTypes.PRIMARY : _e;\n    var width = useMemo(function () {\n        return \"\".concat(currentSize / maxSize * 100, \"%\");\n    }, [currentSize, maxSize]);\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-progress-bar', className, colorType, disabled && 'progress-bar--disabled') },\n        React__default.createElement(\"div\", { className: \"sendbird-progress-bar__fill\", style: { width: width } })));\n};\n\nexport { ProgressBar, ProgressBarColorTypes, ProgressBar as default };\n//# sourceMappingURL=ProgressBar.js.map\n", "import { useEffect } from 'react';\nimport { u as useVoicePlayerContext, A as AudioUnitDefaultValue, g as generateGroupKey } from '../chunks/bundle-DO8nji3n.js';\nimport { a as VOICE_PLAYER_AUDIO_ID, b as VOICE_MESSAGE_MIME_TYPE } from '../chunks/bundle-c4e24Qt4.js';\nimport { u as useVoiceRecorderContext } from '../chunks/bundle-Bh6KfMRl.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../useSendbirdStateContext.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport '../ui/IconButton.js';\nimport '../ui/Button.js';\nimport '../chunks/bundle-CEZ0D4qz.js';\nimport '../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport '../ui/SortByRow.js';\n\nvar useVoicePlayer = function (_a) {\n    var _b;\n    var _c = _a.key, key = _c === void 0 ? '' : _c, _d = _a.channelUrl, channelUrl = _d === void 0 ? '' : _d, audioFile = _a.audioFile, _e = _a.audioFileUrl, audioFileUrl = _e === void 0 ? '' : _e, _f = _a.audioFileMimeType, audioFileMimeType = _f === void 0 ? VOICE_MESSAGE_MIME_TYPE : _f;\n    var groupKey = generateGroupKey(channelUrl, key);\n    var _g = useVoicePlayerContext(), play = _g.play, pause = _g.pause, stop = _g.stop, voicePlayerStore = _g.voicePlayerStore;\n    var isRecordable = useVoiceRecorderContext().isRecordable;\n    var currentAudioUnit = ((_b = voicePlayerStore === null || voicePlayerStore === void 0 ? void 0 : voicePlayerStore.audioStorage) === null || _b === void 0 ? void 0 : _b[groupKey]) || AudioUnitDefaultValue();\n    var playVoicePlayer = function () {\n        if (!isRecordable) {\n            play === null || play === void 0 ? void 0 : play({\n                groupKey: groupKey,\n                audioFile: audioFile,\n                audioFileUrl: audioFileUrl,\n                audioFileMimeType: audioFileMimeType,\n            });\n        }\n    };\n    var pauseVoicePlayer = function () {\n        pause === null || pause === void 0 ? void 0 : pause(groupKey);\n    };\n    var stopVoicePlayer = function (text) {\n        if (text === void 0) { text = ''; }\n        stop === null || stop === void 0 ? void 0 : stop(text);\n    };\n    useEffect(function () {\n        return function () {\n            var _a;\n            if (audioFile || audioFileUrl) {\n                // Can't get the current AudioPlayer through the React hooks(useReducer or useState) in this scope\n                var voiceAudioPlayerElement = document.getElementById(VOICE_PLAYER_AUDIO_ID);\n                (_a = voiceAudioPlayerElement === null || voiceAudioPlayerElement === void 0 ? void 0 : voiceAudioPlayerElement.pause) === null || _a === void 0 ? void 0 : _a.call(voiceAudioPlayerElement);\n            }\n        };\n    }, []);\n    return ({\n        play: playVoicePlayer,\n        pause: pauseVoicePlayer,\n        stop: stopVoicePlayer,\n        /**\n         * The reason why we multiply this by *1000 is,\n         * The unit of playbackTime and duration should be millisecond\n         */\n        playbackTime: ((currentAudioUnit === null || currentAudioUnit === void 0 ? void 0 : currentAudioUnit.playbackTime) || 0) * 1000,\n        duration: ((currentAudioUnit === null || currentAudioUnit === void 0 ? void 0 : currentAudioUnit.duration) || 0) * 1000,\n        playingStatus: currentAudioUnit.playingStatus,\n    });\n};\n\nexport { useVoicePlayer };\n//# sourceMappingURL=useVoicePlayer.js.map\n", "import React__default from 'react';\nimport { a as LabelTypography, b as LabelColors, L as Label } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\n\nvar PlaybackTime = function (_a) {\n    var className = _a.className, _b = _a.time, time = _b === void 0 ? 0 : _b, _c = _a.labelType, labelType = _c === void 0 ? LabelTypography.CAPTION_2 : _c, _d = _a.labelColor, labelColor = _d === void 0 ? LabelColors.ONCONTENT_1 : _d;\n    var naturalTime = time < 0 ? 0 : time;\n    var hour = Math.floor(naturalTime / 3600000);\n    var min = Math.floor(naturalTime % 3600000 / 60000);\n    var sec = Math.floor((naturalTime % 3600000 % 60000) / 1000);\n    return (React__default.createElement(\"div\", { className: \"sendbird-ui-play-time \".concat(className) },\n        React__default.createElement(Label, { type: labelType, color: labelColor }, \"\".concat(hour ? hour + ':' : '').concat(min < 10 ? '0' : '').concat(min ? min : '0', \":\").concat(sec < 10 ? '0' : '').concat(sec))));\n};\n\nexport { PlaybackTime, PlaybackTime as default };\n//# sourceMappingURL=PlaybackTime.js.map\n", "import { _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { useState } from 'react';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { q as isSentMessage, w as getClassName, r as isVideoMessage, s as isGifMessage } from '../chunks/bundle-D-cVbGxk.js';\nimport { n as noop } from '../chunks/bundle-CtBgdgkK.js';\nimport { u as useLongPress } from '../chunks/bundle-DxDVBm6N.js';\nimport { c as getMessageFirstFileThumbnailUrl, g as getMessageFirstFileUrl, a as getMessageFirstFileType } from '../chunks/bundle-CfsHVenu.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-DBzinRyn.js';\n\nfunction ThumbnailMessageItemBody(_a) {\n    var _b, _c;\n    var _d = _a.className, className = _d === void 0 ? '' : _d, message = _a.message, _e = _a.isByMe, isByMe = _e === void 0 ? false : _e, _f = _a.mouseHover, mouseHover = _f === void 0 ? false : _f, _g = _a.isReactionEnabled, isReactionEnabled = _g === void 0 ? false : _g, _h = _a.showFileViewer, showFileViewer = _h === void 0 ? noop : _h, _j = _a.style, style = _j === void 0 ? {} : _j;\n    var thumbnailUrl = getMessageFirstFileThumbnailUrl(message);\n    var _k = useState(false), imageRendered = _k[0], setImageRendered = _k[1];\n    var onClickHandler = useLongPress({\n        onLongPress: noop,\n        onClick: function () {\n            if (isSentMessage(message)) {\n                showFileViewer === null || showFileViewer === void 0 ? void 0 : showFileViewer(true);\n            }\n        },\n    });\n    return (React__default.createElement(\"div\", __assign({ className: getClassName([\n            className,\n            'sendbird-thumbnail-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            (isReactionEnabled && ((_c = (_b = message.reactions) === null || _b === void 0 ? void 0 : _b.length) !== null && _c !== void 0 ? _c : 0) > 0) ? 'reactions' : '',\n        ]) }, onClickHandler),\n        React__default.createElement(ImageRenderer, { className: \"sendbird-thumbnail-message-item-body__thumbnail\", url: thumbnailUrl || getMessageFirstFileUrl(message), alt: getMessageFirstFileType(message), width: (style === null || style === void 0 ? void 0 : style.width) || '360px', height: (style === null || style === void 0 ? void 0 : style.height) || '270px', onLoad: function () { setImageRendered(true); }, placeHolder: function (_a) {\n                var style = _a.style;\n                return (React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__placeholder\", style: style }));\n            } }),\n        (isVideoMessage(message) && !thumbnailUrl) && !imageRendered && (React__default.createElement(\"video\", { className: \"sendbird-thumbnail-message-item-body__video\" },\n            React__default.createElement(\"source\", { src: getMessageFirstFileUrl(message), type: getMessageFirstFileType(message) }))),\n        React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__image-cover\" }),\n        (isVideoMessage(message) || isGifMessage(message)) && (React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__icon-wrapper\" },\n            React__default.createElement(\"div\", { className: \"sendbird-thumbnail-message-item-body__icon-wrapper__icon\" },\n                React__default.createElement(Icon, { type: isVideoMessage(message) ? IconTypes.PLAY : IconTypes.GIF, fillColor: IconColors.THUMBNAIL_ICON, width: \"34px\", height: \"34px\" }))))));\n}\n\nexport { ThumbnailMessageItemBody as default };\n//# sourceMappingURL=ThumbnailMessageItemBody.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { w as getClassName } from '../chunks/bundle-D-cVbGxk.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-kNaMXwgI.js';\n\nfunction UnknownMessageItemBody(_a) {\n    var _b;\n    var className = _a.className, message = _a.message, _c = _a.isByMe, isByMe = _c === void 0 ? false : _c, _d = _a.mouseHover, mouseHover = _d === void 0 ? false : _d, _e = _a.isReactionEnabled, isReactionEnabled = _e === void 0 ? false : _e;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            'sendbird-unknown-message-item-body',\n            isByMe ? 'outgoing' : 'incoming',\n            mouseHover ? 'mouse-hover' : '',\n            (isReactionEnabled && ((_b = message === null || message === void 0 ? void 0 : message.reactions) === null || _b === void 0 ? void 0 : _b.length) > 0) ? 'reactions' : '',\n        ]) },\n        React__default.createElement(Label, { className: \"sendbird-unknown-message-item-body__header\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_1 : LabelColors.ONBACKGROUND_1 }, stringSet.UNKNOWN__UNKNOWN_MESSAGE_TYPE),\n        React__default.createElement(Label, { className: \"sendbird-unknown-message-item-body__description\", type: LabelTypography.BODY_1, color: isByMe ? LabelColors.ONCONTENT_2 : LabelColors.ONBACKGROUND_2 }, stringSet.UNKNOWN__CANNOT_READ_MESSAGE)));\n}\n\nexport { UnknownMessageItemBody as default };\n//# sourceMappingURL=UnknownMessageItemBody.js.map\n", "import { e as __extends, _ as __assign } from '../chunks/bundle-B1SLZ0HT.js';\nimport React__default, { Component, useState, useEffect } from 'react';\nimport { Z as startsWithAtAndEndsWithBraces, _ as removeAtAndBraces, w as getClassName } from '../chunks/bundle-D-cVbGxk.js';\nimport { M as MessageProvider, a as MessageTemplate, C as CompositeComponentType } from '../chunks/bundle-CbTjJHLv.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { FallbackTemplateMessageItemBody } from './FallbackTemplateMessageItemBody.tsx.js';\nimport { LoadingTemplateMessageItemBody } from './LoadingTemplateMessageItemBody.tsx.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../withSendbird.js';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-CEZ0D4qz.js';\nimport './Loader.js';\nimport './Icon.js';\nimport '../chunks/bundle-CtBgdgkK.js';\n\nvar MessageTemplateWrapper = function (_a) {\n    var message = _a.message, templateVersion = _a.templateVersion, templateItems = _a.templateItems;\n    return React__default.createElement(MessageProvider, { message: message },\n        React__default.createElement(MessageTemplate, { templateVersion: templateVersion, templateItems: templateItems }));\n};\n\nvar NumberValueKeys = [\n    'version',\n    'size',\n    'top',\n    'left',\n    'right',\n    'bottom',\n    'maxTextLines',\n    'value',\n    'pixelWidth',\n    'pixelHeight',\n    'radius',\n];\nfunction restoreNumbersFromMessageTemplateObject(value, key) {\n    if (Array.isArray(value)) {\n        return value.map(function (item) { return restoreNumbersFromMessageTemplateObject(item); });\n    }\n    if (value && typeof value === 'object') {\n        return Object.keys(value).reduce(function (acc, key) {\n            acc[key] = restoreNumbersFromMessageTemplateObject(value[key], key);\n            return acc;\n        }, {});\n    }\n    if (key != null && NumberValueKeys.includes(key)) {\n        var numberValue = Number(value);\n        return Number.isNaN(numberValue) ? value : numberValue;\n    }\n    return value;\n}\n\nvar flattenObjectHelper = function (currentObject, flattenObject, parentKeyPath) {\n    if (parentKeyPath === void 0) { parentKeyPath = ''; }\n    for (var _i = 0, _a = Object.entries(currentObject); _i < _a.length; _i++) {\n        var _b = _a[_i], key = _b[0], value = _b[1];\n        var currentKeyPath = parentKeyPath ? \"\".concat(parentKeyPath, \".\").concat(key) : key;\n        if (value && typeof value === 'object') {\n            flattenObjectHelper(value, flattenObject, currentKeyPath);\n        }\n        else {\n            flattenObject[currentKeyPath] = value;\n        }\n    }\n};\n/**\n * Returns flattened object.\n * ex.\n * given { key-1: { key-1.1: 'value-1.1' }, key-2: 'value-2' }\n * returns { key-1.key-1.1: 'value-1.1', key-2: 'value-2' }\n */\nfunction flattenObject(object) {\n    var result = {};\n    flattenObjectHelper(object, result);\n    return result;\n}\n\nfunction convertArgbToRgba(string) {\n    if (!string.startsWith('#')) {\n        return string;\n    }\n    if (string.length === 9) {\n        return \"#\".concat(string.slice(3)).concat(string[1]).concat(string[2]);\n    }\n    if (string.length === 5) {\n        return \"#\".concat(string.slice(2)).concat(string[1]);\n    }\n    return string;\n}\nvar splitColorVariables = function (colorVariables) {\n    var light = {};\n    var dark = {};\n    for (var key in colorVariables) {\n        if (Object.prototype.hasOwnProperty.call(colorVariables, key)) {\n            var value = colorVariables[key];\n            if (typeof value === 'object' && value !== null) {\n                var _a = splitColorVariables(value), nestedLight = _a[0], nestedDark = _a[1];\n                light[key] = nestedLight;\n                dark[key] = nestedDark;\n            }\n            else if (typeof value === 'string') {\n                var _b = value.split(','), lightColor = _b[0], darkColor = _b[1];\n                light[key] = lightColor;\n                dark[key] = darkColor || lightColor; // when dark color is not provided, use light color\n            }\n            else {\n                light[key] = value;\n                dark[key] = value;\n            }\n        }\n    }\n    return [light, dark];\n};\nfunction selectColorVariablesByTheme(_a) {\n    var colorVariables = _a.colorVariables, theme = _a.theme;\n    var _b = splitColorVariables(colorVariables), light = _b[0], dark = _b[1];\n    return theme === 'light' ? light : dark;\n}\n\nvar COLOR_KEYS = {\n    color: true,\n    tintColor: true,\n    backgroundColor: true,\n    borderColor: true,\n};\nfunction mapData(_a) {\n    var template = _a.template, source = _a.source;\n    if (!['object', 'string'].includes(typeof template) || !template)\n        return template;\n    var regex = /\\{([^}]+)\\}/g;\n    var flattenedSource = flattenObject(source);\n    function replaceVariablePlaceholder(value) {\n        return typeof value === 'string'\n            ? value.replace(regex, function (_, placeholder) {\n                var value = flattenedSource[placeholder];\n                return value || \"{\".concat(placeholder, \"}\");\n            })\n            : mapData({ template: value, source: source });\n    }\n    if (typeof template === 'string') {\n        return replaceVariablePlaceholder(template);\n    }\n    if (Array.isArray(template)) {\n        return template.map(replaceVariablePlaceholder);\n    }\n    var result = {};\n    for (var key in template) {\n        if (Object.prototype.hasOwnProperty.call(template, key)) {\n            var value = template[key];\n            var replacedVal = replaceVariablePlaceholder(value);\n            if (COLOR_KEYS[key] && typeof replacedVal === 'string') {\n                replacedVal = convertArgbToRgba(replacedVal);\n            }\n            result[key] = replacedVal;\n        }\n    }\n    return result;\n}\n\nvar MessageTemplateErrorBoundary = /** @class */ (function (_super) {\n    __extends(MessageTemplateErrorBoundary, _super);\n    function MessageTemplateErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = { hasError: false };\n        return _this;\n    }\n    MessageTemplateErrorBoundary.getDerivedStateFromError = function () {\n        return { hasError: true };\n    };\n    MessageTemplateErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var _a;\n        (_a = this.props.logger) === null || _a === void 0 ? void 0 : _a.error('Error caught by ErrorBoundary:', error, errorInfo);\n    };\n    MessageTemplateErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            this.props.onTemplateMessageRenderedCallback('failed');\n            return this.props.fallbackMessage;\n        }\n        this.props.onTemplateMessageRenderedCallback(this.props.isComposite ? 'composite' : 'simple');\n        return this.props.children;\n    };\n    return MessageTemplateErrorBoundary;\n}(Component));\n\nvar TEMPLATE_FETCH_RETRY_BUFFER_TIME_IN_MILLIES = 500; // It takes about 450ms for isError update\n/**\n * Returns copied message template object filled with given template data and color variables.\n */\nvar getFilledMessageTemplateWithData = function (_a) {\n    var template = _a.template, _b = _a.templateData, templateData = _b === void 0 ? {} : _b, colorVariables = _a.colorVariables, theme = _a.theme;\n    var selectedThemeColorVariables = {};\n    if (colorVariables && theme) {\n        selectedThemeColorVariables = selectColorVariablesByTheme({\n            colorVariables: colorVariables,\n            theme: theme,\n        });\n    }\n    var source = __assign(__assign({}, templateData), selectedThemeColorVariables);\n    var parsedTemplate = mapData({\n        template: restoreNumbersFromMessageTemplateObject(template),\n        source: source,\n    });\n    return parsedTemplate;\n};\nfunction TemplateMessageItemBody(_a) {\n    var _b, _c;\n    var _d = _a.className, className = _d === void 0 ? '' : _d, message = _a.message, _e = _a.isByMe, isByMe = _e === void 0 ? false : _e, _f = _a.theme, theme = _f === void 0 ? 'light' : _f, _g = _a.onTemplateMessageRenderedCallback, onTemplateMessageRenderedCallback = _g === void 0 ? function () { } : _g;\n    var templateData = (_b = message.extendedMessagePayload) === null || _b === void 0 ? void 0 : _b['template'];\n    var getFailedBody = function () {\n        onTemplateMessageRenderedCallback('failed');\n        return React__default.createElement(FallbackTemplateMessageItemBody, { className: className, message: message, isByMe: isByMe });\n    };\n    if (!(templateData === null || templateData === void 0 ? void 0 : templateData.key)) {\n        return getFailedBody();\n    }\n    var templateKey = templateData.key;\n    var globalState = useSendbirdStateContext();\n    if (!globalState) {\n        return getFailedBody();\n    }\n    var _h = globalState.utils, getCachedTemplate = _h.getCachedTemplate, updateMessageTemplatesInfo = _h.updateMessageTemplatesInfo;\n    var logger = globalState.config.logger;\n    var waitingTemplateKeysMap = globalState.stores.appInfoStore.waitingTemplateKeysMap;\n    var waitingTemplateKeysMapString = Object.entries(waitingTemplateKeysMap)\n        .map(function (_a) {\n        var key = _a[0], value = _a[1];\n        return [key, value.requestedAt, value.erroredMessageIds.join(',')].join('-');\n    }).join('_');\n    var _j = useState(getFilledMessageTemplateItems()), renderData = _j[0], setRenderData = _j[1];\n    function getFilledMessageTemplateItemsForCarouselTemplateByMessagePayload(simpleTemplateDataList) {\n        var cachedSimpleTemplates = [];\n        var simpleTemplatesVariables = [];\n        var maxVersion = 0;\n        simpleTemplateDataList.forEach(function (simpleTemplateData) {\n            var simpleTemplateKey = simpleTemplateData.key;\n            if (!simpleTemplateKey) {\n                logger.error('TemplateMessageItemBody | simple template keys are not found in view_variables: ', simpleTemplateDataList);\n                throw new Error('TemplateMessageItemBody | simple template keys are not found in view_variables.');\n            }\n            var simpleCachedTemplate = getCachedTemplate(simpleTemplateKey);\n            if (simpleCachedTemplate) {\n                cachedSimpleTemplates.push(simpleCachedTemplate);\n                simpleTemplatesVariables.push(simpleTemplateData.variables);\n                maxVersion = Math.max(maxVersion, simpleCachedTemplate.version);\n            }\n        });\n        var filledMessageTemplateItemsList = cachedSimpleTemplates\n            .map(function (cachedSimpleTemplate, index) {\n            var templateItems = JSON.parse(cachedSimpleTemplate.uiTemplate);\n            var filledMessageTemplateItems = getFilledMessageTemplateWithData({\n                template: templateItems,\n                templateData: simpleTemplatesVariables[index],\n                colorVariables: cachedSimpleTemplate.colorVariables,\n                theme: theme,\n            });\n            return filledMessageTemplateItems;\n        });\n        return {\n            maxVersion: maxVersion,\n            filledTemplates: filledMessageTemplateItemsList,\n        };\n    }\n    function getFilledMessageTemplateItemsForCarouselTemplate(uiTemplates) {\n        var maxVersion = 0;\n        var filledTemplates = [];\n        uiTemplates.forEach(function (uiTemplate) {\n            maxVersion = Math.max(maxVersion, uiTemplate.version);\n            var filledMessageTemplateItems = getFilledMessageTemplateWithData({\n                template: uiTemplate.body.items,\n            });\n            filledTemplates.push(filledMessageTemplateItems);\n        });\n        return {\n            maxVersion: maxVersion,\n            filledTemplates: filledTemplates,\n        };\n    }\n    function getFilledMessageTemplateItemsForSimpleTemplate(templateItems, colorVariables) {\n        var _a;\n        var filledMessageTemplateItems = getFilledMessageTemplateWithData({\n            template: templateItems,\n            templateData: (_a = templateData === null || templateData === void 0 ? void 0 : templateData.variables) !== null && _a !== void 0 ? _a : {},\n            colorVariables: colorVariables,\n            theme: theme,\n        });\n        return filledMessageTemplateItems;\n    }\n    function getFilledMessageTemplateItems() {\n        var result = {\n            filledMessageTemplateItemsList: [],\n            isErrored: false,\n        };\n        var nonCachedTemplateKeys = [];\n        var cachedTemplate = getCachedTemplate(templateKey);\n        if (!cachedTemplate) {\n            nonCachedTemplateKeys.push(templateKey);\n        }\n        if (templateData === null || templateData === void 0 ? void 0 : templateData.view_variables) {\n            try {\n                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                Object.entries(templateData.view_variables).forEach(function (_a) {\n                    var _ = _a[0], simpleTemplateDataList = _a[1];\n                    simpleTemplateDataList.forEach(function (simpleTemplateData) {\n                        var simpleTemplateKey = simpleTemplateData === null || simpleTemplateData === void 0 ? void 0 : simpleTemplateData.key;\n                        if (simpleTemplateKey\n                            && !getCachedTemplate(simpleTemplateKey)\n                            && !nonCachedTemplateKeys.includes(simpleTemplateKey)) {\n                            nonCachedTemplateKeys.push(simpleTemplateKey);\n                        }\n                    });\n                });\n            }\n            catch (e) {\n                logger.error('TemplateMessageItemBody | received view_variables is malformed: ', templateData);\n                result.isErrored = true;\n                return result;\n            }\n        }\n        try {\n            if (nonCachedTemplateKeys.length > 0) {\n                tryFetchTemplateByKey(nonCachedTemplateKeys);\n            }\n            else if (cachedTemplate) {\n                var parsedUiTemplate = JSON.parse(cachedTemplate.uiTemplate);\n                if (!Array.isArray(parsedUiTemplate) || parsedUiTemplate.length === 0) {\n                    logger.error('TemplateMessageItemBody | parsed template is missing ui_template: ', parsedUiTemplate);\n                    throw new Error('TemplateMessageItemBody | parsed template is missing ui_template. See error log in console for details');\n                }\n                /**\n                 * Composite template validation\n                 */\n                if (parsedUiTemplate[0].type === CompositeComponentType.Carousel) {\n                    var carouselItem = parsedUiTemplate[0];\n                    if (parsedUiTemplate.length > 1) { // TODO: in future, support multiple templates\n                        logger.error('TemplateMessageItemBody | composite template currently does not support multiple items: ', parsedUiTemplate);\n                        throw new Error('TemplateMessageItemBody | composite template currently does not support multiple items. See error log in console for details');\n                    }\n                    if (typeof carouselItem.items === 'string') {\n                        if (!startsWithAtAndEndsWithBraces(carouselItem.items)) {\n                            logger.error('TemplateMessageItemBody | composite template with reservation key must follow the following string format \"{@your-reservation-key}\": ', templateKey, carouselItem);\n                            throw new Error('TemplateMessageItemBody | composite template with reservation key must follow the following string format \"{@your-reservation-key}\". See error log in console for details');\n                        }\n                        if (!(templateData === null || templateData === void 0 ? void 0 : templateData.view_variables)) {\n                            logger.error('TemplateMessageItemBody | template key suggests composite template but template data is missing view_variables: ', templateKey, templateData);\n                            throw new Error('TemplateMessageItemBody | template key suggests composite template but template data is missing view_variables. See error log in console for details');\n                        }\n                        var reservationKey = removeAtAndBraces(carouselItem.items);\n                        var simpleTemplateDataList = templateData.view_variables[reservationKey];\n                        if (!simpleTemplateDataList) {\n                            logger.error('TemplateMessageItemBody | no reservation key found in view_variables: ', reservationKey, templateData.view_variables);\n                            throw new Error('TemplateMessageItemBody | no reservation key found in view_variables. See error log in console for details');\n                        }\n                        if (simpleTemplateDataList.length > 10) {\n                            logger.warning('TemplateMessageItemBody | composite template with more than 10 simple templates will only render the first 10 items: ', reservationKey, templateData.view_variables);\n                            simpleTemplateDataList = simpleTemplateDataList.slice(0, 10);\n                        }\n                        var _a = getFilledMessageTemplateItemsForCarouselTemplateByMessagePayload(simpleTemplateDataList), maxVersion = _a.maxVersion, filledTemplates = _a.filledTemplates;\n                        result.isComposite = true;\n                        result.templateVersion = Math.max(cachedTemplate.version, maxVersion);\n                        result.filledMessageTemplateItemsList = [{\n                                type: carouselItem.type,\n                                spacing: carouselItem.spacing,\n                                items: filledTemplates,\n                            }];\n                    }\n                    else if (Array.isArray(carouselItem.items)) {\n                        var simpleTemplates = carouselItem.items;\n                        if (carouselItem.items.length > 10) {\n                            logger.warning('TemplateMessageItemBody | composite template with more than 10 simple templates will only render the first 10 items: ', carouselItem);\n                            simpleTemplates = carouselItem.items.slice(0, 10);\n                        }\n                        var _b = getFilledMessageTemplateItemsForCarouselTemplate(simpleTemplates), maxVersion = _b.maxVersion, filledTemplates = _b.filledTemplates;\n                        result.isComposite = true;\n                        result.templateVersion = Math.max(cachedTemplate.version, maxVersion);\n                        result.filledMessageTemplateItemsList = [{\n                                type: carouselItem.type,\n                                spacing: carouselItem.spacing,\n                                items: filledTemplates,\n                            }];\n                    }\n                    else {\n                        logger.error('TemplateMessageItemBody | composite template is malformed: ', templateKey, carouselItem);\n                        throw new Error('TemplateMessageItemBody | composite template is malformed. See error log in console for details');\n                    }\n                }\n                else {\n                    result.templateVersion = cachedTemplate.version;\n                    result.filledMessageTemplateItemsList = getFilledMessageTemplateItemsForSimpleTemplate(parsedUiTemplate, cachedTemplate.colorVariables);\n                }\n            }\n        }\n        catch (e) {\n            result.isErrored = true;\n        }\n        return result;\n    }\n    useEffect(function () {\n        if (!renderData.isErrored && renderData.filledMessageTemplateItemsList.length === 0) {\n            var newRenderData = getFilledMessageTemplateItems();\n            setRenderData(newRenderData);\n        }\n    }, [templateData.key, waitingTemplateKeysMapString]);\n    /**\n     * Attempt GET template by key IFF one of below cases is met:\n     * 1. This is the first GET call for the template key.\n     * 2. Minimum buffer time has passed since the previous GET error.\n     */\n    function tryFetchTemplateByKey(templateKeys) {\n        if (templateKeys.length > 0) {\n            var waitingTemplateKeyDataList_1 = [];\n            templateKeys.forEach(function (templateKey) {\n                var waitingTemplateKeyData = waitingTemplateKeysMap[templateKey];\n                waitingTemplateKeyDataList_1.push([templateKey, waitingTemplateKeyData]);\n            });\n            var requestedAt_1 = Date.now();\n            var keysToUpdate_1 = [];\n            waitingTemplateKeyDataList_1.forEach(function (_a) {\n                var templateKey = _a[0], waitingTemplateKeyData = _a[1];\n                if (!waitingTemplateKeyData\n                    || (waitingTemplateKeyData.erroredMessageIds.indexOf(message.messageId) === -1\n                        && requestedAt_1 > waitingTemplateKeyData.requestedAt + TEMPLATE_FETCH_RETRY_BUFFER_TIME_IN_MILLIES)) {\n                    keysToUpdate_1.push(templateKey);\n                }\n                else if (waitingTemplateKeyData.erroredMessageIds.indexOf(message.messageId) > -1) {\n                    throw new Error(\"TemplateMessageItemBody | fetching template key \".concat(templateKey, \" for messageId: \").concat(message.messageId, \" has failed.\"));\n                }\n            });\n            if (keysToUpdate_1.length > 0) {\n                updateMessageTemplatesInfo(keysToUpdate_1, message.messageId, requestedAt_1);\n            }\n        }\n    }\n    if (renderData.isErrored) {\n        return getFailedBody();\n    }\n    if (renderData.filledMessageTemplateItemsList.length === 0) {\n        return React__default.createElement(LoadingTemplateMessageItemBody, { className: className, isByMe: isByMe });\n    }\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className,\n            isByMe ? 'outgoing' : 'incoming',\n            'sendbird-template-message-item-body',\n        ]) },\n        React__default.createElement(MessageTemplateErrorBoundary, { fallbackMessage: React__default.createElement(FallbackTemplateMessageItemBody, { className: className, message: message, isByMe: isByMe }), onTemplateMessageRenderedCallback: onTemplateMessageRenderedCallback, isComposite: renderData.isComposite, logger: logger },\n            React__default.createElement(MessageTemplateWrapper, { message: message, templateVersion: (_c = renderData.templateVersion) !== null && _c !== void 0 ? _c : 0, templateItems: renderData.filledMessageTemplateItemsList }))));\n}\n\nexport { TemplateMessageItemBody, TemplateMessageItemBody as default };\n//# sourceMappingURL=TemplateMessageItemBody.js.map\n", "export var ComponentType;\n(function (ComponentType) {\n    ComponentType[\"Box\"] = \"box\";\n    ComponentType[\"Text\"] = \"text\";\n    ComponentType[\"Image\"] = \"image\";\n    ComponentType[\"TextButton\"] = \"textButton\";\n    ComponentType[\"ImageButton\"] = \"imageButton\";\n})(ComponentType || (ComponentType = {}));\nexport var CompositeComponentType;\n(function (CompositeComponentType) {\n    CompositeComponentType[\"Carousel\"] = \"carouselView\";\n})(CompositeComponentType || (CompositeComponentType = {}));\n", "// -------- Set property mapper\nimport { ComponentType, CompositeComponentType, } from '../types/components';\nconst MAPPER = () => undefined;\nexport const createParser = (params) => {\n    const defaultMapper = (params === null || params === void 0 ? void 0 : params.defaultMapper) || MAPPER;\n    const mapper = {\n        defaultMapper,\n        mapBoxProps: (params === null || params === void 0 ? void 0 : params.mapBoxProps) || defaultMapper,\n        mapTextProps: (params === null || params === void 0 ? void 0 : params.mapTextProps) || defaultMapper,\n        mapImageProps: (params === null || params === void 0 ? void 0 : params.mapImageProps) || defaultMapper,\n        mapTextButtonProps: (params === null || params === void 0 ? void 0 : params.mapTextButtonProps) || defaultMapper,\n        mapImageButtonProps: (params === null || params === void 0 ? void 0 : params.mapImageButtonProps) || defaultMapper,\n        mapCarouselProps: (params === null || params === void 0 ? void 0 : params.mapCarouselProps) || defaultMapper,\n    };\n    return {\n        parse(item, options) {\n            switch (item.type) {\n                case ComponentType.Box: {\n                    return { properties: mapper.mapBoxProps(item, options) };\n                }\n                case ComponentType.Text: {\n                    return { properties: mapper.mapTextProps(item, options) };\n                }\n                case ComponentType.Image: {\n                    return { properties: mapper.mapImageProps(item, options) };\n                }\n                case ComponentType.TextButton: {\n                    return { properties: mapper.mapTextButtonProps(item, options) };\n                }\n                case ComponentType.ImageButton: {\n                    return { properties: mapper.mapImageButtonProps(item, options) };\n                }\n                case CompositeComponentType.Carousel: {\n                    return { properties: mapper.mapCarouselProps(item, options) };\n                }\n                default:\n                    return { properties: undefined };\n            }\n        },\n    };\n};\nexport const DEFAULT_PARSER_VALUES = {\n    light: { _: undefined },\n    dark: { _: undefined },\n};\n", "import React from 'react';\nconst FRAGMENT = ({ children }) => React.createElement(React.Fragment, null, children);\nexport function createRenderer(params) {\n    var _a, _b, _c, _d, _e, _f;\n    return {\n        box: ((_a = params === null || params === void 0 ? void 0 : params.views) === null || _a === void 0 ? void 0 : _a.box) || FRAGMENT,\n        text: ((_b = params === null || params === void 0 ? void 0 : params.views) === null || _b === void 0 ? void 0 : _b.text) || FRAGMENT,\n        image: ((_c = params === null || params === void 0 ? void 0 : params.views) === null || _c === void 0 ? void 0 : _c.image) || FRAGMENT,\n        imageButton: ((_d = params === null || params === void 0 ? void 0 : params.views) === null || _d === void 0 ? void 0 : _d.imageButton) || FRAGMENT,\n        textButton: ((_e = params === null || params === void 0 ? void 0 : params.views) === null || _e === void 0 ? void 0 : _e.textButton) || FRAGMENT,\n        carouselView: ((_f = params === null || params === void 0 ? void 0 : params.views) === null || _f === void 0 ? void 0 : _f.carouselView) || FRAGMENT,\n    };\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { createContext, useCallback, useContext, useState } from 'react';\nconst SizeContext = createContext({\n    sizes: {},\n    updateSize: () => { },\n});\nconst SizeContextProvider = ({ children }) => {\n    const [sizes, setSizes] = useState({});\n    const updateSize = useCallback((_a) => {\n        var { id } = _a, rest = __rest(_a, [\"id\"]);\n        if (id) {\n            setSizes((prevSizes) => (Object.assign(Object.assign({}, prevSizes), { [id]: rest })));\n        }\n    }, []);\n    return React.createElement(SizeContext.Provider, { value: { sizes, updateSize } }, children);\n};\nconst useSizeContext = () => useContext(SizeContext);\nexport { SizeContextProvider, useSizeContext };\n", "export var Layout;\n(function (Layout) {\n    Layout[\"Row\"] = \"row\";\n    Layout[\"Column\"] = \"column\";\n})(Layout || (Layout = {}));\nexport var AlignValue;\n(function (AlignValue) {\n    AlignValue[\"Center\"] = \"center\";\n    AlignValue[\"Left\"] = \"left\";\n    AlignValue[\"Right\"] = \"right\";\n    AlignValue[\"Top\"] = \"top\";\n    AlignValue[\"Bottom\"] = \"bottom\";\n})(AlignValue || (AlignValue = {}));\n/**\n * @description\n * Caution: Numbers are passed as string types in the message template builder.\n * Use `==` comparison instead of `===` comparison when using a regular enum instead of a string enum.\n */\nexport var FlexSizeSpecValue;\n(function (FlexSizeSpecValue) {\n    FlexSizeSpecValue[FlexSizeSpecValue[\"FillParent\"] = 0] = \"FillParent\";\n    FlexSizeSpecValue[FlexSizeSpecValue[\"WrapContent\"] = 1] = \"WrapContent\";\n})(FlexSizeSpecValue || (FlexSizeSpecValue = {}));\nexport var FontWeight;\n(function (FontWeight) {\n    FontWeight[\"Normal\"] = \"normal\";\n    FontWeight[\"Bold\"] = \"bold\";\n})(FontWeight || (FontWeight = {}));\nexport var MediaContentMode;\n(function (MediaContentMode) {\n    MediaContentMode[\"AspectFit\"] = \"aspectFit\";\n    MediaContentMode[\"AspectFill\"] = \"aspectFill\";\n    MediaContentMode[\"ScalesToFill\"] = \"scalesToFill\";\n})(MediaContentMode || (MediaContentMode = {}));\n", "import { AlignValue } from '../types/styles';\nexport const SUPPORTED_TEMPLATE_VERSIONS = [\n    1,\n    2, // Composite templates: Carousel\n];\nexport const alignInFlex = (align) => {\n    switch (align) {\n        case AlignValue.Right:\n        case AlignValue.Bottom:\n            return 'flex-end';\n        case AlignValue.Center:\n            return 'center';\n        case AlignValue.Left:\n        case AlignValue.Top:\n        default:\n            return 'flex-start';\n    }\n};\nexport const isTemplateVersionSupported = (templateVersion) => {\n    if (!templateVersion)\n        return true;\n    return SUPPORTED_TEMPLATE_VERSIONS.includes(templateVersion);\n};\n", "const memoize = (fn) => {\n    const cache = new Map();\n    const cached = function (val) {\n        return cache.has(val) ? cache.get(val) : cache.set(val, fn.call(this, val)) && cache.get(val);\n    };\n    cached.cache = cache;\n    return cached;\n};\n/**\n * Generate each item's id by each item's array depth\n */\nexport const setTemplateItemId = memoize((data) => {\n    const addIdRecursively = (item, id) => {\n        if ('items' in item && (item === null || item === void 0 ? void 0 : item.items) != null) {\n            item.items.forEach((subItem, subIdx) => {\n                const subId = `${id}-${subIdx}`;\n                subItem.id = subId;\n                addIdRecursively(subItem, subId);\n            });\n        }\n    };\n    data.forEach((item, idx) => {\n        const id = `${idx}`;\n        item.id = id;\n        addIdRecursively(item, id);\n    });\n    return data;\n});\n", "import { AlignValue, FlexSizeSpecValue, Layout } from '../types/styles';\nexport const defaultProperties = {\n    rootLayout: Layout.Column,\n    view: {\n        size: {\n            width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n            height: { type: 'flex', value: FlexSizeSpecValue.WrapContent },\n        },\n    },\n    box: {\n        layout: Layout.Row,\n        align: { vertical: AlignValue.Top, horizontal: AlignValue.Left },\n    },\n};\n", "import React from 'react';\nimport { SizeContextProvider } from '../context/SizeProvider';\nimport { ComponentType } from '../types/components';\nimport { CompositeComponentType } from '../types/components';\nimport { SUPPORTED_TEMPLATE_VERSIONS, isTemplateVersionSupported } from '../utils';\nimport { setTemplateItemId } from '../utils/templateItemId';\nimport { defaultProperties } from './defaultValues';\nimport { createParser } from './parser';\nimport { createRenderer } from './renderer';\nexport const createMessageTemplate = (opts) => {\n    const Container = opts.Container || React.Fragment;\n    const UnknownMessage = opts.UnknownMessage || (() => null);\n    const parser = opts.parser || createParser();\n    const renderer = opts.renderer || createRenderer();\n    const MessageTemplateBase = ({ templateItems, parentLayout = defaultProperties.box.layout, isRoot = false, }) => {\n        const renderItems = templateItems;\n        return (React.createElement(React.Fragment, null, renderItems.map((item, index, siblings) => {\n            const { properties } = parser.parse(item, { parentLayout, elemIdx: index, siblings });\n            const props = {\n                key: index,\n                parentLayout,\n                parsedProperties: properties,\n                siblings,\n            };\n            switch (item.type) {\n                // CompositeComponent should be top level component\n                case CompositeComponentType.Carousel: {\n                    if (!isRoot) {\n                        throw new Error('Cannot parse template item as Carousel if the template item is not the root.');\n                    }\n                    if (!item.items || !Array.isArray(item.items) || item.items.length === 0) {\n                        throw new Error('Cannot parse template item as Carousel if carousel has no items.');\n                    }\n                    return (React.createElement(renderer.carouselView, Object.assign({}, item, props), item.items.map((items, index) => (React.createElement(MessageTemplateBase, { key: index, templateItems: items || [], parentLayout: parentLayout })))));\n                }\n                case ComponentType.Box: {\n                    return (React.createElement(renderer.box, Object.assign({}, item, props),\n                        React.createElement(MessageTemplateBase, { templateItems: item.items || [], parentLayout: item.layout })));\n                }\n                case ComponentType.Text: {\n                    return React.createElement(renderer.text, Object.assign({}, item, props));\n                }\n                case ComponentType.Image: {\n                    return React.createElement(renderer.image, Object.assign({}, item, props));\n                }\n                case ComponentType.TextButton: {\n                    return React.createElement(renderer.textButton, Object.assign({}, item, props));\n                }\n                case ComponentType.ImageButton: {\n                    return React.createElement(renderer.imageButton, Object.assign({}, item, props));\n                }\n                default: {\n                    // or throw new Error('Cannot parse template item')\n                    return React.createElement(UnknownMessage, { item: item });\n                }\n            }\n        })));\n    };\n    return {\n        MessageTemplate: ({ parentLayout = defaultProperties.rootLayout, templateVersion, templateItems, }) => {\n            const items = setTemplateItemId(templateItems);\n            if (!isTemplateVersionSupported(templateVersion)) {\n                /**\n                 * I choose to throw instead of returning UnknownMessage because UnknownMessage syntax (required prop: item) is not what UIKit wants.\n                 */\n                throw new Error(`Cannot parse template item due to unsupported template version: ${templateVersion}, ${SUPPORTED_TEMPLATE_VERSIONS}`);\n            }\n            let isCarousel = false;\n            if (Array.isArray(items) && items.length > 0) {\n                isCarousel = items[0].type === CompositeComponentType.Carousel;\n            }\n            return (React.createElement(SizeContextProvider, null,\n                React.createElement(Container, { className: isCarousel ? 'sb-message-template__parent_for_carousel' : '' },\n                    React.createElement(MessageTemplateBase, { parentLayout: parentLayout, templateItems: items, isRoot: true }))));\n        },\n        MessageTemplateBase,\n    };\n};\n", "export var ActionType;\n(function (ActionType) {\n    ActionType[\"Web\"] = \"web\";\n    ActionType[\"Custom\"] = \"custom\";\n    ActionType[\"UIKit\"] = \"uikit\";\n})(ActionType || (ActionType = {}));\n", "import { ComponentType } from '../types/components';\nimport { ActionType } from '../types/properties';\nimport { AlignValue, FlexSizeSpecValue, FontWeight, Layout, MediaContentMode } from '../types/styles';\nconst sample_1 = {\n    version: 1,\n    body: {\n        items: [\n            {\n                type: ComponentType.Image,\n                action: { type: ActionType.Web, data: 'https://docs.sendbird.com' },\n                height: { type: 'fixed', value: 236 },\n                viewStyle: {\n                    padding: {\n                        left: 4,\n                        right: 4,\n                        top: 4,\n                        bottom: 4,\n                    },\n                },\n                imageUrl: 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                imageStyle: { contentMode: MediaContentMode.AspectFill },\n            },\n            {\n                type: ComponentType.Box,\n                layout: Layout.Column,\n                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                height: { type: 'fixed', value: 200 },\n                items: [\n                    {\n                        type: ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        viewStyle: { backgroundColor: '#fa6464' },\n                    },\n                    {\n                        type: ComponentType.Box,\n                        layout: Layout.Column,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'flex', value: FlexSizeSpecValue.WrapContent },\n                        viewStyle: { backgroundColor: '#ffaf5c' },\n                        items: [\n                            {\n                                type: ComponentType.Text,\n                                text: 'Message',\n                                align: { horizontal: AlignValue.Center, vertical: AlignValue.Center },\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                height: { type: 'fixed', value: 50 },\n                            },\n                            {\n                                type: ComponentType.Image,\n                                action: { type: ActionType.Web, data: 'https://docs.sendbird.com' },\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                height: { type: 'fixed', value: 50 },\n                                imageUrl: 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                                imageStyle: { contentMode: MediaContentMode.AspectFill },\n                            },\n                        ],\n                    },\n                    {\n                        type: ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'fixed', value: 20 },\n                        viewStyle: { backgroundColor: '#ffe450' },\n                    },\n                    {\n                        type: ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        viewStyle: { backgroundColor: '#329a1b' },\n                    },\n                ],\n            },\n            {\n                type: ComponentType.Box,\n                viewStyle: { padding: { top: 12, bottom: 12, left: 12, right: 12 } },\n                layout: Layout.Column,\n                items: [\n                    {\n                        type: ComponentType.Box,\n                        align: { horizontal: AlignValue.Left, vertical: AlignValue.Center },\n                        layout: Layout.Row,\n                        viewStyle: {\n                            borderWidth: 1,\n                            borderColor: '#72723f',\n                        },\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        height: { type: 'fixed', value: 150 },\n                        items: [\n                            {\n                                type: ComponentType.Text,\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                height: { type: 'fixed', value: 50 },\n                                text: 'Sample1 text',\n                                maxTextLines: 1,\n                                align: { vertical: AlignValue.Center, horizontal: AlignValue.Left },\n                                viewStyle: {\n                                    backgroundColor: '#cc4400',\n                                },\n                                textStyle: {\n                                    size: 16,\n                                    color: '#f8f8f8',\n                                    weight: FontWeight.Bold,\n                                },\n                            },\n                            {\n                                type: ComponentType.ImageButton,\n                                action: { type: ActionType.UIKit, data: 'uikit://delete' },\n                                width: { type: 'fixed', value: 20 },\n                                height: { type: 'fixed', value: 20 },\n                                imageUrl: 'https://file-ap-1.sendbird.com/5b5379aa73fd460da22ffaf9a61d0d7f.png',\n                                imageStyle: { contentMode: MediaContentMode.AspectFit },\n                            },\n                        ],\n                    },\n                    {\n                        type: ComponentType.Text,\n                        viewStyle: { padding: { top: 6, bottom: 12, left: 0, right: 0 } },\n                        text: 'Esse eu esse duis ipsum et dolor eu ut sit amet consectetur cillum velit officia. Ex adipisicing elit quis ea sit. Occaecat in eu aliqua nulla magna id ut excepteur minim.',\n                        maxTextLines: 2,\n                        textStyle: { size: 14, color: '#e10000' },\n                        width: { type: 'fixed', value: 200 },\n                        height: { type: 'fixed', value: 50 },\n                    },\n                    {\n                        type: ComponentType.TextButton,\n                        action: { type: ActionType.Web, data: 'https://www.daum.net' },\n                        text: 'Button 3',\n                        textStyle: { size: 14, color: '#742ddd', weight: FontWeight.Bold },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_2 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': ComponentType.Image,\n                'action': { 'type': ActionType.Web, 'data': 'https://www.naver.com/' },\n                'height': { 'type': 'fixed', 'value': 136 },\n                'imageUrl': 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n            },\n            {\n                'type': ComponentType.Box,\n                'viewStyle': { 'padding': { 'top': 12, 'bottom': 12, 'left': 12, 'right': 12 }, backgroundColor: '#cccccc' },\n                'layout': Layout.Column,\n                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                'items': [\n                    {\n                        'type': ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        'layout': Layout.Row,\n                        'items': [\n                            {\n                                'type': ComponentType.TextButton,\n                                'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                width: { type: 'fixed', value: 150 },\n                                'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 0, 'right': 4 } },\n                                'text': 'Button 2',\n                                'textStyle': { 'size': 14, 'weight': FontWeight.Bold },\n                            },\n                            {\n                                'type': ComponentType.TextButton,\n                                'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                                'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 4, 'right': 0 } },\n                                'text': 'Button 3',\n                                'textStyle': { 'size': 14, 'weight': FontWeight.Bold },\n                            },\n                        ],\n                    },\n                    {\n                        'type': ComponentType.Box,\n                        width: { type: 'flex', value: FlexSizeSpecValue.FillParent },\n                        'layout': Layout.Row,\n                        'items': [\n                            {\n                                'type': ComponentType.Text,\n                                'text': 'Sample2 text',\n                                'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                                'maxTextLines': 1,\n                                'textStyle': { 'size': 16, 'weight': FontWeight.Bold },\n                            },\n                            {\n                                'type': ComponentType.ImageButton,\n                                'action': { 'type': ActionType.UIKit, 'data': 'uikit://delete' },\n                                'width': { 'type': 'fixed', 'value': 20 },\n                                'height': { 'type': 'fixed', 'value': 20 },\n                                'imageUrl': 'https://file-ap-1.sendbird.com/5b5379aa73fd460da22ffaf9a61d0d7f.png',\n                                'imageStyle': { 'contentMode': MediaContentMode.AspectFit },\n                            },\n                        ],\n                    },\n                    {\n                        'type': ComponentType.Text,\n                        'viewStyle': { 'padding': { 'top': 6, 'bottom': 12, 'left': 0, 'right': 0 } },\n                        'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                        'textStyle': { 'size': 14 },\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_3 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': ComponentType.Box,\n                'viewStyle': { 'backgroundColor': '#ffffff', 'borderWidth': 1, 'borderColor': '#eeeeee', 'radius': 16 },\n                'layout': Layout.Column,\n                'items': [\n                    {\n                        'type': ComponentType.Image,\n                        'height': { 'type': 'fixed', 'value': 200 },\n                        'imageUrl': 'https://img.freepik.com/free-vector/cartoon-happy-hours-background_52683-81243.jpg?w=2000&t=st=1666689198~exp=1666689798~hmac=23109d44ba03deee7aee069cbeebfcb48fa27f85e53c1cafc5d5d7345f1a2041',\n                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n                    },\n                    {\n                        'type': ComponentType.Box,\n                        'viewStyle': { 'padding': { 'top': 15, 'bottom': 15, 'left': 15, 'right': 15 } },\n                        'layout': Layout.Column,\n                        'items': [\n                            {\n                                'type': ComponentType.Text,\n                                'text': \"Don't miss these deals today\",\n                                'maxTextLines': 1,\n                                'textStyle': { 'size': 20, 'color': '#e10000', 'weight': FontWeight.Bold },\n                            },\n                            {\n                                'type': ComponentType.Text,\n                                'viewStyle': { 'margin': { 'top': 5, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'text': 'Pay with Maya and get cashback!',\n                                'maxTextLines': 1,\n                                'textStyle': { 'size': 14, 'color': '#e10000' },\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Image,\n                                        'width': { 'type': 'fixed', 'value': 50 },\n                                        'height': { 'type': 'fixed', 'value': 50 },\n                                        'viewStyle': {\n                                            'backgroundColor': '#ffffff',\n                                            'borderWidth': 1,\n                                            'borderColor': '#eeeeee',\n                                            'radius': 25,\n                                        },\n                                        'imageUrl': 'https://yt3.ggpht.com/ytc/AMLnZu8Kg89ymE7qt5bsS9vMqi9h2aHiN6m9ID-IgxR6-Q=s900-c-k-c0x00ffffff-no-rj',\n                                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                        'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 15, 'right': 0 } },\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'Meralco',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 16, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'viewStyle': { 'margin': { 'top': 3, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                                'text': '30% cashback, P300 min spend',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 12, 'color': '#610000', 'weight': FontWeight.Bold },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Image,\n                                        'width': { 'type': 'fixed', 'value': 50 },\n                                        'height': { 'type': 'fixed', 'value': 50 },\n                                        'viewStyle': {\n                                            'backgroundColor': '#ffffff',\n                                            'borderWidth': 1,\n                                            'borderColor': '#eeeeee',\n                                            'radius': 25,\n                                        },\n                                        'imageUrl': 'https://1000logos.net/wp-content/uploads/2021/12/Globe-Telecom-logo.png',\n                                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill, tintColor: '#a49a9a' },\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                        'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 15, 'right': 0 } },\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'Globe',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 16, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'viewStyle': { 'margin': { 'top': 3, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                                'text': '30% cashback, P300 min spend',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 12, 'color': '#610000', 'weight': FontWeight.Bold },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Image,\n                                        'width': { 'type': 'fixed', 'value': 50 },\n                                        'height': { 'type': 'fixed', 'value': 50 },\n                                        'viewStyle': {\n                                            'backgroundColor': '#ffffff',\n                                            'borderWidth': 1,\n                                            'borderColor': '#eeeeee',\n                                            'radius': 25,\n                                        },\n                                        'imageUrl': 'https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Cignal.svg/640px-Cignal.svg.png',\n                                        'imageStyle': { 'contentMode': MediaContentMode.AspectFill },\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                        'viewStyle': { 'margin': { 'top': 0, 'bottom': 0, 'left': 15, 'right': 0 } },\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'Cignal',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 16, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'viewStyle': { 'margin': { 'top': 3, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                                'text': '30% cashback, P300 min spend',\n                                                'maxTextLines': 1,\n                                                'textStyle': { 'size': 12, 'color': '#610000', 'weight': FontWeight.Bold },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'align': { 'horizontal': AlignValue.Left, 'vertical': AlignValue.Center },\n                                'viewStyle': { 'margin': { 'top': 10, 'bottom': 0, 'left': 0, 'right': 0 } },\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.TextButton,\n                                        'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                        'viewStyle': {\n                                            'backgroundColor': '#e0e0e0',\n                                            'radius': 16,\n                                            'margin': { 'top': 0, 'bottom': 0, 'left': 0, 'right': 4 },\n                                            'padding': { 'top': 12, 'bottom': 12, 'left': 12, 'right': 12 },\n                                        },\n                                        'text': 'Learn more',\n                                        'textStyle': { 'size': 15, 'color': '#e10000', 'weight': FontWeight.Bold },\n                                    },\n                                    {\n                                        'type': ComponentType.TextButton,\n                                        'action': { 'type': ActionType.Web, 'data': 'https://www.daum.net' },\n                                        'viewStyle': {\n                                            'backgroundColor': '#e10000',\n                                            'radius': 16,\n                                            'margin': { 'top': 0, 'bottom': 0, 'left': 4, 'right': 0 },\n                                            'padding': { 'top': 12, 'bottom': 12, 'left': 12, 'right': 12 },\n                                        },\n                                        'text': 'Pay now',\n                                        'textStyle': { 'size': 15, 'color': '#ffffff', 'weight': FontWeight.Bold },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_4 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': ComponentType.Box,\n                'layout': Layout.Column,\n                'items': [\n                    {\n                        'type': ComponentType.Image,\n                        'imageUrl': 'https://static.sendbird.com/sample/profiles/profile_40_512px.png',\n                        'metaData': {\n                            'pixelWidth': 512,\n                            'pixelHeight': 512,\n                        },\n                        'imageStyle': {\n                            'tintColor': '#44ff1188',\n                        },\n                        viewStyle: {\n                            'padding': {\n                                'top': 12,\n                                'right': 12,\n                                'bottom': 12,\n                                'left': 12,\n                            },\n                        },\n                    },\n                    {\n                        'type': ComponentType.Box,\n                        'viewStyle': {\n                            'padding': {\n                                'top': 12,\n                                'right': 12,\n                                'bottom': 12,\n                                'left': 12,\n                            },\n                        },\n                        'layout': Layout.Column,\n                        'items': [\n                            {\n                                'type': ComponentType.Box,\n                                'layout': Layout.Row,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Box,\n                                        'layout': Layout.Column,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'hi',\n                                                'maxTextLines': 3,\n                                                'viewStyle': {\n                                                    'padding': {\n                                                        'top': 0,\n                                                        'bottom': 6,\n                                                        'left': 0,\n                                                        'right': 0,\n                                                    },\n                                                },\n                                                'textStyle': {\n                                                    'size': 16,\n                                                    'weight': FontWeight.Bold,\n                                                },\n                                            },\n                                            {\n                                                'type': ComponentType.Text,\n                                                'text': 'bye',\n                                                'maxTextLines': 10,\n                                                'textStyle': {\n                                                    'size': 14,\n                                                },\n                                            },\n                                        ],\n                                    },\n                                    {\n                                        'type': ComponentType.ImageButton,\n                                        'action': {\n                                            'type': ActionType.UIKit,\n                                            'data': 'sendbirduikit://delete',\n                                        },\n                                        'width': {\n                                            'type': 'fixed',\n                                            'value': 20,\n                                        },\n                                        'height': {\n                                            'type': 'fixed',\n                                            'value': 20,\n                                        },\n                                        'metaData': {\n                                            'pixelWidth': 60,\n                                            'pixelHeight': 60,\n                                        },\n                                        'imageUrl': 'https://dxstmhyqfqr1o.cloudfront.net/sendbird-message-builder/icon-more.png',\n                                        'imageStyle': {\n                                            'tintColor': '#ff8d5a',\n                                        },\n                                    },\n                                ],\n                            },\n                            {\n                                'type': ComponentType.Box,\n                                'layout': Layout.Column,\n                                'items': [\n                                    {\n                                        'type': ComponentType.Box,\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 16,\n                                                'bottom': 0,\n                                                'left': 0,\n                                                'right': 0,\n                                            },\n                                        },\n                                        'align': {\n                                            'horizontal': AlignValue.Left,\n                                            'vertical': AlignValue.Center,\n                                        },\n                                        'layout': Layout.Row,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Image,\n                                                'imageUrl': 'https://ca.slack-edge.com/T0ADCTNEL-ULE240VNV-83fd5776e78e-512',\n                                                'width': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'height': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'metaData': {\n                                                    'pixelWidth': 512,\n                                                    'pixelHeight': 512,\n                                                },\n                                                'viewStyle': {\n                                                    'backgroundColor': '#BDBDBD',\n                                                    'radius': 20,\n                                                },\n                                                'imageStyle': {\n                                                    'contentMode': MediaContentMode.AspectFill,\n                                                },\n                                            },\n                                            {\n                                                'type': ComponentType.Box,\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 0,\n                                                        'bottom': 0,\n                                                        'left': 12,\n                                                        'right': 0,\n                                                    },\n                                                },\n                                                'layout': Layout.Column,\n                                                'items': [\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'text': 'Chongbu',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 16,\n                                                            'weight': FontWeight.Bold,\n                                                        },\n                                                    },\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'top': 4,\n                                                                'bottom': 0,\n                                                                'left': 0,\n                                                                'right': 0,\n                                                            },\n                                                        },\n                                                        'text': ' ',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 14,\n                                                        },\n                                                    },\n                                                ],\n                                            },\n                                        ],\n                                    },\n                                    {\n                                        'type': ComponentType.Box,\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 16,\n                                                'bottom': 0,\n                                                'left': 0,\n                                                'right': 0,\n                                            },\n                                        },\n                                        'align': {\n                                            'horizontal': AlignValue.Left,\n                                            'vertical': AlignValue.Center,\n                                        },\n                                        'layout': Layout.Row,\n                                        'items': [\n                                            {\n                                                'type': ComponentType.Image,\n                                                'imageUrl': 'https://ca.slack-edge.com/T0ADCTNEL-U02LA25KY8J-d41a3e8c7554-512',\n                                                'width': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'height': {\n                                                    'type': 'fixed',\n                                                    'value': 40,\n                                                },\n                                                'metaData': {\n                                                    'pixelWidth': 512,\n                                                    'pixelHeight': 512,\n                                                },\n                                                'viewStyle': {\n                                                    'backgroundColor': '#BDBDBD',\n                                                    'radius': 20,\n                                                },\n                                                'imageStyle': {\n                                                    'contentMode': MediaContentMode.AspectFill,\n                                                },\n                                            },\n                                            {\n                                                'type': ComponentType.Box,\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 0,\n                                                        'bottom': 0,\n                                                        'left': 12,\n                                                        'right': 0,\n                                                    },\n                                                },\n                                                'layout': Layout.Column,\n                                                'items': [\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'text': 'Amanda',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 16,\n                                                            'weight': FontWeight.Bold,\n                                                        },\n                                                    },\n                                                    {\n                                                        'type': ComponentType.Text,\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'top': 4,\n                                                                'bottom': 0,\n                                                                'left': 0,\n                                                                'right': 0,\n                                                            },\n                                                        },\n                                                        'text': 'This is title message',\n                                                        'maxTextLines': 1,\n                                                        'textStyle': {\n                                                            'size': 14,\n                                                        },\n                                                    },\n                                                ],\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_5 = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'items': [\n                            {\n                                'type': 'image',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'fixed', 'value': '250' },\n                                'imageUrl': 'https://dxstmhyqfqr1o.cloudfront.net/notifications/notifications-default-image.png',\n                                'imageStyle': { 'contentMode': 'aspectFill' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'column',\n                                'viewStyle': {\n                                    'radius': '8',\n                                    'padding': {\n                                        'top': '12',\n                                        'bottom': '12',\n                                        'left': '12',\n                                        'right': '12',\n                                    },\n                                },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': '8',\n                                                'right': '0',\n                                                'bottom': '0',\n                                                'left': '0',\n                                            },\n                                        },\n                                        'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',\n                                        'textStyle': {\n                                            'color': '#ff8888',\n                                            'size': '14',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'height': { 'type': 'fixed', 'value': '300' },\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'column',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': '12',\n                                                'right': '0',\n                                                'bottom': '0',\n                                                'left': '0',\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': { 'radius': '100' },\n                                                        'width': { 'type': 'fixed', 'value': 40 },\n                                                        'height': { 'type': 'fixed', 'value': 40 },\n                                                        'imageUrl': 'https://dxstmhyqfqr1o.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': { 'contentMode': 'aspectFill' },\n                                                        'metaData': {\n                                                            'pixelWidth': '240',\n                                                            'pixelHeight': '240',\n                                                        },\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': '12',\n                                                                'top': '0',\n                                                                'right': '0',\n                                                                'bottom': '0',\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '{SBCOLOR_nppqb}',\n                                                                    'size': '16',\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': '5',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '{SBCOLOR_ls5oj}',\n                                                                    'size': '14',\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': '5',\n                                                            },\n                                                        ],\n                                                    },\n                                                ],\n                                            },\n                                        ],\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': '12',\n                                                'right': '0',\n                                                'bottom': '0',\n                                                'left': '0',\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '{SBCOLOR_vmp47}',\n                                                    'padding': {\n                                                        'top': '10',\n                                                        'bottom': '10',\n                                                        'left': '20',\n                                                        'right': '20',\n                                                    },\n                                                },\n                                                'text': 'Button 1',\n                                                'textStyle': {\n                                                    'color': '{SBCOLOR_0r9vw}',\n                                                    'size': '14',\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': '5',\n                                            },\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '{SBCOLOR_vmp47}',\n                                                    'padding': {\n                                                        'top': '10',\n                                                        'bottom': '10',\n                                                        'left': '20',\n                                                        'right': '20',\n                                                    },\n                                                    'margin': {\n                                                        'left': '8',\n                                                        'right': '0',\n                                                        'top': '0',\n                                                        'bottom': '0',\n                                                    },\n                                                },\n                                                'text': 'Button 2',\n                                                'textStyle': {\n                                                    'color': '{SBCOLOR_0r9vw}',\n                                                    'size': '14',\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': '5',\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_6 = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                height: { type: 'fixed', value: 600 },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'viewStyle': { 'radius': '8', 'padding': { 'top': '12', 'bottom': '12', 'left': '12', 'right': '12' } },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'text': 'Title text',\n                                'textStyle': { 'color': '#E0000000', 'size': '16', 'weight': 'bold' },\n                                'maxTextLines': '5',\n                                'viewStyle': {},\n                                'action': { 'data': 'www.naver.com' },\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': { 'margin': { 'top': '8', 'right': '0', 'bottom': '0', 'left': '0' } },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': { 'color': '#E0000000', 'size': '14', 'weight': 'normal' },\n                                'maxTextLines': '5',\n                                'action': { 'data': 'https://www.naver.com' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'viewStyle': { 'margin': { 'top': '12', 'right': '0', 'bottom': '0', 'left': '0' } },\n                                'items': [\n                                    {\n                                        'type': 'textButton',\n                                        'viewStyle': {\n                                            'backgroundColor': '#E0E0E0',\n                                            'padding': { 'top': '10', 'bottom': '10', 'left': '20', 'right': '20' },\n                                        },\n                                        'text': 'Button 1',\n                                        'textStyle': { 'color': '#742DDD', 'size': '14', 'weight': 'bold' },\n                                        'maxTextLines': '5',\n                                        'action': { 'data': 'www.naver.com' },\n                                    },\n                                    {\n                                        'type': 'textButton',\n                                        'viewStyle': {\n                                            'backgroundColor': '#E0E0E0',\n                                            'padding': { 'top': '10', 'bottom': '10', 'left': '20', 'right': '20' },\n                                            'margin': { 'left': '8', 'right': '0', 'top': '0', 'bottom': '0' },\n                                        },\n                                        'text': 'Button 2',\n                                        'textStyle': { 'color': '#742DDD', 'size': '14', 'weight': 'bold' },\n                                        'maxTextLines': '5',\n                                        'action': { 'data': 'https://www.naver.com' },\n                                    },\n                                ],\n                            },\n                        ],\n                        'action': { 'data': 'https://www.naver.com' },\n                    },\n                    {\n                        'type': 'image',\n                        'viewStyle': {},\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'imageStyle': { 'contentMode': 'aspectFill' },\n                        'imageUrl': 'https://file-preprod.sendbird.com/d03c08bb3f9041a88c1207b6bbf15ab8.png',\n                        'metaData': { 'pixelWidth': '1062', 'pixelHeight': '1070' },\n                    },\n                    {\n                        'type': 'textButton',\n                        'viewStyle': {\n                            'backgroundColor': '#E0E0E0',\n                            'padding': { 'top': '10', 'bottom': '10', 'left': '20', 'right': '20' },\n                        },\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'text': 'Button',\n                        'textStyle': { 'color': '#742DDD', 'size': '16', 'weight': 'normal' },\n                        'maxTextLines': '5',\n                        'action': { 'data': 'www.naver.com' },\n                    },\n                    {\n                        'type': 'imageButton',\n                        'viewStyle': {},\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'imageUrl': 'https://file-preprod.sendbird.com/38fdf5c1056f42b89a44b38155cc4b49.jpg',\n                        'imageStyle': { 'contentMode': 'aspectFill' },\n                        'metaData': { 'pixelWidth': '1080', 'pixelHeight': '2640' },\n                        'action': { 'data': 'www.naver.com' },\n                    },\n                ],\n                'viewStyle': {},\n            },\n        ],\n    },\n};\nconst sample_for_inset_border = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': '0',\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': '1',\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'borderWidth': '10',\n                            'borderColor': '#0e0101ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': '0',\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': '1',\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f9dadaff',\n                                    'borderColor': '#fb7373ff',\n                                    'borderWidth': '5',\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': '14',\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': '5',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': '0',\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': '1',\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#bbd1f5ff',\n                                    'borderColor': '#0497f9ff',\n                                    'borderWidth': '10',\n                                    'padding': {\n                                        'top': '16',\n                                        'bottom': '16',\n                                        'left': '16',\n                                        'right': '16',\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': '14',\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': '5',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': '0',\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': '1',\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'borderWidth': '10',\n                            'borderColor': '#298e04ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': '0',\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': '1',\n                        },\n                        'items': [\n                            {\n                                'type': 'textButton',\n                                'viewStyle': {\n                                    'backgroundColor': '#a6b7ebff',\n                                    'borderColor': '#0f0ff9ff',\n                                    'borderWidth': '5',\n                                    'radius': '6',\n                                },\n                                'text': 'Button',\n                                'textStyle': {\n                                    'size': '14',\n                                    'color': '#ffffffff',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '1',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': '0',\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': '1',\n                                },\n                            },\n                            {\n                                'type': 'imageButton',\n                                'viewStyle': {\n                                    'backgroundColor': '#000000ff',\n                                    'borderColor': '#ff00b9ff',\n                                    'borderWidth': '5',\n                                },\n                                'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/img-component-default-imgbutton.png',\n                                'imageStyle': {\n                                    'contentMode': 'aspectFill',\n                                    'tintColor': '#ffffffff',\n                                },\n                                'metaData': {\n                                    'pixelWidth': '72',\n                                    'pixelHeight': '72',\n                                },\n                                'width': {\n                                    'type': 'fixed',\n                                    'value': '36',\n                                },\n                                'height': {\n                                    'type': 'fixed',\n                                    'value': '36',\n                                },\n                            },\n                            {\n                                'type': 'image',\n                                'viewStyle': {\n                                    'backgroundColor': '#828282ff',\n                                    'borderColor': '#fe0000ff',\n                                    'borderWidth': '10',\n                                    'radius': '20',\n                                },\n                                'imageUrl': 'https://file-preprod.sendbird.com/99c1ceafd8304076a7123caeea9aeb9a.png',\n                                'imageStyle': {\n                                    'contentMode': 'aspectFill',\n                                },\n                                'width': {\n                                    'type': 'fixed',\n                                    'value': '50',\n                                },\n                                'height': {\n                                    'type': 'fixed',\n                                    'value': '50',\n                                },\n                                'metaData': {\n                                    'pixelHeight': '225',\n                                    'pixelWidth': '225',\n                                },\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst sample_clipped_text__large_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'text',\n                'height': {\n                    'type': 'fixed',\n                    'value': 120,\n                },\n                'width': {\n                    'type': 'fixed',\n                    'value': 150,\n                },\n                'maxTextLines': 2,\n                'viewStyle': {\n                    'padding': {\n                        'left': 50,\n                        'right': 50,\n                        'top': 50,\n                        'bottom': 50,\n                    },\n                    borderWidth: 1,\n                    borderColor: '#72723f',\n                },\n                'text': 'longtext long long longtext',\n            },\n        ],\n    },\n};\nconst sample_for_priority_by_size_spec = {\n    'version': '1',\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'width': { 'type': 'flex', 'value': '0' },\n                'height': { 'type': 'flex', 'value': '1' },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fixed(short) / Wrap / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'FixedFixedFixedFixedFixedFixedFixedFixed',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '30' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'WrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrap',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#050505',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#0c0c0c',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                ],\n                                'viewStyle': { 'borderColor': '#0a0a0a' },\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fixed / Wrap(short) / Wrap(long)',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '2',\n                                                'bottom': '2',\n                                                'left': '2',\n                                                'right': '2',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'FixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixed',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '100' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'items': [\n                                            {\n                                                'type': 'text',\n                                                'text': 'WrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrapWrap',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'flex', 'value': '1' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                            {\n                                                'type': 'text',\n                                                'text': 'FixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixedFixed',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'fixed', 'value': '100' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Wrap / Fixed / Fill / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'wrap',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'items': [\n                                            {\n                                                'type': 'text',\n                                                'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'flex', 'value': '0' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                            {\n                                                'type': 'text',\n                                                'text': 'WrapWrapWrapWrapWrapWrapWrapWrapWrapWrap',\n                                                'textStyle': {\n                                                    'size': '14',\n                                                    'color': '#000000',\n                                                    'weight': 'normal',\n                                                },\n                                                'maxTextLines': '5',\n                                                'width': { 'type': 'flex', 'value': '1' },\n                                                'height': { 'type': 'flex', 'value': '1' },\n                                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                            },\n                                        ],\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill / Wrap(short) / Fixed',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'Wrap',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'Fixed',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '100' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill Fill Fixed',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'FillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFillFill',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': 'Fixed Fixed Fixed Fixed Fixed Fixed Fixed ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'fixed', 'value': '100' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                        'viewStyle': {\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Wrap(short) / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'appId-appId',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'text content text content text content text content text content text content ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill / Wrap(short)',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'text content text content text content text content text content text content ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'appId-appId',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Wrap(long) / Fill',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                        'viewStyle': {\n                            'margin': {\n                                'top': '0',\n                                'bottom': '100',\n                                'left': '0',\n                                'right': '0',\n                            },\n                        },\n                        'width': { 'type': 'flex', 'value': '0' },\n                        'height': { 'type': 'flex', 'value': '1' },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'padding': {\n                                        'top': '8',\n                                        'bottom': '8',\n                                        'left': '0',\n                                        'right': '8',\n                                    },\n                                },\n                                'text': 'Fill / Wrap(long)',\n                                'textStyle': {\n                                    'size': '20',\n                                    'color': '#000000',\n                                    'weight': 'bold',\n                                },\n                                'maxTextLines': '5',\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'row',\n                                'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                'width': { 'type': 'flex', 'value': '0' },\n                                'height': { 'type': 'flex', 'value': '1' },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '0' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'padding': {\n                                                'top': '5',\n                                                'bottom': '5',\n                                                'left': '5',\n                                                'right': '5',\n                                            },\n                                            'borderColor': '#000000',\n                                            'borderWidth': '1',\n                                        },\n                                        'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                        'textStyle': {\n                                            'size': '14',\n                                            'color': '#000000',\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': '5',\n                                        'width': { 'type': 'flex', 'value': '1' },\n                                        'height': { 'type': 'flex', 'value': '1' },\n                                        'align': { 'horizontal': 'left', 'vertical': 'top' },\n                                    },\n                                ],\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_wrap_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ffa0a0ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '7ddcc4dc-465d-416f-adfa-fcb22262defe',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0ffacff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ddc05097-0130-41b9-b32b-ea4d19fe1b17',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_wrap_wrap_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ffa0a0ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '7ddcc4dc-465d-416f-adfa-fcb22262defe',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0ffacff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ddc05097-0130-41b9-b32b-ea4d19fe1b17',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0a1ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 Wrap3 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '8d7ba180-f065-4037-beb1-dd3797729bf2',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#adffa0ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '7ddcc4dc-465d-416f-adfa-fcb22262defe',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_fill_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap_long = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2 Wrap2 Wrap2 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap_longer = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_fill_wrap_super_long = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#b1f5a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 Fill1 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'eccfb704-69bd-4c41-9730-befcab670e9d',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#daa0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 Wrap2 ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '69a40de4-1aa1-4028-ba85-030517c9faf3',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_remain_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_no_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'viewStyle': {\n                            'backgroundColor': '#000000ff',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#f5a3a3ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill Fill ',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'b9f8e599-6529-4736-b264-cb9811f44eeb',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a0c0ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                            },\n                        ],\n                        'elementId': 'ac8227f4-d3c0-4f8c-ac95-d9756d988e10',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst vertical_fill_wrap_wrap_remain_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'fixed',\n                            'value': 200,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ff9191ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ac074f97-a136-43c0-a7c2-9be937730c39',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#91ffa6ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'fcae6d34-7526-45b4-a4c7-1111814e62e1',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a891ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '00162fc8-22dc-46dc-872b-ba9590474f98',\n                            },\n                        ],\n                        'elementId': '0e42079b-b373-496f-862b-8799ad34c599',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst vertical_fill_wrap_wrap_no_padding = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'fixed',\n                            'value': 170,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ff9191ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ac074f97-a136-43c0-a7c2-9be937730c39',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#91ffa6ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'fcae6d34-7526-45b4-a4c7-1111814e62e1',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a891ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '00162fc8-22dc-46dc-872b-ba9590474f98',\n                            },\n                        ],\n                        'elementId': '0e42079b-b373-496f-862b-8799ad34c599',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst horizontal_fill_wrap_wrap_long_content = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'items': [\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#ff9191ff',\n                                    'radius': 1,\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'ac074f97-a136-43c0-a7c2-9be937730c39',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#91ffa6ff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': 'fcae6d34-7526-45b4-a4c7-1111814e62e1',\n                            },\n                            {\n                                'type': 'text',\n                                'viewStyle': {\n                                    'backgroundColor': '#a891ffff',\n                                    'padding': {\n                                        'top': 16,\n                                        'bottom': 16,\n                                        'left': 16,\n                                        'right': 16,\n                                    },\n                                },\n                                'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aui',\n                                'textStyle': {\n                                    'size': 14,\n                                    'color': '#222121e0',\n                                    'weight': 'normal',\n                                },\n                                'maxTextLines': 5,\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'align': {\n                                    'horizontal': 'left',\n                                    'vertical': 'top',\n                                },\n                                'elementId': '00162fc8-22dc-46dc-872b-ba9590474f98',\n                            },\n                        ],\n                        'elementId': '0e42079b-b373-496f-862b-8799ad34c599',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst dashboard_preset_list = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': 0,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': 1,\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'column',\n                        'items': [\n                            {\n                                'type': 'image',\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/img-template-preset-default-image.png',\n                                'imageStyle': {\n                                    'contentMode': 'aspectFill',\n                                },\n                                'metaData': {\n                                    'pixelWidth': 686,\n                                    'pixelHeight': 320,\n                                },\n                                'elementId': '0f3d6ba4-715a-44d2-b776-5bdd1aed8bc5',\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'column',\n                                'viewStyle': {\n                                    'radius': 8,\n                                    'padding': {\n                                        'top': 12,\n                                        'bottom': 12,\n                                        'left': 12,\n                                        'right': 12,\n                                    },\n                                },\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': 'Title text',\n                                        'textStyle': {\n                                            'color': '#222121e0',\n                                            'size': 16,\n                                            'weight': 'bold',\n                                        },\n                                        'maxTextLines': 5,\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '010811be-7c65-4aa8-8f8e-62c8398562b0',\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 8,\n                                                'right': 0,\n                                                'bottom': 0,\n                                                'left': 0,\n                                            },\n                                        },\n                                        'text': 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor',\n                                        'textStyle': {\n                                            'color': '#222121e0',\n                                            'size': 14,\n                                            'weight': 'normal',\n                                        },\n                                        'maxTextLines': 5,\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '00aca18f-3cdf-404d-9e01-9a99f59fb8ae',\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'column',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 12,\n                                                'right': 0,\n                                                'bottom': 0,\n                                                'left': 0,\n                                            },\n                                            'padding': {\n                                                'top': 4,\n                                                'right': 0,\n                                                'bottom': 4,\n                                                'left': 0,\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': {\n                                                            'radius': 100,\n                                                            'backgroundColor': '#5a73baff',\n                                                        },\n                                                        'width': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'height': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': {\n                                                            'contentMode': 'aspectFill',\n                                                            'tintColor': '#ffffffff',\n                                                        },\n                                                        'elementId': '35a315e9-1f61-4a72-b7c9-ce34a0543343',\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': 12,\n                                                                'top': 0,\n                                                                'right': 0,\n                                                                'bottom': 0,\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 16,\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'ef3c83b2-9149-46c1-a22d-beb878cf937a',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 14,\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'a92ae89d-0726-46b5-b575-2db578b3d954',\n                                                            },\n                                                        ],\n                                                        'height': {\n                                                            'type': 'flex',\n                                                            'value': 1,\n                                                        },\n                                                        'width': {\n                                                            'type': 'flex',\n                                                            'value': 0,\n                                                        },\n                                                        'elementId': 'ffb50576-f050-4a36-b64f-64864bb04734',\n                                                    },\n                                                ],\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': 'a9d30083-5b00-4ec6-bf2b-0b03c03b1632',\n                                            },\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 16,\n                                                        'right': 0,\n                                                        'bottom': 0,\n                                                        'left': 0,\n                                                    },\n                                                },\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': {\n                                                            'radius': 100,\n                                                            'backgroundColor': '#5a73baff',\n                                                        },\n                                                        'width': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'height': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': {\n                                                            'contentMode': 'aspectFill',\n                                                            'tintColor': '#ffffffff',\n                                                        },\n                                                        'elementId': '61fefa7c-0a03-4c92-9b26-2f7620982e46',\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': 12,\n                                                                'top': 0,\n                                                                'right': 0,\n                                                                'bottom': 0,\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 16,\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'cb2dfa91-3076-406d-b0e9-3bfab75c91a1',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 14,\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': '88bb07e0-8226-4e03-b2a1-d8796a8d558e',\n                                                            },\n                                                        ],\n                                                        'height': {\n                                                            'type': 'flex',\n                                                            'value': 1,\n                                                        },\n                                                        'width': {\n                                                            'type': 'flex',\n                                                            'value': 0,\n                                                        },\n                                                        'elementId': '169ca327-1784-4ae4-bb1c-52963268a1de',\n                                                    },\n                                                ],\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': '732ae02b-adff-46d2-b011-f94a2d93b4ba',\n                                            },\n                                            {\n                                                'type': 'box',\n                                                'layout': 'row',\n                                                'viewStyle': {\n                                                    'margin': {\n                                                        'top': 16,\n                                                        'right': 0,\n                                                        'bottom': 0,\n                                                        'left': 0,\n                                                    },\n                                                },\n                                                'items': [\n                                                    {\n                                                        'type': 'imageButton',\n                                                        'viewStyle': {\n                                                            'radius': 100,\n                                                            'backgroundColor': '#5a73baff',\n                                                        },\n                                                        'width': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'height': {\n                                                            'type': 'fixed',\n                                                            'value': 40,\n                                                        },\n                                                        'imageUrl': 'https://ddtyj01cn62am.cloudfront.net/notifications/default-notification-channel-cover.png',\n                                                        'imageStyle': {\n                                                            'contentMode': 'aspectFill',\n                                                            'tintColor': '#ffffffff',\n                                                        },\n                                                        'elementId': '1761210e-beab-4d19-ad12-3c7776ce066d',\n                                                    },\n                                                    {\n                                                        'type': 'box',\n                                                        'layout': 'column',\n                                                        'viewStyle': {\n                                                            'margin': {\n                                                                'left': 12,\n                                                                'top': 0,\n                                                                'right': 0,\n                                                                'bottom': 0,\n                                                            },\n                                                        },\n                                                        'items': [\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List title',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 16,\n                                                                    'weight': 'bold',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': 'f3e69331-e4d1-44f9-bc1a-c0c8589d625e',\n                                                            },\n                                                            {\n                                                                'type': 'text',\n                                                                'text': 'List body',\n                                                                'textStyle': {\n                                                                    'color': '#222121e0',\n                                                                    'size': 14,\n                                                                    'weight': 'normal',\n                                                                },\n                                                                'maxTextLines': 5,\n                                                                'height': {\n                                                                    'type': 'flex',\n                                                                    'value': 1,\n                                                                },\n                                                                'width': {\n                                                                    'type': 'flex',\n                                                                    'value': 0,\n                                                                },\n                                                                'elementId': '065a4733-477d-4a15-a7d0-4559025db3c3',\n                                                            },\n                                                        ],\n                                                        'height': {\n                                                            'type': 'flex',\n                                                            'value': 1,\n                                                        },\n                                                        'width': {\n                                                            'type': 'flex',\n                                                            'value': 0,\n                                                        },\n                                                        'elementId': '3e20f19a-58c6-40ec-8365-0e6ea12a6acb',\n                                                    },\n                                                ],\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': '2e8938ca-5574-4a58-a17c-9bff156a7456',\n                                            },\n                                        ],\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '9c79282d-928c-418e-8111-78a4e19c1353',\n                                    },\n                                    {\n                                        'type': 'box',\n                                        'layout': 'row',\n                                        'viewStyle': {\n                                            'margin': {\n                                                'top': 12,\n                                                'right': 0,\n                                                'bottom': 0,\n                                                'left': 0,\n                                            },\n                                        },\n                                        'items': [\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '#5a73baff',\n                                                    'padding': {\n                                                        'top': 10,\n                                                        'bottom': 10,\n                                                        'left': 20,\n                                                        'right': 20,\n                                                    },\n                                                    'radius': 6,\n                                                },\n                                                'text': 'Button 1',\n                                                'textStyle': {\n                                                    'color': '#ffffffff',\n                                                    'size': 14,\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': 5,\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': 'f3885375-bc4e-4117-8575-ec241a68091d',\n                                            },\n                                            {\n                                                'type': 'textButton',\n                                                'viewStyle': {\n                                                    'backgroundColor': '#5a73baff',\n                                                    'padding': {\n                                                        'top': 10,\n                                                        'bottom': 10,\n                                                        'left': 20,\n                                                        'right': 20,\n                                                    },\n                                                    'margin': {\n                                                        'left': 8,\n                                                        'right': 0,\n                                                        'top': 0,\n                                                        'bottom': 0,\n                                                    },\n                                                    'radius': 6,\n                                                },\n                                                'text': 'Button 2',\n                                                'textStyle': {\n                                                    'color': '#ffffffff',\n                                                    'size': 14,\n                                                    'weight': 'bold',\n                                                },\n                                                'maxTextLines': 5,\n                                                'height': {\n                                                    'type': 'flex',\n                                                    'value': 1,\n                                                },\n                                                'width': {\n                                                    'type': 'flex',\n                                                    'value': 0,\n                                                },\n                                                'elementId': '6f9acedd-e382-4f53-a350-bca2276e9b6b',\n                                            },\n                                        ],\n                                        'height': {\n                                            'type': 'flex',\n                                            'value': 1,\n                                        },\n                                        'width': {\n                                            'type': 'flex',\n                                            'value': 0,\n                                        },\n                                        'elementId': '37bae277-3300-4c2e-a308-c320d73c5725',\n                                    },\n                                ],\n                                'height': {\n                                    'type': 'flex',\n                                    'value': 1,\n                                },\n                                'width': {\n                                    'type': 'flex',\n                                    'value': 0,\n                                },\n                                'elementId': '62b096a3-0ee7-4467-a8be-9fa1109b257d',\n                            },\n                        ],\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'width': {\n                            'type': 'flex',\n                            'value': 0,\n                        },\n                        'elementId': 'e2708cb7-b237-4ffb-86fe-3bb11b8400b8',\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst socar_preset_booking_confirm = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'box',\n                'layout': 'column',\n                'viewStyle': {\n                    'padding': { 'top': 5, 'bottom': 5, 'left': 0, 'right': 10 },\n                },\n                'items': [\n                    {\n                        'type': 'box',\n                        'layout': 'row',\n                        'align': { 'horizontal': 'center', 'vertical': 'center' },\n                        'items': [\n                            {\n                                'type': 'imageButton',\n                                'width': { 'type': 'fixed', 'value': 70 },\n                                'height': { 'type': 'flex', 'value': 1 },\n                                'align': { 'horizontal': 'center', 'vertical': 'center' },\n                                'imageUrl': 'https://search.pstatic.net/common?type=f&size=298x140&quality=95&direct=true&ttype=input&src=https%3A%2F%2Fimgauto-phinf.pstatic.net%2F20240116_168%2Fauto_17053701702442qv0L_PNG%2F20240116105600_9xS4XPiV.png',\n                                'metaData': { 'pixelWidth': '149', 'pixelHeight': '70' },\n                            },\n                            {\n                                'type': 'box',\n                                'layout': 'column',\n                                'items': [\n                                    {\n                                        'type': 'text',\n                                        'text': '예약완료',\n                                        'width': { 'type': 'flex', 'value': 1 },\n                                        'align': { 'horizontal': 'right', 'vertical': 'center' },\n                                        'viewStyle': {\n                                            'backgroundColor': '#F0FAFF',\n                                            'radius': 4,\n                                            'padding': { 'top': 2, 'bottom': 1, 'left': 4, 'right': 4 },\n                                        },\n                                        'textStyle': { 'color': '#3BC7FF', 'weight': 'bold', 'size': 12 },\n                                        'maxTextLines': '1',\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': '[슈퍼딜] 2024 포드 머스탱 컨버터블',\n                                        'textStyle': { 'weight': 'bold' },\n                                        'viewStyle': {\n                                            'margin': { 'top': 2 },\n                                        },\n                                        'maxTextLines': '1',\n                                    },\n                                    {\n                                        'type': 'text',\n                                        'text': '출발: 03.24.(금) 15:00\\n도착: 03.27.(월) 11:00',\n                                        'textStyle': { 'weight': 'normal' },\n                                        'maxTextLines': '2',\n                                    },\n                                ],\n                            },\n                            {\n                                'type': 'textButton',\n                                'text': '선택',\n                                'width': { 'type': 'fixed', 'value': 60 },\n                                'height': { 'type': 'fixed', 'value': 30 },\n                                'viewStyle': {\n                                    'radius': 17,\n                                    'padding': { 'top': 0, 'bottom': 0, 'left': 0, 'right': 0 },\n                                },\n                                'textStyle': { 'weight': 'bold' },\n                                'maxTextLines': '1',\n                            },\n                        ],\n                    },\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_1 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'spacing': 10,\n                'items': [\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'row',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'padding': {\n                                    'top': '8',\n                                    'bottom': '8',\n                                    'left': '12',\n                                    'right': '12',\n                                },\n                                'radius': '12',\n                                'backgroundColor': '#ffffffff',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'height': {\n                                'type': 'fixed',\n                                'value': '470',\n                            },\n                            'items': [\n                                {\n                                    'type': 'text',\n                                    'text': '{content}',\n                                    'textStyle': {\n                                        'size': '14',\n                                        'color': '#ff374553',\n                                        'weight': 'normal',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'padding': {\n                                    'top': '8',\n                                    'bottom': '8',\n                                    'left': '12',\n                                    'right': '12',\n                                },\n                                'radius': '12',\n                                'backgroundColor': '#ffffffff',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'height': {\n                                'type': 'fixed',\n                                'value': '470',\n                            },\n                            'items': [\n                                {\n                                    'type': 'text',\n                                    'text': '{content}',\n                                    'textStyle': {\n                                        'size': '14',\n                                        'color': '#ff374553',\n                                        'weight': 'normal',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                },\n                                {\n                                    'type': 'textButton',\n                                    'viewStyle': {\n                                        'backgroundColor': '#fff2f4f6',\n                                        'radius': '8',\n                                        'margin': {\n                                            'top': '12',\n                                            'bottom': '4',\n                                            'left': '12',\n                                            'right': '12',\n                                        },\n                                        'padding': {\n                                            'top': '0',\n                                            'bottom': '0',\n                                            'left': '0',\n                                            'right': '0',\n                                        },\n                                    },\n                                    'text': '{button_text_1}',\n                                    'textStyle': {\n                                        'size': '14',\n                                        'color': '#ff374553',\n                                        'weight': 'normal',\n                                    },\n                                    'maxTextLines': '1',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '36',\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'padding': {\n                                    'top': '8',\n                                    'bottom': '8',\n                                    'left': '12',\n                                    'right': '12',\n                                },\n                                'radius': '12',\n                                'backgroundColor': '#ffffffff',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'height': {\n                                'type': 'fixed',\n                                'value': '470',\n                            },\n                            'items': [\n                                {\n                                    'type': 'text',\n                                    'text': '{content}',\n                                    'textStyle': {\n                                        'size': '14',\n                                        'color': '#ff374553',\n                                        'weight': 'normal',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                },\n                                {\n                                    'type': 'textButton',\n                                    'viewStyle': {\n                                        'backgroundColor': '#fff2f4f6',\n                                        'radius': '8',\n                                        'margin': {\n                                            'top': '12',\n                                            'bottom': '4',\n                                            'left': '12',\n                                            'right': '12',\n                                        },\n                                        'padding': {\n                                            'top': '0',\n                                            'bottom': '0',\n                                            'left': '0',\n                                            'right': '0',\n                                        },\n                                    },\n                                    'text': '{button_text_1}',\n                                    'textStyle': {\n                                        'size': '14',\n                                        'color': '#ff374553',\n                                        'weight': 'normal',\n                                    },\n                                    'maxTextLines': '1',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '36',\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_2_all_flex = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'spacing': 10,\n                'items': [\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'center',\n                            },\n                            'viewStyle': {\n                                'backgroundColor': 'transparent',\n                                'padding': {\n                                    'top': '0',\n                                    'bottom': '0',\n                                    'left': '0',\n                                    'right': '0',\n                                },\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '50',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'items': [\n                                {\n                                    'type': 'imageButton',\n                                    'viewStyle': {\n                                        'backgroundColor': '{SBCOLOR_q5tul}',\n                                        'radius': '20',\n                                        'padding': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '8',\n                                            'right': '8',\n                                        },\n                                        'margin': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '8',\n                                            'right': '8',\n                                        },\n                                    },\n                                    'imageUrl': 'https://file-us-1.sendbird.com/b9ba681a0bf742dabb2fc251e0b056a9.png',\n                                    'imageStyle': {\n                                        'contentMode': 'aspectFill',\n                                        'tintColor': '{SBCOLOR_ofmbt}',\n                                    },\n                                    'metaData': {\n                                        'pixelWidth': '18',\n                                        'pixelHeight': '18',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '34',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '34',\n                                    },\n                                },\n                                {\n                                    'type': 'text',\n                                    'text': '더 보기',\n                                    'textStyle': {\n                                        'size': '10',\n                                        'color': '{SBCOLOR_sc3q4}',\n                                        'weight': 'normal',\n                                    },\n                                    'maxTextLines': '1',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_2_all_fixed = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'spacing': 10,\n                'items': [\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '283',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '283',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '283',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '283',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'center',\n                            },\n                            'viewStyle': {\n                                'backgroundColor': 'transparent',\n                                'padding': {\n                                    'top': '0',\n                                    'bottom': '0',\n                                    'left': '0',\n                                    'right': '0',\n                                },\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '50',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'items': [\n                                {\n                                    'type': 'imageButton',\n                                    'viewStyle': {\n                                        'backgroundColor': '{SBCOLOR_q5tul}',\n                                        'radius': '20',\n                                        'padding': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '8',\n                                            'right': '8',\n                                        },\n                                        'margin': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '8',\n                                            'right': '8',\n                                        },\n                                    },\n                                    'imageUrl': 'https://file-us-1.sendbird.com/b9ba681a0bf742dabb2fc251e0b056a9.png',\n                                    'imageStyle': {\n                                        'contentMode': 'aspectFill',\n                                        'tintColor': '{SBCOLOR_ofmbt}',\n                                    },\n                                    'metaData': {\n                                        'pixelWidth': '18',\n                                        'pixelHeight': '18',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '34',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '34',\n                                    },\n                                },\n                                {\n                                    'type': 'text',\n                                    'text': '더 보기',\n                                    'textStyle': {\n                                        'size': '10',\n                                        'color': '{SBCOLOR_sc3q4}',\n                                        'weight': 'normal',\n                                    },\n                                    'maxTextLines': '1',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_2_both_flex_and_fixed = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'spacing': 10,\n                'items': [\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '283',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'left',\n                                'vertical': 'top',\n                            },\n                            'viewStyle': {\n                                'radius': '12',\n                                'backgroundColor': '{SBCOLOR_4pivj}',\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '340',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'row',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'center',\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '20',\n                                                    'bottom': '20',\n                                                    'left': '16',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'imageUrl': '{image_url.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '40',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{image_url.width}',\n                                                'pixelHeight': '{image_url.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'margin': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '0',\n                                                    'right': '16',\n                                                },\n                                                'backgroundColor': '{SBCOLOR_p7200}',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_j80gp}',\n                                                        'radius': '4',\n                                                        'padding': {\n                                                            'top': '2',\n                                                            'bottom': '2',\n                                                            'left': '4',\n                                                            'right': '4',\n                                                        },\n                                                    },\n                                                    'text': '예약완료',\n                                                    'textStyle': {\n                                                        'size': '10',\n                                                        'color': '{SBCOLOR_89v35}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '4',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{reservation_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_2ahre}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'text',\n                                                    'text': '{departure_time}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_7fggh}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'left',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'padding': {\n                                            'top': '4',\n                                            'right': '12',\n                                            'bottom': '12',\n                                            'left': '12',\n                                        },\n                                    },\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '0',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP1',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP2',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                        {\n                                            'type': 'textButton',\n                                            'viewStyle': {\n                                                'backgroundColor': '{SBCOLOR_4fx1e}',\n                                                'radius': '8',\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '8',\n                                                    'left': '20',\n                                                    'right': '20',\n                                                },\n                                                'margin': {\n                                                    'top': '4',\n                                                    'bottom': '0',\n                                                    'left': '0',\n                                                    'right': '0',\n                                                },\n                                            },\n                                            'text': '문의사항 TOP3',\n                                            'textStyle': {\n                                                'size': '14',\n                                                'color': '{SBCOLOR_pg796}',\n                                                'weight': 'bold',\n                                            },\n                                            'maxTextLines': '1',\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                        },\n                                    ],\n                                },\n                            ],\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'center',\n                            },\n                            'viewStyle': {\n                                'backgroundColor': 'transparent',\n                                'padding': {\n                                    'top': '0',\n                                    'bottom': '0',\n                                    'left': '0',\n                                    'right': '0',\n                                },\n                            },\n                            'width': {\n                                'type': 'fixed',\n                                'value': '50',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'items': [\n                                {\n                                    'type': 'imageButton',\n                                    'viewStyle': {\n                                        'backgroundColor': '{SBCOLOR_q5tul}',\n                                        'radius': '20',\n                                        'padding': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '8',\n                                            'right': '8',\n                                        },\n                                        'margin': {\n                                            'top': '8',\n                                            'bottom': '8',\n                                            'left': '8',\n                                            'right': '8',\n                                        },\n                                    },\n                                    'imageUrl': 'https://file-us-1.sendbird.com/b9ba681a0bf742dabb2fc251e0b056a9.png',\n                                    'imageStyle': {\n                                        'contentMode': 'aspectFill',\n                                        'tintColor': '{SBCOLOR_ofmbt}',\n                                    },\n                                    'metaData': {\n                                        'pixelWidth': '18',\n                                        'pixelHeight': '18',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '34',\n                                    },\n                                    'height': {\n                                        'type': 'fixed',\n                                        'value': '34',\n                                    },\n                                },\n                                {\n                                    'type': 'text',\n                                    'text': '더 보기',\n                                    'textStyle': {\n                                        'size': '10',\n                                        'color': '{SBCOLOR_sc3q4}',\n                                        'weight': 'normal',\n                                    },\n                                    'maxTextLines': '1',\n                                    'width': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'center',\n                                    },\n                                },\n                            ],\n                        },\n                    ],\n                ],\n            },\n        ],\n    },\n};\nconst carousel_case_3 = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'type': 'carouselView',\n                'viewStyle': {\n                    'padding': {\n                        'top': 12,\n                        'bottom': 12,\n                        'left': 12,\n                        'right': 12,\n                    },\n                },\n                'spacing': 10,\n                'items': [\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'width': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'borderWidth': '1',\n                                        'borderColor': '{SBCOLOR_sq5wz}',\n                                        'backgroundColor': '{SBCOLOR_byw2t}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '254',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'imageUrl': '{guide-image.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '143',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{guide-image.width}',\n                                                'pixelHeight': '{guide-image.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_zhxc4}',\n                                                        'padding': {\n                                                            'top': '0',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{guide_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_imwgs}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_56piy}',\n                                                        'radius': '8',\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{guide_button}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_fz5ow}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                            'viewStyle': {\n                                'backgroundColor': '{SBCOLOR_jvnor}',\n                            },\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'top',\n                            },\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'width': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'borderWidth': '1',\n                                        'borderColor': '{SBCOLOR_sq5wz}',\n                                        'backgroundColor': '{SBCOLOR_byw2t}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '254',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'imageUrl': '{guide-image.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '143',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{guide-image.width}',\n                                                'pixelHeight': '{guide-image.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_zhxc4}',\n                                                        'padding': {\n                                                            'top': '0',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{guide_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_imwgs}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_56piy}',\n                                                        'radius': '8',\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{guide_button}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_fz5ow}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                            'viewStyle': {\n                                'backgroundColor': '{SBCOLOR_jvnor}',\n                            },\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'top',\n                            },\n                        },\n                    ],\n                    [\n                        {\n                            'type': 'box',\n                            'layout': 'column',\n                            'width': {\n                                'type': 'flex',\n                                'value': '0',\n                            },\n                            'height': {\n                                'type': 'flex',\n                                'value': '1',\n                            },\n                            'items': [\n                                {\n                                    'type': 'box',\n                                    'layout': 'column',\n                                    'align': {\n                                        'horizontal': 'center',\n                                        'vertical': 'top',\n                                    },\n                                    'viewStyle': {\n                                        'radius': '12',\n                                        'borderWidth': '1',\n                                        'borderColor': '{SBCOLOR_sq5wz}',\n                                        'backgroundColor': '{SBCOLOR_byw2t}',\n                                    },\n                                    'width': {\n                                        'type': 'fixed',\n                                        'value': '254',\n                                    },\n                                    'height': {\n                                        'type': 'flex',\n                                        'value': '1',\n                                    },\n                                    'items': [\n                                        {\n                                            'type': 'image',\n                                            'imageUrl': '{guide-image.url}',\n                                            'imageStyle': {\n                                                'contentMode': 'aspectFill',\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'fixed',\n                                                'value': '143',\n                                            },\n                                            'metaData': {\n                                                'pixelWidth': '{guide-image.width}',\n                                                'pixelHeight': '{guide-image.height}',\n                                            },\n                                        },\n                                        {\n                                            'type': 'box',\n                                            'layout': 'column',\n                                            'align': {\n                                                'horizontal': 'left',\n                                                'vertical': 'top',\n                                            },\n                                            'viewStyle': {\n                                                'padding': {\n                                                    'top': '8',\n                                                    'bottom': '12',\n                                                    'left': '12',\n                                                    'right': '12',\n                                                },\n                                            },\n                                            'width': {\n                                                'type': 'flex',\n                                                'value': '0',\n                                            },\n                                            'height': {\n                                                'type': 'flex',\n                                                'value': '1',\n                                            },\n                                            'items': [\n                                                {\n                                                    'type': 'text',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_zhxc4}',\n                                                        'padding': {\n                                                            'top': '0',\n                                                            'bottom': '8',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{guide_title}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_imwgs}',\n                                                        'weight': 'normal',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                    'align': {\n                                                        'horizontal': 'left',\n                                                        'vertical': 'top',\n                                                    },\n                                                },\n                                                {\n                                                    'type': 'textButton',\n                                                    'viewStyle': {\n                                                        'backgroundColor': '{SBCOLOR_56piy}',\n                                                        'radius': '8',\n                                                        'margin': {\n                                                            'top': '4',\n                                                            'bottom': '0',\n                                                            'left': '0',\n                                                            'right': '0',\n                                                        },\n                                                    },\n                                                    'text': '{guide_button}',\n                                                    'textStyle': {\n                                                        'size': '14',\n                                                        'color': '{SBCOLOR_fz5ow}',\n                                                        'weight': 'bold',\n                                                    },\n                                                    'maxTextLines': '1',\n                                                    'width': {\n                                                        'type': 'flex',\n                                                        'value': '0',\n                                                    },\n                                                    'height': {\n                                                        'type': 'flex',\n                                                        'value': '1',\n                                                    },\n                                                },\n                                            ],\n                                        },\n                                    ],\n                                },\n                            ],\n                            'viewStyle': {\n                                'backgroundColor': '{SBCOLOR_jvnor}',\n                            },\n                            'align': {\n                                'horizontal': 'center',\n                                'vertical': 'top',\n                            },\n                        },\n                    ],\n                ],\n            },\n        ],\n    },\n};\nexport const samples_for_size_spec = [\n    horizontal_wrap_wrap,\n    horizontal_wrap_wrap_wrap,\n    horizontal_fill_wrap,\n    horizontal_fill_fill_wrap,\n    horizontal_fill_wrap_fill_wrap,\n    horizontal_fill_wrap_fill_wrap_long,\n    horizontal_fill_wrap_fill_wrap_longer,\n    horizontal_fill_wrap_fill_wrap_super_long,\n    horizontal_fill_wrap_wrap_long_content,\n    horizontal_fill_wrap_remain_padding,\n    horizontal_fill_wrap_no_padding,\n    vertical_fill_wrap_wrap_remain_padding,\n    vertical_fill_wrap_wrap_no_padding,\n];\nconst column_box_horz_margin_and_fill_parent_children = {\n    'version': 1,\n    'body': {\n        'items': [\n            {\n                'elementId': 'root',\n                'type': 'box',\n                'layout': 'column',\n                'width': {\n                    'type': 'flex',\n                    'value': FlexSizeSpecValue.FillParent,\n                },\n                'height': {\n                    'type': 'flex',\n                    'value': FlexSizeSpecValue.WrapContent,\n                },\n                'items': [\n                    {\n                        'type': 'text',\n                        'viewStyle': {\n                            'backgroundColor': '#a0c0ffff',\n                            'margin': {\n                                'top': 16,\n                                'bottom': 16,\n                                'left': 16,\n                                'right': 16,\n                            },\n                            'padding': {\n                                'top': 16,\n                                'bottom': 16,\n                                'left': 16,\n                                'right': 16,\n                            },\n                        },\n                        'text': 'Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap Wrap ',\n                        'textStyle': {\n                            'size': 14,\n                            'color': '#222121e0',\n                            'weight': 'normal',\n                        },\n                        'maxTextLines': 5,\n                        'width': {\n                            'type': 'flex',\n                            'value': FlexSizeSpecValue.FillParent,\n                        },\n                        'height': {\n                            'type': 'flex',\n                            'value': 1,\n                        },\n                        'align': {\n                            'horizontal': 'left',\n                            'vertical': 'top',\n                        },\n                        'elementId': 'c0e15878-4984-408d-abaa-4b495c2e3872',\n                    },\n                    {\n                        'type': 'imageButton',\n                        'viewStyle': {\n                            margin: {\n                                left: 24,\n                                right: 12,\n                            },\n                        },\n                        'width': { 'type': 'flex', 'value': FlexSizeSpecValue.FillParent },\n                        'height': { 'type': 'fixed', 'value': 250 },\n                        'imageUrl': 'https://cdn.pixabay.com/photo/2022/10/12/10/45/bird-7516219_1280.jpg',\n                        'imageStyle': { 'contentMode': 'aspectFill' },\n                        'metaData': { 'pixelWidth': '1080', 'pixelHeight': '2640' },\n                        'action': { 'data': 'www.naver.com' },\n                    },\n                ],\n            },\n        ],\n    },\n};\nexport const samples_for_margin_issue = [column_box_horz_margin_and_fill_parent_children];\nexport const samples = [\n    sample_1,\n    sample_2,\n    sample_3,\n    sample_4,\n    sample_5,\n    sample_6,\n    sample_for_inset_border,\n    sample_clipped_text__large_padding,\n    sample_for_priority_by_size_spec,\n    dashboard_preset_list,\n    socar_preset_booking_confirm,\n    // Example reference: https://sendbird.atlassian.net/wiki/spaces/UK/pages/2265484095/UIKit+message+template+syntax+extension+proposal#Carousel-test-syntax\n    carousel_case_1,\n    carousel_case_2_all_flex,\n    carousel_case_2_all_fixed,\n    carousel_case_2_both_flex_and_fixed,\n    carousel_case_3,\n];\n", "import React, { useRef, useState } from 'react';\nconst PADDING_WIDTH = 24;\nconst CONTENT_LEFT_WIDTH = 40;\nconst SWIPE_THRESHOLD = 15;\nconst GAP_DEFAULT = 8;\n/**\n * fixed sized template items should use its child width.\n * Whereas flex sized template items should use its parent's width.\n * @param item\n */\nfunction shouldRenderAsFixed(item) {\n    var _a;\n    return ((_a = item.props.templateItems[0].width) === null || _a === void 0 ? void 0 : _a.type) === 'fixed';\n}\nfunction CarouselItem({ item, defaultWidth, marginRight }) {\n    const style = shouldRenderAsFixed(item)\n        ? { width: 'fit-content' }\n        : { minWidth: defaultWidth, width: '100%' };\n    if (marginRight) {\n        style['marginRight'] = marginRight;\n    }\n    return React.createElement(\"div\", { style: style }, item);\n}\nexport const Carousel = React.memo(({ children, gap = GAP_DEFAULT }) => {\n    var _a, _b;\n    const carouselRef = useRef(null);\n    const screenWidth = window.innerWidth;\n    const defaultItemWidth = (_b = (_a = carouselRef.current) === null || _a === void 0 ? void 0 : _a.clientWidth) !== null && _b !== void 0 ? _b : 0;\n    const itemWidths = children.map((item) => {\n        var _a;\n        if (shouldRenderAsFixed(item)) {\n            return Number((_a = item.props.templateItems[0].width) === null || _a === void 0 ? void 0 : _a.value);\n        }\n        return defaultItemWidth;\n    });\n    const itemPositions = getEachItemPositions();\n    const [draggingInfo, setDraggingInfo] = useState({\n        scrolling: false,\n        dragging: false,\n        startPos: null,\n        offset: 0,\n        translateX: 0,\n        currentIndex: 0,\n    });\n    const handleMouseDown = (event) => {\n        setDraggingInfo((props) => (Object.assign(Object.assign({}, props), { scrolling: false, dragging: true, startPos: {\n                x: event.clientX,\n                y: event.clientY,\n            }, offset: 0 })));\n    };\n    const handleMouseMove = (event) => {\n        if (!draggingInfo.dragging || !draggingInfo.startPos)\n            return;\n        const currentX = event.clientX;\n        const newOffset = currentX - draggingInfo.startPos.x;\n        setDraggingInfo(Object.assign(Object.assign({}, draggingInfo), { offset: newOffset }));\n    };\n    const handleMouseUp = () => {\n        if (!draggingInfo.dragging)\n            return;\n        handleDragEnd();\n        unblockScroll();\n    };\n    const blockScroll = () => {\n        if (carouselRef.current) {\n            carouselRef.current.style.touchAction = 'pan-x';\n        }\n    };\n    const unblockScroll = () => {\n        if (carouselRef.current) {\n            carouselRef.current.style.touchAction = 'pan-y';\n        }\n    };\n    const handleTouchStart = (event) => {\n        setDraggingInfo((props) => (Object.assign(Object.assign({}, props), { scrolling: false, dragging: false, startPos: {\n                x: event.touches[0].clientX,\n                y: event.touches[0].clientY,\n            }, offset: 0 })));\n    };\n    const handleTouchMove = (event) => {\n        if (!draggingInfo.startPos || draggingInfo.scrolling)\n            return;\n        const startPos = draggingInfo.startPos;\n        const [touchMoveX, touchMoveY] = [event.touches[0].clientX, event.touches[0].clientY];\n        const [deltaX, deltaY] = [Math.abs(touchMoveX - startPos.x), Math.abs(touchMoveY - startPos.y)];\n        const newOffset = touchMoveX - startPos.x;\n        if (draggingInfo.dragging) {\n            if (newOffset === draggingInfo.offset)\n                return;\n            setDraggingInfo((props) => (Object.assign(Object.assign({}, props), { offset: newOffset })));\n            return;\n        }\n        if (deltaY > deltaX) {\n            setDraggingInfo((props) => (Object.assign(Object.assign({}, props), { scrolling: true })));\n        }\n        else {\n            blockScroll();\n            setDraggingInfo((props) => (Object.assign(Object.assign({}, props), { dragging: true, offset: newOffset })));\n        }\n    };\n    const handleTouchEnd = () => {\n        if (!draggingInfo.dragging)\n            return;\n        handleDragEnd();\n        unblockScroll();\n    };\n    const getNewDraggingInfo = ({ translateX, currentIndex, newTranslateX, nextIndex, }) => {\n        return {\n            scrolling: false,\n            dragging: false,\n            startPos: null,\n            offset: 0,\n            translateX: newTranslateX !== null && newTranslateX !== void 0 ? newTranslateX : translateX,\n            currentIndex: nextIndex !== null && nextIndex !== void 0 ? nextIndex : currentIndex,\n        };\n    };\n    const handleDragEnd = () => {\n        const { offset, currentIndex } = draggingInfo;\n        const absOffset = Math.abs(offset);\n        if (absOffset < SWIPE_THRESHOLD) {\n            setDraggingInfo((props) => getNewDraggingInfo(props));\n            return;\n        }\n        // If dragged to left, next index should be to the right\n        if (offset < 0 && currentIndex < children.length - 1) {\n            if (isLastItemFitsScreen(currentIndex)) {\n                setDraggingInfo((props) => getNewDraggingInfo(props));\n                return;\n            }\n            const nextIndex = currentIndex + 1;\n            /**\n             * This is special logic for \"더 보기\" button for Socar use-case.\n             * The button will have a small width (less than 50px).\n             * We want to include this button in the view and snap to right padding wall IFF !isLastTwoItemsFitScreen.\n             */\n            if (nextIndex === children.length - 1 || isLastItemFitsScreen(nextIndex)) {\n                setDraggingInfo((props) => getNewDraggingInfo(Object.assign(Object.assign({}, props), { newTranslateX: itemPositions[children.length - 1].end - PADDING_WIDTH - CONTENT_LEFT_WIDTH + screenWidth, nextIndex: children.length - 1 })));\n            }\n            else {\n                setDraggingInfo((props) => getNewDraggingInfo(Object.assign(Object.assign({}, props), { newTranslateX: itemPositions[nextIndex].start, nextIndex })));\n            }\n            // If dragged to right, next index should be to the left\n        }\n        else if (offset > 0 && currentIndex > 0) {\n            let nextIndex = currentIndex - 1;\n            while (draggingInfo.translateX >= itemPositions[nextIndex].start) {\n                nextIndex--;\n            }\n            setDraggingInfo((props) => getNewDraggingInfo(Object.assign(Object.assign({}, props), { newTranslateX: itemPositions[nextIndex].start, nextIndex })));\n        }\n        else {\n            setDraggingInfo((props) => getNewDraggingInfo(props));\n        }\n    };\n    function getCurrentTranslateX() {\n        return draggingInfo.translateX + draggingInfo.offset;\n    }\n    function isLastItemFitsScreen(nextIndex) {\n        const restItemsWidth = itemWidths.slice(nextIndex).reduce((prev, curr) => prev + gap + curr);\n        const restTotalWidth = PADDING_WIDTH + CONTENT_LEFT_WIDTH + restItemsWidth;\n        return restTotalWidth <= screenWidth;\n    }\n    function getEachItemPositions() {\n        let accumulator = 0;\n        return itemWidths.map((itemWidth, i) => {\n            if (i > 0) {\n                accumulator -= gap;\n            }\n            const itemPosition = {\n                start: accumulator,\n                end: accumulator - itemWidth,\n            };\n            accumulator -= itemWidth;\n            return itemPosition;\n        });\n    }\n    return (React.createElement(\"div\", { ref: carouselRef, onMouseDown: handleMouseDown, onMouseMove: handleMouseMove, onMouseUp: handleMouseUp, onMouseLeave: handleMouseUp, onTouchStart: handleTouchStart, onTouchMove: handleTouchMove, onTouchEnd: handleTouchEnd, className: \"sb-message-template__carousel\", style: {\n            cursor: draggingInfo.dragging ? 'grabbing' : 'grab',\n            transition: draggingInfo.dragging ? 'none' : 'transform 0.5s ease',\n            transform: `translateX(${getCurrentTranslateX()}px)`,\n        } }, children.map((item, index) => (React.createElement(CarouselItem, { key: index + '', item: item, defaultWidth: defaultItemWidth + 'px', marginRight: index < children.length - 1 ? gap : undefined })))));\n});\nexport default Carousel;\n", "import { ComponentType, FlexSizeSpecValue } from '@sendbird/uikit-message-template';\nexport function isWrappedText(view) {\n    var _a;\n    return view.type === ComponentType.Text && ((_a = view.width) === null || _a === void 0 ? void 0 : _a.value) == FlexSizeSpecValue.WrapContent;\n}\n// Compares the size spec to the option and returns whether they are equal or not.\nexport const isSizeCompatibleWithOption = ({ size, option, }) => {\n    if (option === 'wrap') {\n        return size.type === 'flex' && size.value == FlexSizeSpecValue.WrapContent;\n    }\n    if (option === 'fill') {\n        return size.type === 'flex' && size.value == FlexSizeSpecValue.FillParent;\n    }\n    return size.type === 'fixed';\n};\nexport const isGif = (url) => {\n    var _a;\n    if (typeof url !== 'string')\n        return false;\n    const extension = (_a = url.split('.').pop()) === null || _a === void 0 ? void 0 : _a.toLowerCase();\n    return extension === 'gif';\n};\nexport const isNumber = (val) => {\n    if (typeof val === 'string') {\n        return !Number.isNaN(Number(val));\n    }\n    return typeof val === 'number' && !Number.isNaN(val);\n};\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nexport const CanvasReactMessageTemplateImage = (props) => {\n    const { imageSize, canvasRef, canvasProps } = useCanvasMessageTemplateImage(props);\n    return (React.createElement(\"canvas\", Object.assign({}, canvasProps, { ref: canvasRef, width: imageSize === null || imageSize === void 0 ? void 0 : imageSize.width, height: imageSize === null || imageSize === void 0 ? void 0 : imageSize.height, onError: props.onError })));\n};\nconst useCanvasMessageTemplateImage = (_a) => {\n    var { metaData, tintColor } = _a, props = __rest(_a, [\"metaData\", \"tintColor\"]);\n    const canvasRef = useRef(null);\n    const [fallbackImageSize, setFallbackImageSize] = useState();\n    const imageSize = useMemo(() => {\n        if ((metaData === null || metaData === void 0 ? void 0 : metaData.pixelHeight) && (metaData === null || metaData === void 0 ? void 0 : metaData.pixelWidth)) {\n            return { width: metaData.pixelWidth, height: metaData.pixelHeight };\n        }\n        return fallbackImageSize;\n    }, [fallbackImageSize, metaData === null || metaData === void 0 ? void 0 : metaData.pixelHeight, metaData === null || metaData === void 0 ? void 0 : metaData.pixelWidth]);\n    useEffect(() => {\n        if (imageSize == null) {\n            console.log('Canvas_ReactMessageTemplateImage: no metaData, render fit to container');\n            if (canvasRef.current) {\n                canvasRef.current.style.width = '100%';\n                canvasRef.current.style.height = '100%';\n                const containerSize = canvasRef.current.getBoundingClientRect();\n                setFallbackImageSize(containerSize);\n            }\n        }\n    }, [imageSize]);\n    useEffect(() => {\n        if (props.src) {\n            const img = new Image();\n            const onImageLoad = () => {\n                if (canvasRef.current && tintColor && imageSize) {\n                    const ctx = canvasRef.current.getContext('2d');\n                    if (ctx) {\n                        const { width: imageWidth, height: imageHeight } = imageSize;\n                        // reset context before draw, consider `.save()` and `.restore()` api\n                        ctx.clearRect(0, 0, imageWidth, imageHeight);\n                        ctx.beginPath();\n                        ctx.globalCompositeOperation = 'source-over';\n                        ctx.fillStyle = '#000';\n                        // draw\n                        ctx.drawImage(img, 0, 0, imageWidth, imageHeight);\n                        ctx.globalCompositeOperation = 'source-atop';\n                        ctx.fillStyle = tintColor;\n                        ctx.fillRect(0, 0, imageWidth, imageHeight);\n                    }\n                }\n            };\n            const onImageError = (event) => {\n                var _a;\n                // @ts-ignore\n                (_a = props.onError) === null || _a === void 0 ? void 0 : _a.call(props, event);\n            };\n            img.addEventListener('load', onImageLoad);\n            img.addEventListener('error', onImageError);\n            img.src = props.src;\n            return () => {\n                img.removeEventListener('load', onImageLoad);\n                img.removeEventListener('error', onImageError);\n            };\n        }\n        return;\n    }, [props.src, imageSize, tintColor]);\n    return {\n        canvasRef,\n        canvasProps: props,\n        imageSize,\n    };\n};\n", "import React from 'react';\nexport const ImgReactMessageTemplateImage = (props) => {\n    return React.createElement(\"img\", Object.assign({}, props, { onError: props.onError, referrerPolicy: \"no-referrer\" }));\n};\n", "import React from 'react';\nexport const PlaceholderReactMessageTemplateImage = (props) => {\n    return React.createElement(\"div\", { style: Object.assign(Object.assign({}, props.style), { backgroundColor: 'transparent' }) });\n};\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { isGif } from '../../util';\nimport { CanvasReactMessageTemplateImage } from './index.canvas';\nimport { ImgReactMessageTemplateImage } from './index.img';\nimport { PlaceholderReactMessageTemplateImage } from './index.placeholder';\nconst ReactMessageTemplateImage = (_a) => {\n    var { tintColor, metaData } = _a, props = __rest(_a, [\"tintColor\", \"metaData\"]);\n    const { hasError, onError } = useImageLoadError(props.src);\n    if (props.onError)\n        console.warn('`onError` is intercepted and not executed in the ReactMessageTemplateImage.');\n    if (hasError) {\n        return React.createElement(PlaceholderReactMessageTemplateImage, Object.assign({}, props));\n    }\n    else if (tintColor && !isGif(props.src)) {\n        return React.createElement(CanvasReactMessageTemplateImage, Object.assign({}, props, { onError: onError, tintColor: tintColor, metaData: metaData }));\n    }\n    else {\n        return React.createElement(ImgReactMessageTemplateImage, Object.assign({}, props, { onError: onError }));\n    }\n};\nconst useImageLoadError = (source) => {\n    const [hasError, setHasError] = useState(false);\n    useEffect(() => setHasError(false), [source]);\n    return {\n        hasError,\n        onError: useCallback(() => setHasError(true), []),\n    };\n};\nexport default ReactMessageTemplateImage;\n", "// create a context provider for MessageComponent\n//  - this is a wrapper for MessageComponent\nimport React from 'react';\nconst MessageContext = React.createContext(null);\nconst MessageProvider = (props) => {\n    const { message, handleWebAction, handleCustomAction, handlePredefinedAction, children } = props;\n    const value = React.useMemo(() => ({\n        message,\n        handleWebAction,\n        handleCustomAction,\n        handlePredefinedAction,\n    }), [message === null || message === void 0 ? void 0 : message.updatedAt]);\n    return React.createElement(MessageContext.Provider, { value: value }, children);\n};\nconst useMessageContext = () => React.useContext(MessageContext);\nexport { MessageProvider, useMessageContext };\n", "import { useCallback, useEffect, useRef } from 'react';\n/**\n * Preserves a reference to the given callback function as an argument while the component is mounted.\n * Wraps the given callback in React's Ref to preserve the reference.\n * @param callback want to be preserved\n */\nexport function usePreservedCallback(callback) {\n    const callbackRef = useRef(callback);\n    useEffect(() => {\n        callbackRef.current = callback;\n    }, [callback]);\n    return useCallback((...args) => {\n        return callbackRef.current(...args);\n    }, [callbackRef]);\n}\n", "import { useCallback, useRef } from 'react';\nimport { usePreservedCallback } from './usePreservedCallback';\n/**\n * This hook can be used when you want to safely effect the value stored in useRef\n * Got this idea from https://github.com/facebook/react/issues/15176\n * @param callback\n * @param deps\n * @returns effect callback\n */\nexport function useRefEffect(callback, deps) {\n    const preservedCallback = usePreservedCallback(callback);\n    const disposeRef = useRef(noop);\n    const effect = useCallback((element) => {\n        disposeRef.current();\n        disposeRef.current = noop;\n        if (element != null) {\n            const cleanup = callback(element);\n            if (typeof cleanup === 'function') {\n                disposeRef.current = cleanup;\n            }\n        }\n    }, [preservedCallback, ...deps]);\n    return effect;\n}\nfunction noop() { }\n", "import { usePreservedCallback } from './usePreservedCallback';\nimport { useRefEffect } from './useRefEffect';\n/**\n * Subscribes to ResizeObserver on the component exposing the Ref,\n * to detect changes in the size of DOM elements.\n * The ResizeObserver API is required.\n * If you are targeting browsers that do not support that API, probably need to add appropriate polyfill too.\n * @param onResize\n * @returns ref\n */\nexport function useResizeObserver(onResize) {\n    const resizeCallback = usePreservedCallback(onResize);\n    const ref = useRefEffect((elem) => {\n        const observer = new ResizeObserver((entries) => {\n            if (entries[0] != null) {\n                resizeCallback(entries[0]);\n            }\n        });\n        observer.observe(elem);\n        return () => {\n            observer.unobserve(elem);\n        };\n    }, [resizeCallback]);\n    return ref;\n}\n", "import { useState } from 'react';\nimport { useResizeObserver } from './useResizeObserver';\n/**\n * @returns an element's width / height observed by IntersectionObserver,\n * and ref to detect its resize event\n */\nexport function useElementSize() {\n    const [width, setWidth] = useState(-1);\n    const [height, setHeight] = useState(-1);\n    const [contentWidth, setContentWidth] = useState(-1);\n    const [contentHeight, setContentHeight] = useState(-1);\n    const [paddingWidth, setPaddingWidth] = useState(-1);\n    const [paddingHeight, setPaddingHeight] = useState(-1);\n    const ref = useResizeObserver((entry) => {\n        // contentRect: content size only\n        const { width: contentWidth, height: contentHeight } = entry.contentRect;\n        // target: content + padding + border size\n        const target = entry.target;\n        const { width, height } = target.getBoundingClientRect();\n        setWidth(width);\n        setHeight(height);\n        setContentWidth(contentWidth);\n        setContentHeight(contentHeight);\n        setPaddingWidth(width - contentWidth);\n        setPaddingHeight(height - contentHeight);\n    });\n    return { ref, width, height, contentWidth, contentHeight, paddingWidth, paddingHeight };\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { useEffect, useMemo } from 'react';\nimport { Layout, defaultProperties, useSizeContext } from '@sendbird/uikit-message-template';\nimport { isSizeCompatibleWithOption } from '../util';\nimport { useElementSize } from './useElementSize';\nfunction isViewCompatibleWithSizeOption({ width = defaultProperties.view.size.width, height = defaultProperties.view.size.height, parentLayout = defaultProperties.box.layout, option, }) {\n    if (parentLayout === Layout.Row) {\n        return isSizeCompatibleWithOption({\n            size: width,\n            option,\n        });\n    }\n    return isSizeCompatibleWithOption({\n        size: height,\n        option,\n    });\n}\nexport function useRecalculateWidth(params) {\n    const { style, props } = params;\n    const _a = useElementSize(), { ref: elemRef } = _a, size = __rest(_a, [\"ref\"]);\n    const { updateSize, sizes } = useSizeContext();\n    const { id, siblings, parentLayout } = props;\n    const { width, height, paddingWidth, paddingHeight, contentWidth, contentHeight } = size;\n    useEffect(() => {\n        updateSize({\n            id: props.id,\n            width,\n            height,\n            paddingWidth,\n            paddingHeight,\n            contentWidth,\n            contentHeight,\n        });\n    }, [props.id, width, height, paddingWidth, paddingHeight, contentWidth, contentHeight, updateSize]);\n    const currentStyle = useMemo(() => {\n        const sumViewSize = (acc = 0, view) => {\n            var _a, _b, _c, _d;\n            if (parentLayout === Layout.Row) {\n                return acc + ((_b = (_a = sizes[view.id]) === null || _a === void 0 ? void 0 : _a.contentWidth) !== null && _b !== void 0 ? _b : 0);\n            }\n            return acc + ((_d = (_c = sizes[view.id]) === null || _c === void 0 ? void 0 : _c.contentHeight) !== null && _d !== void 0 ? _d : 0);\n        };\n        const hasFillOption = isViewCompatibleWithSizeOption({\n            width: props.width,\n            height: props.height,\n            parentLayout,\n            option: 'fill',\n        });\n        if (hasFillOption) {\n            const wrapSiblingsSize = siblings\n                .filter(({ width, height }) => !isViewCompatibleWithSizeOption({\n                width: width,\n                height: height,\n                parentLayout,\n                option: 'fill',\n            }))\n                .reduce(sumViewSize, 0);\n            const fillSiblingCount = siblings.filter(({ width, height }) => isViewCompatibleWithSizeOption({\n                width: width,\n                height: height,\n                parentLayout,\n                option: 'fill',\n            })).length;\n            const maxSizeOption = (() => {\n                if (parentLayout === Layout.Row) {\n                    return {\n                        maxWidth: `calc((100% - ${wrapSiblingsSize}px) / ${fillSiblingCount})`,\n                    };\n                }\n                return {\n                    maxHeight: `calc((100% - ${wrapSiblingsSize}px) / ${fillSiblingCount})`,\n                };\n            })();\n            return Object.assign(Object.assign(Object.assign({}, style), maxSizeOption), (width == 0 && { height: 0 }));\n        }\n        else {\n            const currentElemIdx = siblings.findIndex((sibling) => sibling.id === id);\n            const forwardSiblingsSize = siblings\n                .slice(0, currentElemIdx)\n                .filter(({ width, height }) => isViewCompatibleWithSizeOption({\n                width: width,\n                height: height,\n                parentLayout,\n                option: 'wrap',\n            }))\n                .reduce(sumViewSize, 0);\n            return Object.assign(Object.assign(Object.assign({}, style), (width === 0 && { height: 0 })), (parentLayout === Layout.Row\n                ? {\n                    maxWidth: `calc(100% - ${forwardSiblingsSize}px)`,\n                }\n                : {\n                    maxHeight: `calc(100% - ${forwardSiblingsSize}px)`,\n                }));\n        }\n    }, [props.width, props.height, parentLayout, sizes, siblings, style, width, id]);\n    return { recalculatedStyle: currentStyle, elemRef };\n}\n", "import { ComponentType, FlexSizeSpecValue, Layout, MediaContentMode, alignInFlex, defaultProperties, } from '@sendbird/uikit-message-template';\nimport { isNumber, isWrappedText } from '../util';\nexport function getDefaultStyles(overrides) {\n    return Object.assign({ display: 'flex', overflow: 'hidden', boxSizing: 'border-box' }, overrides);\n}\nexport function setViewProps(styles, props, options) {\n    var _a;\n    setViewSize(styles, props, options);\n    setViewStyle(styles, props);\n    // [Padding] Just parse the values as numbers; the actual value has been set in the ActionHandler.\n    if ((_a = props.viewStyle) === null || _a === void 0 ? void 0 : _a.padding) {\n        const padding = props.viewStyle.padding;\n        if (isNumber(padding.top))\n            padding.top = Number(padding.top);\n        if (isNumber(padding.bottom))\n            padding.bottom = Number(padding.bottom);\n        if (isNumber(padding.left))\n            padding.left = Number(padding.left);\n        if (isNumber(padding.right))\n            padding.right = Number(padding.right);\n    }\n}\nfunction setBorderStyle(styles, borderWidth, borderColor, radius) {\n    if (borderWidth) {\n        styles['--border-width'] = `${borderWidth}px`;\n        styles['--border-color'] = borderColor || 'transparent';\n    }\n    if (radius) {\n        styles['borderRadius'] = Number(radius);\n        styles['--border-radius'] = `${radius}px`;\n    }\n}\nexport function setViewStyle(styles, props) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n    const { viewStyle } = props;\n    if (isNumber((_a = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _a === void 0 ? void 0 : _a.top))\n        styles['marginTop'] = Number((_b = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _b === void 0 ? void 0 : _b.top);\n    if (isNumber((_c = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _c === void 0 ? void 0 : _c.bottom))\n        styles['marginBottom'] = Number((_d = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _d === void 0 ? void 0 : _d.bottom);\n    if (isNumber((_e = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _e === void 0 ? void 0 : _e.left))\n        styles['marginLeft'] = Number((_f = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _f === void 0 ? void 0 : _f.left);\n    if (isNumber((_g = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _g === void 0 ? void 0 : _g.right))\n        styles['marginRight'] = Number((_h = viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.margin) === null || _h === void 0 ? void 0 : _h.right);\n    const marginHorizontal = Number((_j = styles.marginLeft) !== null && _j !== void 0 ? _j : '0') + Number((_k = styles.marginRight) !== null && _k !== void 0 ? _k : '0');\n    if (marginHorizontal > 0 && styles.width === '100%')\n        styles.width = `calc(100% - ${marginHorizontal}px)`;\n    if (viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.backgroundColor)\n        styles['backgroundColor'] = viewStyle.backgroundColor;\n    // use JSON.stringify to escape special characters in image URL\n    if (viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.backgroundImageUrl) {\n        styles['backgroundImage'] = `url(${JSON.stringify(viewStyle.backgroundImageUrl)})`;\n        styles['backgroundSize'] = '100%';\n        styles['backgroundPosition'] = 'center';\n    }\n    setBorderStyle(styles, viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.borderWidth, viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.borderColor, viewStyle === null || viewStyle === void 0 ? void 0 : viewStyle.radius);\n}\nfunction getViewSizeStyle(width, height, parentLayout) {\n    const style = {};\n    if (width.type === 'flex' && width.value == FlexSizeSpecValue.FillParent) {\n        style['width'] = '100%';\n        if (parentLayout === Layout.Row) {\n            style['flex'] = 1;\n        }\n    }\n    else if (width.type === 'fixed' && width.value >= 0) {\n        style['width'] = Number(width.value);\n    }\n    if (height.type === 'flex' && height.value == FlexSizeSpecValue.FillParent) {\n        style['height'] = '100%';\n        if (parentLayout === Layout.Column) {\n            style['flex'] = 1;\n        }\n    }\n    else if (height.type === 'fixed' && height.value >= 0) {\n        style['height'] = Number(height.value);\n    }\n    return style;\n}\nexport function setViewSize(styles, props, options) {\n    var _a, _b;\n    const { width: defaultWidth, height: defaultHeight } = defaultProperties.view.size;\n    const { parentLayout } = options;\n    const sizeStyle = getViewSizeStyle((_a = props.width) !== null && _a !== void 0 ? _a : defaultWidth, (_b = props.height) !== null && _b !== void 0 ? _b : defaultHeight, parentLayout);\n    Object.assign(styles, sizeStyle);\n}\nexport function setAlign(styles, layout = defaultProperties.box.layout, align = defaultProperties.box.align) {\n    if (layout === Layout.Row) {\n        styles['flexDirection'] = 'row';\n        styles['alignItems'] = alignInFlex(align.vertical);\n        styles['justifyContent'] = alignInFlex(align.horizontal);\n    }\n    if (layout === Layout.Column) {\n        styles['flexDirection'] = 'column';\n        styles['alignItems'] = alignInFlex(align.horizontal);\n        styles['justifyContent'] = alignInFlex(align.vertical);\n    }\n}\nexport function setTextAlign(styles, align = defaultProperties.box.align.horizontal) {\n    styles.textAlign = align;\n}\nexport function setImageStyle(styles, imageStyle) {\n    const { contentMode = MediaContentMode.AspectFit } = imageStyle || {};\n    if (contentMode) {\n        switch (contentMode) {\n            case MediaContentMode.AspectFill:\n                styles['objectFit'] = 'cover';\n                break;\n            case MediaContentMode.AspectFit:\n                styles['objectFit'] = 'contain';\n                break;\n            case MediaContentMode.ScalesToFill:\n                styles['objectFit'] = 'fill';\n                break;\n        }\n    }\n}\n// uses image meta-data to render images that doesn't break the UI\n// https://sendbird.atlassian.net/wiki/spaces/UK/pages/2008220608/Message+template+-+Image+policy\nexport function setImageAspectRatio(styles, props) {\n    var _a, _b, _c, _d;\n    const imageMetaData = props === null || props === void 0 ? void 0 : props.metaData;\n    if (!(imageMetaData === null || imageMetaData === void 0 ? void 0 : imageMetaData.pixelHeight) || !(imageMetaData === null || imageMetaData === void 0 ? void 0 : imageMetaData.pixelWidth)) {\n        return;\n    }\n    if (((_a = props === null || props === void 0 ? void 0 : props.width) === null || _a === void 0 ? void 0 : _a.type) === 'fixed' || ((_b = props === null || props === void 0 ? void 0 : props.height) === null || _b === void 0 ? void 0 : _b.type) === 'fixed') {\n        return;\n    }\n    styles['aspectRatio'] = `${(_c = props === null || props === void 0 ? void 0 : props.metaData) === null || _c === void 0 ? void 0 : _c.pixelWidth} / ${(_d = props === null || props === void 0 ? void 0 : props.metaData) === null || _d === void 0 ? void 0 : _d.pixelHeight}`;\n}\nexport function webkitLineClampStyles(numberOfLines) {\n    return {\n        WebkitLineClamp: numberOfLines,\n        WebkitBoxOrient: 'vertical',\n        display: '-webkit-box',\n        overflow: 'hidden',\n        overflowWrap: 'anywhere',\n        flex: 1,\n    };\n}\nexport function setTextStyle(styles, props, options) {\n    const { textStyle, width } = props;\n    // TODO: Change default as design\n    const { size, color, weight = 'normal' } = textStyle || {};\n    if (size)\n        styles['fontSize'] = Number(size);\n    if (color)\n        styles['color'] = color;\n    if (weight)\n        styles['fontWeight'] = weight;\n    if ((width === null || width === void 0 ? void 0 : width.value) == FlexSizeSpecValue.WrapContent) {\n        styles['maxWidth'] = '100%';\n    }\n    if (props.type === ComponentType.Text) {\n        const { siblings, elemIdx } = options;\n        // To push out any subsequent components from the container,\n        // if a prior one is long enough to occupy an entire line\n        // @link https://sendbird.atlassian.net/browse/NOTI-709\n        if (siblings != null && siblings.length >= 2 && siblings.every(isWrappedText)) {\n            styles.flexShrink = siblings.length - 1 === elemIdx ? 1 : 0;\n        }\n    }\n}\n", "var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { FlexSizeSpecValue, Layout, createMessageTemplate, createParser, createRenderer, } from '@sendbird/uikit-message-template';\nimport { Carousel } from '../components/Carousel';\nimport ReactMessageTemplateImage from '../components/ReactMessageTemplateImage';\nimport { useMessageContext } from '../context/MessageContextProvider';\nimport { useRecalculateWidth } from '../hook/useRecalculationSize';\nimport '../index.css';\nimport { getDefaultStyles, setAlign, setImageAspectRatio, setImageStyle, setTextAlign, setTextStyle, setViewProps, webkitLineClampStyles, } from '../styles';\nconst hasValidUrlProtocol = (url = '') => ['http://', 'https://', 'ftp://'].some((protocol) => url.startsWith(protocol));\n/**\n * @param url - url to be checked\n * @returns url with http:// protocol if it doesn't have any protocol\n * @example\n * returnUrl('www.sendbird.com') // returns 'http://www.sendbird.com'\n * returnUrl('https://www.sendbird.com') // returns 'https://www.sendbird.com'\n * returnUrl('ftp://www.sendbird.com') // returns 'ftp://www.sendbird.com'\n * returnUrl('sendbird.com') // returns 'https://sendbird.com'\n **/\nconst returnUrl = (url = '') => {\n    if (hasValidUrlProtocol(url)) {\n        return url;\n    }\n    return `https://${url}`;\n};\n// todo: semantic html here is not perfect, need to revisit. Same for Button\nconst ActionHandler = ({ className = '', style, children, props }) => {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s;\n    const { recalculatedStyle, elemRef } = useRecalculateWidth({ style, props });\n    const { message, handleWebAction, handleCustomAction, handlePredefinedAction } = useMessageContext();\n    const onClick = (e) => {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (((_a = props === null || props === void 0 ? void 0 : props.action) === null || _a === void 0 ? void 0 : _a.type) === 'web') {\n            if (handleWebAction) {\n                handleWebAction(e, props.action, message);\n            }\n            else {\n                (_c = window === null || window === void 0 ? void 0 : window.open(returnUrl((_b = props === null || props === void 0 ? void 0 : props.action) === null || _b === void 0 ? void 0 : _b.data), '_blank', 'noopener noreferrer')) === null || _c === void 0 ? void 0 : _c.focus();\n            }\n        }\n        if (((_d = props === null || props === void 0 ? void 0 : props.action) === null || _d === void 0 ? void 0 : _d.type) === 'custom') {\n            if (handleCustomAction) {\n                handleCustomAction(e, props.action, message);\n            }\n            else {\n                (_f = window === null || window === void 0 ? void 0 : window.open(returnUrl((_e = props === null || props === void 0 ? void 0 : props.action) === null || _e === void 0 ? void 0 : _e.data), '_blank', 'noopener noreferrer')) === null || _f === void 0 ? void 0 : _f.focus();\n            }\n        }\n        if (((_g = props === null || props === void 0 ? void 0 : props.action) === null || _g === void 0 ? void 0 : _g.type) === 'uikit') {\n            handlePredefinedAction === null || handlePredefinedAction === void 0 ? void 0 : handlePredefinedAction(e, props.action, message);\n        }\n    };\n    const borderClass = ((_a = props.viewStyle) === null || _a === void 0 ? void 0 : _a.borderWidth) ? ' sb-message-template__border' : '';\n    if (className === 'sb-message-template__text-button') {\n        return (React.createElement(\"button\", { className: `${className}${borderClass}`, \"data-sb-template-id\": props.elementId, style: Object.assign(Object.assign({}, style), { paddingTop: (_c = (_b = props.viewStyle) === null || _b === void 0 ? void 0 : _b.padding) === null || _c === void 0 ? void 0 : _c.top, paddingRight: (_e = (_d = props.viewStyle) === null || _d === void 0 ? void 0 : _d.padding) === null || _e === void 0 ? void 0 : _e.right, paddingBottom: (_g = (_f = props.viewStyle) === null || _f === void 0 ? void 0 : _f.padding) === null || _g === void 0 ? void 0 : _g.bottom, paddingLeft: (_j = (_h = props.viewStyle) === null || _h === void 0 ? void 0 : _h.padding) === null || _j === void 0 ? void 0 : _j.left }), onClick: onClick }, children));\n    }\n    const { display, flexDirection, justifyContent, alignItems, objectFit } = recalculatedStyle, wrapperStyles = __rest(recalculatedStyle, [\"display\", \"flexDirection\", \"justifyContent\", \"alignItems\", \"objectFit\"]);\n    return (React.createElement(\"div\", { ref: elemRef, className: `${className}${borderClass} ${(props === null || props === void 0 ? void 0 : props.action) ? 'sb-message-template__action' : ''}`, \"data-sb-template-id\": props.elementId, style: wrapperStyles, onClick: onClick },\n        React.createElement(\"div\", { style: {\n                display,\n                flexDirection,\n                justifyContent,\n                alignItems,\n                objectFit,\n                width: '100%',\n                height: '100%',\n                paddingTop: (_l = (_k = props.viewStyle) === null || _k === void 0 ? void 0 : _k.padding) === null || _l === void 0 ? void 0 : _l.top,\n                paddingRight: (_o = (_m = props.viewStyle) === null || _m === void 0 ? void 0 : _m.padding) === null || _o === void 0 ? void 0 : _o.right,\n                paddingBottom: (_q = (_p = props.viewStyle) === null || _p === void 0 ? void 0 : _p.padding) === null || _q === void 0 ? void 0 : _q.bottom,\n                paddingLeft: (_s = (_r = props.viewStyle) === null || _r === void 0 ? void 0 : _r.padding) === null || _s === void 0 ? void 0 : _s.left,\n            } }, children)));\n};\n/**\n * Text that is fixed or fill parent should be wrapped in a div with max-width: 100% and max-height: 100%\n * This is to prevent text from overflowing the padding of the container\n */\nfunction isFixedOrFill(view) {\n    var _a, _b, _c, _d;\n    const heightType = (_a = view === null || view === void 0 ? void 0 : view.height) === null || _a === void 0 ? void 0 : _a.type;\n    const widthType = (_b = view === null || view === void 0 ? void 0 : view.width) === null || _b === void 0 ? void 0 : _b.type;\n    const isFixedDiamension = heightType === 'fixed' || widthType === 'fixed';\n    const isFill = (heightType === 'flex' && ((_c = view === null || view === void 0 ? void 0 : view.height) === null || _c === void 0 ? void 0 : _c.value) === FlexSizeSpecValue.FillParent) ||\n        (widthType === 'flex' && ((_d = view === null || view === void 0 ? void 0 : view.width) === null || _d === void 0 ? void 0 : _d.value) === FlexSizeSpecValue.FillParent);\n    return isFixedDiamension || isFill;\n}\nfunction convertNewlinesToBr(text) {\n    return text.split('\\n').map((line, index) => (React.createElement(React.Fragment, { key: index },\n        line,\n        React.createElement(\"br\", null))));\n}\nfunction renderText(view) {\n    const { text, maxTextLines } = view;\n    const isToBeWrapped = isFixedOrFill(view);\n    const isMultiLine = maxTextLines != null && maxTextLines > 0;\n    const convertedText = convertNewlinesToBr(text);\n    if (isMultiLine || isToBeWrapped) {\n        const wrapperStyling = Object.assign(Object.assign({}, ((isMultiLine || isToBeWrapped) && { maxWidth: '100%' })), (isToBeWrapped && { maxHeight: '100%', overflow: 'hidden' }));\n        return (React.createElement(\"div\", { style: wrapperStyling }, isMultiLine ? React.createElement(\"div\", { style: webkitLineClampStyles(maxTextLines) }, convertedText) : convertedText));\n    }\n    return isMultiLine ? React.createElement(\"div\", { style: webkitLineClampStyles(maxTextLines) }, convertedText) : convertedText;\n}\nexport const renderer = createRenderer({\n    views: {\n        box(props) {\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__box\", elementId: props.elementId, style: props.parsedProperties, props: props }, props.children));\n        },\n        text(props) {\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__text\", elementId: props.elementId, style: props.parsedProperties, props: props }, renderText(props)));\n        },\n        image(props) {\n            var _a;\n            // todo: add image backup\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__image-container\", elementId: props.elementId, style: props.parsedProperties, props: props },\n                React.createElement(ReactMessageTemplateImage, { className: \"sb-message-template__image\", alt: \"image\", src: props.imageUrl, style: { width: '100%', height: '100%', aspectRatio: 'inherit', objectFit: 'inherit' }, tintColor: (_a = props.imageStyle) === null || _a === void 0 ? void 0 : _a.tintColor, metaData: props.metaData })));\n        },\n        textButton(props) {\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__text-button\", elementId: props.elementId, style: props.parsedProperties, props: props }, renderText(Object.assign({ maxTextLines: 1 }, props))));\n        },\n        imageButton(props) {\n            var _a;\n            return (React.createElement(ActionHandler, { className: \"sb-message-template__image-container sb-message-template__image-button\", elementId: props.elementId, style: props.parsedProperties, props: props },\n                React.createElement(ReactMessageTemplateImage, { className: \"sb-message-template__image\", alt: \"image-button\", src: props.imageUrl, style: { width: '100%', height: '100%', aspectRatio: 'inherit', objectFit: 'inherit' }, tintColor: (_a = props.imageStyle) === null || _a === void 0 ? void 0 : _a.tintColor, metaData: props.metaData })));\n        },\n        carouselView(props) {\n            return React.createElement(Carousel, { gap: props.spacing }, props.children);\n        },\n    },\n});\nexport const parser = createParser({\n    mapBoxProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        setAlign(styles, props.layout, props.align);\n        return styles;\n    },\n    mapTextProps(props, options) {\n        var _a;\n        const styles = getDefaultStyles({ whiteSpace: 'pre-line' });\n        // Better not set flex 1 to text\n        setViewProps(styles, props, options);\n        setTextStyle(styles, props, options);\n        setAlign(styles, Layout.Row, props.align);\n        setTextAlign(styles, (_a = props.align) === null || _a === void 0 ? void 0 : _a.horizontal);\n        return styles;\n    },\n    mapImageProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        setImageStyle(styles, props.imageStyle);\n        setImageAspectRatio(styles, props);\n        return styles;\n    },\n    mapTextButtonProps(props, options) {\n        const styles = getDefaultStyles({ whiteSpace: 'pre-line', alignItems: 'center', justifyContent: 'center' });\n        setViewProps(styles, props, options);\n        setTextStyle(styles, Object.assign(Object.assign({}, props), { textStyle: Object.assign({ weight: 500 }, props.textStyle) }), options);\n        return styles;\n    },\n    mapImageButtonProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        setImageStyle(styles, props.imageStyle);\n        setImageAspectRatio(styles, props);\n        return styles;\n    },\n    mapCarouselProps(props, options) {\n        const styles = getDefaultStyles();\n        setViewProps(styles, props, options);\n        return styles;\n    },\n});\nexport const { MessageTemplate } = createMessageTemplate({\n    renderer,\n    parser,\n    Container: ({ children, className }) => {\n        return (React.createElement(\"div\", { className: `sb-message-template__parent ${className}`, style: {\n                display: 'flex',\n                flexDirection: 'column',\n                maxWidth: 400,\n                marginBottom: 24,\n            } }, children));\n    },\n});\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { w as getClassName } from '../chunks/bundle-D-cVbGxk.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\n\nfunction FallbackTemplateMessageItemBody(_a) {\n    var className = _a.className, message = _a.message, isByMe = _a.isByMe;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var text = message['message'];\n    return (React__default.createElement(\"div\", { className: getClassName([\n            className !== null && className !== void 0 ? className : '',\n            isByMe ? 'outgoing' : 'incoming',\n            'sendbird-template-message-item-body__fallback_message',\n        ]) }, text\n        ? React__default.createElement(React__default.Fragment, null,\n            React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONCONTENT_INVERSE_1 }, text))\n        : React__default.createElement(React__default.Fragment, null,\n            React__default.createElement(Label, { className: 'sendbird-template-message-item-body__fallback_message__header', type: LabelTypography.BODY_1, color: LabelColors.ONCONTENT_INVERSE_1 }, stringSet.UNKNOWN__TEMPLATE_ERROR),\n            React__default.createElement(Label, { className: 'sendbird-template-message-item-body__fallback_message__description', type: LabelTypography.BODY_1, color: LabelColors.ONCONTENT_INVERSE_3 }, stringSet.UNKNOWN__CANNOT_READ_TEMPLATE))));\n}\n\nexport { FallbackTemplateMessageItemBody, FallbackTemplateMessageItemBody as default };\n//# sourceMappingURL=FallbackTemplateMessageItemBody.tsx.js.map\n", "import React__default from 'react';\nimport Loader from './Loader.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { c as classnames } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\n\nvar TEMPLATE_LOADING_SPINNER_SIZE = '40px';\nfunction LoadingTemplateMessageItemBody(_a) {\n    var className = _a.className, isByMe = _a.isByMe;\n    return (React__default.createElement(\"div\", { className: classnames(className, isByMe ? 'outgoing' : 'incoming', 'sendbird-template-loading-message-item-body') },\n        React__default.createElement(Loader, { className: \"sendbird-message-status__icon\", testID: \"sendbird-message-status-icon\", width: TEMPLATE_LOADING_SPINNER_SIZE, height: TEMPLATE_LOADING_SPINNER_SIZE },\n            React__default.createElement(Icon, { type: IconTypes.SPINNER, fillColor: IconColors.CONTENT_INVERSE_3, width: TEMPLATE_LOADING_SPINNER_SIZE, height: TEMPLATE_LOADING_SPINNER_SIZE }))));\n}\n\nexport { LoadingTemplateMessageItemBody, LoadingTemplateMessageItemBody as default };\n//# sourceMappingURL=LoadingTemplateMessageItemBody.tsx.js.map\n", "import React__default from 'react';\n\nvar FeedbackIconButton = React__default.forwardRef(function (props, ref) {\n    var children = props.children, isSelected = props.isSelected, _a = props.onClick, onClick = _a === void 0 ? function () { } : _a, _b = props.disabled, disabled = _b === void 0 ? false : _b;\n    return (React__default.createElement(\"button\", { className: [\n            'sendbird-iconbutton__feedback',\n            isSelected ? 'sendbird-iconbutton__feedback__pressed' : '',\n            disabled ? 'sendbird-iconbutton__feedback__disabled' : '',\n        ].join(' '), ref: ref, type: 'button', onClick: function (e) {\n            onClick === null || onClick === void 0 ? void 0 : onClick(e);\n        }, disabled: disabled },\n        React__default.createElement(\"span\", { className: [\n                'sendbird-iconbutton__feedback__inner',\n                isSelected ? 'sendbird-iconbutton__feedback__inner__pressed' : '',\n                disabled ? 'sendbird-iconbutton__feedback__inner__disabled' : '',\n            ].join(' ') }, children)));\n});\n\nexport { FeedbackIconButton as default };\n//# sourceMappingURL=FeedbackIconButton.js.map\n", "import React__default from 'react';\nimport BottomSheet from './BottomSheet.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useLocalization } from '../chunks/bundle-BvAzWVA5.js';\nimport 'react-dom';\nimport '../chunks/bundle-Bh6KfMRl.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport './IconButton.js';\nimport './Button.js';\nimport './Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../useSendbirdStateContext.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport './SortByRow.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\n\nfunction MobileFeedbackMenu(props) {\n    var hideMenu = props.hideMenu, onEditFeedback = props.onEditFeedback, onRemoveFeedback = props.onRemoveFeedback;\n    var stringSet = useLocalization().stringSet;\n    return (React__default.createElement(BottomSheet, { onBackdropClick: hideMenu },\n        React__default.createElement(\"div\", { className: 'sendbird-message__bottomsheet--feedback-options-menu' },\n            React__default.createElement(\"div\", { className: 'sendbird-message__bottomsheet--feedback-option', onClick: function () {\n                    hideMenu();\n                    onEditFeedback();\n                } },\n                React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_1 }, stringSet.EDIT_COMMENT)),\n            React__default.createElement(\"div\", { className: 'sendbird-message__bottomsheet--feedback-option', onClick: function () {\n                    hideMenu();\n                    onRemoveFeedback();\n                } },\n                React__default.createElement(Label, { type: LabelTypography.BODY_1, color: LabelColors.ERROR }, stringSet.REMOVE_FEEDBACK)))));\n}\n\nexport { MobileFeedbackMenu as default };\n//# sourceMappingURL=MobileFeedbackMenu.js.map\n", "import React__default, { useContext, useRef } from 'react';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { M as Modal } from '../chunks/bundle-Bh6KfMRl.js';\nimport Button, { ButtonTypes } from './Button.js';\nimport Input from './Input.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useMediaQueryContext } from '../chunks/bundle-DBzinRyn.js';\nimport { u as useKeyDown } from '../chunks/bundle-DTOg7Xzt.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport './IconButton.js';\nimport './Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../useSendbirdStateContext.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport './SortByRow.js';\n\nfunction MessageFeedbackModal(props) {\n    var _a, _b;\n    var selectedFeedback = props.selectedFeedback, message = props.message, onClose = props.onClose, onSubmit = props.onSubmit, onUpdate = props.onUpdate, onRemove = props.onRemove;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var isMobile = useMediaQueryContext().isMobile;\n    var isEdit = (message === null || message === void 0 ? void 0 : message.myFeedback) && selectedFeedback === message.myFeedback.rating;\n    var hasComment = (_a = message === null || message === void 0 ? void 0 : message.myFeedback) === null || _a === void 0 ? void 0 : _a.comment;\n    var onSubmitWrapper = function () {\n        var _a, _b, _c;\n        if (!selectedFeedback)\n            return;\n        var comment = (_b = (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : '';\n        if (isEdit) {\n            if (comment !== ((_c = message.myFeedback) === null || _c === void 0 ? void 0 : _c.comment)) {\n                onUpdate === null || onUpdate === void 0 ? void 0 : onUpdate(selectedFeedback, comment);\n            }\n            else {\n                onClose === null || onClose === void 0 ? void 0 : onClose();\n            }\n        }\n        else if (!message.myFeedback) {\n            onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(selectedFeedback, comment);\n        }\n    };\n    var modalRef = useRef();\n    var inputRef = useRef();\n    var onKeyDown = useKeyDown(modalRef, {\n        Enter: function () { return onSubmitWrapper(); },\n        Escape: function () { return onClose === null || onClose === void 0 ? void 0 : onClose(); },\n    });\n    return (React__default.createElement(\"div\", { onKeyDown: onKeyDown },\n        React__default.createElement(Modal, { contentClassName: 'sendbird-message-feedback-modal-content__mobile', type: ButtonTypes.PRIMARY, onCancel: onClose, onSubmit: function () {\n                onSubmitWrapper();\n            }, submitText: stringSet.BUTTON__SUBMIT, renderHeader: function () { return (React__default.createElement(\"div\", { className: 'sendbird-modal__header' },\n                React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1, className: 'sendbird-message-feedback-modal-header' }, stringSet.FEEDBACK_MODAL_TITLE))); }, customFooter: React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-footer__root' },\n                !isMobile && (message === null || message === void 0 ? void 0 : message.myFeedback) && selectedFeedback === message.myFeedback.rating\n                    ? React__default.createElement(Button, { type: ButtonTypes.WARNING, onClick: onRemove, labelType: LabelTypography.BUTTON_3 }, stringSet.BUTTON__REMOVE_FEEDBACK)\n                    : React__default.createElement(\"div\", null),\n                React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-footer__right-content' },\n                    React__default.createElement(Button, { type: ButtonTypes.SECONDARY, onClick: onClose },\n                        React__default.createElement(Label, { type: LabelTypography.BUTTON_3, color: LabelColors.ONBACKGROUND_1 }, stringSet.BUTTON__CANCEL)),\n                    React__default.createElement(Button, { onClick: function () { return onSubmitWrapper(); } },\n                        React__default.createElement(Label, { type: LabelTypography.BUTTON_3, color: LabelColors.ONCONTENT_1 }, hasComment ? stringSet.BUTTON__SAVE : stringSet.BUTTON__SUBMIT)))) },\n            React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-body__root' },\n                React__default.createElement(Input, { name: 'sendbird-message-feedback-modal-body__root', ref: inputRef, value: isEdit ? (_b = message.myFeedback) === null || _b === void 0 ? void 0 : _b.comment : undefined, placeHolder: stringSet.FEEDBACK_CONTENT_PLACEHOLDER, autoFocus: true })))));\n}\n\nexport { MessageFeedbackModal as default };\n//# sourceMappingURL=MessageFeedbackModal.js.map\n", "import React__default, { useContext, useRef } from 'react';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport { M as Modal } from '../chunks/bundle-Bh6KfMRl.js';\nimport Button, { ButtonTypes } from './Button.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { u as useKeyDown } from '../chunks/bundle-DTOg7Xzt.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../chunks/bundle-DBzinRyn.js';\nimport './IconButton.js';\nimport './Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../useSendbirdStateContext.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport './SortByRow.js';\n\nfunction MessageFeedbackFailedModal(props) {\n    var text = props.text, onCancel = props.onCancel;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var modalRef = useRef(null);\n    var onKeyDown = useKeyDown(modalRef, {\n        Enter: function () { return onCancel === null || onCancel === void 0 ? void 0 : onCancel(); },\n        Escape: function () { return onCancel === null || onCancel === void 0 ? void 0 : onCancel(); },\n    });\n    return (React__default.createElement(\"div\", { onKeyDown: onKeyDown },\n        React__default.createElement(Modal, { contentClassName: 'sendbird-message-feedback-modal-content__mobile', type: ButtonTypes.PRIMARY, onSubmit: onCancel, onClose: onCancel, submitText: stringSet.BUTTON__OK, renderHeader: function () { return (React__default.createElement(\"div\", { className: 'sendbird-modal__header' },\n                React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1, className: 'sendbird-message-feedback-modal-header' }, text))); }, customFooter: React__default.createElement(\"div\", { className: 'sendbird-message-feedback-modal-footer__root_failed' },\n                React__default.createElement(Button, { onClick: onCancel },\n                    React__default.createElement(Label, { type: LabelTypography.BUTTON_3, color: LabelColors.ONCONTENT_1 }, stringSet.BUTTON__OK))) })));\n}\n\nexport { MessageFeedbackFailedModal as default };\n//# sourceMappingURL=MessageFeedbackFailedModal.js.map\n", "import { useState, useEffect } from 'react';\n\n/* global MutationCallback */\n/* global MutationObserverInit */\n// To prevent Undefined lint errors: https://github.com/standard/standard/issues/1159#issuecomment-403003627\nfunction useElementObserver(selector, targetElement) {\n    var _a = useState(false), isElementMounted = _a[0], setIsElementMounted = _a[1];\n    useEffect(function () {\n        var targetElements = Array.isArray(targetElement) ? targetElement : [targetElement];\n        var updateElementState = function () {\n            var _a;\n            var elements = targetElements === null || targetElements === void 0 ? void 0 : targetElements.map(function (target) { return target === null || target === void 0 ? void 0 : target.querySelector(selector); });\n            setIsElementMounted((_a = elements === null || elements === void 0 ? void 0 : elements.some(function (element) { return !!element; })) !== null && _a !== void 0 ? _a : false);\n        };\n        updateElementState();\n        var observerCallback = function (mutations) {\n            mutations.forEach(function (mutation) {\n                if (mutation.addedNodes.length || mutation.removedNodes.length) {\n                    Array.from(mutation.addedNodes).forEach(function (node) {\n                        if (node.nodeType === Node.ELEMENT_NODE && node.matches(selector)) {\n                            setIsElementMounted(true);\n                        }\n                    });\n                    Array.from(mutation.removedNodes).forEach(function (node) {\n                        if (node.nodeType === Node.ELEMENT_NODE && node.matches(selector)) {\n                            setIsElementMounted(false);\n                        }\n                    });\n                }\n            });\n        };\n        var observer = new MutationObserver(observerCallback);\n        var observerOptions = {\n            childList: true, // Observe addition and removal of child nodes\n            subtree: true, // Observe the entire subtree\n        };\n        targetElements === null || targetElements === void 0 ? void 0 : targetElements.forEach(function (target) {\n            if (target)\n                observer.observe(target, observerOptions);\n        });\n        return function () {\n            observer.disconnect();\n        };\n    }, [selector, targetElement]);\n    return isElementMounted;\n}\n\nexport { useElementObserver as u };\n//# sourceMappingURL=bundle-CbMF1uDu.js.map\n", "import React__default, { useState } from 'react';\n\nvar ReplyItem = function (_a) {\n    var value = _a.value, onClickReply = _a.onClickReply, _b = _a.type, type = _b === void 0 ? 'vertical' : _b;\n    return (React__default.createElement(\"div\", { className: \"sendbird-suggested-replies__option \".concat(type), id: value, onClick: function (e) { return onClickReply(e, value); } }, value));\n};\nvar SuggestedReplies = function (_a) {\n    var replyOptions = _a.replyOptions, onSendMessage = _a.onSendMessage, _b = _a.type, type = _b === void 0 ? 'vertical' : _b;\n    var _c = useState(false), replied = _c[0], setReplied = _c[1];\n    var onClickReply = function (event, option) {\n        event.preventDefault();\n        onSendMessage({ message: option });\n        setReplied(true);\n    };\n    if (replied) {\n        return null;\n    }\n    var children = replyOptions.map(function (option, index) {\n        return (React__default.createElement(ReplyItem, { key: index, value: option, onClickReply: onClickReply, type: type }));\n    });\n    return React__default.createElement(\"div\", { className: \"sendbird-suggested-replies \".concat(type) }, children);\n};\n\nexport { ReplyItem, SuggestedReplies as default };\n//# sourceMappingURL=SuggestedReplies.js.map\n", "import React__default, { useRef, useContext, useEffect, useMemo, useState } from 'react';\nimport { L as Label, a as LabelTypography, b as LabelColors } from './bundle-CEZ0D4qz.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { A as Avatar } from './bundle-C76-LA1E.js';\nimport { L as LocalizationContext, u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { u as uuidv4 } from './bundle-Cvt9FZvn.js';\nimport { c as classnames } from './bundle-CtBgdgkK.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { U as USER_MENTION_TEMP_CHAR, M as MAX_USER_MENTION_COUNT, a as MAX_USER_SUGGESTION_COUNT } from './bundle-DHJZgVZH.js';\nimport { M as MessageInputKeys } from './bundle-DcNHBjGp.js';\nimport { a as __awaiter, b as __generator } from './bundle-B1SLZ0HT.js';\n\nfunction SuggestedUserMentionItem(props) {\n    var member = props.member, _a = props.isFocused, isFocused = _a === void 0 ? false : _a, parentScrollRef = props.parentScrollRef, onClick = props.onClick, onMouseOver = props.onMouseOver, onMouseMove = props.onMouseMove, renderUserMentionItem = props.renderUserMentionItem;\n    var scrollRef = useRef(null);\n    var stringSet = useContext(LocalizationContext).stringSet;\n    useEffect(function () {\n        if (isFocused && (parentScrollRef === null || parentScrollRef === void 0 ? void 0 : parentScrollRef.current) != null && (scrollRef === null || scrollRef === void 0 ? void 0 : scrollRef.current) != null\n            && (parentScrollRef.current.scrollTop >= scrollRef.current.offsetTop\n                || parentScrollRef.current.scrollTop + parentScrollRef.current.clientHeight <= scrollRef.current.offsetTop)) {\n            scrollRef.current.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n        }\n    }, [isFocused]);\n    var customMentionItem = useMemo(function () {\n        if (renderUserMentionItem) {\n            return (React__default.createElement(\"div\", { className: \"sendbird-mention-suggest-list__user-item\", onClick: function (event) { return onClick === null || onClick === void 0 ? void 0 : onClick({ event: event, member: member, itemRef: scrollRef }); }, onMouseOver: function (event) { return onMouseOver === null || onMouseOver === void 0 ? void 0 : onMouseOver({ event: event, member: member, itemRef: scrollRef }); }, onMouseMove: function (event) { return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove({ event: event, member: member, itemRef: scrollRef }); }, key: (member === null || member === void 0 ? void 0 : member.userId) || uuidv4(), ref: scrollRef }, renderUserMentionItem({ user: member })));\n        }\n    }, [renderUserMentionItem]);\n    if (customMentionItem) {\n        return customMentionItem;\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-mention-suggest-list__user-item', isFocused && 'focused'), onClick: function (event) { return onClick === null || onClick === void 0 ? void 0 : onClick({ event: event, member: member, itemRef: scrollRef }); }, onMouseOver: function (event) { return onMouseOver === null || onMouseOver === void 0 ? void 0 : onMouseOver({ event: event, member: member, itemRef: scrollRef }); }, onMouseMove: function (event) { return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove({ event: event, member: member, itemRef: scrollRef }); }, key: (member === null || member === void 0 ? void 0 : member.userId) || uuidv4(), ref: scrollRef },\n        React__default.createElement(Avatar, { className: \"sendbird-mention-suggest-list__user-item__avatar\", src: member === null || member === void 0 ? void 0 : member.profileUrl, alt: \"user-profile\", width: \"24px\", height: \"24px\" }),\n        React__default.createElement(Label, { className: \"sendbird-mention-suggest-list__user-item__nickname\", testID: \"sendbird-mention-suggest-list__user-item__nickname\", type: LabelTypography.SUBTITLE_2, color: (member === null || member === void 0 ? void 0 : member.nickname) ? LabelColors.ONBACKGROUND_1 : LabelColors.ONBACKGROUND_3 }, (member === null || member === void 0 ? void 0 : member.nickname) || (stringSet === null || stringSet === void 0 ? void 0 : stringSet.MENTION_NAME__NO_NAME)),\n        React__default.createElement(Label, { className: \"sendbird-mention-suggest-list__user-item__user-id\", testID: \"sendbird-mention-suggest-list__user-item__user-id\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_2 }, member === null || member === void 0 ? void 0 : member.userId)));\n}\n\nfunction fetchMembersFromChannel(currentUserId, channel, maxSuggestionCount, searchString) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, channel.members\n                    .sort(function (a, b) { var _a; return (_a = a.nickname) === null || _a === void 0 ? void 0 : _a.localeCompare(b.nickname); })\n                    .filter(function (member) {\n                    var _a;\n                    return ((_a = member.nickname) === null || _a === void 0 ? void 0 : _a.toLowerCase().startsWith(searchString.toLowerCase()))\n                        && member.userId !== currentUserId\n                        && member.isActive;\n                }).slice(0, maxSuggestionCount)];\n        });\n    });\n}\nfunction fetchMembersFromQuery(currentUserId, channel, maxSuggestionCount, searchString) {\n    return __awaiter(this, void 0, void 0, function () {\n        var query;\n        return __generator(this, function (_a) {\n            query = channel.createMemberListQuery({\n                limit: maxSuggestionCount + 1, // because current user could be included\n                nicknameStartsWithFilter: searchString,\n            });\n            return [2 /*return*/, query.next()\n                    .then(function (memberList) {\n                    return memberList\n                        .filter(function (member) { return currentUserId !== (member === null || member === void 0 ? void 0 : member.userId); })\n                        .slice(0, maxSuggestionCount);\n                })];\n        });\n    });\n}\n\nvar DEBOUNCING_TIME = 300;\nvar SuggestedMentionListView = function (props) {\n    var _a, _b, _c;\n    var className = props.className, currentChannel = props.currentChannel, _d = props.targetNickname, targetNickname = _d === void 0 ? '' : _d, \n    // memberListQuery,\n    onUserItemClick = props.onUserItemClick, onFocusItemChange = props.onFocusItemChange, onFetchUsers = props.onFetchUsers, renderUserMentionItem = props.renderUserMentionItem, inputEvent = props.inputEvent, _e = props.ableAddMention, ableAddMention = _e === void 0 ? true : _e, _f = props.maxMentionCount, maxMentionCount = _f === void 0 ? MAX_USER_MENTION_COUNT : _f, _g = props.maxSuggestionCount, maxSuggestionCount = _g === void 0 ? MAX_USER_SUGGESTION_COUNT : _g;\n    var _h = useSendbirdStateContext(), config = _h.config, stores = _h.stores;\n    var logger = config.logger;\n    var currentUserId = ((_c = (_b = (_a = stores === null || stores === void 0 ? void 0 : stores.sdkStore) === null || _a === void 0 ? void 0 : _a.sdk) === null || _b === void 0 ? void 0 : _b.currentUser) === null || _c === void 0 ? void 0 : _c.userId) || '';\n    var scrollRef = useRef(null);\n    var stringSet = useLocalization().stringSet;\n    var _j = useState(null), timer = _j[0], setTimer = _j[1];\n    var _k = useState(''), searchString = _k[0], setSearchString = _k[1];\n    var _l = useState(''), lastSearchString = _l[0], setLastSearchString = _l[1];\n    var _m = useState(null), currentFocusedMember = _m[0], setCurrentFocusedMember = _m[1];\n    var _o = useState([]), currentMemberList = _o[0], setCurrentMemberList = _o[1];\n    useEffect(function () {\n        clearTimeout(timer !== null && timer !== void 0 ? timer : undefined);\n        setTimer(setTimeout(function () {\n            setSearchString(targetNickname);\n        }, DEBOUNCING_TIME));\n    }, [targetNickname]);\n    useEffect(function () {\n        if ((inputEvent === null || inputEvent === void 0 ? void 0 : inputEvent.key) === MessageInputKeys.Enter) {\n            if (currentFocusedMember && currentMemberList.length > 0) {\n                onUserItemClick === null || onUserItemClick === void 0 ? void 0 : onUserItemClick(currentFocusedMember);\n            }\n        }\n        if ((inputEvent === null || inputEvent === void 0 ? void 0 : inputEvent.key) === MessageInputKeys.ArrowUp) {\n            var currentUserIndex = currentMemberList.findIndex(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === (currentFocusedMember === null || currentFocusedMember === void 0 ? void 0 : currentFocusedMember.userId); });\n            if (0 < currentUserIndex) {\n                setCurrentFocusedMember(currentMemberList[currentUserIndex - 1]);\n                onFocusItemChange === null || onFocusItemChange === void 0 ? void 0 : onFocusItemChange(currentMemberList[currentUserIndex - 1]);\n            }\n        }\n        if ((inputEvent === null || inputEvent === void 0 ? void 0 : inputEvent.key) === MessageInputKeys.ArrowDown) {\n            var currentUserIndex = currentMemberList.findIndex(function (member) { return (member === null || member === void 0 ? void 0 : member.userId) === (currentFocusedMember === null || currentFocusedMember === void 0 ? void 0 : currentFocusedMember.userId); });\n            if (currentUserIndex < currentMemberList.length - 1) {\n                setCurrentFocusedMember(currentMemberList[currentUserIndex + 1]);\n                onFocusItemChange === null || onFocusItemChange === void 0 ? void 0 : onFocusItemChange(currentMemberList[currentUserIndex + 1]);\n            }\n        }\n    }, [inputEvent]);\n    useEffect(function () {\n        if (lastSearchString && searchString.indexOf(lastSearchString) === 0 && currentMemberList.length === 0) {\n            // Don't need to request query again\n            return;\n        }\n        if (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isSuper) {\n            if (!(currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.createMemberListQuery)) {\n                logger.warning('SuggestedMentionList: Creating member list query failed');\n                return;\n            }\n        }\n        var fetcher = (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isSuper) ? fetchMembersFromQuery : fetchMembersFromChannel;\n        fetcher(currentUserId, currentChannel, maxSuggestionCount, searchString.slice(USER_MENTION_TEMP_CHAR.length))\n            .then(function (suggestingMembers) {\n            if (suggestingMembers.length < 1) {\n                logger.info('SuggestedMentionList: Fetched member list is empty');\n            }\n            else {\n                logger.info('SuggestedMentionList: Fetching member list succeeded', { memberList: suggestingMembers });\n                setCurrentFocusedMember(suggestingMembers[0]);\n            }\n            setLastSearchString(searchString);\n            onFetchUsers === null || onFetchUsers === void 0 ? void 0 : onFetchUsers(suggestingMembers);\n            setCurrentMemberList(suggestingMembers);\n        })\n            .catch(function (error) {\n            if (error) {\n                logger.error('SuggestedMentionList: Fetching member list failed', error);\n            }\n        });\n    }, [\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url,\n        // We have to be specific like this or React would not recognize the changes in instances.\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members.map(function (member) { return member.nickname; }).join(),\n        currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.members.map(function (member) { return member.isActive; }).join(),\n        searchString,\n        maxSuggestionCount,\n        currentUserId,\n        currentMemberList.length,\n        lastSearchString,\n    ]);\n    if (!ableAddMention && currentMemberList.length === 0) {\n        return null;\n    }\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-mention-suggest-list', className), \"data-testid\": \"sendbird-mention-suggest-list\", key: \"sendbird-mention-suggest-list\", ref: scrollRef },\n        ableAddMention\n            && (currentMemberList === null || currentMemberList === void 0 ? void 0 : currentMemberList.map(function (member) { return (React__default.createElement(SuggestedUserMentionItem, { key: (member === null || member === void 0 ? void 0 : member.userId) || uuidv4(), member: member, isFocused: (member === null || member === void 0 ? void 0 : member.userId) === (currentFocusedMember === null || currentFocusedMember === void 0 ? void 0 : currentFocusedMember.userId), parentScrollRef: scrollRef, onClick: function (_a) {\n                    var member = _a.member;\n                    onUserItemClick === null || onUserItemClick === void 0 ? void 0 : onUserItemClick(member);\n                }, onMouseOver: function (_a) {\n                    var member = _a.member;\n                    setCurrentFocusedMember(member);\n                }, renderUserMentionItem: renderUserMentionItem })); })),\n        !ableAddMention && (React__default.createElement(\"div\", { className: \"sendbird-mention-suggest-list__notice-item\" },\n            React__default.createElement(Icon, { className: \"sendbird-mention-suggest-list__notice-item__icon\", type: IconTypes.INFO, fillColor: IconColors.ON_BACKGROUND_2, width: \"20px\", height: \"20px\" }),\n            React__default.createElement(Label, { className: \"sendbird-mention-suggest-list__notice-item__text\", type: LabelTypography.SUBTITLE_2, color: LabelColors.ONBACKGROUND_2 }, stringSet.MENTION_COUNT__OVER_LIMIT.replace('%d', String(maxMentionCount)))))));\n};\n\nexport { SuggestedMentionListView as S };\n//# sourceMappingURL=bundle-C_WYFRJt.js.map\n", "import { _ as __assign, a as __awaiter, b as __generator } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { F as FileViewerView } from '../../chunks/bundle-Ck65vtgI.js';\nimport { useGroupChannelContext } from '../context.js';\nimport { useSendbirdStateContext } from '../../useSendbirdStateContext.js';\nimport 'react-dom';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport '../../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar FileViewer = function (props) {\n    var _a = useGroupChannelContext(), deleteMessage = _a.deleteMessage, onBeforeDownloadFileMessage = _a.onBeforeDownloadFileMessage;\n    var config = useSendbirdStateContext().config;\n    var logger = config.logger;\n    return (React__default.createElement(FileViewerView, __assign({}, props, { deleteMessage: deleteMessage, onDownloadClick: function (e) { return __awaiter(void 0, void 0, void 0, function () {\n            var allowDownload, err_1;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (!onBeforeDownloadFileMessage)\n                            return [2 /*return*/];\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, onBeforeDownloadFileMessage({ message: props.message })];\n                    case 2:\n                        allowDownload = _c.sent();\n                        if (!allowDownload) {\n                            e.preventDefault();\n                            (_a = logger.info) === null || _a === void 0 ? void 0 : _a.call(logger, 'FileViewer: Not allowed to download.');\n                        }\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _c.sent();\n                        (_b = logger.error) === null || _b === void 0 ? void 0 : _b.call(logger, 'FileViewer: Error occurred while determining download continuation:', err_1);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        }); } })));\n};\n\nexport { FileViewer, FileViewer as default };\n//# sourceMappingURL=FileViewer.js.map\n", "import React__default from 'react';\nimport { createPortal } from 'react-dom';\nimport { A as Avatar } from './bundle-C76-LA1E.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors, c as LabelStringSet } from './bundle-CEZ0D4qz.js';\nimport { f as isSupportedFileView, h as isVideo, j as isImage } from './bundle-D-cVbGxk.js';\nimport { a as MODAL_ROOT, M as Modal } from './bundle-Bh6KfMRl.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\n\nvar FileViewerView = function (_a) {\n    var message = _a.message, onCancel = _a.onCancel, deleteMessage = _a.deleteMessage, onDownloadClick = _a.onDownloadClick;\n    var sender = message.sender, type = message.type, url = message.url, _b = message.name, name = _b === void 0 ? '' : _b, threadInfo = message.threadInfo;\n    var profileUrl = sender.profileUrl, nickname = sender.nickname, userId = sender.userId;\n    var config = useSendbirdStateContext().config;\n    return createPortal(React__default.createElement(FileViewerComponent, { profileUrl: profileUrl, nickname: nickname, type: type, url: url, name: name, onCancel: onCancel, onDelete: function () { return deleteMessage(message).then(function () { return onCancel(); }); }, isByMe: config.userId === userId, disableDelete: (threadInfo === null || threadInfo === void 0 ? void 0 : threadInfo.replyCount) ? threadInfo.replyCount > 0 : false, onDownloadClick: onDownloadClick }), document.getElementById(MODAL_ROOT));\n};\nvar FileViewerComponent = function (_a) {\n    var \n    // sender\n    profileUrl = _a.profileUrl, nickname = _a.nickname, \n    // file\n    name = _a.name, type = _a.type, url = _a.url, \n    // others\n    isByMe = _a.isByMe, onCancel = _a.onCancel, onDelete = _a.onDelete, disableDelete = _a.disableDelete, onDownloadClick = _a.onDownloadClick;\n    return (React__default.createElement(Modal, { onClose: onCancel },\n        React__default.createElement(\"div\", { className: \"sendbird-fileviewer\", \"data-testid\": \"sendbird-fileviewer\" },\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header\" },\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left\" },\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__left__avatar\" },\n                        React__default.createElement(Avatar, { height: \"32px\", width: \"32px\", src: profileUrl })),\n                    React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__filename\", type: LabelTypography.H_2, color: LabelColors.ONBACKGROUND_1 }, name),\n                    React__default.createElement(Label, { className: \"sendbird-fileviewer__header__left__sender-name\", type: LabelTypography.BODY_1, color: LabelColors.ONBACKGROUND_2 }, nickname)),\n                React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right\" },\n                    isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions\" },\n                        React__default.createElement(\"a\", { className: \"sendbird-fileviewer__header__right__actions__download\", rel: \"noopener noreferrer\", href: url, target: \"_blank\", onClick: onDownloadClick },\n                            React__default.createElement(Icon, { type: IconTypes.DOWNLOAD, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\" })),\n                        onDelete && isByMe && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__delete\" },\n                            React__default.createElement(Icon, { className: disableDelete ? 'disabled' : '', type: IconTypes.DELETE, fillColor: disableDelete ? IconColors.GRAY : IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: function () {\n                                    if (!disableDelete) {\n                                        onDelete();\n                                    }\n                                } }))))),\n                    React__default.createElement(\"div\", { className: \"sendbird-fileviewer__header__right__actions__close\" },\n                        React__default.createElement(Icon, { type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_1, height: \"24px\", width: \"24px\", onClick: onCancel })))),\n            React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content\" },\n                isVideo(type) && (React__default.createElement(\"video\", { controls: true, className: \"sendbird-fileviewer__content__video\" },\n                    React__default.createElement(\"source\", { src: url, type: type }))),\n                isImage(type) && React__default.createElement(\"img\", { src: url, alt: name, className: \"sendbird-fileviewer__content__img\" }),\n                !isSupportedFileView(type) && (React__default.createElement(\"div\", { className: \"sendbird-fileviewer__content__unsupported\" },\n                    React__default.createElement(Label, { type: LabelTypography.H_1, color: LabelColors.ONBACKGROUND_1 }, LabelStringSet.UI__FILE_VIEWER__UNSUPPORT)))))));\n};\n\nexport { FileViewerView as F };\n//# sourceMappingURL=bundle-Ck65vtgI.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { useGroupChannelContext } from '../context.js';\nimport { R as RemoveMessageModalView } from '../../chunks/bundle-CU9ItXV_.js';\nimport '@sendbird/chat/message';\nimport '@sendbird/chat/groupChannel';\nimport '@sendbird/uikit-tools';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport 'react-dom';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Icon.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../chunks/bundle-CBwCMBt0.js';\n\nvar RemoveMessageModal = function (props) {\n    var deleteMessage = useGroupChannelContext().deleteMessage;\n    return React__default.createElement(RemoveMessageModalView, __assign({}, props, { deleteMessage: deleteMessage }));\n};\n\nexport { RemoveMessageModal, RemoveMessageModal as default };\n//# sourceMappingURL=RemoveMessageModal.js.map\n", "import React__default, { useContext } from 'react';\nimport { M as Modal } from './bundle-Bh6KfMRl.js';\nimport './bundle-B1SLZ0HT.js';\nimport './bundle-CEZ0D4qz.js';\nimport { ButtonTypes } from '../ui/Button.js';\nimport { L as LocalizationContext } from './bundle-BvAzWVA5.js';\nimport { g as getModalDeleteMessageTitle } from './bundle-CBwCMBt0.js';\n\nvar RemoveMessageModalView = function (props) {\n    var _a;\n    var _b = props.onSubmit, onSubmit = _b === void 0 ? function () {\n        /* noop */\n    } : _b, onCancel = props.onCancel, message = props.message, deleteMessage = props.deleteMessage;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(Modal, { type: ButtonTypes.DANGER, disabled: ((_a = message === null || message === void 0 ? void 0 : message.threadInfo) === null || _a === void 0 ? void 0 : _a.replyCount) ? message.threadInfo.replyCount > 0 : undefined, onCancel: onCancel, onSubmit: function () {\n            if (message.isUserMessage() || message.isFileMessage() || message.isMultipleFilesMessage()) {\n                deleteMessage(message).then(function () {\n                    // For other status such as PENDING, SCHEDULED, and CANCELED,\n                    // invalid parameters error is thrown so nothing happens.\n                    onSubmit();\n                    onCancel();\n                });\n            }\n        }, submitText: stringSet.MESSAGE_MENU__DELETE, titleText: getModalDeleteMessageTitle(stringSet, message) }));\n};\n\nexport { RemoveMessageModalView as R };\n//# sourceMappingURL=bundle-CU9ItXV_.js.map\n", "import { K, c as isMultipleFilesMessage } from './bundle-D-cVbGxk.js';\n\nfunction getModalDeleteMessageTitle(stringSet, message) {\n    return K(message)\n        .when(isMultipleFilesMessage, function () {\n        var filesCount = message.fileInfoList.length;\n        return \"Do you want to delete all \".concat(filesCount, \" photos?\");\n    })\n        .otherwise(function () {\n        return stringSet.MODAL__DELETE_MESSAGE__TITLE;\n    });\n}\n\nexport { getModalDeleteMessageTitle as g };\n//# sourceMappingURL=bundle-CBwCMBt0.js.map\n", "import React__default, { useContext, useMemo } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, b as LabelColors, a as LabelTypography } from '../../chunks/bundle-CEZ0D4qz.js';\nimport Icon, { IconTypes, IconColors } from '../../ui/Icon.js';\nimport { f as format } from '../../chunks/bundle-C6F1gIgq.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\n\nvar UnreadCount = function (_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b, _c = _a.count, count = _c === void 0 ? 0 : _c, _d = _a.time, time = _d === void 0 ? '' : _d, onClick = _a.onClick, lastReadAt = _a.lastReadAt;\n    var _e = useContext(LocalizationContext), stringSet = _e.stringSet, dateLocale = _e.dateLocale;\n    var unreadSince = useMemo(function () {\n        var _a, _b;\n        // TODO: Remove this on v4\n        if (stringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON !== 'on') {\n            var timeArray = ((_b = (_a = time === null || time === void 0 ? void 0 : time.toString) === null || _a === void 0 ? void 0 : _a.call(time)) === null || _b === void 0 ? void 0 : _b.split(' ')) || [];\n            timeArray === null || timeArray === void 0 ? void 0 : timeArray.splice(-2, 0, stringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__ON);\n            return timeArray.join(' ');\n        }\n        else if (lastReadAt) {\n            return format(lastReadAt, stringSet.DATE_FORMAT__MESSAGE_LIST__NOTIFICATION__UNREAD_SINCE, { locale: dateLocale });\n        }\n    }, [time, lastReadAt]);\n    return (React__default.createElement(\"div\", { className: classnames(count < 1 ? 'sendbird-notification--hide' : 'sendbird-notification', className), \"data-testid\": \"sendbird-notification\", onClick: onClick },\n        React__default.createElement(Label, { className: \"sendbird-notification__text\", testID: \"sendbird-notification__text\", color: LabelColors.ONCONTENT_1, type: LabelTypography.CAPTION_2 }, \"\".concat(count, \" \"),\n            stringSet.CHANNEL__MESSAGE_LIST__NOTIFICATION__NEW_MESSAGE, \" \".concat(unreadSince)),\n        React__default.createElement(Icon, { width: \"24px\", height: \"24px\", type: IconTypes.CHEVRON_DOWN, fillColor: IconColors.CONTENT })));\n};\n\nexport { UnreadCount, UnreadCount as default };\n//# sourceMappingURL=UnreadCount.js.map\n", "import React__default, { useContext } from 'react';\nimport { L as LocalizationContext } from '../../chunks/bundle-BvAzWVA5.js';\nimport { L as Label, a as LabelTypography } from '../../chunks/bundle-CEZ0D4qz.js';\nimport { c as classnames } from '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\n\nvar FrozenNotification = function (_a) {\n    var _b = _a.className, className = _b === void 0 ? '' : _b;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    return (React__default.createElement(\"div\", { className: classnames('sendbird-notification', 'sendbird-notification--frozen', className), \"data-testid\": \"sendbird-notification\" },\n        React__default.createElement(Label, { className: \"sendbird-notification__text\", testID: \"sendbird-notification__text\", type: LabelTypography.CAPTION_2 }, stringSet.CHANNEL_FROZEN)));\n};\n\nexport { FrozenNotification, FrozenNotification as default };\n//# sourceMappingURL=FrozenNotification.js.map\n", "import React__default, { useLayoutEffect } from 'react';\nimport { A as Avatar, a as AvatarDefault } from '../chunks/bundle-C76-LA1E.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport './ImageRenderer.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-DYIdeEpd.js';\nimport './Icon.js';\n\nvar TypingDots = function () {\n    return (React__default.createElement(\"div\", { className: 'typing-dots-container' },\n        React__default.createElement(\"span\", null),\n        React__default.createElement(\"span\", null),\n        React__default.createElement(\"span\", null)));\n};\n\nvar AVATAR_BORDER_SIZE = 2;\nvar AVATAR_DIAMETER_WITHOUT_BORDER = 28;\nvar AVATAR_DIAMETER = AVATAR_DIAMETER_WITHOUT_BORDER + (AVATAR_BORDER_SIZE * 2);\nvar LEFT_GAP = 24;\nvar MAX_PROFILES_COUNT = 3;\nvar LEFT_FOR_BORDER = AVATAR_BORDER_SIZE;\nvar AvatarStack = function (props) {\n    var sources = props.sources, max = props.max;\n    return (React__default.createElement(React__default.Fragment, null,\n        \" \",\n        sources.slice(0, max).map(function (src, index) { return (React__default.createElement(Avatar, { className: 'sendbird-message-content__left__avatar multiple', src: src || '', key: \"avatar_stack_item_\".concat(src), \n            // TODO: Divide getting profileUrl logic to utils\n            width: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), height: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), zIndex: index, left: \"\".concat(index * LEFT_GAP - LEFT_FOR_BORDER, \"px\") })); }),\n        \" \"));\n};\nvar TypingIndicatorBubbleAvatar = function (props) {\n    var typingMembers = props.typingMembers;\n    var membersCount = typingMembers.length;\n    var displayCount = Math.min(membersCount, 4);\n    var hiddenCount = membersCount - MAX_PROFILES_COUNT;\n    var superImposedWidth = ((displayCount - 1) * (AVATAR_DIAMETER - LEFT_GAP));\n    var rightPaddingSize = 12;\n    return (React__default.createElement(\"div\", { className: 'sendbird-message-content__left incoming', style: {\n            minWidth: (displayCount * AVATAR_DIAMETER) - superImposedWidth + rightPaddingSize,\n        } },\n        React__default.createElement(AvatarStack, { sources: typingMembers.map(function (member) { return member.profileUrl; }), max: MAX_PROFILES_COUNT }),\n        hiddenCount > 0\n            ? React__default.createElement(Avatar, { className: 'sendbird-message-content__left__avatar multiple', \n                // TODO: Divide getting profileUrl logic to utils\n                width: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), height: \"\".concat(AVATAR_DIAMETER_WITHOUT_BORDER, \"px\"), zIndex: MAX_PROFILES_COUNT, left: \"\".concat(MAX_PROFILES_COUNT * LEFT_GAP, \"px\"), customDefaultComponent: function (_a) {\n                    var width = _a.width, height = _a.height;\n                    return (React__default.createElement(AvatarDefault, { width: width, height: height, text: \"+\".concat(hiddenCount) }));\n                } })\n            : null));\n};\nvar TypingIndicatorBubble = function (props) {\n    var typingMembers = props.typingMembers, handleScroll = props.handleScroll;\n    if (typingMembers.length === 0)\n        return null;\n    useLayoutEffect(function () {\n        // Keep the scrollBottom value after fetching new message list\n        handleScroll === null || handleScroll === void 0 ? void 0 : handleScroll(true);\n    }, []);\n    return React__default.createElement(\"div\", { className: 'sendbird-message-content incoming', style: { marginBottom: '2px' } },\n        React__default.createElement(TypingIndicatorBubbleAvatar, { typingMembers: typingMembers }),\n        React__default.createElement(\"div\", { className: 'sendbird-message-content__middle' },\n            React__default.createElement(TypingDots, null)));\n};\n\nexport { TypingIndicatorBubble as default };\n//# sourceMappingURL=TypingIndicatorBubble.js.map\n", "import { f as format } from '../../chunks/bundle-C6F1gIgq.js';\nimport { a as isReadMessage } from '../../chunks/bundle-D-cVbGxk.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\n\n/**\n * exported, should be backward compatible\n * @returns [chainTop: `boolean`, chainBottom: `boolean`]\n */\nvar compareMessagesForGrouping = function (prevMessage, currMessage, nextMessage, currentChannel, replyType) {\n    if (!currentChannel || currentChannel.channelType !== 'group') {\n        return [\n            isSameGroup(prevMessage, currMessage),\n            isSameGroup(currMessage, nextMessage),\n        ];\n    }\n    if (replyType === 'THREAD' && (currMessage === null || currMessage === void 0 ? void 0 : currMessage.threadInfo)) {\n        return [false, false];\n    }\n    var sendingStatus = (currMessage === null || currMessage === void 0 ? void 0 : currMessage.sendingStatus) || '';\n    var isAcceptable = sendingStatus !== 'pending' && sendingStatus !== 'failed';\n    return [\n        isSameGroup(prevMessage, currMessage, currentChannel) && isAcceptable,\n        isSameGroup(currMessage, nextMessage, currentChannel) && isAcceptable,\n    ];\n};\nvar getMessageCreatedAt = function (message) { return format(message.createdAt, 'p'); };\nvar isSameGroup = function (message, comparingMessage, currentChannel) {\n    var _a, _b;\n    if (!(message\n        && comparingMessage\n        && message.messageType\n        && message.messageType !== 'admin'\n        && comparingMessage.messageType\n        && (comparingMessage === null || comparingMessage === void 0 ? void 0 : comparingMessage.messageType) !== 'admin'\n        && 'sender' in message\n        && 'sender' in comparingMessage\n        && message.createdAt\n        && comparingMessage.createdAt\n        && message.sender.userId\n        && comparingMessage.sender.userId)) {\n        return false;\n    }\n    return ((message === null || message === void 0 ? void 0 : message.sendingStatus) === (comparingMessage === null || comparingMessage === void 0 ? void 0 : comparingMessage.sendingStatus)\n        && ((_a = message === null || message === void 0 ? void 0 : message.sender) === null || _a === void 0 ? void 0 : _a.userId) === ((_b = comparingMessage === null || comparingMessage === void 0 ? void 0 : comparingMessage.sender) === null || _b === void 0 ? void 0 : _b.userId)\n        && getMessageCreatedAt(message) === getMessageCreatedAt(comparingMessage)) && (currentChannel ? isReadMessage(currentChannel, message) === isReadMessage(currentChannel, comparingMessage) : true);\n};\nvar messages = {\n    compareMessagesForGrouping: compareMessagesForGrouping,\n    getMessageCreatedAt: getMessageCreatedAt,\n    isSameGroup: isSameGroup,\n};\n\nexport { compareMessagesForGrouping, messages as default, getMessageCreatedAt, isSameGroup };\n//# sourceMappingURL=compareMessagesForGrouping.js.map\n", "import { i as isSameDay } from '../../chunks/bundle-q_YvxT21.js';\nimport { compareMessagesForGrouping } from './compareMessagesForGrouping.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-C6F1gIgq.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '../../chunks/bundle-B1SLZ0HT.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\n\n/**\n * exported, should be backward compatible\n */\nvar getMessagePartsInfo = function (_a) {\n    var _b = _a.allMessages, allMessages = _b === void 0 ? [] : _b, _c = _a.isMessageGroupingEnabled, isMessageGroupingEnabled = _c === void 0 ? true : _c, _d = _a.currentIndex, currentIndex = _d === void 0 ? 0 : _d, currentMessage = _a.currentMessage, _e = _a.currentChannel, currentChannel = _e === void 0 ? null : _e, _f = _a.replyType, replyType = _f === void 0 ? '' : _f;\n    var previousMessage = allMessages[currentIndex - 1];\n    var nextMessage = allMessages[currentIndex + 1];\n    var _g = isMessageGroupingEnabled\n        ? compareMessagesForGrouping(previousMessage, currentMessage, nextMessage, currentChannel, replyType)\n        : [false, false], chainTop = _g[0], chainBottom = _g[1];\n    var previousMessageCreatedAt = previousMessage === null || previousMessage === void 0 ? void 0 : previousMessage.createdAt;\n    var currentCreatedAt = currentMessage.createdAt;\n    // NOTE: for pending/failed messages\n    var isLocalMessage = 'sendingStatus' in currentMessage && (currentMessage.sendingStatus !== 'succeeded');\n    // https://stackoverflow.com/a/41855608\n    var hasSeparator = isLocalMessage ? false : !(previousMessageCreatedAt && (isSameDay(currentCreatedAt, previousMessageCreatedAt)));\n    return {\n        chainTop: chainTop,\n        chainBottom: chainBottom,\n        hasSeparator: hasSeparator,\n    };\n};\n\nexport { getMessagePartsInfo };\n//# sourceMappingURL=getMessagePartsInfo.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { M as MessageInputWrapperView } from '../../chunks/bundle-ChKVOZMC.js';\nexport { V as VoiceMessageInputWrapper } from '../../chunks/bundle-ChKVOZMC.js';\nimport { useGroupChannelContext } from '../context.js';\nimport '../../chunks/bundle-h1wbrjk9.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport './SuggestedMentionList.js';\nimport '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\nimport '../../Message/hooks/useDirtyGetMentions.js';\nimport '../../ui/QuoteMessageInput.js';\nimport '../../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../../utils/message/getOutgoingMessageState.js';\nimport '../../chunks/bundle-DJDeBhDz.js';\nimport '../../chunks/bundle-CwQYOWqR.js';\nimport '../../chunks/bundle-CfsHVenu.js';\nimport '../../VoicePlayer/useVoicePlayer.js';\nimport '../../chunks/bundle-DO8nji3n.js';\nimport '../../chunks/bundle-c4e24Qt4.js';\nimport '../../chunks/bundle-Bh6KfMRl.js';\nimport 'react-dom';\nimport '../../chunks/bundle-DBzinRyn.js';\nimport '../../ui/IconButton.js';\nimport '../../ui/Button.js';\nimport '@sendbird/uikit-tools';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '@sendbird/chat/openChannel';\nimport '../../chunks/bundle-C7VSBUKJ.js';\nimport '../../ui/SortByRow.js';\nimport '../../VoiceRecorder/useVoiceRecorder.js';\nimport '../../chunks/bundle-B7FJxg4D.js';\nimport '../../ui/PlaybackTime.js';\nimport '../../ui/ProgressBar.js';\nimport '../../ui/TextButton.js';\nimport '../../chunks/bundle-CTaD4y3Q.js';\nimport '../../ui/MessageInput.js';\nimport '../../chunks/bundle-BGQ77Eco.js';\nimport 'dompurify';\nimport '../../chunks/bundle-i2i0G-ml.js';\nimport '../../chunks/bundle-BVBoUWl2.js';\nimport '../../chunks/bundle-fSuFm2tD.js';\nimport '../../chunks/bundle-DtlqJEe7.js';\nimport '../../chunks/bundle-DM6QiOiG.js';\nimport '@sendbird/chat/message';\nimport '../../chunks/bundle-BKxPk2t0.js';\nimport '../../chunks/bundle-DgQjrhyW.js';\nimport '../../chunks/bundle-DW8Sq-WK.js';\nimport '../../chunks/bundle-5R9f3ZZp.js';\nimport '../../chunks/bundle-DZhG3Z6D.js';\nimport '../../chunks/bundle-uSSYB2TA.js';\nimport '../../chunks/bundle-ke1HVuUa.js';\n\nvar MessageInputWrapper = function (props) {\n    var context = useGroupChannelContext();\n    return React__default.createElement(MessageInputWrapperView, __assign({}, props, context));\n};\n\nexport { MessageInputWrapper, MessageInputWrapper as default };\n//# sourceMappingURL=MessageInputWrapper.js.map\n", "import { a as __awaiter, b as __generator, c as __spreadArray } from './bundle-B1SLZ0HT.js';\nimport React__default, { useRef, useState, useEffect, useCallback } from 'react';\nimport { i as isDisabledBecauseFrozen, a as isDisabledBecauseMuted, b as isDisabledBecauseSuggestedReplies } from './bundle-h1wbrjk9.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { SuggestedMentionList } from '../GroupChannel/components/SuggestedMentionList.js';\nimport { useDirtyGetMentions } from '../Message/hooks/useDirtyGetMentions.js';\nimport QuoteMessageInput from '../ui/QuoteMessageInput.js';\nimport { useVoicePlayer } from '../VoicePlayer/useVoicePlayer.js';\nimport { useVoiceRecorder, VoiceRecorderStatus } from '../VoiceRecorder/useVoiceRecorder.js';\nimport { V as VoiceMessageInputStatus, a as VoiceMessageInput } from './bundle-B7FJxg4D.js';\nimport { M as Modal, b as useGlobalModalContext, c as ModalFooter } from './bundle-Bh6KfMRl.js';\nimport Button, { ButtonTypes, ButtonSizes } from '../ui/Button.js';\nimport { V as VOICE_PLAYER_STATUS } from './bundle-DO8nji3n.js';\nimport { u as uuidv4 } from './bundle-Cvt9FZvn.js';\nimport MessageInput from '../ui/MessageInput.js';\nimport { u as useMediaQueryContext } from './bundle-DBzinRyn.js';\nimport { M as MessageInputKeys } from './bundle-DcNHBjGp.js';\nimport { j as isImage } from './bundle-D-cVbGxk.js';\nimport './bundle-CEZ0D4qz.js';\nimport { c as compressImages } from './bundle-DM6QiOiG.js';\n\nvar VoiceMessageInputWrapper = function (_a) {\n    var channel = _a.channel, onCancelClick = _a.onCancelClick, onSubmitClick = _a.onSubmitClick;\n    var uuid = useRef(uuidv4()).current;\n    var _b = useState(null), audioFile = _b[0], setAudioFile = _b[1];\n    var _c = useState(VoiceMessageInputStatus.READY_TO_RECORD), voiceInputState = _c[0], setVoiceInputState = _c[1];\n    var _d = useState(false), isSubmitted = _d[0], setSubmit = _d[1];\n    var _e = useState(false), isDisabled = _e[0], setDisabled = _e[1];\n    var _f = useState(false), showModal = _f[0], setShowModal = _f[1];\n    var stringSet = useLocalization().stringSet;\n    var config = useSendbirdStateContext().config;\n    var _g = useVoiceRecorder({\n        onRecordingStarted: function () {\n            setVoiceInputState(VoiceMessageInputStatus.RECORDING);\n        },\n        onRecordingEnded: function (audioFile) {\n            setAudioFile(audioFile);\n        },\n    }), start = _g.start, stop = _g.stop, cancel = _g.cancel, recordingTime = _g.recordingTime, recordingStatus = _g.recordingStatus, recordingLimit = _g.recordingLimit;\n    var voicePlayer = useVoicePlayer({\n        channelUrl: channel === null || channel === void 0 ? void 0 : channel.url,\n        key: uuid,\n        audioFile: audioFile !== null && audioFile !== void 0 ? audioFile : undefined,\n    });\n    var play = voicePlayer.play, pause = voicePlayer.pause, playbackTime = voicePlayer.playbackTime, playingStatus = voicePlayer.playingStatus;\n    var stopVoicePlayer = voicePlayer.stop;\n    // disabled state: muted & frozen\n    useEffect(function () {\n        if (isDisabledBecauseFrozen(channel) || isDisabledBecauseMuted(channel)) {\n            setDisabled(true);\n        }\n        else {\n            setDisabled(false);\n        }\n    }, [channel === null || channel === void 0 ? void 0 : channel.myRole, channel === null || channel === void 0 ? void 0 : channel.isFrozen, channel === null || channel === void 0 ? void 0 : channel.myMutedState]);\n    // call onSubmitClick when submit button is clicked and recorded audio file is created\n    useEffect(function () {\n        if (isSubmitted && audioFile) {\n            onSubmitClick === null || onSubmitClick === void 0 ? void 0 : onSubmitClick(audioFile, recordingTime);\n            setSubmit(false);\n            setAudioFile(null);\n        }\n    }, [isSubmitted, audioFile, recordingTime]);\n    // operate which control button should be displayed\n    useEffect(function () {\n        if (audioFile) {\n            if (recordingTime < config.voiceRecord.minRecordingTime) {\n                setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                setAudioFile(null);\n            }\n            else if (playingStatus === VOICE_PLAYER_STATUS.PLAYING) {\n                setVoiceInputState(VoiceMessageInputStatus.PLAYING);\n            }\n            else {\n                setVoiceInputState(VoiceMessageInputStatus.READY_TO_PLAY);\n            }\n        }\n    }, [audioFile, recordingTime, playingStatus]);\n    return (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input-wrapper\" },\n        React__default.createElement(VoiceMessageInput, { currentValue: recordingStatus === VoiceRecorderStatus.COMPLETED ? playbackTime : recordingTime, maximumValue: recordingStatus === VoiceRecorderStatus.COMPLETED ? recordingTime : recordingLimit, currentType: voiceInputState, onCancelClick: function () {\n                onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n                cancel();\n                stopVoicePlayer();\n            }, onSubmitClick: function () {\n                if (isDisabled) {\n                    setShowModal(true);\n                    setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                }\n                else {\n                    stop();\n                    pause();\n                    setSubmit(true);\n                }\n            }, onControlClick: function (type) {\n                switch (type) {\n                    case VoiceMessageInputStatus.READY_TO_RECORD: {\n                        stopVoicePlayer();\n                        start();\n                        break;\n                    }\n                    case VoiceMessageInputStatus.RECORDING: {\n                        if (recordingTime >= config.voiceRecord.minRecordingTime && !isDisabled) {\n                            stop();\n                        }\n                        else if (isDisabled) {\n                            cancel();\n                            setShowModal(true);\n                            setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                        }\n                        else {\n                            cancel();\n                            setVoiceInputState(VoiceMessageInputStatus.READY_TO_RECORD);\n                        }\n                        break;\n                    }\n                    case VoiceMessageInputStatus.READY_TO_PLAY: {\n                        play();\n                        break;\n                    }\n                    case VoiceMessageInputStatus.PLAYING: {\n                        pause();\n                        break;\n                    }\n                }\n            } }),\n        showModal && (React__default.createElement(Modal, { className: \"sendbird-voice-message-input-wrapper-alert\", titleText: isDisabledBecauseMuted(channel)\n                ? stringSet.MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_MUTED\n                : stringSet.MODAL__VOICE_MESSAGE_INPUT_DISABLED__TITLE_FROZEN, hideFooter: true, isCloseOnClickOutside: true, onClose: function () {\n                setShowModal(false);\n                onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n            } },\n            React__default.createElement(\"div\", { className: \"sendbird-voice-message-input-wrapper-alert__body\" },\n                React__default.createElement(Button, { className: \"sendbird-voice-message-input-wrapper-alert__body__ok-button\", type: ButtonTypes.PRIMARY, size: ButtonSizes.BIG, onClick: function () {\n                        setShowModal(false);\n                        onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n                    } }, stringSet.BUTTON__OK))))));\n};\n\nvar useHandleUploadFiles = function (_a, _b) {\n    var sendFileMessage = _a.sendFileMessage, sendMultipleFilesMessage = _a.sendMultipleFilesMessage, quoteMessage = _a.quoteMessage;\n    var logger = _b.logger;\n    var stringSet = useLocalization().stringSet;\n    var config = useSendbirdStateContext().config;\n    var imageCompression = config.imageCompression;\n    var uikitUploadSizeLimit = config === null || config === void 0 ? void 0 : config.uikitUploadSizeLimit;\n    var uikitMultipleFilesMessageLimit = config === null || config === void 0 ? void 0 : config.uikitMultipleFilesMessageLimit;\n    var openModal = useGlobalModalContext().openModal;\n    return useCallback(function (files) { return __awaiter(void 0, void 0, void 0, function () {\n        var ONE_MiB, compressedFiles, sendingFiles, file, imageFiles_1, otherFiles_1;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    if (files.length === 0) {\n                        logger.warning('Channel|useHandleUploadFiles: given file list is empty.', { files: files });\n                        return [2 /*return*/];\n                    }\n                    if (files.length > uikitMultipleFilesMessageLimit) {\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload files more than \".concat(uikitMultipleFilesMessageLimit));\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__COUNT_LIMIT.replace('%d', \"\".concat(uikitUploadSizeLimit)),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    // Validate file sizes\n                    if (files.some(function (file) { return file.size > uikitUploadSizeLimit; })) {\n                        // The default value of uikitUploadSizeLimit is 26MB\n                        logger.info(\"Channel|useHandleUploadFiles: Cannot upload file size exceeding \".concat(uikitUploadSizeLimit));\n                        ONE_MiB = 1024 * 1024;\n                        openModal({\n                            modalProps: {\n                                titleText: stringSet.FILE_UPLOAD_NOTIFICATION__SIZE_LIMIT.replace('%d', \"\".concat(Math.floor(uikitUploadSizeLimit / ONE_MiB))),\n                                hideFooter: true,\n                            },\n                            childElement: function (_a) {\n                                var closeModal = _a.closeModal;\n                                return (React__default.createElement(ModalFooter, { type: ButtonTypes.PRIMARY, submitText: stringSet.BUTTON__OK, hideCancelButton: true, onCancel: closeModal, onSubmit: closeModal }));\n                            },\n                        });\n                        return [2 /*return*/];\n                    }\n                    return [4 /*yield*/, compressImages({\n                            files: files,\n                            imageCompression: imageCompression,\n                            logger: logger,\n                        })];\n                case 1:\n                    compressedFiles = (_a.sent()).compressedFiles;\n                    sendingFiles = compressedFiles;\n                    // Send File Message\n                    if (sendingFiles.length === 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending one file.');\n                        file = sendingFiles[0];\n                        return [2 /*return*/, sendFileMessage({ file: file, parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId })];\n                    }\n                    else if (sendingFiles.length > 1) {\n                        logger.info('Channel|useHandleUploadFiles: sending multiple files.');\n                        imageFiles_1 = [];\n                        otherFiles_1 = [];\n                        sendingFiles.forEach(function (file) {\n                            if (isImage(file.type)) {\n                                imageFiles_1.push(file);\n                            }\n                            else {\n                                otherFiles_1.push(file);\n                            }\n                        });\n                        return [2 /*return*/, otherFiles_1.reduce(function (previousPromise, item) {\n                                return previousPromise.then(function () {\n                                    return sendFileMessage({ file: item, parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId });\n                                });\n                            }, (function () {\n                                if (imageFiles_1.length === 0) {\n                                    return Promise.resolve();\n                                }\n                                else if (imageFiles_1.length === 1) {\n                                    return sendFileMessage({ file: imageFiles_1[0] });\n                                }\n                                else {\n                                    return sendMultipleFilesMessage({\n                                        fileInfoList: imageFiles_1.map(function (file) { return ({\n                                            file: file,\n                                            fileName: file.name,\n                                            fileSize: file.size,\n                                            mimeType: file.type,\n                                        }); }),\n                                        parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId,\n                                    });\n                                }\n                            })())];\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    }); }, [sendFileMessage, sendMultipleFilesMessage, quoteMessage]);\n};\n\nvar MessageInputWrapperView = React__default.forwardRef(function (props, ref) {\n    var _a;\n    // Props\n    var currentChannel = props.currentChannel, loading = props.loading, quoteMessage = props.quoteMessage, setQuoteMessage = props.setQuoteMessage, messageInputRef = props.messageInputRef, sendUserMessage = props.sendUserMessage, sendFileMessage = props.sendFileMessage, sendVoiceMessage = props.sendVoiceMessage, sendMultipleFilesMessage = props.sendMultipleFilesMessage, \n    // render\n    renderUserMentionItem = props.renderUserMentionItem, renderFileUploadIcon = props.renderFileUploadIcon, renderVoiceMessageIcon = props.renderVoiceMessageIcon, renderSendMessageIcon = props.renderSendMessageIcon, acceptableMimeTypes = props.acceptableMimeTypes, disabled = props.disabled;\n    var stringSet = useLocalization().stringSet;\n    var isMobile = useMediaQueryContext().isMobile;\n    var _b = useSendbirdStateContext(), stores = _b.stores, config = _b.config;\n    var isOnline = config.isOnline, userMention = config.userMention, logger = config.logger, groupChannel = config.groupChannel;\n    var sdk = stores.sdkStore.sdk;\n    var maxMentionCount = userMention.maxMentionCount, maxSuggestionCount = userMention.maxSuggestionCount;\n    var isBroadcast = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.isBroadcast;\n    var isOperator = (currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.myRole) === 'operator';\n    var isMultipleFilesMessageEnabled = (_a = props.isMultipleFilesMessageEnabled) !== null && _a !== void 0 ? _a : config.isMultipleFilesMessageEnabled;\n    var isMentionEnabled = groupChannel.enableMention;\n    var isVoiceMessageEnabled = groupChannel.enableVoiceMessage;\n    // States\n    var _c = useState(''), mentionNickname = _c[0], setMentionNickname = _c[1];\n    var _d = useState([]), mentionedUsers = _d[0], setMentionedUsers = _d[1];\n    var _e = useState([]), mentionedUserIds = _e[0], setMentionedUserIds = _e[1];\n    var _f = useState(null), selectedUser = _f[0], setSelectedUser = _f[1];\n    var _g = useState([]), mentionSuggestedUsers = _g[0], setMentionSuggestedUsers = _g[1];\n    var _h = useState(null), messageInputEvent = _h[0], setMessageInputEvent = _h[1];\n    var _j = useState(false), showVoiceMessageInput = _j[0], setShowVoiceMessageInput = _j[1];\n    // Conditions\n    var isMessageInputDisabled = loading\n        || (!currentChannel || !sdk)\n        || (!sdk.isCacheEnabled && !isOnline)\n        || isDisabledBecauseFrozen(currentChannel)\n        || isDisabledBecauseMuted(currentChannel)\n        || isDisabledBecauseSuggestedReplies(currentChannel, config.groupChannel.enableSuggestedReplies)\n        || disabled;\n    var showSuggestedMentionList = !isMessageInputDisabled\n        && isMentionEnabled\n        && mentionNickname.length > 0\n        && !isBroadcast;\n    var mentionNodes = useDirtyGetMentions({ ref: (ref || messageInputRef) }, { logger: logger });\n    var ableMention = (mentionNodes === null || mentionNodes === void 0 ? void 0 : mentionNodes.length) < maxMentionCount;\n    // Operate states\n    useEffect(function () {\n        setMentionNickname('');\n        setMentionedUsers([]);\n        setMentionedUserIds([]);\n        setSelectedUser(null);\n        setMentionSuggestedUsers([]);\n        setMessageInputEvent(null);\n        setShowVoiceMessageInput(false);\n    }, [currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url]);\n    useEffect(function () {\n        setMentionedUsers(mentionedUsers.filter(function (_a) {\n            var userId = _a.userId;\n            var i = mentionedUserIds.indexOf(userId);\n            if (i < 0) {\n                return false;\n            }\n            else {\n                mentionedUserIds.splice(i, 1);\n                return true;\n            }\n        }));\n    }, [mentionedUserIds]);\n    // Callbacks\n    var handleUploadFiles = useHandleUploadFiles({\n        sendFileMessage: sendFileMessage,\n        sendMultipleFilesMessage: sendMultipleFilesMessage,\n        quoteMessage: quoteMessage !== null && quoteMessage !== void 0 ? quoteMessage : undefined,\n    }, { logger: logger });\n    if (isBroadcast && !isOperator) {\n        /* Only `Operator` can send messages in the Broadcast channel */\n        return null;\n    }\n    // other conditions\n    return (React__default.createElement(\"div\", { className: showVoiceMessageInput ? 'sendbird-message-input-wrapper--voice-message' : 'sendbird-message-input-wrapper' },\n        showSuggestedMentionList && (React__default.createElement(SuggestedMentionList, { currentChannel: currentChannel, targetNickname: mentionNickname, inputEvent: messageInputEvent !== null && messageInputEvent !== void 0 ? messageInputEvent : undefined, renderUserMentionItem: renderUserMentionItem, onUserItemClick: function (user) {\n                if (user) {\n                    setMentionedUsers(__spreadArray(__spreadArray([], mentionedUsers, true), [user], false));\n                }\n                setMentionNickname('');\n                setSelectedUser(user);\n                setMessageInputEvent(null);\n            }, onFocusItemChange: function () {\n                setMessageInputEvent(null);\n            }, onFetchUsers: function (users) {\n                setMentionSuggestedUsers(users);\n            }, ableAddMention: ableMention, maxMentionCount: maxMentionCount, maxSuggestionCount: maxSuggestionCount })),\n        quoteMessage && (React__default.createElement(\"div\", { className: \"sendbird-message-input-wrapper__quote-message-input\" },\n            React__default.createElement(QuoteMessageInput, { replyingMessage: quoteMessage, onClose: function () { return setQuoteMessage(null); } }))),\n        showVoiceMessageInput ? (React__default.createElement(VoiceMessageInputWrapper, { channel: currentChannel !== null && currentChannel !== void 0 ? currentChannel : undefined, onSubmitClick: function (recordedFile, duration) {\n                sendVoiceMessage({ file: recordedFile, parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId }, duration);\n                setQuoteMessage(null);\n                setShowVoiceMessageInput(false);\n            }, onCancelClick: function () {\n                setShowVoiceMessageInput(false);\n            } })) : (React__default.createElement(MessageInput, { className: \"sendbird-message-input-wrapper__message-input\", channel: currentChannel, channelUrl: currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.url, isMobile: isMobile, acceptableMimeTypes: acceptableMimeTypes, mentionSelectedUser: selectedUser, isMentionEnabled: isMentionEnabled, isVoiceMessageEnabled: isVoiceMessageEnabled, isSelectingMultipleFilesEnabled: isMultipleFilesMessageEnabled, onVoiceMessageIconClick: function () {\n                setShowVoiceMessageInput(true);\n            }, setMentionedUsers: setMentionedUsers, placeholder: (quoteMessage && stringSet.MESSAGE_INPUT__QUOTE_REPLY__PLACE_HOLDER)\n                || (isDisabledBecauseFrozen(currentChannel) && stringSet.MESSAGE_INPUT__PLACE_HOLDER__FROZEN)\n                || (isDisabledBecauseMuted(currentChannel) && (isMobile ? stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED_SHORT : stringSet.MESSAGE_INPUT__PLACE_HOLDER__MUTED))\n                || (disabled && stringSet.MESSAGE_INPUT__PLACE_HOLDER__DISABLED)\n                || undefined, ref: (ref || messageInputRef), disabled: isMessageInputDisabled, renderFileUploadIcon: renderFileUploadIcon, renderSendMessageIcon: renderSendMessageIcon, renderVoiceMessageIcon: renderVoiceMessageIcon, onStartTyping: function () {\n                currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.startTyping();\n            }, onSendMessage: function (_a) {\n                var _b;\n                var message = _a.message, mentionTemplate = _a.mentionTemplate;\n                sendUserMessage({\n                    message: message,\n                    mentionedUsers: mentionedUsers,\n                    mentionedMessageTemplate: mentionTemplate,\n                    parentMessageId: quoteMessage === null || quoteMessage === void 0 ? void 0 : quoteMessage.messageId,\n                });\n                setMentionNickname('');\n                setMentionedUsers([]);\n                setQuoteMessage(null);\n                (_b = currentChannel === null || currentChannel === void 0 ? void 0 : currentChannel.endTyping) === null || _b === void 0 ? void 0 : _b.call(currentChannel);\n            }, onFileUpload: function (fileList) {\n                handleUploadFiles(fileList);\n                setQuoteMessage(null);\n            }, onUserMentioned: function (user) {\n                if ((selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.userId) === (user === null || user === void 0 ? void 0 : user.userId)) {\n                    setSelectedUser(null);\n                    setMentionNickname('');\n                }\n            }, onMentionStringChange: function (mentionText) {\n                setMentionNickname(mentionText);\n            }, onMentionedUserIdsUpdated: function (userIds) {\n                setMentionedUserIds(userIds);\n            }, onKeyDown: function (e) {\n                if (showSuggestedMentionList\n                    && (mentionSuggestedUsers === null || mentionSuggestedUsers === void 0 ? void 0 : mentionSuggestedUsers.length) > 0\n                    && ((e.key === MessageInputKeys.Enter && ableMention)\n                        || e.key === MessageInputKeys.ArrowUp\n                        || e.key === MessageInputKeys.ArrowDown)) {\n                    setMessageInputEvent(e);\n                    return true;\n                }\n                return false;\n            } }))));\n});\n\nexport { MessageInputWrapperView as M, VoiceMessageInputWrapper as V };\n//# sourceMappingURL=bundle-ChKVOZMC.js.map\n", "import { _ as __assign } from '../../chunks/bundle-B1SLZ0HT.js';\nimport React__default from 'react';\nimport { S as SuggestedMentionListView } from '../../chunks/bundle-C_WYFRJt.js';\nimport '../../chunks/bundle-CEZ0D4qz.js';\nimport '../../chunks/bundle-D2Fmzffb.js';\nimport '../../ui/Icon.js';\nimport '../../chunks/bundle-CtBgdgkK.js';\nimport '../../chunks/bundle-C76-LA1E.js';\nimport '../../ui/ImageRenderer.js';\nimport '../../chunks/bundle-DYIdeEpd.js';\nimport '../../chunks/bundle-BvAzWVA5.js';\nimport '../../chunks/bundle-kNaMXwgI.js';\nimport '../../chunks/bundle-Cvt9FZvn.js';\nimport '../../useSendbirdStateContext.js';\nimport '../../withSendbird.js';\nimport '../../chunks/bundle-DHJZgVZH.js';\nimport '../../chunks/bundle-DcNHBjGp.js';\n\nvar SuggestedMentionList = function (props) {\n    return (React__default.createElement(SuggestedMentionListView, __assign({}, props)));\n};\n\nexport { SuggestedMentionList, SuggestedMentionList as default };\n//# sourceMappingURL=SuggestedMentionList.js.map\n", "import React__default, { useContext } from 'react';\nimport { b as isFileMessage, c as isMultipleFilesMessage, i as isVoiceMessage, I as isImageMessage, r as isVideoMessage, J as isImageFileInfo, p as isThumbnailMessage, L as isAudioMessage, w as getClassName, s as isGifMessage, l as isUserMessage, m as getUIKitMessageType, U as UIKitMessageTypes } from '../chunks/bundle-D-cVbGxk.js';\nimport Icon, { IconTypes, IconColors } from './Icon.js';\nimport { L as Label, a as LabelTypography, b as LabelColors } from '../chunks/bundle-CEZ0D4qz.js';\nimport { L as LocalizationContext } from '../chunks/bundle-BvAzWVA5.js';\nimport ImageRenderer from './ImageRenderer.js';\nimport { c as getMessageFirstFileThumbnailUrl, g as getMessageFirstFileUrl, a as getMessageFirstFileType, b as getMessageFirstFileName } from '../chunks/bundle-CfsHVenu.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\n\nvar componentClassname = 'sendbird-quote_message_input__avatar';\nfunction QuoteMessageThumbnail(_a) {\n    var _b;\n    var message = _a.message;\n    if (!isFileMessage(message) && !isMultipleFilesMessage(message) || isVoiceMessage(message)) {\n        return React__default.createElement(React__default.Fragment, null);\n    }\n    var thumbnailUrl = getMessageFirstFileThumbnailUrl(message);\n    if (!thumbnailUrl) {\n        if (isImageMessage(message) || isVideoMessage(message)) {\n            thumbnailUrl = getMessageFirstFileUrl(message);\n        }\n        else if (isMultipleFilesMessage(message) && isImageFileInfo((_b = message.fileInfoList) === null || _b === void 0 ? void 0 : _b[0])) {\n            thumbnailUrl = message.fileInfoList[0].url;\n        }\n    }\n    if (isVideoMessage(message) && thumbnailUrl) {\n        return (React__default.createElement(\"div\", { className: componentClassname },\n            React__default.createElement(\"video\", { style: {\n                    width: '44px',\n                    height: '44px',\n                }, src: thumbnailUrl })));\n    }\n    else if ((isThumbnailMessage(message) || isMultipleFilesMessage(message)) && thumbnailUrl) {\n        return (React__default.createElement(ImageRenderer, { className: componentClassname, url: thumbnailUrl, alt: getMessageFirstFileType(message), width: \"44px\", height: \"44px\", fixedSize: true }));\n    }\n    else if (isAudioMessage(message)) {\n        return (React__default.createElement(\"div\", { className: componentClassname },\n            React__default.createElement(Icon, { type: IconTypes.FILE_AUDIO, fillColor: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\" })));\n    }\n    else {\n        return (React__default.createElement(\"div\", { className: componentClassname },\n            React__default.createElement(Icon, { type: IconTypes.FILE_DOCUMENT, fillColor: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\" })));\n    }\n}\n\nfunction QuoteMessageInput(_a) {\n    var className = _a.className, replyingMessage = _a.replyingMessage, onClose = _a.onClose;\n    var stringSet = useContext(LocalizationContext).stringSet;\n    var fileMessage = replyingMessage;\n    var sender = replyingMessage === null || replyingMessage === void 0 ? void 0 : replyingMessage.sender;\n    var displayFileIcon = (isFileMessage(replyingMessage) || isMultipleFilesMessage(replyingMessage))\n        && !isVoiceMessage(replyingMessage);\n    return (React__default.createElement(\"div\", { className: getClassName(['sendbird-quote_message_input', className !== null && className !== void 0 ? className : '']) },\n        displayFileIcon && (React__default.createElement(QuoteMessageThumbnail, { message: fileMessage })),\n        React__default.createElement(\"div\", { className: \"sendbird-quote_message_input__body\", style: {\n                width: \"calc(100% - \".concat(displayFileIcon ? '164px' : '120px', \")\"),\n                left: displayFileIcon ? '92px' : '40px',\n            } },\n            React__default.createElement(Label, { className: \"sendbird-quote_message_input__body__sender-name\", type: LabelTypography.CAPTION_1, color: LabelColors.ONBACKGROUND_1 }, \"\".concat(stringSet.QUOTE_MESSAGE_INPUT__REPLY_TO, \" \").concat((sender && sender.nickname) ? sender.nickname : stringSet.NO_NAME)),\n            React__default.createElement(Label, { className: \"sendbird-quote_message_input__body__message-content\", type: LabelTypography.BODY_2, color: LabelColors.ONBACKGROUND_3 },\n                isImageMessage(fileMessage) && !isGifMessage(fileMessage) && stringSet.QUOTE_MESSAGE_INPUT__FILE_TYPE_IMAGE,\n                isVideoMessage(fileMessage) && stringSet.QUOTE_MESSAGE_INPUT__FILE_TYPE__VIDEO,\n                isGifMessage(fileMessage) && stringSet.QUOTE_MESSAGE_INPUT__FILE_TYPE_GIF,\n                isUserMessage(replyingMessage) && replyingMessage.message,\n                getUIKitMessageType(replyingMessage) === UIKitMessageTypes.FILE && getMessageFirstFileName(fileMessage),\n                isMultipleFilesMessage(replyingMessage)\n                    && \"\".concat(fileMessage.fileInfoList.length, \" Photos\"),\n                isVoiceMessage(replyingMessage) && stringSet.VOICE_MESSAGE)),\n        React__default.createElement(Icon, { className: \"sendbird-quote_message_input__close-button\", type: IconTypes.CLOSE, fillColor: IconColors.ON_BACKGROUND_2, width: \"24px\", height: \"24px\", onClick: function () { return onClose === null || onClose === void 0 ? void 0 : onClose(replyingMessage); } })));\n}\n\nexport { QuoteMessageInput as default };\n//# sourceMappingURL=QuoteMessageInput.js.map\n", "import { useState, useEffect, useCallback, useRef } from 'react';\nimport { u as useVoiceRecorderContext } from '../chunks/bundle-Bh6KfMRl.js';\nimport { useSendbirdStateContext } from '../useSendbirdStateContext.js';\nimport { n as noop } from '../chunks/bundle-CtBgdgkK.js';\nimport '../chunks/bundle-B1SLZ0HT.js';\nimport '../chunks/bundle-D-cVbGxk.js';\nimport '@sendbird/chat/groupChannel';\nimport '../utils/message/getOutgoingMessageState.js';\nimport '../chunks/bundle-DJDeBhDz.js';\nimport '../chunks/bundle-CwQYOWqR.js';\nimport 'react-dom';\nimport '../chunks/bundle-BvAzWVA5.js';\nimport '../chunks/bundle-D2Fmzffb.js';\nimport '../chunks/bundle-kNaMXwgI.js';\nimport '../chunks/bundle-DBzinRyn.js';\nimport '../ui/IconButton.js';\nimport '../ui/Button.js';\nimport '../chunks/bundle-CEZ0D4qz.js';\nimport '../ui/Icon.js';\nimport '@sendbird/uikit-tools';\nimport '../withSendbird.js';\nimport 'css-vars-ponyfill';\nimport '@sendbird/chat';\nimport '../chunks/bundle-Cvt9FZvn.js';\nimport '@sendbird/chat/openChannel';\nimport '../chunks/bundle-DO8nji3n.js';\nimport '../chunks/bundle-c4e24Qt4.js';\nimport '../chunks/bundle-C7VSBUKJ.js';\nimport '../ui/SortByRow.js';\n\n// export interface UseVoiceRecorderProps extends VoiceRecorderEventHandler {\n//   /**\n//    * onRecordingStarted\n//    * onRecordingEnded\n//    */\n// }\n/* eslint-disable no-redeclare */\nvar VoiceRecorderStatus = {\n    PREPARING: 'PREPARING',\n    READY_TO_RECORD: 'READY_TO_RECORD',\n    RECORDING: 'RECORDING',\n    COMPLETED: 'COMPLETED',\n};\nvar useVoiceRecorder = function (_a) {\n    var _b = _a.onRecordingStarted, onRecordingStarted = _b === void 0 ? noop : _b, _c = _a.onRecordingEnded, onRecordingEnded = _c === void 0 ? noop : _c;\n    var config = useSendbirdStateContext().config;\n    var voiceRecord = config.voiceRecord;\n    var maxRecordingTime = voiceRecord.maxRecordingTime;\n    var voiceRecorder = useVoiceRecorderContext();\n    var isRecordable = voiceRecorder.isRecordable;\n    var _d = useState(null), recordedFile = _d[0], setRecordedFile = _d[1];\n    var _e = useState(VoiceRecorderStatus.PREPARING), recordingStatus = _e[0], setRecordingStatus = _e[1];\n    useEffect(function () {\n        if (isRecordable && recordingStatus === VoiceRecorderStatus.PREPARING) {\n            setRecordingStatus(VoiceRecorderStatus.READY_TO_RECORD);\n        }\n    }, [isRecordable]);\n    var start = useCallback(function () {\n        voiceRecorder === null || voiceRecorder === void 0 ? void 0 : voiceRecorder.start({\n            onRecordingStarted: function () {\n                setRecordingStatus(VoiceRecorderStatus.RECORDING);\n                onRecordingStarted();\n                startTimer();\n            },\n            onRecordingEnded: function (audioFile) {\n                setRecordingStatus(VoiceRecorderStatus.COMPLETED);\n                onRecordingEnded(audioFile);\n                setRecordedFile(audioFile);\n                stopTimer();\n            },\n        });\n    }, [onRecordingStarted, onRecordingEnded]);\n    var stop = useCallback(function () {\n        voiceRecorder === null || voiceRecorder === void 0 ? void 0 : voiceRecorder.stop();\n        stopTimer();\n    }, [voiceRecorder]);\n    var cancel = useCallback(function () {\n        stop();\n        setRecordedFile(null);\n    }, [voiceRecorder]);\n    // Timer\n    var _f = useState(0), recordingTime = _f[0], setRecordingTime = _f[1];\n    var timer = useRef(null);\n    function startTimer() {\n        stopTimer();\n        setRecordingTime(0);\n        timer.current = setInterval(function () {\n            setRecordingTime(function (prevTime) {\n                var newTime = prevTime + 100;\n                if (newTime > maxRecordingTime) {\n                    stopTimer();\n                }\n                return newTime;\n            });\n        }, 100);\n    }\n    function stopTimer() {\n        if (timer.current) {\n            clearInterval(timer.current);\n            timer.current = null;\n        }\n    }\n    useEffect(function () {\n        if (recordingTime > maxRecordingTime) {\n            stop();\n        }\n    }, [recordingTime, maxRecordingTime, stop]);\n    return ({\n        start: start,\n        stop: stop,\n        cancel: cancel,\n        recordingStatus: recordingStatus,\n        recordingTime: recordingTime,\n        recordedFile: recordedFile,\n        recordingLimit: maxRecordingTime,\n    });\n};\n\nexport { VoiceRecorderStatus, useVoiceRecorder };\n//# sourceMappingURL=useVoiceRecorder.js.map\n", "import React__default, { useState, useMemo, useCallback } from 'react';\nimport { PlaybackTime } from '../ui/PlaybackTime.js';\nimport { ProgressBar } from '../ui/ProgressBar.js';\nimport TextButton from '../ui/TextButton.js';\nimport Icon, { IconTypes, IconColors } from '../ui/Icon.js';\nimport { b as LabelColors, L as Label, a as LabelTypography } from './bundle-CEZ0D4qz.js';\nimport { u as useLocalization } from './bundle-BvAzWVA5.js';\nimport { i as VOICE_RECORDER_CLICK_BUFFER_TIME, j as VOICE_RECORDER_DEFAULT_MIN } from './bundle-c4e24Qt4.js';\nimport { c as classnames } from './bundle-CtBgdgkK.js';\n\n/* eslint-disable no-redeclare */\nvar VoiceMessageInputStatus = {\n    READY_TO_RECORD: 'READY_TO_RECORD',\n    RECORDING: 'RECORDING',\n    READY_TO_PLAY: 'READY_TO_PLAY',\n    PLAYING: 'PLAYING',\n};\n\nvar ControlerIcon = function (_a) {\n    var inputState = _a.inputState;\n    switch (inputState) {\n        case VoiceMessageInputStatus.READY_TO_RECORD: {\n            return (React__default.createElement(\"div\", { className: \"sendbird-controler-icon record-icon\" }));\n        }\n        case VoiceMessageInputStatus.RECORDING: {\n            return (React__default.createElement(\"div\", { className: \"sendbird-controler-icon stop-icon\" }));\n        }\n        case VoiceMessageInputStatus.READY_TO_PLAY: {\n            return (React__default.createElement(Icon, { className: \"sendbird-controler-icon play-icon\", width: \"20px\", height: \"20px\", type: IconTypes.PLAY, fillColor: IconColors.ON_BACKGROUND_1 }));\n        }\n        case VoiceMessageInputStatus.PLAYING: {\n            return (React__default.createElement(\"div\", { className: \"sendbird-controler-icon pause-icon\" },\n                React__default.createElement(\"div\", { className: \"sendbird-controler-icon pause-icon-inner\" }),\n                React__default.createElement(\"div\", { className: \"sendbird-controler-icon pause-icon-inner\" })));\n        }\n        default:\n            return React__default.createElement(React__default.Fragment, null);\n    }\n};\n\nvar VoiceMessageInput = function (_a) {\n    var _b = _a.minRecordTime, minRecordTime = _b === void 0 ? VOICE_RECORDER_DEFAULT_MIN : _b, maximumValue = _a.maximumValue, _c = _a.currentValue, currentValue = _c === void 0 ? 0 : _c, currentType = _a.currentType, onCancelClick = _a.onCancelClick, onControlClick = _a.onControlClick, onSubmitClick = _a.onSubmitClick, renderCancelButton = _a.renderCancelButton, renderControlButton = _a.renderControlButton, renderSubmitButton = _a.renderSubmitButton;\n    var _d = useState(0), lastClickTime = _d[0], setLastClickTime = _d[1];\n    var isReadyToRecord = useMemo(function () { return currentType === VoiceMessageInputStatus.READY_TO_RECORD; }, [currentType]);\n    var isRecording = useMemo(function () { return currentType === VoiceMessageInputStatus.RECORDING; }, [currentType]);\n    var isSendButtonDisabled = useMemo(function () {\n        if (currentType === VoiceMessageInputStatus.READY_TO_RECORD\n            || currentType === VoiceMessageInputStatus.RECORDING) {\n            return minRecordTime > currentValue;\n        }\n        return false;\n    }, [currentType, minRecordTime, currentValue]);\n    var isPlayMode = useMemo(function () {\n        return (currentType === VoiceMessageInputStatus.READY_TO_PLAY\n            || currentType === VoiceMessageInputStatus.PLAYING);\n    }, [currentType]);\n    var stringSet = useLocalization().stringSet;\n    var handleOnCancelClick = function () {\n        var currentTime = Date.now();\n        if (currentTime - lastClickTime > VOICE_RECORDER_CLICK_BUFFER_TIME) {\n            onCancelClick === null || onCancelClick === void 0 ? void 0 : onCancelClick();\n            setLastClickTime(currentTime);\n        }\n    };\n    var handleOnControlClick = useCallback(function () {\n        var currentTime = Date.now();\n        if (currentTime - lastClickTime > VOICE_RECORDER_CLICK_BUFFER_TIME) {\n            onControlClick === null || onControlClick === void 0 ? void 0 : onControlClick(currentType);\n            setLastClickTime(currentTime);\n        }\n    }, [currentType]);\n    var handleOnSubmitClick = function () {\n        var currentTime = Date.now();\n        if (currentTime - lastClickTime > VOICE_RECORDER_CLICK_BUFFER_TIME) {\n            if (!isSendButtonDisabled) {\n                onSubmitClick === null || onSubmitClick === void 0 ? void 0 : onSubmitClick();\n            }\n            setLastClickTime(currentTime);\n        }\n    };\n    return (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input\" },\n        React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__indicator\" },\n            React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__indicator__progress-bar\" },\n                React__default.createElement(ProgressBar, { className: \"sendbird-voice-message-input__indicator__progress-bar__bar\", disabled: isReadyToRecord, maxSize: maximumValue, currentSize: currentValue })),\n            (isRecording) ? (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__indicator__on-rec\" })) : null,\n            React__default.createElement(PlaybackTime, { className: \"sendbird-voice-message-input__indicator__playback-time\", time: isPlayMode ? maximumValue - currentValue : currentValue, labelColor: isReadyToRecord ? LabelColors.ONBACKGROUND_4 : LabelColors.ONCONTENT_1 })),\n        React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__controler\" },\n            (renderCancelButton === null || renderCancelButton === void 0 ? void 0 : renderCancelButton()) || (React__default.createElement(TextButton, { className: \"sendbird-voice-message-input__controler__cancel\", onClick: handleOnCancelClick, disableUnderline: true },\n                React__default.createElement(Label, { type: LabelTypography.BUTTON_1, color: LabelColors.PRIMARY }, stringSet.BUTTON__CANCEL))),\n            (renderControlButton === null || renderControlButton === void 0 ? void 0 : renderControlButton(currentType)) || (React__default.createElement(\"div\", { className: \"sendbird-voice-message-input__controler__main\", onClick: handleOnControlClick },\n                React__default.createElement(ControlerIcon, { inputState: currentType }))),\n            (renderSubmitButton === null || renderSubmitButton === void 0 ? void 0 : renderSubmitButton()) || (React__default.createElement(\"div\", { className: classnames('sendbird-voice-message-input__controler__submit', isSendButtonDisabled && 'voice-message--disabled'), onClick: handleOnSubmitClick },\n                React__default.createElement(Icon, { width: \"19px\", height: \"19px\", type: IconTypes.SEND, fillColor: isSendButtonDisabled ? IconColors.ON_BACKGROUND_4 : IconColors.CONTENT }))))));\n};\n\nexport { VoiceMessageInputStatus as V, VoiceMessageInput as a };\n//# sourceMappingURL=bundle-B7FJxg4D.js.map\n", "import { a as __awaiter, b as __generator } from './bundle-B1SLZ0HT.js';\nimport { p as pxToNumber } from './bundle-DYIdeEpd.js';\n\nvar compressImage = function (_a) {\n    var imageFile = _a.imageFile, compressionRate = _a.compressionRate, resizingWidth = _a.resizingWidth, resizingHeight = _a.resizingHeight, outputFormat = _a.outputFormat;\n    var image = document.createElement('img');\n    return new Promise(function (resolve, reject) {\n        image.src = URL.createObjectURL(imageFile);\n        image.onerror = reject;\n        image.onload = function () {\n            URL.revokeObjectURL(image.src);\n            var canvas = document.createElement('canvas');\n            var originWidth = image.width;\n            var originHeight = image.height;\n            var targetResizingWidth = (!resizingWidth || resizingWidth > originWidth) ? originWidth : resizingWidth;\n            var targetResizingHeight = (!resizingHeight || resizingHeight > originHeight) ? originHeight : resizingHeight;\n            var widthRatio = originWidth / targetResizingWidth;\n            var heightRatio = originHeight / targetResizingHeight;\n            /**\n             * Set the target resizing values again with the calculated ratios\n             * to use the impactful value, so the original images' ratio won't be broken.\n             */\n            if (widthRatio > heightRatio) {\n                targetResizingHeight = originHeight / (resizingWidth ? widthRatio : 1);\n            }\n            else if (heightRatio > widthRatio) {\n                targetResizingWidth = originWidth / (resizingHeight ? heightRatio : 1);\n            }\n            canvas.width = targetResizingWidth;\n            canvas.height = targetResizingHeight;\n            var ctx = canvas.getContext('2d');\n            if (!ctx) {\n                reject(new Error('Failed to get canvas 2d context'));\n                return;\n            }\n            ctx.drawImage(image, 0, 0, targetResizingWidth, targetResizingHeight);\n            // Change the file.name & file.type for converting file type\n            var targetFileType = outputFormat === 'preserve' ? imageFile.type : \"image/\".concat(outputFormat);\n            var targetSubtype = targetFileType.split('/').pop();\n            var dotIndex = imageFile.name.lastIndexOf('.');\n            // targetName = `fileName.targetSubtype`\n            var targetName = \"\".concat(dotIndex === -1 ? imageFile.name : imageFile.name.substring(0, dotIndex), \".\").concat(targetSubtype);\n            ctx.canvas.toBlob(function (blob) {\n                if (blob) {\n                    var file = new File([blob], targetName, { type: targetFileType });\n                    resolve(file);\n                }\n                else {\n                    reject(new Error('Failed to compress image'));\n                }\n            }, targetFileType, compressionRate);\n        };\n    });\n};\nvar compressImages = function (_a) { return __awaiter(void 0, [_a], void 0, function (_b) {\n    var compressionRate, _c, outputFormat, resizingWidth, resizingHeight, result;\n    var files = _b.files, logger = _b.logger, imageCompression = _b.imageCompression;\n    return __generator(this, function (_d) {\n        switch (_d.label) {\n            case 0:\n                compressionRate = imageCompression.compressionRate, _c = imageCompression.outputFormat, outputFormat = _c === void 0 ? 'preserve' : _c;\n                resizingWidth = imageCompression.resizingWidth ? pxToNumber(imageCompression.resizingWidth) : undefined;\n                resizingHeight = imageCompression.resizingHeight ? pxToNumber(imageCompression.resizingHeight) : undefined;\n                result = {\n                    failedIndexes: [],\n                    compressedFiles: [],\n                };\n                if (!(Array.isArray(files) && files.length > 0)) {\n                    logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: There are no files.', files);\n                    return [2 /*return*/, result];\n                }\n                if (!compressionRate || compressionRate < 0 || 1 < compressionRate) {\n                    logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: The compressionRate is not acceptable.', compressionRate);\n                    return [2 /*return*/, result];\n                }\n                return [4 /*yield*/, Promise.all(files\n                        .map(function (file, index) { return __awaiter(void 0, void 0, void 0, function () {\n                        var compressedImage, err_1;\n                        return __generator(this, function (_a) {\n                            switch (_a.label) {\n                                case 0:\n                                    if (!(file.type === 'image/jpg' || file.type === 'image/png' || file.type === 'image/jpeg')) {\n                                        logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: The fileType is not compressible.', { file: file, index: index });\n                                        result.failedIndexes.push(index);\n                                        result.compressedFiles.push(file);\n                                        return [2 /*return*/];\n                                    }\n                                    _a.label = 1;\n                                case 1:\n                                    _a.trys.push([1, 3, , 4]);\n                                    return [4 /*yield*/, compressImage({\n                                            imageFile: file,\n                                            compressionRate: compressionRate,\n                                            resizingWidth: resizingWidth,\n                                            resizingHeight: resizingHeight,\n                                            outputFormat: outputFormat,\n                                        })];\n                                case 2:\n                                    compressedImage = _a.sent();\n                                    result.compressedFiles.push(compressedImage);\n                                    return [3 /*break*/, 4];\n                                case 3:\n                                    err_1 = _a.sent();\n                                    result.compressedFiles.push(file);\n                                    result.failedIndexes.push(index);\n                                    logger === null || logger === void 0 ? void 0 : logger.warning('utils - compressImages: Failed to compress image file', { file: file, err: err_1 });\n                                    return [3 /*break*/, 4];\n                                case 4: return [2 /*return*/];\n                            }\n                        });\n                    }); }))];\n            case 1:\n                _d.sent();\n                logger === null || logger === void 0 ? void 0 : logger.info('utils - compressImages: Finished compressing images', result);\n                return [2 /*return*/, result];\n        }\n    });\n}); };\n\nexport { compressImages as c };\n//# sourceMappingURL=bundle-DM6QiOiG.js.map\n"],
  "mappings": "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qB4B,QAAQE,QAAQ;AAE7D,QAAIJ,iBAAiB;AACnB,UAAI9C,MAAMoD,QAAQD,KAAK,GAAG;AACxBF,kBAAUC,QAAQ,IAAIN,WAAWO,KAAK;MACxC,WACEA,SACA,OAAOA,UAAU,YACjBA,MAAME,gBAAgBnE,QACtB;AACA+D,kBAAUC,QAAQ,IAAIH,MAAMI,KAAK;MACnC,OAAO;AACLF,kBAAUC,QAAQ,IAAIC;MACxB;IACF;EACF;AAEA,SAAOF;AACT;AASA,SAASK,aAAaN,QAAQO,MAAM;AAClC,SAAOP,WAAW,MAAM;AACtB,UAAMQ,OAAOvE,yBAAyB+D,QAAQO,IAAI;AAElD,QAAIC,MAAM;AACR,UAAIA,KAAKC,KAAK;AACZ,eAAO1D,QAAQyD,KAAKC,GAAG;MACzB;AAEA,UAAI,OAAOD,KAAKL,UAAU,YAAY;AACpC,eAAOpD,QAAQyD,KAAKL,KAAK;MAC3B;IACF;AAEAH,aAAShE,eAAegE,MAAM;EAChC;AAEA,WAASU,gBAAgB;AACvB,WAAO;EACT;AAEA,SAAOA;AACT;AC1LO,IAAMC,SAAOxE,OAAO,CACzB,KACA,QACA,WACA,WACA,QACA,WACA,SACA,SACA,KACA,OACA,OACA,OACA,SACA,cACA,QACA,MACA,UACA,UACA,WACA,UACA,QACA,QACA,OACA,YACA,WACA,QACA,YACA,MACA,aACA,OACA,WACA,OACA,UACA,OACA,OACA,MACA,MACA,WACA,MACA,YACA,cACA,UACA,QACA,UACA,QACA,MACA,MACA,MACA,MACA,MACA,MACA,QACA,UACA,UACA,MACA,QACA,KACA,OACA,SACA,OACA,OACA,SACA,UACA,MACA,QACA,OACA,QACA,WACA,QACA,YACA,SACA,OACA,QACA,MACA,YACA,UACA,UACA,KACA,WACA,OACA,YACA,KACA,MACA,MACA,QACA,KACA,QACA,WACA,UACA,UACA,SACA,UACA,UACA,QACA,UACA,UACA,SACA,OACA,WACA,OACA,SACA,SACA,MACA,YACA,YACA,SACA,MACA,SACA,QACA,MACA,SACA,MACA,KACA,MACA,OACA,SACA,KAAK,CACN;AAGM,IAAMyE,QAAMzE,OAAO,CACxB,OACA,KACA,YACA,eACA,gBACA,gBACA,iBACA,oBACA,UACA,YACA,QACA,QACA,WACA,UACA,QACA,KACA,SACA,YACA,SACA,SACA,QACA,kBACA,UACA,QACA,YACA,SACA,QACA,WACA,WACA,YACA,kBACA,QACA,QACA,SACA,UACA,UACA,QACA,YACA,SACA,QACA,SACA,QACA,OAAO,CACR;AAEM,IAAM0E,aAAa1E,OAAO,CAC/B,WACA,iBACA,uBACA,eACA,oBACA,qBACA,qBACA,kBACA,gBACA,WACA,WACA,WACA,WACA,WACA,kBACA,WACA,WACA,eACA,gBACA,YACA,gBACA,sBACA,eACA,UACA,cAAc,CACf;AAMM,IAAM2E,gBAAgB3E,OAAO,CAClC,WACA,iBACA,UACA,WACA,aACA,oBACA,kBACA,iBACA,iBACA,iBACA,SACA,aACA,QACA,gBACA,aACA,WACA,iBACA,UACA,OACA,cACA,WACA,KAAK,CACN;AAEM,IAAM4E,WAAS5E,OAAO,CAC3B,QACA,YACA,UACA,WACA,SACA,UACA,MACA,cACA,iBACA,MACA,MACA,SACA,WACA,YACA,SACA,QACA,MACA,UACA,SACA,UACA,QACA,QACA,WACA,UACA,OACA,SACA,OACA,UACA,cACA,aAAa,CACd;AAIM,IAAM6E,mBAAmB7E,OAAO,CACrC,WACA,eACA,cACA,YACA,aACA,WACA,WACA,UACA,UACA,SACA,aACA,cACA,kBACA,eACA,MAAM,CACP;AAEM,IAAM8E,OAAO9E,OAAO,CAAC,OAAO,CAAC;ACrR7B,IAAMwE,OAAOxE,OAAO,CACzB,UACA,UACA,SACA,OACA,kBACA,gBACA,wBACA,YACA,cACA,WACA,UACA,WACA,eACA,eACA,WACA,QACA,SACA,SACA,SACA,QACA,WACA,YACA,gBACA,UACA,eACA,YACA,YACA,WACA,OACA,YACA,2BACA,yBACA,YACA,aACA,WACA,gBACA,QACA,OACA,WACA,UACA,UACA,QACA,QACA,YACA,MACA,aACA,aACA,SACA,QACA,SACA,QACA,QACA,WACA,QACA,OACA,OACA,aACA,SACA,UACA,OACA,aACA,YACA,SACA,QACA,SACA,WACA,cACA,UACA,QACA,WACA,WACA,eACA,eACA,WACA,iBACA,uBACA,UACA,WACA,WACA,cACA,YACA,OACA,YACA,OACA,YACA,QACA,QACA,WACA,cACA,SACA,YACA,SACA,QACA,SACA,QACA,WACA,SACA,OACA,UACA,QACA,SACA,WACA,YACA,SACA,aACA,QACA,UACA,UACA,SACA,SACA,QACA,SACA,MAAM,CACP;AAEM,IAAMyE,MAAMzE,OAAO,CACxB,iBACA,cACA,YACA,sBACA,UACA,iBACA,iBACA,WACA,iBACA,kBACA,SACA,QACA,MACA,SACA,QACA,iBACA,aACA,aACA,SACA,uBACA,+BACA,iBACA,mBACA,MACA,MACA,KACA,MACA,MACA,mBACA,aACA,WACA,WACA,OACA,YACA,aACA,OACA,QACA,gBACA,aACA,UACA,eACA,eACA,iBACA,eACA,aACA,oBACA,gBACA,cACA,gBACA,eACA,MACA,MACA,MACA,MACA,cACA,YACA,iBACA,qBACA,UACA,QACA,MACA,mBACA,MACA,OACA,KACA,MACA,MACA,MACA,MACA,WACA,aACA,cACA,YACA,QACA,gBACA,kBACA,gBACA,oBACA,kBACA,SACA,cACA,cACA,gBACA,gBACA,eACA,eACA,oBACA,aACA,OACA,QACA,SACA,UACA,QACA,OACA,QACA,cACA,UACA,YACA,WACA,SACA,UACA,eACA,UACA,YACA,eACA,QACA,cACA,uBACA,oBACA,gBACA,UACA,iBACA,uBACA,kBACA,KACA,MACA,MACA,UACA,QACA,QACA,eACA,aACA,WACA,UACA,UACA,SACA,QACA,mBACA,oBACA,oBACA,gBACA,eACA,gBACA,eACA,cACA,gBACA,oBACA,qBACA,kBACA,mBACA,qBACA,kBACA,UACA,gBACA,SACA,gBACA,kBACA,YACA,WACA,WACA,aACA,oBACA,eACA,mBACA,kBACA,cACA,QACA,MACA,MACA,WACA,UACA,WACA,cACA,WACA,cACA,iBACA,iBACA,SACA,gBACA,QACA,gBACA,oBACA,oBACA,KACA,MACA,MACA,SACA,KACA,MACA,MACA,KACA,YAAY,CACb;AAEM,IAAM4E,SAAS5E,OAAO,CAC3B,UACA,eACA,SACA,YACA,SACA,gBACA,eACA,cACA,cACA,SACA,OACA,WACA,gBACA,YACA,SACA,SACA,UACA,QACA,MACA,WACA,UACA,iBACA,UACA,UACA,kBACA,aACA,YACA,eACA,WACA,WACA,iBACA,YACA,YACA,QACA,YACA,YACA,cACA,WACA,UACA,UACA,eACA,iBACA,wBACA,aACA,aACA,cACA,YACA,kBACA,kBACA,aACA,WACA,SACA,OAAO,CACR;AAEM,IAAM+E,MAAM/E,OAAO,CACxB,cACA,UACA,eACA,aACA,aAAa,CACd;AC1WM,IAAMgF,gBAAgB/E,KAAK,2BAA2B;AACtD,IAAMgF,WAAWhF,KAAK,uBAAuB;AAC7C,IAAMiF,cAAcjF,KAAK,eAAe;AACxC,IAAMkF,YAAYlF,KAAK,4BAA4B;AACnD,IAAMmF,YAAYnF,KAAK,gBAAgB;AACvC,IAAMoF,iBAAiBpF;EAC5B;;AACF;AACO,IAAMqF,oBAAoBrF,KAAK,uBAAuB;AACtD,IAAMsF,kBAAkBtF;EAC7B;;AACF;AACO,IAAMuF,eAAevF,KAAK,SAAS;AACnC,IAAMwF,iBAAiBxF,KAAK,0BAA0B;;;;;;;;;;;;;;ACS7D,IAAMyF,YAAY;EAChBnC,SAAS;EACToC,WAAW;EACXb,MAAM;EACNc,cAAc;EACdC,iBAAiB;;EACjBC,YAAY;;EACZC,wBAAwB;EACxBC,SAAS;EACTC,UAAU;EACVC,cAAc;EACdC,kBAAkB;EAClBC,UAAU;;AACZ;AAEA,IAAMC,YAAY,SAAZA,aAAwB;AAC5B,SAAO,OAAOC,WAAW,cAAc,OAAOA;AAChD;AAUA,IAAMC,4BAA4B,SAA5BA,2BAAsCC,cAAcC,mBAAmB;AAC3E,MACE,OAAOD,iBAAiB,YACxB,OAAOA,aAAaE,iBAAiB,YACrC;AACA,WAAO;EACT;AA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",
  "names": ["import_react", "import_react", "import_react", "_a", "params", "React__default", "_b", "topOffset", "import_react", "import_react", "import_react", "React__default", "React__default", "import_react", "import_react", "_a", "React__default", "React__default", "import_react", "import_react", "import_react", "ThreadReplySelectType", "import_react", "import_react", "React__default", "changeColorToClassName", "import_react", "import_react", "entries", "setPrototypeOf", "isFrozen", "getPrototypeOf", "getOwnPropertyDescriptor", "Object", "freeze", "seal", "create", "apply", "construct", "Reflect", "x", "fun", "thisValue", "args", "Func", "arrayForEach", "unapply", "Array", "prototype", "forEach", "arrayPop", "pop", "arrayPush", "push", "stringToLowerCase", "String", "toLowerCase", "stringToString", "toString", "stringMatch", "match", "stringReplace", "replace", "stringIndexOf", "indexOf", "stringTrim", "trim", "objectHasOwnProperty", "hasOwnProperty", "regExpTest", "RegExp", "test", "typeErrorCreate", "unconstruct", "TypeError", "func", "thisArg", "_len", "arguments", "length", "_key", "_len2", "_key2", "addToSet", "set", "array", "transformCaseFunc", "undefined", "l", "element", "lcElement", "cleanArray", "index", "isPropertyExist", "clone", "object", "newObject", "property", "value", "isArray", "constructor", "lookupGetter", "prop", "desc", "get", "fallbackValue", "html", "svg", "svgFilters", "svgDisallowed", "mathMl", "mathMlDisallowed", "text", "xml", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_ALLOWED_URI", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "DOCTYPE_NAME", "CUSTOM_ELEMENT", "NODE_TYPE", "attribute", "cdataSection", "entityReference", "entityNode", "progressingInstruction", "comment", "document", "documentType", "documentFragment", "notation", "getGlobal", "window", "_createTrustedTypesPolicy", "trustedTypes", "purifyHostElement", "createPolicy", "suffix", "ATTR_NAME", "hasAttribute", "getAttribute", "policyName", "createHTML", "createScriptURL", "scriptUrl", "_", "console", "warn", "createDOMPurify", "DOMPurify", "root", "version", "VERSION", "removed", "nodeType", "isSupported", "originalDocument", "currentScript", "DocumentFragment", "HTMLTemplateElement", "Node", "Element", "NodeFilter", "NamedNodeMap", "MozNamedAttrMap", "HTMLFormElement", "DOMParser", "ElementPrototype", "cloneNode", "remove", "getNextSibling", "getChildNodes", "getParentNode", "template", "createElement", "content", "ownerDocument", "trustedTypesPolicy", "emptyHTML", "implementation", "createNodeIterator", "createDocumentFragment", "getElementsByTagName", "importNode", "hooks", "createHTMLDocument", "EXPRESSIONS", "ALLOWED_TAGS", "DEFAULT_ALLOWED_TAGS", "TAGS", "ALLOWED_ATTR", "DEFAULT_ALLOWED_ATTR", "ATTRS", "CUSTOM_ELEMENT_HANDLING", "tagNameCheck", "writable", "configurable", "enumerable", "attributeNameCheck", "allowCustomizedBuiltInElements", "FORBID_TAGS", "FORBID_ATTR", "ALLOW_ARIA_ATTR", "ALLOW_DATA_ATTR", "ALLOW_UNKNOWN_PROTOCOLS", "ALLOW_SELF_CLOSE_IN_ATTR", "SAFE_FOR_TEMPLATES", "SAFE_FOR_XML", "WHOLE_DOCUMENT", "SET_CONFIG", "FORCE_BODY", "RETURN_DOM", "RETURN_DOM_FRAGMENT", "RETURN_TRUSTED_TYPE", "SANITIZE_DOM", "SANITIZE_NAMED_PROPS", "SANITIZE_NAMED_PROPS_PREFIX", "KEEP_CONTENT", "IN_PLACE", "USE_PROFILES", "FORBID_CONTENTS", "DEFAULT_FORBID_CONTENTS", "DATA_URI_TAGS", "DEFAULT_DATA_URI_TAGS", "URI_SAFE_ATTRIBUTES", "DEFAULT_URI_SAFE_ATTRIBUTES", "MATHML_NAMESPACE", "SVG_NAMESPACE", "HTML_NAMESPACE", "NAMESPACE", "IS_EMPTY_INPUT", "ALLOWED_NAMESPACES", "DEFAULT_ALLOWED_NAMESPACES", "PARSER_MEDIA_TYPE", "SUPPORTED_PARSER_MEDIA_TYPES", "DEFAULT_PARSER_MEDIA_TYPE", "CONFIG", "formElement", "isRegexOrFunction", "testValue", "Function", "_parseConfig", "cfg", "ADD_URI_SAFE_ATTR", "ADD_DATA_URI_TAGS", "ALLOWED_URI_REGEXP", "ADD_TAGS", "ADD_ATTR", "table", "tbody", "TRUSTED_TYPES_POLICY", "MATHML_TEXT_INTEGRATION_POINTS", "HTML_INTEGRATION_POINTS", "COMMON_SVG_AND_HTML_ELEMENTS", "ALL_SVG_TAGS", "ALL_MATHML_TAGS", "_checkValidNamespace", "parent", "tagName", "namespaceURI", "parentTagName", "Boolean", "_forceRemove", "node", "removeChild", "_removeAttribute", "name", "getAttributeNode", "from", "removeAttribute", "setAttribute", "_initDocument", "dirty", "doc", "leadingWhitespace", "matches", "dirtyPayload", "parseFromString", "documentElement", "createDocument", "innerHTML", "body", "insertBefore", "createTextNode", "childNodes", "call", "_createNodeIterator", "SHOW_ELEMENT", "SHOW_COMMENT", "SHOW_TEXT", "SHOW_PROCESSING_INSTRUCTION", "SHOW_CDATA_SECTION", "_isClobbered", "elm", "nodeName", "textContent", "attributes", "hasChildNodes", "_isNode", "_executeHook", "entryPoint", "currentNode", "data", "hook", "_sanitizeElements", "allowedTags", "firstElementChild", "_isBasicCustomElement", "parentNode", "childCount", "i", "childClone", "__removalCount", "expr", "_isValidAttribute", "lcTag", "lcName", "_sanitizeAttributes", "hookEvent", "attrName", "attrValue", "keepAttr", "allowedAttributes", "attr", "forceKeepAttr", "getAttributeType", "setAttributeNS", "_sanitizeShadowDOM", "fragment", "shadowNode", "shadowIterator", "nextNode", "sanitize", "importedNode", "returnNode", "appendChild", "firstChild", "nodeIterator", "shadowroot", "shadowrootmode", "serializedHTML", "outerHTML", "doctype", "setConfig", "clearConfig", "isValidAttribute", "tag", "addHook", "hookFunction", "removeHook", "removeHooks", "removeAllHooks", "text", "html", "tokens", "token", "value", "_a", "text", "ChannelType", "_a", "noop", "React__default", "_b", "_c", "_d", "index", "import_react", "import_react", "React__default", "_a", "import_react", "import_react", "React__default", "React__default", "_a", "_b", "import_react", "import_react", "React__default", "import_react", "import_react_dom", "React__default", "import_react", "React__default", "import_react", "React__default", "import_react", "React__default", "import_react_dom", "React__default", "_a", "_b", "_c", "import_react", "React__default", "import_react", "React__default", "import_react", "import_react_dom", "React__default", "_a", "showMenuItemCopy", "showMenuItemEdit", "showMenuItemResend", "showMenuItemDelete", "showMenuItemReply", "showMenuItemThread", "CopyMenuItem", "EditMenuItem", "ResendMenuItem", "ReplyMenuItem", "ThreadMenuItem", "DeleteMenuItem", "_b", "_c", "import_react", "React__default", "import_react", "import_react", "import_react", "import_react_dom", "React__default", "import_react", "React__default", "React__default", "import_react_dom", "_a", "React__default", "import_react", "import_react_dom", "_a", "React__default", "import_react", "_a", "_b", "_c", "React__default", "import_react", "import_react", "import_react_dom", "import_react", "React__default", "React__default", "_a", "_b", "_c", "_d", "import_react", "import_react", "React__default", "import_react", "import_react_dom", "text", "_a", "import_react", "React__default", "import_react_dom", "_a", "React__default", "import_react", "React__default", "_a", "style", "import_react", "React__default", "import_react", "ComponentType", "CompositeComponentType", "React", "__rest", "Layout", "AlignValue", "FlexSizeSpecValue", "FontWeight", "MediaContentMode", "parser", "renderer", "index", "ActionType", "_a", "isGif", "MessageContext", "MessageProvider", "useMessageContext", "usePreservedCallback", "noop", "entries", "contentWidth", "contentHeight", "width", "height", "_b", "_c", "_d", "_e", "_f", "_g", "text", "import_react", "text", "React__default", "import_react", "React__default", "React__default", "MessageProvider", "key", "flattenObject", "value", "MessageTemplateErrorBoundary", "_a", "simpleTemplateDataList", "_b", "templateKey", "import_react", "React__default", "import_react", "import_react_dom", "React__default", "import_react", "import_react_dom", "_a", "_b", "React__default", "import_react", "import_react_dom", "text", "React__default", "import_react", "_a", "import_react_dom", "React__default", "_a", "_b", "message", "SbFeedbackStatus", "props", "hasFeedback", "_c", "import_react", "React__default", "import_react", "React__default", "_a", "member", "props", "React__default", "_a", "userId", "_b", "message", "import_react", "import_react", "import_react_dom", "React__default", "FileViewerComponent", "import_react_dom", "FileViewer", "React__default", "_a", "import_react", "import_react", "React__default", "import_react_dom", "React__default", "import_react_dom", "_a", "_b", "React__default", "props", "FileViewer", "import_react", "_a", "_b", "React__default", "import_react", "React__default", "import_react", "React__default", "import_react_dom", "React__default", "_a", "props", "renderer", "isScrollBottomReached", "_b", "import_react", "import_react", "import_react", "React__default", "import_react", "React__default", "import_react", "import_react_dom", "import_react", "React__default", "_a", "audioFile", "React__default", "_a", "file", "_b", "import_react_dom", "React__default", "import_react_dom", "props", "React__default", "import_react_dom", "React__default"]
}
